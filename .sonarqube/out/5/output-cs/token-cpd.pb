∏
jD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\AssemblyInfo.cs
[ 
assembly 	
:	 

CLSCompliant
 
( 
true 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyDescription 
( 
$str !
)! "
]" #
[ 
assembly 	
:	 
!
AssemblyConfiguration  
(  !
$str! #
)# $
]$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str $
)$ %
]% &
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[!! 
assembly!! 	
:!!	 

AssemblyVersion!! 
(!! 
$str!! "
)!!" #
]!!# $
[<< 
assembly<< 	
:<<	 

AssemblyDelaySign<< 
(<< 
false<< "
)<<" #
]<<# $
[== 
assembly== 	
:==	 

AssemblyKeyFile== 
(== 
$str== 
)== 
]== 
[>> 
assembly>> 	
:>>	 

AssemblyKeyName>> 
(>> 
$str>> 
)>> 
]>> õs
mD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\BannedIPAddress.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
BannedIPAddress  
{ 
public 
BannedIPAddress 
( 
)  
{! "
}# $
public 
BannedIPAddress 
( 
int "
rowId# (
)( )
{   	
GetBannedIPAddress!! 
(!! 
rowId!! $
)!!$ %
;!!% &
}"" 	
public'' 
int''	 
RowId'' 
{'' 
get'' 
;'' 
set'' 
;'' 
}''  
public(( 
string((	 
BannedIP(( 
{(( 
get(( 
;(( 
set((  #
;((# $
}((% &
public)) 
DateTime))	 
	BannedUtc)) 
{)) 
get)) !
;))! "
set))# &
;))& '
}))( )
public** 
string**	 
BannedReason** 
{** 
get** "
;**" #
set**$ '
;**' (
}**) *
private22 	
void22
 
GetBannedIPAddress22 !
(22! "
int22" %
rowId22& +
)22+ ,
{33 	
using44 
(44 
IDataReader44 
reader44 %
=44& '

DBBannedIP44( 2
.442 3
GetOne443 9
(449 :
rowId44: ?
)44? @
)44@ A
{55 
if66 
(66 
reader66 
.66 
Read66 
(66  
)66  !
)66! "
{77 
this88 
.88 
RowId88 
=88  
Convert88! (
.88( )
ToInt3288) 0
(880 1
reader881 7
[887 8
$str888 ?
]88? @
)88@ A
;88A B
this99 
.99 
BannedIP99 !
=99" #
reader99$ *
[99* +
$str99+ 5
]995 6
.996 7
ToString997 ?
(99? @
)99@ A
;99A B
this:: 
.:: 
	BannedUtc:: "
=::# $
Convert::% ,
.::, -

ToDateTime::- 7
(::7 8
reader::8 >
[::> ?
$str::? J
]::J K
)::K L
;::L M
this;; 
.;; 
BannedReason;; %
=;;& '
reader;;( .
[;;. /
$str;;/ =
];;= >
.;;> ?
ToString;;? G
(;;G H
);;H I
;;;I J
}== 
}?? 
}AA 	
privateGG 
boolGG 
CreateGG 
(GG 
)GG 
{HH 	
intII 
newIDII 
=II 
$numII 
;II 
newIDKK 
=KK 

DBBannedIPKK 
.KK 
AddKK "
(KK" #
thisLL 
.LL 
BannedIPLL 
,LL 
thisMM 
.MM 
	BannedUtcMM 
,MM 
thisNN 
.NN 
BannedReasonNN !
)NN! "
;NN" #
thisPP 
.PP 
RowIdPP 
=PP 
newIDPP 
;PP 
returnRR 
(RR 
newIDRR 
>RR 
$numRR 
)RR 
;RR 
}TT 	
private[[ 
bool[[ 
Update[[ 
([[ 
)[[ 
{\\ 	
return^^ 

DBBannedIP^^ 
.^^ 
Update^^ $
(^^$ %
this__ 
.__ 
RowId__ 
,__ 
this`` 
.`` 
BannedIP`` 
,`` 
thisaa 
.aa 
	BannedUtcaa 
,aa 
thisbb 
.bb 
BannedReasonbb !
)bb! "
;bb" #
}dd 	
publicoo 
booloo 
Saveoo 
(oo 
)oo 
{pp 	
ifqq 
(qq 
thisqq 
.qq 
RowIdqq 
>qq 
$numqq 
)qq 
{rr 
returnss 
Updatess 
(ss 
)ss 
;ss  
}tt 
elseuu 
{vv 
returnww 
Createww 
(ww 
)ww 
;ww  
}xx 
}yy 	
public
áá 
static
áá 
bool
áá 
Delete
áá !
(
áá! "
int
áá" %
rowId
áá& +
)
áá+ ,
{
àà 	
return
ââ 

DBBannedIP
ââ 
.
ââ 
Delete
ââ $
(
ââ$ %
rowId
ââ% *
)
ââ* +
;
ââ+ ,
}
ää 	
public
ëë 
static
ëë 
bool
ëë 
IsBanned
ëë #
(
ëë# $
string
ëë$ *
	ipAddress
ëë+ 4
)
ëë4 5
{
íí 	
if
ìì 
(
ìì 
string
ìì 
.
ìì 
IsNullOrEmpty
ìì $
(
ìì$ %
	ipAddress
ìì% .
)
ìì. /
)
ìì/ 0
{
ìì1 2
return
ìì3 9
false
ìì: ?
;
ìì? @
}
ììA B
return
îî 

DBBannedIP
îî 
.
îî 
IsBanned
îî &
(
îî& '
	ipAddress
îî' 0
)
îî0 1
;
îî1 2
}
ïï 	
public
öö 
static
öö 
List
öö 
<
öö 
BannedIPAddress
öö *
>
öö* +
GetAll
öö, 2
(
öö2 3
)
öö3 4
{
õõ 	
List
úú 
<
úú 
BannedIPAddress
úú  
>
úú  !!
bannedIPAddressList
úú" 5
=
ùù 
new
ùù 
List
ùù 
<
ùù 
BannedIPAddress
ùù *
>
ùù* +
(
ùù+ ,
)
ùù, -
;
ùù- .
using
üü 
(
üü 
IDataReader
üü 
reader
üü %
=
üü& '

DBBannedIP
üü( 2
.
üü2 3
GetAll
üü3 9
(
üü9 :
)
üü: ;
)
üü; <
{
†† 
while
°° 
(
°° 
reader
°° 
.
°° 
Read
°° "
(
°°" #
)
°°# $
)
°°$ %
{
¢¢ 
BannedIPAddress
££ #
bannedIPAddress
££$ 3
=
££4 5
new
££6 9
BannedIPAddress
££: I
(
££I J
)
££J K
;
££K L
bannedIPAddress
§§ #
.
§§# $
RowId
§§$ )
=
§§* +
Convert
§§, 3
.
§§3 4
ToInt32
§§4 ;
(
§§; <
reader
§§< B
[
§§B C
$str
§§C J
]
§§J K
)
§§K L
;
§§L M
bannedIPAddress
•• #
.
••# $
BannedIP
••$ ,
=
••- .
reader
••/ 5
[
••5 6
$str
••6 @
]
••@ A
.
••A B
ToString
••B J
(
••J K
)
••K L
;
••L M
bannedIPAddress
¶¶ #
.
¶¶# $
	BannedUtc
¶¶$ -
=
¶¶. /
Convert
¶¶0 7
.
¶¶7 8

ToDateTime
¶¶8 B
(
¶¶B C
reader
¶¶C I
[
¶¶I J
$str
¶¶J U
]
¶¶U V
)
¶¶V W
;
¶¶W X
bannedIPAddress
ßß #
.
ßß# $
BannedReason
ßß$ 0
=
ßß1 2
reader
ßß3 9
[
ßß9 :
$str
ßß: H
]
ßßH I
.
ßßI J
ToString
ßßJ R
(
ßßR S
)
ßßS T
;
ßßT U!
bannedIPAddressList
®® '
.
®®' (
Add
®®( +
(
®®+ ,
bannedIPAddress
®®, ;
)
®®; <
;
®®< =
}
©© 
}
™™ 
return
¨¨ !
bannedIPAddressList
¨¨ &
;
¨¨& '
}
ÆÆ 	
public
∞∞ 
static
∞∞ 
List
∞∞ 
<
∞∞ 
String
∞∞ !
>
∞∞! "
GetAllBannedIPs
∞∞# 2
(
∞∞2 3
)
∞∞3 4
{
±± 	
List
≤≤ 
<
≤≤ 
String
≤≤ 
>
≤≤ !
bannedIPAddressList
≤≤ ,
=
≥≥ 
new
≥≥ 
List
≥≥ 
<
≥≥ 
String
≥≥ !
>
≥≥! "
(
≥≥" #
)
≥≥# $
;
≥≥$ %
using
µµ 
(
µµ 
IDataReader
µµ 
reader
µµ %
=
µµ& '

DBBannedIP
µµ( 2
.
µµ2 3
GetAll
µµ3 9
(
µµ9 :
)
µµ: ;
)
µµ; <
{
∂∂ 
while
∑∑ 
(
∑∑ 
reader
∑∑ 
.
∑∑ 
Read
∑∑ "
(
∑∑" #
)
∑∑# $
)
∑∑$ %
{
∏∏ !
bannedIPAddressList
∫∫ '
.
∫∫' (
Add
∫∫( +
(
∫∫+ ,
reader
∫∫, 2
[
∫∫2 3
$str
∫∫3 =
]
∫∫= >
.
∫∫> ?
ToString
∫∫? G
(
∫∫G H
)
∫∫H I
)
∫∫I J
;
∫∫J K
}
ºº 
}
ΩΩ 
return
øø !
bannedIPAddressList
øø &
;
øø& '
}
¡¡ 	
public
∆∆ 
static
∆∆ 
List
∆∆ 
<
∆∆ 
BannedIPAddress
∆∆ *
>
∆∆* +
GetPage
∆∆, 3
(
∆∆3 4
int
«« 

pageNumber
«« 
,
«« 
int
»» 
pageSize
»» 
,
»» 
out
…… 
int
…… 

totalPages
…… 
)
…… 
{
   	

totalPages
ÀÀ 
=
ÀÀ 
$num
ÀÀ 
;
ÀÀ 
List
ÕÕ 
<
ÕÕ 
BannedIPAddress
ÕÕ  
>
ÕÕ  !!
bannedIPAddressList
ÕÕ" 5
=
ŒŒ 
new
ŒŒ 
List
ŒŒ 
<
ŒŒ 
BannedIPAddress
ŒŒ *
>
ŒŒ* +
(
ŒŒ+ ,
)
ŒŒ, -
;
ŒŒ- .
using
–– 
(
–– 
IDataReader
–– 
reader
–– %
=
—— 

DBBannedIP
—— 
.
—— 
GetPage
—— $
(
——$ %

pageNumber
““ 
,
““ 
pageSize
”” 
,
”” 
out
‘‘ 

totalPages
‘‘ 
)
‘‘ 
)
‘‘  
{
’’ 
while
÷÷ 
(
÷÷ 
reader
÷÷ 
.
÷÷ 
Read
÷÷ "
(
÷÷" #
)
÷÷# $
)
÷÷$ %
{
◊◊ 
BannedIPAddress
ÿÿ #
bannedIPAddress
ÿÿ$ 3
=
ÿÿ4 5
new
ÿÿ6 9
BannedIPAddress
ÿÿ: I
(
ÿÿI J
)
ÿÿJ K
;
ÿÿK L
bannedIPAddress
ŸŸ #
.
ŸŸ# $
RowId
ŸŸ$ )
=
ŸŸ* +
Convert
ŸŸ, 3
.
ŸŸ3 4
ToInt32
ŸŸ4 ;
(
ŸŸ; <
reader
ŸŸ< B
[
ŸŸB C
$str
ŸŸC J
]
ŸŸJ K
)
ŸŸK L
;
ŸŸL M
bannedIPAddress
⁄⁄ #
.
⁄⁄# $
BannedIP
⁄⁄$ ,
=
⁄⁄- .
reader
⁄⁄/ 5
[
⁄⁄5 6
$str
⁄⁄6 @
]
⁄⁄@ A
.
⁄⁄A B
ToString
⁄⁄B J
(
⁄⁄J K
)
⁄⁄K L
;
⁄⁄L M
bannedIPAddress
€€ #
.
€€# $
	BannedUtc
€€$ -
=
€€. /
Convert
€€0 7
.
€€7 8

ToDateTime
€€8 B
(
€€B C
reader
€€C I
[
€€I J
$str
€€J U
]
€€U V
)
€€V W
;
€€W X
bannedIPAddress
‹‹ #
.
‹‹# $
BannedReason
‹‹$ 0
=
‹‹1 2
reader
‹‹3 9
[
‹‹9 :
$str
‹‹: H
]
‹‹H I
.
‹‹I J
ToString
‹‹J R
(
‹‹R S
)
‹‹S T
;
‹‹T U!
bannedIPAddressList
›› '
.
››' (
Add
››( +
(
››+ ,
bannedIPAddress
››, ;
)
››; <
;
››< =
}
ﬂﬂ 
}
‡‡ 
return
‚‚ !
bannedIPAddressList
‚‚ &
;
‚‚& '
}
‰‰ 	
public
ÍÍ 
static
ÍÍ 
IDataReader
ÍÍ !
GeByIpAddress
ÍÍ" /
(
ÍÍ/ 0
string
ÍÍ0 6
	ipAddress
ÍÍ7 @
)
ÍÍ@ A
{
ÎÎ 	
return
ÏÏ 

DBBannedIP
ÏÏ 
.
ÏÏ 
GeByIpAddress
ÏÏ +
(
ÏÏ+ ,
	ipAddress
ÏÏ, 5
)
ÏÏ5 6
;
ÏÏ6 7
}
ÓÓ 	
public
¯¯ 
static
¯¯ 
int
¯¯ 
CompareByRowId
¯¯ (
(
¯¯( )
BannedIPAddress
¯¯) 8
bannedIPAddress1
¯¯9 I
,
¯¯I J
BannedIPAddress
¯¯K Z
bannedIPAddress2
¯¯[ k
)
¯¯k l
{
˘˘ 	
return
˙˙ 
bannedIPAddress1
˙˙ #
.
˙˙# $
RowId
˙˙$ )
.
˙˙) *
	CompareTo
˙˙* 3
(
˙˙3 4
bannedIPAddress2
˙˙4 D
.
˙˙D E
RowId
˙˙E J
)
˙˙J K
;
˙˙K L
}
˚˚ 	
public
ˇˇ 
static
ˇˇ 
int
ˇˇ 
CompareByBannedIP
ˇˇ +
(
ˇˇ+ ,
BannedIPAddress
ˇˇ, ;
bannedIPAddress1
ˇˇ< L
,
ˇˇL M
BannedIPAddress
ˇˇN ]
bannedIPAddress2
ˇˇ^ n
)
ˇˇn o
{
ÄÄ 	
return
ÅÅ 
bannedIPAddress1
ÅÅ #
.
ÅÅ# $
BannedIP
ÅÅ$ ,
.
ÅÅ, -
	CompareTo
ÅÅ- 6
(
ÅÅ6 7
bannedIPAddress2
ÅÅ7 G
.
ÅÅG H
BannedIP
ÅÅH P
)
ÅÅP Q
;
ÅÅQ R
}
ÇÇ 	
public
ÜÜ 
static
ÜÜ 
int
ÜÜ  
CompareByBannedUtc
ÜÜ ,
(
ÜÜ, -
BannedIPAddress
ÜÜ- <
bannedIPAddress1
ÜÜ= M
,
ÜÜM N
BannedIPAddress
ÜÜO ^
bannedIPAddress2
ÜÜ_ o
)
ÜÜo p
{
áá 	
return
àà 
bannedIPAddress1
àà #
.
àà# $
	BannedUtc
àà$ -
.
àà- .
	CompareTo
àà. 7
(
àà7 8
bannedIPAddress2
àà8 H
.
ààH I
	BannedUtc
ààI R
)
ààR S
;
ààS T
}
ââ 	
public
çç 
static
çç 
int
çç #
CompareByBannedReason
çç /
(
çç/ 0
BannedIPAddress
çç0 ?
bannedIPAddress1
çç@ P
,
ççP Q
BannedIPAddress
ççR a
bannedIPAddress2
ççb r
)
ççr s
{
éé 	
return
èè 
bannedIPAddress1
èè #
.
èè# $
BannedReason
èè$ 0
.
èè0 1
	CompareTo
èè1 :
(
èè: ;
bannedIPAddress2
èè; K
.
èèK L
BannedReason
èèL X
)
èèX Y
;
èèY Z
}
êê 	
}
ïï 
}óó ΩB
oD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Category\Category.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
Category 
{ 
public 
Category 
( 
) 
{ 	
}
 
private 
Guid 
guid 
= 
Guid  
.  !
Empty! &
;& '
private   
Guid   

parentGuid   
=    !
Guid  " &
.  & '
Empty  ' ,
;  , -
private!! 
Guid!! 
siteGuid!! 
=!! 
Guid!!  $
.!!$ %
Empty!!% *
;!!* +
private"" 
Guid"" 
featureGuid""  
=""! "
Guid""# '
.""' (
Empty""( -
;""- .
private## 
Guid## 

moduleGuid## 
=##  !
Guid##" &
.##& '
Empty##' ,
;##, -
private$$ 
string$$ 
category$$ 
=$$  !
string$$" (
.$$( )
Empty$$) .
;$$. /
private%% 
string%% 
description%% "
=%%# $
string%%% +
.%%+ ,
Empty%%, 1
;%%1 2
private&& 
int&& 
	itemCount&& 
=&& 
$num&&  !
;&&! "
private'' 
DateTime'' 

createdUtc'' #
=''$ %
DateTime''& .
.''. /
UtcNow''/ 5
;''5 6
private(( 
Guid(( 
	createdBy(( 
=((  
Guid((! %
.((% &
Empty((& +
;((+ ,
private)) 
DateTime)) 
modifiedUtc)) $
=))% &
DateTime))' /
.))/ 0
UtcNow))0 6
;))6 7
private** 
Guid** 

modifiedBy** 
=**  !
Guid**" &
.**& '
Empty**' ,
;**, -
public00 
Guid00 
Guid00 
{11 	
get22 
{22 
return22 
guid22 
;22 
}22  
set33 
{33 
guid33 
=33 
value33 
;33 
}33  !
}44 	
public55 
Guid55 

ParentGuid55 
{66 	
get77 
{77 
return77 

parentGuid77 #
;77# $
}77% &
set88 
{88 

parentGuid88 
=88 
value88 $
;88$ %
}88& '
}99 	
public:: 
Guid:: 
SiteGuid:: 
{;; 	
get<< 
{<< 
return<< 
siteGuid<< !
;<<! "
}<<# $
set== 
{== 
siteGuid== 
=== 
value== "
;==" #
}==$ %
}>> 	
public?? 
Guid?? 
FeatureGuid?? 
{@@ 	
getAA 
{AA 
returnAA 
featureGuidAA $
;AA$ %
}AA& '
setBB 
{BB 
featureGuidBB 
=BB 
valueBB  %
;BB% &
}BB' (
}CC 	
publicDD 
GuidDD 

ModuleGuidDD 
{EE 	
getFF 
{FF 
returnFF 

moduleGuidFF #
;FF# $
}FF% &
setGG 
{GG 

moduleGuidGG 
=GG 
valueGG $
;GG$ %
}GG& '
}HH 	
publicII 
stringII 
CategoryTextII "
{JJ 	
getKK 
{KK 
returnKK 
categoryKK !
;KK! "
}KK# $
setLL 
{LL 
categoryLL 
=LL 
valueLL "
;LL" #
}LL$ %
}MM 	
publicNN 
stringNN 
DescriptionNN !
{OO 	
getPP 
{PP 
returnPP 
descriptionPP $
;PP$ %
}PP& '
setQQ 
{QQ 
descriptionQQ 
=QQ 
valueQQ  %
;QQ% &
}QQ' (
}RR 	
publicSS 
intSS 
	ItemCountSS 
{TT 	
getUU 
{UU 
returnUU 
	itemCountUU "
;UU" #
}UU$ %
setVV 
{VV 
	itemCountVV 
=VV 
valueVV #
;VV# $
}VV% &
}WW 	
publicXX 
DateTimeXX 

CreatedUtcXX "
{YY 	
getZZ 
{ZZ 
returnZZ 

createdUtcZZ #
;ZZ# $
}ZZ% &
set[[ 
{[[ 

createdUtc[[ 
=[[ 
value[[ $
;[[$ %
}[[& '
}\\ 	
public]] 
Guid]] 
	CreatedBy]] 
{^^ 	
get__ 
{__ 
return__ 
	createdBy__ "
;__" #
}__$ %
set`` 
{`` 
	createdBy`` 
=`` 
value`` #
;``# $
}``% &
}aa 	
publicbb 
DateTimebb 
ModifiedUtcbb #
{cc 	
getdd 
{dd 
returndd 
modifiedUtcdd $
;dd$ %
}dd& '
setee 
{ee 
modifiedUtcee 
=ee 
valueee  %
;ee% &
}ee' (
}ff 	
publicgg 
Guidgg 

ModifiedBygg 
{hh 	
getii 
{ii 
returnii 

modifiedByii #
;ii# $
}ii% &
setjj 
{jj 

modifiedByjj 
=jj 
valuejj $
;jj$ %
}jj& '
}kk 	
publictt 
statictt 
inttt 
CompareByCategorytt +
(tt+ ,
Categorytt, 4
	category1tt5 >
,tt> ?
Categorytt@ H
	category2ttI R
)ttR S
{uu 	
returnvv 
	category1vv 
.vv 
CategoryTextvv )
.vv) *
	CompareTovv* 3
(vv3 4
	category2vv4 =
.vv= >
CategoryTextvv> J
)vvJ K
;vvK L
}ww 	
public{{ 
static{{ 
int{{  
CompareByDescription{{ .
({{. /
Category{{/ 7
	category1{{8 A
,{{A B
Category{{C K
	category2{{L U
){{U V
{|| 	
return}} 
	category1}} 
.}} 
Description}} (
.}}( )
	CompareTo}}) 2
(}}2 3
	category2}}3 <
.}}< =
Description}}= H
)}}H I
;}}I J
}~~ 	
public
ÇÇ 
static
ÇÇ 
int
ÇÇ  
CompareByItemCount
ÇÇ ,
(
ÇÇ, -
Category
ÇÇ- 5
	category1
ÇÇ6 ?
,
ÇÇ? @
Category
ÇÇA I
	category2
ÇÇJ S
)
ÇÇS T
{
ÉÉ 	
return
ÑÑ 
	category1
ÑÑ 
.
ÑÑ 
	ItemCount
ÑÑ &
.
ÑÑ& '
	CompareTo
ÑÑ' 0
(
ÑÑ0 1
	category2
ÑÑ1 :
.
ÑÑ: ;
	ItemCount
ÑÑ; D
)
ÑÑD E
;
ÑÑE F
}
ÖÖ 	
public
ââ 
static
ââ 
int
ââ !
CompareByCreatedUtc
ââ -
(
ââ- .
Category
ââ. 6
	category1
ââ7 @
,
ââ@ A
Category
ââB J
	category2
ââK T
)
ââT U
{
ää 	
return
ãã 
	category1
ãã 
.
ãã 

CreatedUtc
ãã '
.
ãã' (
	CompareTo
ãã( 1
(
ãã1 2
	category2
ãã2 ;
.
ãã; <

CreatedUtc
ãã< F
)
ããF G
;
ããG H
}
åå 	
public
êê 
static
êê 
int
êê "
CompareByModifiedUtc
êê .
(
êê. /
Category
êê/ 7
	category1
êê8 A
,
êêA B
Category
êêC K
	category2
êêL U
)
êêU V
{
ëë 	
return
íí 
	category1
íí 
.
íí 
ModifiedUtc
íí (
.
íí( )
	CompareTo
íí) 2
(
íí2 3
	category2
íí3 <
.
íí< =
ModifiedUtc
íí= H
)
ííH I
;
ííI J
}
ìì 	
}
òò 
}öö ≥
sD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Category\CategoryItem.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
CategoryItem 
{ 
public 
CategoryItem 
( 
) 
{ 	
}
 
private 
Guid 
guid 
= 
Guid  
.  !
Empty! &
;& '
private   
Guid   
itemGuid   
=   
Guid    $
.  $ %
Empty  % *
;  * +
private!! 
Guid!! 
siteGuid!! 
=!! 
Guid!!  $
.!!$ %
Empty!!% *
;!!* +
private"" 
Guid"" 
featureGuid""  
=""! "
Guid""# '
.""' (
Empty""( -
;""- .
private## 
Guid## 

moduleGuid## 
=##  !
Guid##" &
.##& '
Empty##' ,
;##, -
private$$ 
Guid$$ 
categoryGuid$$ !
=$$" #
Guid$$$ (
.$$( )
Empty$$) .
;$$. /
private%% 
Guid%% 
	extraGuid%% 
=%%  
Guid%%! %
.%%% &
Empty%%& +
;%%+ ,
public++ 
Guid++ 
Guid++ 
{,, 	
get-- 
{-- 
return-- 
guid-- 
;-- 
}--  
set.. 
{.. 
guid.. 
=.. 
value.. 
;.. 
}..  !
}// 	
public00 
Guid00 
ItemGuid00 
{11 	
get22 
{22 
return22 
itemGuid22 !
;22! "
}22# $
set33 
{33 
itemGuid33 
=33 
value33 "
;33" #
}33$ %
}44 	
public55 
Guid55 
SiteGuid55 
{66 	
get77 
{77 
return77 
siteGuid77 !
;77! "
}77# $
set88 
{88 
siteGuid88 
=88 
value88 "
;88" #
}88$ %
}99 	
public:: 
Guid:: 
FeatureGuid:: 
{;; 	
get<< 
{<< 
return<< 
featureGuid<< $
;<<$ %
}<<& '
set== 
{== 
featureGuid== 
=== 
value==  %
;==% &
}==' (
}>> 	
public?? 
Guid?? 

ModuleGuid?? 
{@@ 	
getAA 
{AA 
returnAA 

moduleGuidAA #
;AA# $
}AA% &
setBB 
{BB 

moduleGuidBB 
=BB 
valueBB $
;BB$ %
}BB& '
}CC 	
publicDD 
GuidDD 
CategoryGuidDD  
{EE 	
getFF 
{FF 
returnFF 
categoryGuidFF %
;FF% &
}FF' (
setGG 
{GG 
categoryGuidGG 
=GG  
valueGG! &
;GG& '
}GG( )
}HH 	
publicII 
GuidII 
	ExtraGuidII 
{JJ 	
getKK 
{KK 
returnKK 
	extraGuidKK "
;KK" #
}KK$ %
setLL 
{LL 
	extraGuidLL 
=LL 
valueLL #
;LL# $
}LL% &
}MM 	
}SS 
}UU ∏
yD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Category\CategoryRepository.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
class 	
CategoryRepository
 
{ 
} 
} ¿e
mD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Comment\Comment.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
Comment 
{ 
public 
const 
byte 
ModerationApproved ,
=- .
$num/ 0
;0 1
public 
const 
byte 
ModerationPending +
=, -
$num. /
;/ 0
public 
const 
byte 
ModerationSpam (
=) *
$num+ ,
;, -
public 
const 
byte 
ModerationRejected ,
=- .
$num/ 0
;0 1
public 
Comment 
( 
) 
{ 	
}
 
private$$ 
Guid$$ 
guid$$ 
=$$ 
Guid$$  
.$$  !
Empty$$! &
;$$& '
private%% 
Guid%% 

parentGuid%% 
=%%  !
Guid%%" &
.%%& '
Empty%%' ,
;%%, -
private&& 
Guid&& 
siteGuid&& 
=&& 
Guid&&  $
.&&$ %
Empty&&% *
;&&* +
private'' 
Guid'' 
featureGuid''  
=''! "
Guid''# '
.''' (
Empty''( -
;''- .
private(( 
Guid(( 

moduleGuid(( 
=((  !
Guid((" &
.((& '
Empty((' ,
;((, -
private)) 
Guid)) 
contentGuid))  
=))! "
Guid))# '
.))' (
Empty))( -
;))- .
private** 
Guid** 
userGuid** 
=** 
Guid**  $
.**$ %
Empty**% *
;*** +
private++ 
string++ 
title++ 
=++ 
string++ %
.++% &
Empty++& +
;+++ ,
private,, 
string,, 
userComment,, "
=,,# $
string,,% +
.,,+ ,
Empty,,, 1
;,,1 2
private-- 
string-- 
userName-- 
=--  !
string--" (
.--( )
Empty--) .
;--. /
private.. 
string.. 
	userEmail..  
=..! "
string..# )
...) *
Empty..* /
;../ 0
private// 
string// 
userUrl// 
=//  
string//! '
.//' (
Empty//( -
;//- .
private00 
string00 
userIp00 
=00 
string00  &
.00& '
Empty00' ,
;00, -
private11 
DateTime11 

createdUtc11 #
=11$ %
DateTime11& .
.11. /
UtcNow11/ 5
;115 6
private22 
DateTime22 

lastModUtc22 #
=22$ %
DateTime22& .
.22. /
UtcNow22/ 5
;225 6
private33 
byte33 
moderationStatus33 %
=33& '
$num33( )
;33) *
private44 
Guid44 
moderatedBy44  
=44! "
Guid44# '
.44' (
Empty44( -
;44- .
private55 
string55 
moderationReason55 '
=55( )
string55* 0
.550 1
Empty551 6
;556 7
private88 
string88 

postAuthor88 !
=88" #
string88$ *
.88* +
Empty88+ 0
;880 1
private99 
string99 
authorEmail99 "
=99# $
string99% +
.99+ ,
Empty99, 1
;991 2
private:: 
decimal:: 
userRevenue:: #
=::$ %
$num::& '
;::' (
private;; 
bool;; 
trusted;; 
=;; 
false;; $
;;;$ %
private<< 
string<< 
postAuthorAvatar<< '
=<<( )
string<<* 0
.<<0 1
Empty<<1 6
;<<6 7
private== 
string==  
postAuthorWebSiteUrl== +
===, -
string==. 4
.==4 5
Empty==5 :
;==: ;
publicCC 
GuidCC 
GuidCC 
{DD 	
getEE 
{EE 
returnEE 
guidEE 
;EE 
}EE  
setFF 
{FF 
guidFF 
=FF 
valueFF 
;FF 
}FF  !
}GG 	
publicHH 
GuidHH 

ParentGuidHH 
{II 	
getJJ 
{JJ 
returnJJ 

parentGuidJJ #
;JJ# $
}JJ% &
setKK 
{KK 

parentGuidKK 
=KK 
valueKK $
;KK$ %
}KK& '
}LL 	
publicMM 
GuidMM 
SiteGuidMM 
{NN 	
getOO 
{OO 
returnOO 
siteGuidOO !
;OO! "
}OO# $
setPP 
{PP 
siteGuidPP 
=PP 
valuePP "
;PP" #
}PP$ %
}QQ 	
publicRR 
GuidRR 
FeatureGuidRR 
{SS 	
getTT 
{TT 
returnTT 
featureGuidTT $
;TT$ %
}TT& '
setUU 
{UU 
featureGuidUU 
=UU 
valueUU  %
;UU% &
}UU' (
}VV 	
publicWW 
GuidWW 

ModuleGuidWW 
{XX 	
getYY 
{YY 
returnYY 

moduleGuidYY #
;YY# $
}YY% &
setZZ 
{ZZ 

moduleGuidZZ 
=ZZ 
valueZZ $
;ZZ$ %
}ZZ& '
}[[ 	
public\\ 
Guid\\ 
ContentGuid\\ 
{]] 	
get^^ 
{^^ 
return^^ 
contentGuid^^ $
;^^$ %
}^^& '
set__ 
{__ 
contentGuid__ 
=__ 
value__  %
;__% &
}__' (
}`` 	
publicaa 
Guidaa 
UserGuidaa 
{bb 	
getcc 
{cc 
returncc 
userGuidcc !
;cc! "
}cc# $
setdd 
{dd 
userGuiddd 
=dd 
valuedd "
;dd" #
}dd$ %
}ee 	
publicff 
stringff 
Titleff 
{gg 	
gethh 
{hh 
returnhh 
titlehh 
;hh 
}hh  !
setii 
{ii 
titleii 
=ii 
valueii 
;ii  
}ii! "
}jj 	
publickk 
stringkk 
UserCommentkk !
{ll 	
getmm 
{mm 
returnmm 
userCommentmm $
;mm$ %
}mm& '
setnn 
{nn 
userCommentnn 
=nn 
valuenn  %
;nn% &
}nn' (
}oo 	
publicpp 
stringpp 
UserNamepp 
{qq 	
getrr 
{rr 
returnrr 
userNamerr !
;rr! "
}rr# $
setss 
{ss 
userNamess 
=ss 
valuess "
;ss" #
}ss$ %
}tt 	
publicuu 
stringuu 
	UserEmailuu 
{vv 	
getww 
{ww 
returnww 
	userEmailww "
;ww" #
}ww$ %
setxx 
{xx 
	userEmailxx 
=xx 
valuexx #
;xx# $
}xx% &
}yy 	
publiczz 
stringzz 
UserUrlzz 
{{{ 	
get|| 
{|| 
return|| 
userUrl||  
;||  !
}||" #
set}} 
{}} 
userUrl}} 
=}} 
value}} !
;}}! "
}}}# $
}~~ 	
public 
string 
UserIp 
{
ÄÄ 	
get
ÅÅ 
{
ÅÅ 
return
ÅÅ 
userIp
ÅÅ 
;
ÅÅ  
}
ÅÅ! "
set
ÇÇ 
{
ÇÇ 
userIp
ÇÇ 
=
ÇÇ 
value
ÇÇ  
;
ÇÇ  !
}
ÇÇ" #
}
ÉÉ 	
public
ÑÑ 
DateTime
ÑÑ 

CreatedUtc
ÑÑ "
{
ÖÖ 	
get
ÜÜ 
{
ÜÜ 
return
ÜÜ 

createdUtc
ÜÜ #
;
ÜÜ# $
}
ÜÜ% &
set
áá 
{
áá 

createdUtc
áá 
=
áá 
value
áá $
;
áá$ %
}
áá& '
}
àà 	
public
ââ 
DateTime
ââ 

LastModUtc
ââ "
{
ää 	
get
ãã 
{
ãã 
return
ãã 

lastModUtc
ãã #
;
ãã# $
}
ãã% &
set
åå 
{
åå 

lastModUtc
åå 
=
åå 
value
åå $
;
åå$ %
}
åå& '
}
çç 	
public
éé 
byte
éé 
ModerationStatus
éé $
{
èè 	
get
êê 
{
êê 
return
êê 
moderationStatus
êê )
;
êê) *
}
êê+ ,
set
ëë 
{
ëë 
moderationStatus
ëë "
=
ëë# $
value
ëë% *
;
ëë* +
}
ëë, -
}
íí 	
public
ìì 
Guid
ìì 
ModeratedBy
ìì 
{
îî 	
get
ïï 
{
ïï 
return
ïï 
moderatedBy
ïï $
;
ïï$ %
}
ïï& '
set
ññ 
{
ññ 
moderatedBy
ññ 
=
ññ 
value
ññ  %
;
ññ% &
}
ññ' (
}
óó 	
public
òò 
string
òò 
ModerationReason
òò &
{
ôô 	
get
öö 
{
öö 
return
öö 
moderationReason
öö )
;
öö) *
}
öö+ ,
set
õõ 
{
õõ 
moderationReason
õõ "
=
õõ# $
value
õõ% *
;
õõ* +
}
õõ, -
}
úú 	
public
¢¢ 
string
¢¢ 

PostAuthor
¢¢  
{
££ 	
get
§§ 
{
§§ 
return
§§ 

postAuthor
§§ #
;
§§# $
}
§§% &
set
•• 
{
•• 

postAuthor
•• 
=
•• 
value
•• $
;
••$ %
}
••& '
}
¶¶ 	
public
®® 
string
®® 
AuthorEmail
®® !
{
©© 	
get
™™ 
{
™™ 
return
™™ 
authorEmail
™™ $
;
™™$ %
}
™™& '
set
´´ 
{
´´ 
authorEmail
´´ 
=
´´ 
value
´´  %
;
´´% &
}
´´' (
}
¨¨ 	
public
ØØ 
decimal
ØØ 
UserRevenue
ØØ "
{
∞∞ 	
get
±± 
{
±± 
return
±± 
userRevenue
±± $
;
±±$ %
}
±±& '
set
≤≤ 
{
≤≤ 
userRevenue
≤≤ 
=
≤≤ 
value
≤≤  %
;
≤≤% &
}
≤≤' (
}
≥≥ 	
public
µµ 
bool
µµ 
Trusted
µµ 
{
∂∂ 	
get
∑∑ 
{
∑∑ 
return
∑∑ 
trusted
∑∑  
;
∑∑  !
}
∑∑" #
set
∏∏ 
{
∏∏ 
trusted
∏∏ 
=
∏∏ 
value
∏∏ !
;
∏∏! "
}
∏∏# $
}
ππ 	
public
ªª 
string
ªª 
PostAuthorAvatar
ªª &
{
ºº 	
get
ΩΩ 
{
ΩΩ 
return
ΩΩ 
postAuthorAvatar
ΩΩ )
;
ΩΩ) *
}
ΩΩ+ ,
set
ææ 
{
ææ 
postAuthorAvatar
ææ "
=
ææ# $
value
ææ% *
;
ææ* +
}
ææ, -
}
øø 	
public
¡¡ 
string
¡¡ "
PostAuthorWebSiteUrl
¡¡ *
{
¬¬ 	
get
√√ 
{
√√ 
return
√√ "
postAuthorWebSiteUrl
√√ -
;
√√- .
}
√√/ 0
set
ƒƒ 
{
ƒƒ "
postAuthorWebSiteUrl
ƒƒ &
=
ƒƒ' (
value
ƒƒ) .
;
ƒƒ. /
}
ƒƒ0 1
}
≈≈ 	
private
«« 
int
«« 
userId
«« 
=
«« 
-
«« 
$num
«« 
;
««  
public
…… 
int
…… 
UserId
…… 
{
   	
get
ÀÀ 
{
ÀÀ 
return
ÀÀ 
userId
ÀÀ 
;
ÀÀ  
}
ÀÀ! "
set
ÃÃ 
{
ÃÃ 
userId
ÃÃ 
=
ÃÃ 
value
ÃÃ  
;
ÃÃ  !
}
ÃÃ" #
}
ÕÕ 	
}
‘‘ 
}÷÷ ‘“
wD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Comment\CommentRepository.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
CommentRepository "
{ 
public 
CommentRepository  
(  !
)! "
{ 	
}
 
public   
void   
Save   
(   
Comment    
comment  ! (
)  ( )
{!! 	
if"" 
("" 
comment"" 
=="" 
null"" 
)""  
{""! "
return""# )
;"") *
}""+ ,
if$$ 
($$ 
comment$$ 
.$$ 
Guid$$ 
==$$ 
Guid$$  $
.$$$ %
Empty$$% *
)$$* +
{%% 
comment&& 
.&& 
Guid&& 
=&& 
Guid&& #
.&&# $
NewGuid&&$ +
(&&+ ,
)&&, -
;&&- .

DBComments(( 
.(( 
Create(( !
(((! "
comment)) 
.)) 
Guid))  
,))  !
comment** 
.** 

ParentGuid** &
,**& '
comment++ 
.++ 
SiteGuid++ $
,++$ %
comment,, 
.,, 
FeatureGuid,, '
,,,' (
comment-- 
.-- 

ModuleGuid-- &
,--& '
comment.. 
... 
ContentGuid.. '
,..' (
comment// 
.// 
UserGuid// $
,//$ %
comment00 
.00 
Title00 !
,00! "
comment11 
.11 
UserComment11 '
,11' (
comment22 
.22 
UserName22 $
,22$ %
comment33 
.33 
	UserEmail33 %
,33% &
comment44 
.44 
UserUrl44 #
,44# $
comment55 
.55 
UserIp55 "
,55" #
comment66 
.66 

CreatedUtc66 &
,66& '
comment77 
.77 
ModerationStatus77 ,
,77, -
comment88 
.88 
ModeratedBy88 '
,88' (
comment99 
.99 
ModerationReason99 ,
)99, -
;99- .
}:: 
else;; 
{<< 

DBComments== 
.== 
Update== !
(==! "
comment>> 
.>> 
Guid>>  
,>>  !
comment?? 
.?? 
UserGuid?? $
,??$ %
comment@@ 
.@@ 
Title@@ !
,@@! "
commentAA 
.AA 
UserCommentAA '
,AA' (
commentBB 
.BB 
UserNameBB $
,BB$ %
commentCC 
.CC 
	UserEmailCC %
,CC% &
commentDD 
.DD 
UserUrlDD #
,DD# $
commentEE 
.EE 
UserIpEE "
,EE" #
commentFF 
.FF 

LastModUtcFF &
,FF& '
commentGG 
.GG 
ModerationStatusGG ,
,GG, -
commentHH 
.HH 
ModeratedByHH '
,HH' (
commentII 
.II 
ModerationReasonII ,
)II, -
;II- .
}KK 
}LL 	
publicPP 
CommentPP 
FetchPP 
(PP 
GuidPP !
guidPP" &
)PP& '
{QQ 	
usingRR 
(RR 
IDataReaderRR 
readerRR %
=RR& '

DBCommentsRR( 2
.RR2 3
GetOneRR3 9
(RR9 :
guidRR: >
)RR> ?
)RR? @
{SS 
ifTT 
(TT 
readerTT 
.TT 
ReadTT 
(TT  
)TT  !
)TT! "
{UU 
CommentVV 
commentVV #
=VV$ %
newVV& )
CommentVV* 1
(VV1 2
)VV2 3
;VV3 4
commentWW 
.WW 
GuidWW  
=WW! "
newWW# &
GuidWW' +
(WW+ ,
readerWW, 2
[WW2 3
$strWW3 9
]WW9 :
.WW: ;
ToStringWW; C
(WWC D
)WWD E
)WWE F
;WWF G
commentXX 
.XX 

ParentGuidXX &
=XX' (
newXX) ,
GuidXX- 1
(XX1 2
readerXX2 8
[XX8 9
$strXX9 E
]XXE F
.XXF G
ToStringXXG O
(XXO P
)XXP Q
)XXQ R
;XXR S
commentYY 
.YY 
SiteGuidYY $
=YY% &
newYY' *
GuidYY+ /
(YY/ 0
readerYY0 6
[YY6 7
$strYY7 A
]YYA B
.YYB C
ToStringYYC K
(YYK L
)YYL M
)YYM N
;YYN O
commentZZ 
.ZZ 
FeatureGuidZZ '
=ZZ( )
newZZ* -
GuidZZ. 2
(ZZ2 3
readerZZ3 9
[ZZ9 :
$strZZ: G
]ZZG H
.ZZH I
ToStringZZI Q
(ZZQ R
)ZZR S
)ZZS T
;ZZT U
comment[[ 
.[[ 

ModuleGuid[[ &
=[[' (
new[[) ,
Guid[[- 1
([[1 2
reader[[2 8
[[[8 9
$str[[9 E
][[E F
.[[F G
ToString[[G O
([[O P
)[[P Q
)[[Q R
;[[R S
comment\\ 
.\\ 
ContentGuid\\ '
=\\( )
new\\* -
Guid\\. 2
(\\2 3
reader\\3 9
[\\9 :
$str\\: G
]\\G H
.\\H I
ToString\\I Q
(\\Q R
)\\R S
)\\S T
;\\T U
comment]] 
.]] 
UserGuid]] $
=]]% &
new]]' *
Guid]]+ /
(]]/ 0
reader]]0 6
[]]6 7
$str]]7 A
]]]A B
.]]B C
ToString]]C K
(]]K L
)]]L M
)]]M N
;]]N O
comment^^ 
.^^ 
Title^^ !
=^^" #
reader^^$ *
[^^* +
$str^^+ 2
]^^2 3
.^^3 4
ToString^^4 <
(^^< =
)^^= >
;^^> ?
comment__ 
.__ 
UserComment__ '
=__( )
reader__* 0
[__0 1
$str__1 >
]__> ?
.__? @
ToString__@ H
(__H I
)__I J
;__J K
comment`` 
.`` 
UserName`` $
=``% &
reader``' -
[``- .
$str``. 8
]``8 9
.``9 :
ToString``: B
(``B C
)``C D
;``D E
commentaa 
.aa 
	UserEmailaa %
=aa& '
readeraa( .
[aa. /
$straa/ :
]aa: ;
.aa; <
ToStringaa< D
(aaD E
)aaE F
;aaF G
commentbb 
.bb 
UserUrlbb #
=bb$ %
readerbb& ,
[bb, -
$strbb- 6
]bb6 7
.bb7 8
ToStringbb8 @
(bb@ A
)bbA B
;bbB C
commentcc 
.cc 
UserIpcc "
=cc# $
readercc% +
[cc+ ,
$strcc, 4
]cc4 5
.cc5 6
ToStringcc6 >
(cc> ?
)cc? @
;cc@ A
commentdd 
.dd 

CreatedUtcdd &
=dd' (
Convertdd) 0
.dd0 1

ToDateTimedd1 ;
(dd; <
readerdd< B
[ddB C
$strddC O
]ddO P
)ddP Q
;ddQ R
commentee 
.ee 

LastModUtcee &
=ee' (
Convertee) 0
.ee0 1

ToDateTimeee1 ;
(ee; <
readeree< B
[eeB C
$streeC O
]eeO P
)eeP Q
;eeQ R
commentff 
.ff 
ModerationStatusff ,
=ff- .
Convertff/ 6
.ff6 7
ToByteff7 =
(ff= >
readerff> D
[ffD E
$strffE W
]ffW X
)ffX Y
;ffY Z
commentgg 
.gg 
ModeratedBygg '
=gg( )
newgg* -
Guidgg. 2
(gg2 3
readergg3 9
[gg9 :
$strgg: G
]ggG H
.ggH I
ToStringggI Q
(ggQ R
)ggR S
)ggS T
;ggT U
commenthh 
.hh 
ModerationReasonhh ,
=hh- .
readerhh/ 5
[hh5 6
$strhh6 H
]hhH I
.hhI J
ToStringhhJ R
(hhR S
)hhS T
;hhT U
commentkk 
.kk 
UserIdkk "
=kk# $
Convertkk% ,
.kk, -
ToInt32kk- 4
(kk4 5
readerkk5 ;
[kk; <
$strkk< D
]kkD E
)kkE F
;kkF G
commentll 
.ll 

PostAuthorll &
=ll' (
readerll) /
[ll/ 0
$strll0 <
]ll< =
.ll= >
ToStringll> F
(llF G
)llG H
;llH I
ifnn 
(nn 
commentnn 
.nn  

PostAuthornn  *
.nn* +
Lengthnn+ 1
==nn2 4
$numnn5 6
)nn6 7
{oo 
commentpp 
.pp  

PostAuthorpp  *
=pp+ ,
commentpp- 4
.pp4 5
UserNamepp5 =
;pp= >
}qq 
commentss 
.ss 
AuthorEmailss '
=ss( )
readerss* 0
[ss0 1
$strss1 >
]ss> ?
.ss? @
ToStringss@ H
(ssH I
)ssI J
;ssJ K
iftt 
(tt 
commenttt 
.tt  
AuthorEmailtt  +
.tt+ ,
Lengthtt, 2
==tt3 5
$numtt6 7
)tt7 8
{uu 
commentvv 
.vv  
AuthorEmailvv  +
=vv, -
commentvv. 5
.vv5 6
	UserEmailvv6 ?
;vv? @
}ww 
commentyy 
.yy 
UserRevenueyy '
=yy( )
Convertyy* 1
.yy1 2
	ToDecimalyy2 ;
(yy; <
readeryy< B
[yyB C
$stryyC P
]yyP Q
)yyQ R
;yyR S
commentzz 
.zz 
Trustedzz #
=zz$ %
Convertzz& -
.zz- .
	ToBooleanzz. 7
(zz7 8
readerzz8 >
[zz> ?
$strzz? H
]zzH I
)zzI J
;zzJ K
comment{{ 
.{{ 
PostAuthorAvatar{{ ,
={{- .
reader{{/ 5
[{{5 6
$str{{6 H
]{{H I
.{{I J
ToString{{J R
({{R S
){{S T
;{{T U
comment|| 
.||  
PostAuthorWebSiteUrl|| 0
=||1 2
reader||3 9
[||9 :
$str||: P
]||P Q
.||Q R
ToString||R Z
(||Z [
)||[ \
;||\ ]
if}} 
(}} 
comment}} 
.}}   
PostAuthorWebSiteUrl}}  4
.}}4 5
Length}}5 ;
==}}< >
$num}}? @
)}}@ A
{~~ 
comment 
.   
PostAuthorWebSiteUrl  4
=5 6
comment7 >
.> ?
UserUrl? F
;F G
}
ÄÄ 
return
ÇÇ 
comment
ÇÇ "
;
ÇÇ" #
}
ÑÑ 
}
ÖÖ 
return
áá 
null
áá 
;
áá 
}
àà 	
public
êê 
bool
êê 
Delete
êê 
(
êê 
Guid
êê 
guid
êê  $
)
êê$ %
{
ëë 	
return
íí 

DBComments
íí 
.
íí 
Delete
íí $
(
íí$ %
guid
íí% )
)
íí) *
;
íí* +
}
ìì 	
public
ïï 
bool
ïï 
DeleteByContent
ïï #
(
ïï# $
Guid
ïï$ (
contentGuid
ïï) 4
)
ïï4 5
{
ññ 	
return
óó 

DBComments
óó 
.
óó 
DeleteByContent
óó -
(
óó- .
contentGuid
óó. 9
)
óó9 :
;
óó: ;
}
òò 	
public
öö 
bool
öö 
DeleteByParent
öö "
(
öö" #
Guid
öö# '

parentGuid
öö( 2
)
öö2 3
{
õõ 	
return
úú 

DBComments
úú 
.
úú 
DeleteByParent
úú ,
(
úú, -

parentGuid
úú- 7
)
úú7 8
;
úú8 9
}
ùù 	
public
üü 
bool
üü 
DeleteBySite
üü  
(
üü  !
Guid
üü! %
siteGuid
üü& .
)
üü. /
{
†† 	
return
°° 

DBComments
°° 
.
°° 
DeleteBySite
°° *
(
°°* +
siteGuid
°°+ 3
)
°°3 4
;
°°4 5
}
¢¢ 	
public
§§ 
bool
§§ 
DeleteByFeature
§§ #
(
§§# $
Guid
§§$ (
featureGuid
§§) 4
)
§§4 5
{
•• 	
return
¶¶ 

DBComments
¶¶ 
.
¶¶ 
DeleteBySite
¶¶ *
(
¶¶* +
featureGuid
¶¶+ 6
)
¶¶6 7
;
¶¶7 8
}
ßß 	
public
©© 
bool
©© 
DeleteByModule
©© "
(
©©" #
Guid
©©# '

moduleGuid
©©( 2
)
©©2 3
{
™™ 	
return
´´ 

DBComments
´´ 
.
´´ 
DeleteByModule
´´ ,
(
´´, -

moduleGuid
´´- 7
)
´´7 8
;
´´8 9
}
¨¨ 	
public
≤≤ 
int
≤≤ 
GetCount
≤≤ 
(
≤≤ 
Guid
≤≤  
contentGuid
≤≤! ,
,
≤≤, -
int
≤≤. 1
moderationStatus
≤≤2 B
)
≤≤B C
{
≥≥ 	
return
¥¥ 

DBComments
¥¥ 
.
¥¥ 
GetCount
¥¥ &
(
¥¥& '
contentGuid
¥¥' 2
,
¥¥2 3
moderationStatus
¥¥4 D
)
¥¥D E
;
¥¥E F
}
µµ 	
public
∑∑ 
int
∑∑ 
GetCountByModule
∑∑ #
(
∑∑# $
Guid
∑∑$ (

moduleGuid
∑∑) 3
,
∑∑3 4
int
∑∑5 8
moderationStatus
∑∑9 I
)
∑∑I J
{
∏∏ 	
return
ππ 

DBComments
ππ 
.
ππ 
GetCountByModule
ππ .
(
ππ. /

moduleGuid
ππ/ 9
,
ππ9 :
moderationStatus
ππ; K
)
ππK L
;
ππL M
}
∫∫ 	
public
ºº 
int
ºº 
GetCountBySite
ºº !
(
ºº! "
Guid
ºº" &
siteGuid
ºº' /
)
ºº/ 0
{
ΩΩ 	
return
ææ 

DBComments
ææ 
.
ææ 
GetCountBySite
ææ ,
(
ææ, -
siteGuid
ææ- 5
)
ææ5 6
;
ææ6 7
}
øø 	
public
¡¡ 
List
¡¡ 
<
¡¡ 
Comment
¡¡ 
>
¡¡ 
GetByContentAsc
¡¡ ,
(
¡¡, -
Guid
¡¡- 1
contentGuid
¡¡2 =
)
¡¡= >
{
¬¬ 	
IDataReader
√√ 
reader
√√ 
=
√√  

DBComments
√√! +
.
√√+ ,
GetByContentAsc
√√, ;
(
√√; <
contentGuid
√√< G
)
√√G H
;
√√H I
return
ƒƒ  
LoadListFromReader
ƒƒ %
(
ƒƒ% &
reader
ƒƒ& ,
)
ƒƒ, -
;
ƒƒ- .
}
≈≈ 	
public
«« 
List
«« 
<
«« 
Comment
«« 
>
«« 
GetByContentDesc
«« -
(
««- .
Guid
««. 2
contentGuid
««3 >
)
««> ?
{
»» 	
IDataReader
…… 
reader
…… 
=
……  

DBComments
……! +
.
……+ ,
GetByContentDesc
……, <
(
……< =
contentGuid
……= H
)
……H I
;
……I J
return
    
LoadListFromReader
   %
(
  % &
reader
  & ,
)
  , -
;
  - .
}
ÀÀ 	
public
ÕÕ 
List
ÕÕ 
<
ÕÕ 
Comment
ÕÕ 
>
ÕÕ 
GetByParentAsc
ÕÕ +
(
ÕÕ+ ,
Guid
ÕÕ, 0

parentGuid
ÕÕ1 ;
)
ÕÕ; <
{
ŒŒ 	
IDataReader
œœ 
reader
œœ 
=
œœ  

DBComments
œœ! +
.
œœ+ ,
GetByParentAsc
œœ, :
(
œœ: ;

parentGuid
œœ; E
)
œœE F
;
œœF G
return
––  
LoadListFromReader
–– %
(
––% &
reader
––& ,
)
––, -
;
––- .
}
—— 	
public
”” 
List
”” 
<
”” 
Comment
”” 
>
”” 
GetByParentDesc
”” ,
(
””, -
Guid
””- 1

parentGuid
””2 <
)
””< =
{
‘‘ 	
IDataReader
’’ 
reader
’’ 
=
’’  

DBComments
’’! +
.
’’+ ,
GetByParentDesc
’’, ;
(
’’; <

parentGuid
’’< F
)
’’F G
;
’’G H
return
÷÷  
LoadListFromReader
÷÷ %
(
÷÷% &
reader
÷÷& ,
)
÷÷, -
;
÷÷- .
}
◊◊ 	
private
ËË 
List
ËË 
<
ËË 
Comment
ËË 
>
ËË  
LoadListFromReader
ËË 0
(
ËË0 1
IDataReader
ËË1 <
reader
ËË= C
)
ËËC D
{
ÈÈ 	
List
ÍÍ 
<
ÍÍ 
Comment
ÍÍ 
>
ÍÍ 
commentList
ÍÍ %
=
ÍÍ& '
new
ÍÍ( +
List
ÍÍ, 0
<
ÍÍ0 1
Comment
ÍÍ1 8
>
ÍÍ8 9
(
ÍÍ9 :
)
ÍÍ: ;
;
ÍÍ; <
try
ÏÏ 
{
ÌÌ 
while
ÓÓ 
(
ÓÓ 
reader
ÓÓ 
.
ÓÓ 
Read
ÓÓ "
(
ÓÓ" #
)
ÓÓ# $
)
ÓÓ$ %
{
ÔÔ 
Comment
 
comment
 #
=
$ %
new
& )
Comment
* 1
(
1 2
)
2 3
;
3 4
comment
ÒÒ 
.
ÒÒ 
Guid
ÒÒ  
=
ÒÒ! "
new
ÒÒ# &
Guid
ÒÒ' +
(
ÒÒ+ ,
reader
ÒÒ, 2
[
ÒÒ2 3
$str
ÒÒ3 9
]
ÒÒ9 :
.
ÒÒ: ;
ToString
ÒÒ; C
(
ÒÒC D
)
ÒÒD E
)
ÒÒE F
;
ÒÒF G
comment
ÚÚ 
.
ÚÚ 

ParentGuid
ÚÚ &
=
ÚÚ' (
new
ÚÚ) ,
Guid
ÚÚ- 1
(
ÚÚ1 2
reader
ÚÚ2 8
[
ÚÚ8 9
$str
ÚÚ9 E
]
ÚÚE F
.
ÚÚF G
ToString
ÚÚG O
(
ÚÚO P
)
ÚÚP Q
)
ÚÚQ R
;
ÚÚR S
comment
ÛÛ 
.
ÛÛ 
SiteGuid
ÛÛ $
=
ÛÛ% &
new
ÛÛ' *
Guid
ÛÛ+ /
(
ÛÛ/ 0
reader
ÛÛ0 6
[
ÛÛ6 7
$str
ÛÛ7 A
]
ÛÛA B
.
ÛÛB C
ToString
ÛÛC K
(
ÛÛK L
)
ÛÛL M
)
ÛÛM N
;
ÛÛN O
comment
ÙÙ 
.
ÙÙ 
FeatureGuid
ÙÙ '
=
ÙÙ( )
new
ÙÙ* -
Guid
ÙÙ. 2
(
ÙÙ2 3
reader
ÙÙ3 9
[
ÙÙ9 :
$str
ÙÙ: G
]
ÙÙG H
.
ÙÙH I
ToString
ÙÙI Q
(
ÙÙQ R
)
ÙÙR S
)
ÙÙS T
;
ÙÙT U
comment
ıı 
.
ıı 

ModuleGuid
ıı &
=
ıı' (
new
ıı) ,
Guid
ıı- 1
(
ıı1 2
reader
ıı2 8
[
ıı8 9
$str
ıı9 E
]
ııE F
.
ııF G
ToString
ııG O
(
ııO P
)
ııP Q
)
ııQ R
;
ııR S
comment
ˆˆ 
.
ˆˆ 
ContentGuid
ˆˆ '
=
ˆˆ( )
new
ˆˆ* -
Guid
ˆˆ. 2
(
ˆˆ2 3
reader
ˆˆ3 9
[
ˆˆ9 :
$str
ˆˆ: G
]
ˆˆG H
.
ˆˆH I
ToString
ˆˆI Q
(
ˆˆQ R
)
ˆˆR S
)
ˆˆS T
;
ˆˆT U
comment
˜˜ 
.
˜˜ 
UserGuid
˜˜ $
=
˜˜% &
new
˜˜' *
Guid
˜˜+ /
(
˜˜/ 0
reader
˜˜0 6
[
˜˜6 7
$str
˜˜7 A
]
˜˜A B
.
˜˜B C
ToString
˜˜C K
(
˜˜K L
)
˜˜L M
)
˜˜M N
;
˜˜N O
comment
¯¯ 
.
¯¯ 
Title
¯¯ !
=
¯¯" #
reader
¯¯$ *
[
¯¯* +
$str
¯¯+ 2
]
¯¯2 3
.
¯¯3 4
ToString
¯¯4 <
(
¯¯< =
)
¯¯= >
;
¯¯> ?
comment
˘˘ 
.
˘˘ 
UserComment
˘˘ '
=
˘˘( )
reader
˘˘* 0
[
˘˘0 1
$str
˘˘1 >
]
˘˘> ?
.
˘˘? @
ToString
˘˘@ H
(
˘˘H I
)
˘˘I J
;
˘˘J K
comment
˙˙ 
.
˙˙ 
UserName
˙˙ $
=
˙˙% &
reader
˙˙' -
[
˙˙- .
$str
˙˙. 8
]
˙˙8 9
.
˙˙9 :
ToString
˙˙: B
(
˙˙B C
)
˙˙C D
;
˙˙D E
comment
˚˚ 
.
˚˚ 
	UserEmail
˚˚ %
=
˚˚& '
reader
˚˚( .
[
˚˚. /
$str
˚˚/ :
]
˚˚: ;
.
˚˚; <
ToString
˚˚< D
(
˚˚D E
)
˚˚E F
;
˚˚F G
comment
¸¸ 
.
¸¸ 
UserUrl
¸¸ #
=
¸¸$ %
reader
¸¸& ,
[
¸¸, -
$str
¸¸- 6
]
¸¸6 7
.
¸¸7 8
ToString
¸¸8 @
(
¸¸@ A
)
¸¸A B
;
¸¸B C
comment
˝˝ 
.
˝˝ 
UserIp
˝˝ "
=
˝˝# $
reader
˝˝% +
[
˝˝+ ,
$str
˝˝, 4
]
˝˝4 5
.
˝˝5 6
ToString
˝˝6 >
(
˝˝> ?
)
˝˝? @
;
˝˝@ A
comment
˛˛ 
.
˛˛ 

CreatedUtc
˛˛ &
=
˛˛' (
Convert
˛˛) 0
.
˛˛0 1

ToDateTime
˛˛1 ;
(
˛˛; <
reader
˛˛< B
[
˛˛B C
$str
˛˛C O
]
˛˛O P
)
˛˛P Q
;
˛˛Q R
comment
ˇˇ 
.
ˇˇ 

LastModUtc
ˇˇ &
=
ˇˇ' (
Convert
ˇˇ) 0
.
ˇˇ0 1

ToDateTime
ˇˇ1 ;
(
ˇˇ; <
reader
ˇˇ< B
[
ˇˇB C
$str
ˇˇC O
]
ˇˇO P
)
ˇˇP Q
;
ˇˇQ R
comment
ÄÄ 
.
ÄÄ 
ModerationStatus
ÄÄ ,
=
ÄÄ- .
Convert
ÄÄ/ 6
.
ÄÄ6 7
ToByte
ÄÄ7 =
(
ÄÄ= >
reader
ÄÄ> D
[
ÄÄD E
$str
ÄÄE W
]
ÄÄW X
)
ÄÄX Y
;
ÄÄY Z
comment
ÅÅ 
.
ÅÅ 
ModeratedBy
ÅÅ '
=
ÅÅ( )
new
ÅÅ* -
Guid
ÅÅ. 2
(
ÅÅ2 3
reader
ÅÅ3 9
[
ÅÅ9 :
$str
ÅÅ: G
]
ÅÅG H
.
ÅÅH I
ToString
ÅÅI Q
(
ÅÅQ R
)
ÅÅR S
)
ÅÅS T
;
ÅÅT U
comment
ÇÇ 
.
ÇÇ 
ModerationReason
ÇÇ ,
=
ÇÇ- .
reader
ÇÇ/ 5
[
ÇÇ5 6
$str
ÇÇ6 H
]
ÇÇH I
.
ÇÇI J
ToString
ÇÇJ R
(
ÇÇR S
)
ÇÇS T
;
ÇÇT U
comment
ÖÖ 
.
ÖÖ 
UserId
ÖÖ "
=
ÖÖ# $
Convert
ÖÖ% ,
.
ÖÖ, -
ToInt32
ÖÖ- 4
(
ÖÖ4 5
reader
ÖÖ5 ;
[
ÖÖ; <
$str
ÖÖ< D
]
ÖÖD E
)
ÖÖE F
;
ÖÖF G
comment
ÜÜ 
.
ÜÜ 

PostAuthor
ÜÜ &
=
ÜÜ' (
reader
ÜÜ) /
[
ÜÜ/ 0
$str
ÜÜ0 <
]
ÜÜ< =
.
ÜÜ= >
ToString
ÜÜ> F
(
ÜÜF G
)
ÜÜG H
;
ÜÜH I
if
àà 
(
àà 
comment
àà 
.
àà  

PostAuthor
àà  *
.
àà* +
Length
àà+ 1
==
àà2 4
$num
àà5 6
)
àà6 7
{
ââ 
comment
ää 
.
ää  

PostAuthor
ää  *
=
ää+ ,
comment
ää- 4
.
ää4 5
UserName
ää5 =
;
ää= >
}
ãã 
comment
çç 
.
çç 
AuthorEmail
çç '
=
çç( )
reader
çç* 0
[
çç0 1
$str
çç1 >
]
çç> ?
.
çç? @
ToString
çç@ H
(
ççH I
)
ççI J
;
ççJ K
if
èè 
(
èè 
comment
èè 
.
èè  
AuthorEmail
èè  +
.
èè+ ,
Length
èè, 2
==
èè3 5
$num
èè6 7
)
èè7 8
{
êê 
comment
ëë 
.
ëë  
AuthorEmail
ëë  +
=
ëë, -
comment
ëë. 5
.
ëë5 6
	UserEmail
ëë6 ?
;
ëë? @
}
íí 
comment
îî 
.
îî 
UserRevenue
îî '
=
îî( )
Convert
îî* 1
.
îî1 2
	ToDecimal
îî2 ;
(
îî; <
reader
îî< B
[
îîB C
$str
îîC P
]
îîP Q
)
îîQ R
;
îîR S
comment
ïï 
.
ïï 
Trusted
ïï #
=
ïï$ %
Convert
ïï& -
.
ïï- .
	ToBoolean
ïï. 7
(
ïï7 8
reader
ïï8 >
[
ïï> ?
$str
ïï? H
]
ïïH I
)
ïïI J
;
ïïJ K
comment
ññ 
.
ññ 
PostAuthorAvatar
ññ ,
=
ññ- .
reader
ññ/ 5
[
ññ5 6
$str
ññ6 H
]
ññH I
.
ññI J
ToString
ññJ R
(
ññR S
)
ññS T
;
ññT U
comment
óó 
.
óó "
PostAuthorWebSiteUrl
óó 0
=
óó1 2
reader
óó3 9
[
óó9 :
$str
óó: P
]
óóP Q
.
óóQ R
ToString
óóR Z
(
óóZ [
)
óó[ \
;
óó\ ]
if
òò 
(
òò 
comment
òò 
.
òò  "
PostAuthorWebSiteUrl
òò  4
.
òò4 5
Length
òò5 ;
==
òò< >
$num
òò? @
)
òò@ A
{
ôô 
comment
öö 
.
öö  "
PostAuthorWebSiteUrl
öö  4
=
öö5 6
comment
öö7 >
.
öö> ?
UserUrl
öö? F
;
ööF G
}
õõ 
commentList
ùù 
.
ùù  
Add
ùù  #
(
ùù# $
comment
ùù$ +
)
ùù+ ,
;
ùù, -
}
üü 
}
†† 
finally
°° 
{
¢¢ 
reader
££ 
.
££ 
Close
££ 
(
££ 
)
££ 
;
££ 
}
§§ 
return
¶¶ 
commentList
¶¶ 
;
¶¶ 
}
®® 	
}
´´ 
}≠≠ “ü
zD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\CommerceCore\AuthorizeNetLog.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
AuthorizeNetLog  
{ 
public 
AuthorizeNetLog 
( 
)  
{ 	
}
 
public   
AuthorizeNetLog   
(   
Guid!! 
rowGuid!! 
)!! 
{"" 	
GetAuthorizeNetLog## 
(## 
rowGuid$$ 
)$$ 
;$$ 
}%% 	
private++ 
Guid++ 
rowGuid++ 
=++ 
Guid++ #
.++# $
Empty++$ )
;++) *
private,, 
DateTime,, 

createdUtc,, #
=,,$ %
DateTime,,& .
.,,. /
UtcNow,,/ 5
;,,5 6
private-- 
Guid-- 
siteGuid-- 
=-- 
Guid--  $
.--$ %
Empty--% *
;--* +
private.. 
Guid.. 
userGuid.. 
=.. 
Guid..  $
...$ %
Empty..% *
;..* +
private// 
Guid// 
	storeGuid// 
=//  
Guid//! %
.//% &
Empty//& +
;//+ ,
private00 
Guid00 
cartGuid00 
=00 
Guid00  $
.00$ %
Empty00% *
;00* +
private11 
string11 
rawResponse11 "
=11# $
string11% +
.11+ ,
Empty11, 1
;111 2
private22 
string22 
responseCode22 #
=22$ %
string22& ,
.22, -
Empty22- 2
;222 3
private33 
string33 
responseReasonCode33 )
=33* +
string33, 2
.332 3
Empty333 8
;338 9
private44 
string44 
reason44 
=44 
string44  &
.44& '
Empty44' ,
;44, -
private55 
string55 
avsCode55 
=55  
string55! '
.55' (
Empty55( -
;55- .
private66 
string66 
ccvCode66 
=66  
string66! '
.66' (
Empty66( -
;66- .
private77 
string77 
cavCode77 
=77  
string77! '
.77' (
Empty77( -
;77- .
private88 
string88 
transactionId88 $
=88% &
string88' -
.88- .
Empty88. 3
;883 4
private99 
string99 
transactionType99 &
=99' (
string99) /
.99/ 0
Empty990 5
;995 6
private:: 
string:: 
method:: 
=:: 
string::  &
.::& '
Empty::' ,
;::, -
private;; 
string;; 
authCode;; 
=;;  !
string;;" (
.;;( )
Empty;;) .
;;;. /
private<< 
decimal<< 
amount<< 
=<<  
$num<<! "
;<<" #
private== 
decimal== 
tax== 
=== 
$num== 
;==  
private>> 
decimal>> 
duty>> 
=>> 
$num>>  
;>>  !
private?? 
decimal?? 
freight?? 
=??  !
$num??" #
;??# $
publicEE 
GuidEE 
RowGuidEE 
{FF 	
getGG 
{GG 
returnGG 
rowGuidGG  
;GG  !
}GG" #
setHH 
{HH 
rowGuidHH 
=HH 
valueHH !
;HH! "
}HH# $
}II 	
publicJJ 
DateTimeJJ 

CreatedUtcJJ "
{KK 	
getLL 
{LL 
returnLL 

createdUtcLL #
;LL# $
}LL% &
setMM 
{MM 

createdUtcMM 
=MM 
valueMM $
;MM$ %
}MM& '
}NN 	
publicOO 
GuidOO 
SiteGuidOO 
{PP 	
getQQ 
{QQ 
returnQQ 
siteGuidQQ !
;QQ! "
}QQ# $
setRR 
{RR 
siteGuidRR 
=RR 
valueRR "
;RR" #
}RR$ %
}SS 	
publicTT 
GuidTT 
UserGuidTT 
{UU 	
getVV 
{VV 
returnVV 
userGuidVV !
;VV! "
}VV# $
setWW 
{WW 
userGuidWW 
=WW 
valueWW "
;WW" #
}WW$ %
}XX 	
publicYY 
GuidYY 
	StoreGuidYY 
{ZZ 	
get[[ 
{[[ 
return[[ 
	storeGuid[[ "
;[[" #
}[[$ %
set\\ 
{\\ 
	storeGuid\\ 
=\\ 
value\\ #
;\\# $
}\\% &
}]] 	
public^^ 
Guid^^ 
CartGuid^^ 
{__ 	
get`` 
{`` 
return`` 
cartGuid`` !
;``! "
}``# $
setaa 
{aa 
cartGuidaa 
=aa 
valueaa "
;aa" #
}aa$ %
}bb 	
publiccc 
stringcc 
RawResponsecc !
{dd 	
getee 
{ee 
returnee 
rawResponseee $
;ee$ %
}ee& '
setff 
{ff 
rawResponseff 
=ff 
valueff  %
;ff% &
}ff' (
}gg 	
publichh 
stringhh 
ResponseCodehh "
{ii 	
getjj 
{jj 
returnjj 
responseCodejj %
;jj% &
}jj' (
setkk 
{kk 
responseCodekk 
=kk  
valuekk! &
;kk& '
}kk( )
}ll 	
publicmm 
stringmm 
ResponseReasonCodemm (
{nn 	
getoo 
{oo 
returnoo 
responseReasonCodeoo +
;oo+ ,
}oo- .
setpp 
{pp 
responseReasonCodepp $
=pp% &
valuepp' ,
;pp, -
}pp. /
}qq 	
publicrr 
stringrr 
Reasonrr 
{ss 	
gettt 
{tt 
returntt 
reasontt 
;tt  
}tt! "
setuu 
{uu 
reasonuu 
=uu 
valueuu  
;uu  !
}uu" #
}vv 	
publicww 
stringww 
AvsCodeww 
{xx 	
getyy 
{yy 
returnyy 
avsCodeyy  
;yy  !
}yy" #
setzz 
{zz 
avsCodezz 
=zz 
valuezz !
;zz! "
}zz# $
}{{ 	
public|| 
string|| 
CcvCode|| 
{}} 	
get~~ 
{~~ 
return~~ 
ccvCode~~  
;~~  !
}~~" #
set 
{ 
ccvCode 
= 
value !
;! "
}# $
}
ÄÄ 	
public
ÅÅ 
string
ÅÅ 
CavCode
ÅÅ 
{
ÇÇ 	
get
ÉÉ 
{
ÉÉ 
return
ÉÉ 
cavCode
ÉÉ  
;
ÉÉ  !
}
ÉÉ" #
set
ÑÑ 
{
ÑÑ 
cavCode
ÑÑ 
=
ÑÑ 
value
ÑÑ !
;
ÑÑ! "
}
ÑÑ# $
}
ÖÖ 	
public
ÜÜ 
string
ÜÜ 
TransactionId
ÜÜ #
{
áá 	
get
àà 
{
àà 
return
àà 
transactionId
àà &
;
àà& '
}
àà( )
set
ââ 
{
ââ 
transactionId
ââ 
=
ââ  !
value
ââ" '
;
ââ' (
}
ââ) *
}
ää 	
public
ãã 
string
ãã 
TransactionType
ãã %
{
åå 	
get
çç 
{
çç 
return
çç 
transactionType
çç (
;
çç( )
}
çç* +
set
éé 
{
éé 
transactionType
éé !
=
éé" #
value
éé$ )
;
éé) *
}
éé+ ,
}
èè 	
public
êê 
string
êê 
Method
êê 
{
ëë 	
get
íí 
{
íí 
return
íí 
method
íí 
;
íí  
}
íí! "
set
ìì 
{
ìì 
method
ìì 
=
ìì 
value
ìì  
;
ìì  !
}
ìì" #
}
îî 	
public
ïï 
string
ïï 
AuthCode
ïï 
{
ññ 	
get
óó 
{
óó 
return
óó 
authCode
óó !
;
óó! "
}
óó# $
set
òò 
{
òò 
authCode
òò 
=
òò 
value
òò "
;
òò" #
}
òò$ %
}
ôô 	
public
öö 
decimal
öö 
Amount
öö 
{
õõ 	
get
úú 
{
úú 
return
úú 
amount
úú 
;
úú  
}
úú! "
set
ùù 
{
ùù 
amount
ùù 
=
ùù 
value
ùù  
;
ùù  !
}
ùù" #
}
ûû 	
public
üü 
decimal
üü 
Tax
üü 
{
†† 	
get
°° 
{
°° 
return
°° 
tax
°° 
;
°° 
}
°° 
set
¢¢ 
{
¢¢ 
tax
¢¢ 
=
¢¢ 
value
¢¢ 
;
¢¢ 
}
¢¢  
}
££ 	
public
§§ 
decimal
§§ 
Duty
§§ 
{
•• 	
get
¶¶ 
{
¶¶ 
return
¶¶ 
duty
¶¶ 
;
¶¶ 
}
¶¶  
set
ßß 
{
ßß 
duty
ßß 
=
ßß 
value
ßß 
;
ßß 
}
ßß  !
}
®® 	
public
©© 
decimal
©© 
Freight
©© 
{
™™ 	
get
´´ 
{
´´ 
return
´´ 
freight
´´  
;
´´  !
}
´´" #
set
¨¨ 
{
¨¨ 
freight
¨¨ 
=
¨¨ 
value
¨¨ !
;
¨¨! "
}
¨¨# $
}
≠≠ 	
private
∑∑ 
void
∑∑  
GetAuthorizeNetLog
∑∑ '
(
∑∑' (
Guid
∑∑( ,
rowGuid
∑∑- 4
)
∑∑4 5
{
∏∏ 	
using
ππ 
(
ππ 
IDataReader
ππ 
reader
ππ %
=
ππ& '
DBAuthorizeNetLog
ππ( 9
.
ππ9 :
GetOne
ππ: @
(
ππ@ A
rowGuid
ππA H
)
ππH I
)
ππI J
{
∫∫  
PopulateFromReader
ªª "
(
ªª" #
reader
ªª# )
)
ªª) *
;
ªª* +
}
ºº 
}
ææ 	
private
¡¡ 
void
¡¡  
PopulateFromReader
¡¡ '
(
¡¡' (
IDataReader
¡¡( 3
reader
¡¡4 :
)
¡¡: ;
{
¬¬ 	
if
√√ 
(
√√ 
reader
√√ 
.
√√ 
Read
√√ 
(
√√ 
)
√√ 
)
√√ 
{
ƒƒ 
this
≈≈ 
.
≈≈ 
rowGuid
≈≈ 
=
≈≈ 
new
≈≈ "
Guid
≈≈# '
(
≈≈' (
reader
≈≈( .
[
≈≈. /
$str
≈≈/ 8
]
≈≈8 9
.
≈≈9 :
ToString
≈≈: B
(
≈≈B C
)
≈≈C D
)
≈≈D E
;
≈≈E F
this
∆∆ 
.
∆∆ 

createdUtc
∆∆ 
=
∆∆  !
Convert
∆∆" )
.
∆∆) *

ToDateTime
∆∆* 4
(
∆∆4 5
reader
∆∆5 ;
[
∆∆; <
$str
∆∆< H
]
∆∆H I
)
∆∆I J
;
∆∆J K
this
«« 
.
«« 
siteGuid
«« 
=
«« 
new
««  #
Guid
««$ (
(
««( )
reader
««) /
[
««/ 0
$str
««0 :
]
««: ;
.
««; <
ToString
««< D
(
««D E
)
««E F
)
««F G
;
««G H
this
»» 
.
»» 
userGuid
»» 
=
»» 
new
»»  #
Guid
»»$ (
(
»»( )
reader
»») /
[
»»/ 0
$str
»»0 :
]
»»: ;
.
»»; <
ToString
»»< D
(
»»D E
)
»»E F
)
»»F G
;
»»G H
this
…… 
.
…… 
	storeGuid
…… 
=
……  
new
……! $
Guid
……% )
(
……) *
reader
……* 0
[
……0 1
$str
……1 <
]
……< =
.
……= >
ToString
……> F
(
……F G
)
……G H
)
……H I
;
……I J
this
   
.
   
cartGuid
   
=
   
new
    #
Guid
  $ (
(
  ( )
reader
  ) /
[
  / 0
$str
  0 :
]
  : ;
.
  ; <
ToString
  < D
(
  D E
)
  E F
)
  F G
;
  G H
this
ÀÀ 
.
ÀÀ 
rawResponse
ÀÀ  
=
ÀÀ! "
reader
ÀÀ# )
[
ÀÀ) *
$str
ÀÀ* 7
]
ÀÀ7 8
.
ÀÀ8 9
ToString
ÀÀ9 A
(
ÀÀA B
)
ÀÀB C
;
ÀÀC D
this
ÃÃ 
.
ÃÃ 
responseCode
ÃÃ !
=
ÃÃ" #
reader
ÃÃ$ *
[
ÃÃ* +
$str
ÃÃ+ 9
]
ÃÃ9 :
.
ÃÃ: ;
ToString
ÃÃ; C
(
ÃÃC D
)
ÃÃD E
;
ÃÃE F
this
ÕÕ 
.
ÕÕ  
responseReasonCode
ÕÕ '
=
ÕÕ( )
reader
ÕÕ* 0
[
ÕÕ0 1
$str
ÕÕ1 E
]
ÕÕE F
.
ÕÕF G
ToString
ÕÕG O
(
ÕÕO P
)
ÕÕP Q
;
ÕÕQ R
this
ŒŒ 
.
ŒŒ 
reason
ŒŒ 
=
ŒŒ 
reader
ŒŒ $
[
ŒŒ$ %
$str
ŒŒ% -
]
ŒŒ- .
.
ŒŒ. /
ToString
ŒŒ/ 7
(
ŒŒ7 8
)
ŒŒ8 9
;
ŒŒ9 :
this
œœ 
.
œœ 
avsCode
œœ 
=
œœ 
reader
œœ %
[
œœ% &
$str
œœ& /
]
œœ/ 0
.
œœ0 1
ToString
œœ1 9
(
œœ9 :
)
œœ: ;
;
œœ; <
this
–– 
.
–– 
ccvCode
–– 
=
–– 
reader
–– %
[
––% &
$str
––& /
]
––/ 0
.
––0 1
ToString
––1 9
(
––9 :
)
––: ;
;
––; <
this
—— 
.
—— 
cavCode
—— 
=
—— 
reader
—— %
[
——% &
$str
——& /
]
——/ 0
.
——0 1
ToString
——1 9
(
——9 :
)
——: ;
;
——; <
this
““ 
.
““ 
transactionId
““ "
=
““# $
reader
““% +
[
““+ ,
$str
““, ;
]
““; <
.
““< =
ToString
““= E
(
““E F
)
““F G
;
““G H
this
”” 
.
”” 
transactionType
”” $
=
””% &
reader
””' -
[
””- .
$str
””. ?
]
””? @
.
””@ A
ToString
””A I
(
””I J
)
””J K
;
””K L
this
‘‘ 
.
‘‘ 
method
‘‘ 
=
‘‘ 
reader
‘‘ $
[
‘‘$ %
$str
‘‘% -
]
‘‘- .
.
‘‘. /
ToString
‘‘/ 7
(
‘‘7 8
)
‘‘8 9
;
‘‘9 :
this
’’ 
.
’’ 
authCode
’’ 
=
’’ 
reader
’’  &
[
’’& '
$str
’’' 1
]
’’1 2
.
’’2 3
ToString
’’3 ;
(
’’; <
)
’’< =
;
’’= >
this
÷÷ 
.
÷÷ 
amount
÷÷ 
=
÷÷ 
Convert
÷÷ %
.
÷÷% &
	ToDecimal
÷÷& /
(
÷÷/ 0
reader
÷÷0 6
[
÷÷6 7
$str
÷÷7 ?
]
÷÷? @
)
÷÷@ A
;
÷÷A B
this
◊◊ 
.
◊◊ 
tax
◊◊ 
=
◊◊ 
Convert
◊◊ "
.
◊◊" #
	ToDecimal
◊◊# ,
(
◊◊, -
reader
◊◊- 3
[
◊◊3 4
$str
◊◊4 9
]
◊◊9 :
)
◊◊: ;
;
◊◊; <
this
ÿÿ 
.
ÿÿ 
duty
ÿÿ 
=
ÿÿ 
Convert
ÿÿ #
.
ÿÿ# $
	ToDecimal
ÿÿ$ -
(
ÿÿ- .
reader
ÿÿ. 4
[
ÿÿ4 5
$str
ÿÿ5 ;
]
ÿÿ; <
)
ÿÿ< =
;
ÿÿ= >
this
ŸŸ 
.
ŸŸ 
freight
ŸŸ 
=
ŸŸ 
Convert
ŸŸ &
.
ŸŸ& '
	ToDecimal
ŸŸ' 0
(
ŸŸ0 1
reader
ŸŸ1 7
[
ŸŸ7 8
$str
ŸŸ8 A
]
ŸŸA B
)
ŸŸB C
;
ŸŸC D
}
€€ 
}
›› 	
private
„„ 
bool
„„ 
Create
„„ 
(
„„ 
)
„„ 
{
‰‰ 	
this
ÂÂ 
.
ÂÂ 
rowGuid
ÂÂ 
=
ÂÂ 
Guid
ÂÂ 
.
ÂÂ  
NewGuid
ÂÂ  '
(
ÂÂ' (
)
ÂÂ( )
;
ÂÂ) *
int
ÁÁ 
rowsAffected
ÁÁ 
=
ÁÁ 
DBAuthorizeNetLog
ÁÁ 0
.
ÁÁ0 1
Create
ÁÁ1 7
(
ÁÁ7 8
this
ËË 
.
ËË 
rowGuid
ËË 
,
ËË 
this
ÈÈ 
.
ÈÈ 

createdUtc
ÈÈ 
,
ÈÈ  
this
ÍÍ 
.
ÍÍ 
siteGuid
ÍÍ 
,
ÍÍ 
this
ÎÎ 
.
ÎÎ 
userGuid
ÎÎ 
,
ÎÎ 
this
ÏÏ 
.
ÏÏ 
	storeGuid
ÏÏ 
,
ÏÏ 
this
ÌÌ 
.
ÌÌ 
cartGuid
ÌÌ 
,
ÌÌ 
this
ÓÓ 
.
ÓÓ 
rawResponse
ÓÓ  
,
ÓÓ  !
this
ÔÔ 
.
ÔÔ 
responseCode
ÔÔ !
,
ÔÔ! "
this
 
.
  
responseReasonCode
 '
,
' (
this
ÒÒ 
.
ÒÒ 
reason
ÒÒ 
,
ÒÒ 
this
ÚÚ 
.
ÚÚ 
avsCode
ÚÚ 
,
ÚÚ 
this
ÛÛ 
.
ÛÛ 
ccvCode
ÛÛ 
,
ÛÛ 
this
ÙÙ 
.
ÙÙ 
cavCode
ÙÙ 
,
ÙÙ 
this
ıı 
.
ıı 
transactionId
ıı "
,
ıı" #
this
ˆˆ 
.
ˆˆ 
transactionType
ˆˆ $
,
ˆˆ$ %
this
˜˜ 
.
˜˜ 
method
˜˜ 
,
˜˜ 
this
¯¯ 
.
¯¯ 
authCode
¯¯ 
,
¯¯ 
this
˘˘ 
.
˘˘ 
amount
˘˘ 
,
˘˘ 
this
˙˙ 
.
˙˙ 
tax
˙˙ 
,
˙˙ 
this
˚˚ 
.
˚˚ 
duty
˚˚ 
,
˚˚ 
this
¸¸ 
.
¸¸ 
freight
¸¸ 
)
¸¸ 
;
¸¸ 
return
˛˛ 
(
˛˛ 
rowsAffected
˛˛  
>
˛˛! "
$num
˛˛# $
)
˛˛$ %
;
˛˛% &
}
ÄÄ 	
private
áá 
bool
áá 
Update
áá 
(
áá 
)
áá 
{
àà 	
return
ää 
DBAuthorizeNetLog
ää $
.
ää$ %
Update
ää% +
(
ää+ ,
this
ãã 
.
ãã 
rowGuid
ãã 
,
ãã 
this
åå 
.
åå 
siteGuid
åå 
,
åå 
this
çç 
.
çç 
userGuid
çç 
,
çç 
this
éé 
.
éé 
	storeGuid
éé 
,
éé 
this
èè 
.
èè 
cartGuid
èè 
,
èè 
this
êê 
.
êê 
rawResponse
êê  
,
êê  !
this
ëë 
.
ëë 
responseCode
ëë !
,
ëë! "
this
íí 
.
íí  
responseReasonCode
íí '
,
íí' (
this
ìì 
.
ìì 
reason
ìì 
,
ìì 
this
îî 
.
îî 
avsCode
îî 
,
îî 
this
ïï 
.
ïï 
ccvCode
ïï 
,
ïï 
this
ññ 
.
ññ 
cavCode
ññ 
,
ññ 
this
óó 
.
óó 
transactionId
óó "
,
óó" #
this
òò 
.
òò 
transactionType
òò $
,
òò$ %
this
ôô 
.
ôô 
method
ôô 
,
ôô 
this
öö 
.
öö 
authCode
öö 
,
öö 
this
õõ 
.
õõ 
amount
õõ 
,
õõ 
this
úú 
.
úú 
tax
úú 
,
úú 
this
ùù 
.
ùù 
duty
ùù 
,
ùù 
this
ûû 
.
ûû 
freight
ûû 
)
ûû 
;
ûû 
}
†† 	
public
ÆÆ 
bool
ÆÆ 
Save
ÆÆ 
(
ÆÆ 
)
ÆÆ 
{
ØØ 	
if
∞∞ 
(
∞∞ 
this
∞∞ 
.
∞∞ 
rowGuid
∞∞ 
!=
∞∞ 
Guid
∞∞  $
.
∞∞$ %
Empty
∞∞% *
)
∞∞* +
{
±± 
return
≤≤ 
Update
≤≤ 
(
≤≤ 
)
≤≤ 
;
≤≤  
}
≥≥ 
else
¥¥ 
{
µµ 
return
∂∂ 
Create
∂∂ 
(
∂∂ 
)
∂∂ 
;
∂∂  
}
∑∑ 
}
∏∏ 	
public
∆∆ 
static
∆∆ 
bool
∆∆ 
Delete
∆∆ !
(
∆∆! "
Guid
∆∆" &
rowGuid
∆∆' .
)
∆∆. /
{
«« 	
return
»» 
DBAuthorizeNetLog
»» $
.
»»$ %
Delete
»»% +
(
»»+ ,
rowGuid
»», 3
)
»»3 4
;
»»4 5
}
…… 	
private
‘‘ 
static
‘‘ 
List
‘‘ 
<
‘‘ 
AuthorizeNetLog
‘‘ +
>
‘‘+ , 
LoadListFromReader
‘‘- ?
(
‘‘? @
IDataReader
‘‘@ K
reader
‘‘L R
)
‘‘R S
{
’’ 	
List
÷÷ 
<
÷÷ 
AuthorizeNetLog
÷÷  
>
÷÷  !!
authorizeNetLogList
÷÷" 5
=
÷÷6 7
new
÷÷8 ;
List
÷÷< @
<
÷÷@ A
AuthorizeNetLog
÷÷A P
>
÷÷P Q
(
÷÷Q R
)
÷÷R S
;
÷÷S T
try
◊◊ 
{
ÿÿ 
while
ŸŸ 
(
ŸŸ 
reader
ŸŸ 
.
ŸŸ 
Read
ŸŸ "
(
ŸŸ" #
)
ŸŸ# $
)
ŸŸ$ %
{
⁄⁄ 
AuthorizeNetLog
€€ #
authorizeNetLog
€€$ 3
=
€€4 5
new
€€6 9
AuthorizeNetLog
€€: I
(
€€I J
)
€€J K
;
€€K L
authorizeNetLog
‹‹ #
.
‹‹# $
rowGuid
‹‹$ +
=
‹‹, -
new
‹‹. 1
Guid
‹‹2 6
(
‹‹6 7
reader
‹‹7 =
[
‹‹= >
$str
‹‹> G
]
‹‹G H
.
‹‹H I
ToString
‹‹I Q
(
‹‹Q R
)
‹‹R S
)
‹‹S T
;
‹‹T U
authorizeNetLog
›› #
.
››# $

createdUtc
››$ .
=
››/ 0
Convert
››1 8
.
››8 9

ToDateTime
››9 C
(
››C D
reader
››D J
[
››J K
$str
››K W
]
››W X
)
››X Y
;
››Y Z
authorizeNetLog
ﬁﬁ #
.
ﬁﬁ# $
siteGuid
ﬁﬁ$ ,
=
ﬁﬁ- .
new
ﬁﬁ/ 2
Guid
ﬁﬁ3 7
(
ﬁﬁ7 8
reader
ﬁﬁ8 >
[
ﬁﬁ> ?
$str
ﬁﬁ? I
]
ﬁﬁI J
.
ﬁﬁJ K
ToString
ﬁﬁK S
(
ﬁﬁS T
)
ﬁﬁT U
)
ﬁﬁU V
;
ﬁﬁV W
authorizeNetLog
ﬂﬂ #
.
ﬂﬂ# $
userGuid
ﬂﬂ$ ,
=
ﬂﬂ- .
new
ﬂﬂ/ 2
Guid
ﬂﬂ3 7
(
ﬂﬂ7 8
reader
ﬂﬂ8 >
[
ﬂﬂ> ?
$str
ﬂﬂ? I
]
ﬂﬂI J
.
ﬂﬂJ K
ToString
ﬂﬂK S
(
ﬂﬂS T
)
ﬂﬂT U
)
ﬂﬂU V
;
ﬂﬂV W
authorizeNetLog
‡‡ #
.
‡‡# $
	storeGuid
‡‡$ -
=
‡‡. /
new
‡‡0 3
Guid
‡‡4 8
(
‡‡8 9
reader
‡‡9 ?
[
‡‡? @
$str
‡‡@ K
]
‡‡K L
.
‡‡L M
ToString
‡‡M U
(
‡‡U V
)
‡‡V W
)
‡‡W X
;
‡‡X Y
authorizeNetLog
·· #
.
··# $
cartGuid
··$ ,
=
··- .
new
··/ 2
Guid
··3 7
(
··7 8
reader
··8 >
[
··> ?
$str
··? I
]
··I J
.
··J K
ToString
··K S
(
··S T
)
··T U
)
··U V
;
··V W
authorizeNetLog
‚‚ #
.
‚‚# $
rawResponse
‚‚$ /
=
‚‚0 1
reader
‚‚2 8
[
‚‚8 9
$str
‚‚9 F
]
‚‚F G
.
‚‚G H
ToString
‚‚H P
(
‚‚P Q
)
‚‚Q R
;
‚‚R S
authorizeNetLog
„„ #
.
„„# $
responseCode
„„$ 0
=
„„1 2
reader
„„3 9
[
„„9 :
$str
„„: H
]
„„H I
.
„„I J
ToString
„„J R
(
„„R S
)
„„S T
;
„„T U
authorizeNetLog
‰‰ #
.
‰‰# $ 
responseReasonCode
‰‰$ 6
=
‰‰7 8
reader
‰‰9 ?
[
‰‰? @
$str
‰‰@ T
]
‰‰T U
.
‰‰U V
ToString
‰‰V ^
(
‰‰^ _
)
‰‰_ `
;
‰‰` a
authorizeNetLog
ÂÂ #
.
ÂÂ# $
reason
ÂÂ$ *
=
ÂÂ+ ,
reader
ÂÂ- 3
[
ÂÂ3 4
$str
ÂÂ4 <
]
ÂÂ< =
.
ÂÂ= >
ToString
ÂÂ> F
(
ÂÂF G
)
ÂÂG H
;
ÂÂH I
authorizeNetLog
ÊÊ #
.
ÊÊ# $
avsCode
ÊÊ$ +
=
ÊÊ, -
reader
ÊÊ. 4
[
ÊÊ4 5
$str
ÊÊ5 >
]
ÊÊ> ?
.
ÊÊ? @
ToString
ÊÊ@ H
(
ÊÊH I
)
ÊÊI J
;
ÊÊJ K
authorizeNetLog
ÁÁ #
.
ÁÁ# $
ccvCode
ÁÁ$ +
=
ÁÁ, -
reader
ÁÁ. 4
[
ÁÁ4 5
$str
ÁÁ5 >
]
ÁÁ> ?
.
ÁÁ? @
ToString
ÁÁ@ H
(
ÁÁH I
)
ÁÁI J
;
ÁÁJ K
authorizeNetLog
ËË #
.
ËË# $
cavCode
ËË$ +
=
ËË, -
reader
ËË. 4
[
ËË4 5
$str
ËË5 >
]
ËË> ?
.
ËË? @
ToString
ËË@ H
(
ËËH I
)
ËËI J
;
ËËJ K
authorizeNetLog
ÈÈ #
.
ÈÈ# $
transactionId
ÈÈ$ 1
=
ÈÈ2 3
reader
ÈÈ4 :
[
ÈÈ: ;
$str
ÈÈ; J
]
ÈÈJ K
.
ÈÈK L
ToString
ÈÈL T
(
ÈÈT U
)
ÈÈU V
;
ÈÈV W
authorizeNetLog
ÍÍ #
.
ÍÍ# $
transactionType
ÍÍ$ 3
=
ÍÍ4 5
reader
ÍÍ6 <
[
ÍÍ< =
$str
ÍÍ= N
]
ÍÍN O
.
ÍÍO P
ToString
ÍÍP X
(
ÍÍX Y
)
ÍÍY Z
;
ÍÍZ [
authorizeNetLog
ÎÎ #
.
ÎÎ# $
method
ÎÎ$ *
=
ÎÎ+ ,
reader
ÎÎ- 3
[
ÎÎ3 4
$str
ÎÎ4 <
]
ÎÎ< =
.
ÎÎ= >
ToString
ÎÎ> F
(
ÎÎF G
)
ÎÎG H
;
ÎÎH I
authorizeNetLog
ÏÏ #
.
ÏÏ# $
authCode
ÏÏ$ ,
=
ÏÏ- .
reader
ÏÏ/ 5
[
ÏÏ5 6
$str
ÏÏ6 @
]
ÏÏ@ A
.
ÏÏA B
ToString
ÏÏB J
(
ÏÏJ K
)
ÏÏK L
;
ÏÏL M
authorizeNetLog
ÌÌ #
.
ÌÌ# $
amount
ÌÌ$ *
=
ÌÌ+ ,
Convert
ÌÌ- 4
.
ÌÌ4 5
	ToDecimal
ÌÌ5 >
(
ÌÌ> ?
reader
ÌÌ? E
[
ÌÌE F
$str
ÌÌF N
]
ÌÌN O
)
ÌÌO P
;
ÌÌP Q
authorizeNetLog
ÓÓ #
.
ÓÓ# $
tax
ÓÓ$ '
=
ÓÓ( )
Convert
ÓÓ* 1
.
ÓÓ1 2
	ToDecimal
ÓÓ2 ;
(
ÓÓ; <
reader
ÓÓ< B
[
ÓÓB C
$str
ÓÓC H
]
ÓÓH I
)
ÓÓI J
;
ÓÓJ K
authorizeNetLog
ÔÔ #
.
ÔÔ# $
duty
ÔÔ$ (
=
ÔÔ) *
Convert
ÔÔ+ 2
.
ÔÔ2 3
	ToDecimal
ÔÔ3 <
(
ÔÔ< =
reader
ÔÔ= C
[
ÔÔC D
$str
ÔÔD J
]
ÔÔJ K
)
ÔÔK L
;
ÔÔL M
authorizeNetLog
 #
.
# $
freight
$ +
=
, -
Convert
. 5
.
5 6
	ToDecimal
6 ?
(
? @
reader
@ F
[
F G
$str
G P
]
P Q
)
Q R
;
R S!
authorizeNetLogList
ÒÒ '
.
ÒÒ' (
Add
ÒÒ( +
(
ÒÒ+ ,
authorizeNetLog
ÒÒ, ;
)
ÒÒ; <
;
ÒÒ< =
}
ÛÛ 
}
ÙÙ 
finally
ıı 
{
ˆˆ 
reader
˜˜ 
.
˜˜ 
Close
˜˜ 
(
˜˜ 
)
˜˜ 
;
˜˜ 
}
¯¯ 
return
˙˙ !
authorizeNetLogList
˙˙ &
;
˙˙& '
}
¸¸ 	
public
ãã 
static
ãã 
IDataReader
ãã !
	GetByCart
ãã" +
(
ãã+ ,
Guid
ãã, 0
cartGuid
ãã1 9
)
ãã9 :
{
åå 	
return
çç 
DBAuthorizeNetLog
çç $
.
çç$ %
	GetByCart
çç% .
(
çç. /
cartGuid
çç/ 7
)
çç7 8
;
çç8 9
}
éé 	
public
¶¶ 
static
¶¶ 
int
¶¶ !
CompareByCreatedUtc
¶¶ -
(
¶¶- .
AuthorizeNetLog
¶¶. =
authorizeNetLog1
¶¶> N
,
¶¶N O
AuthorizeNetLog
¶¶P _
authorizeNetLog2
¶¶` p
)
¶¶p q
{
ßß 	
return
®® 
authorizeNetLog1
®® #
.
®®# $

CreatedUtc
®®$ .
.
®®. /
	CompareTo
®®/ 8
(
®®8 9
authorizeNetLog2
®®9 I
.
®®I J

CreatedUtc
®®J T
)
®®T U
;
®®U V
}
©© 	
public
≠≠ 
static
≠≠ 
int
≠≠ "
CompareByRawResponse
≠≠ .
(
≠≠. /
AuthorizeNetLog
≠≠/ >
authorizeNetLog1
≠≠? O
,
≠≠O P
AuthorizeNetLog
≠≠Q `
authorizeNetLog2
≠≠a q
)
≠≠q r
{
ÆÆ 	
return
ØØ 
authorizeNetLog1
ØØ #
.
ØØ# $
RawResponse
ØØ$ /
.
ØØ/ 0
	CompareTo
ØØ0 9
(
ØØ9 :
authorizeNetLog2
ØØ: J
.
ØØJ K
RawResponse
ØØK V
)
ØØV W
;
ØØW X
}
∞∞ 	
public
¥¥ 
static
¥¥ 
int
¥¥ #
CompareByResponseCode
¥¥ /
(
¥¥/ 0
AuthorizeNetLog
¥¥0 ?
authorizeNetLog1
¥¥@ P
,
¥¥P Q
AuthorizeNetLog
¥¥R a
authorizeNetLog2
¥¥b r
)
¥¥r s
{
µµ 	
return
∂∂ 
authorizeNetLog1
∂∂ #
.
∂∂# $
ResponseCode
∂∂$ 0
.
∂∂0 1
	CompareTo
∂∂1 :
(
∂∂: ;
authorizeNetLog2
∂∂; K
.
∂∂K L
ResponseCode
∂∂L X
)
∂∂X Y
;
∂∂Y Z
}
∑∑ 	
public
ªª 
static
ªª 
int
ªª )
CompareByResponseReasonCode
ªª 5
(
ªª5 6
AuthorizeNetLog
ªª6 E
authorizeNetLog1
ªªF V
,
ªªV W
AuthorizeNetLog
ªªX g
authorizeNetLog2
ªªh x
)
ªªx y
{
ºº 	
return
ΩΩ 
authorizeNetLog1
ΩΩ #
.
ΩΩ# $ 
ResponseReasonCode
ΩΩ$ 6
.
ΩΩ6 7
	CompareTo
ΩΩ7 @
(
ΩΩ@ A
authorizeNetLog2
ΩΩA Q
.
ΩΩQ R 
ResponseReasonCode
ΩΩR d
)
ΩΩd e
;
ΩΩe f
}
ææ 	
public
¬¬ 
static
¬¬ 
int
¬¬ 
CompareByReason
¬¬ )
(
¬¬) *
AuthorizeNetLog
¬¬* 9
authorizeNetLog1
¬¬: J
,
¬¬J K
AuthorizeNetLog
¬¬L [
authorizeNetLog2
¬¬\ l
)
¬¬l m
{
√√ 	
return
ƒƒ 
authorizeNetLog1
ƒƒ #
.
ƒƒ# $
Reason
ƒƒ$ *
.
ƒƒ* +
	CompareTo
ƒƒ+ 4
(
ƒƒ4 5
authorizeNetLog2
ƒƒ5 E
.
ƒƒE F
Reason
ƒƒF L
)
ƒƒL M
;
ƒƒM N
}
≈≈ 	
public
…… 
static
…… 
int
…… 
CompareByAvsCode
…… *
(
……* +
AuthorizeNetLog
……+ :
authorizeNetLog1
……; K
,
……K L
AuthorizeNetLog
……M \
authorizeNetLog2
……] m
)
……m n
{
   	
return
ÀÀ 
authorizeNetLog1
ÀÀ #
.
ÀÀ# $
AvsCode
ÀÀ$ +
.
ÀÀ+ ,
	CompareTo
ÀÀ, 5
(
ÀÀ5 6
authorizeNetLog2
ÀÀ6 F
.
ÀÀF G
AvsCode
ÀÀG N
)
ÀÀN O
;
ÀÀO P
}
ÃÃ 	
public
–– 
static
–– 
int
–– 
CompareByCcvCode
–– *
(
––* +
AuthorizeNetLog
––+ :
authorizeNetLog1
––; K
,
––K L
AuthorizeNetLog
––M \
authorizeNetLog2
––] m
)
––m n
{
—— 	
return
““ 
authorizeNetLog1
““ #
.
““# $
CcvCode
““$ +
.
““+ ,
	CompareTo
““, 5
(
““5 6
authorizeNetLog2
““6 F
.
““F G
CcvCode
““G N
)
““N O
;
““O P
}
”” 	
public
◊◊ 
static
◊◊ 
int
◊◊ 
CompareByCavCode
◊◊ *
(
◊◊* +
AuthorizeNetLog
◊◊+ :
authorizeNetLog1
◊◊; K
,
◊◊K L
AuthorizeNetLog
◊◊M \
authorizeNetLog2
◊◊] m
)
◊◊m n
{
ÿÿ 	
return
ŸŸ 
authorizeNetLog1
ŸŸ #
.
ŸŸ# $
CavCode
ŸŸ$ +
.
ŸŸ+ ,
	CompareTo
ŸŸ, 5
(
ŸŸ5 6
authorizeNetLog2
ŸŸ6 F
.
ŸŸF G
CavCode
ŸŸG N
)
ŸŸN O
;
ŸŸO P
}
⁄⁄ 	
public
ﬁﬁ 
static
ﬁﬁ 
int
ﬁﬁ $
CompareByTransactionId
ﬁﬁ 0
(
ﬁﬁ0 1
AuthorizeNetLog
ﬁﬁ1 @
authorizeNetLog1
ﬁﬁA Q
,
ﬁﬁQ R
AuthorizeNetLog
ﬁﬁS b
authorizeNetLog2
ﬁﬁc s
)
ﬁﬁs t
{
ﬂﬂ 	
return
‡‡ 
authorizeNetLog1
‡‡ #
.
‡‡# $
TransactionId
‡‡$ 1
.
‡‡1 2
	CompareTo
‡‡2 ;
(
‡‡; <
authorizeNetLog2
‡‡< L
.
‡‡L M
TransactionId
‡‡M Z
)
‡‡Z [
;
‡‡[ \
}
·· 	
public
ÂÂ 
static
ÂÂ 
int
ÂÂ &
CompareByTransactionType
ÂÂ 2
(
ÂÂ2 3
AuthorizeNetLog
ÂÂ3 B
authorizeNetLog1
ÂÂC S
,
ÂÂS T
AuthorizeNetLog
ÂÂU d
authorizeNetLog2
ÂÂe u
)
ÂÂu v
{
ÊÊ 	
return
ÁÁ 
authorizeNetLog1
ÁÁ #
.
ÁÁ# $
TransactionType
ÁÁ$ 3
.
ÁÁ3 4
	CompareTo
ÁÁ4 =
(
ÁÁ= >
authorizeNetLog2
ÁÁ> N
.
ÁÁN O
TransactionType
ÁÁO ^
)
ÁÁ^ _
;
ÁÁ_ `
}
ËË 	
public
ÏÏ 
static
ÏÏ 
int
ÏÏ 
CompareByMethod
ÏÏ )
(
ÏÏ) *
AuthorizeNetLog
ÏÏ* 9
authorizeNetLog1
ÏÏ: J
,
ÏÏJ K
AuthorizeNetLog
ÏÏL [
authorizeNetLog2
ÏÏ\ l
)
ÏÏl m
{
ÌÌ 	
return
ÓÓ 
authorizeNetLog1
ÓÓ #
.
ÓÓ# $
Method
ÓÓ$ *
.
ÓÓ* +
	CompareTo
ÓÓ+ 4
(
ÓÓ4 5
authorizeNetLog2
ÓÓ5 E
.
ÓÓE F
Method
ÓÓF L
)
ÓÓL M
;
ÓÓM N
}
ÔÔ 	
public
ÛÛ 
static
ÛÛ 
int
ÛÛ 
CompareByAuthCode
ÛÛ +
(
ÛÛ+ ,
AuthorizeNetLog
ÛÛ, ;
authorizeNetLog1
ÛÛ< L
,
ÛÛL M
AuthorizeNetLog
ÛÛN ]
authorizeNetLog2
ÛÛ^ n
)
ÛÛn o
{
ÙÙ 	
return
ıı 
authorizeNetLog1
ıı #
.
ıı# $
AuthCode
ıı$ ,
.
ıı, -
	CompareTo
ıı- 6
(
ıı6 7
authorizeNetLog2
ıı7 G
.
ııG H
AuthCode
ııH P
)
ııP Q
;
ııQ R
}
ˆˆ 	
}
˚˚ 
}˝˝ µ
zD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\CommerceCore\FulfillmentType.cs
	namespace 	

mojoPortal
 
. 
Business 
. 
Commerce &
{ 
public 

enum 
FulfillmentType 
{ 
None 
= 
$num 
, 
Download 
= 
$num 
, 
PhysicalShipment		 
=		 
$num		 
}

 
} ˇµ
|D:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\CommerceCore\GoogleCheckoutLog.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
GoogleCheckoutLog "
{ 
public 
GoogleCheckoutLog  
(  !
)! "
{ 	
}
 
public   
GoogleCheckoutLog    
(    !
Guid  ! %
rowGuid  & -
)  - .
{!! 	 
GetGoogleCheckoutLog""  
(""  !
rowGuid""! (
)""( )
;"") *
}## 	
public%% 
GoogleCheckoutLog%%  
(%%  !
string%%! '
googleOrderId%%( 5
)%%5 6
{&& 	 
GetGoogleCheckoutLog''  
(''  !
googleOrderId''! .
)''. /
;''/ 0
}(( 	
private.. 
Guid.. 
rowGuid.. 
=.. 
Guid.. #
...# $
Empty..$ )
;..) *
private// 
DateTime// 

createdUtc// #
=//$ %
DateTime//& .
.//. /
UtcNow/// 5
;//5 6
private00 
Guid00 
siteGuid00 
=00 
Guid00  $
.00$ %
Empty00% *
;00* +
private11 
Guid11 
userGuid11 
=11 
Guid11  $
.11$ %
Empty11% *
;11* +
private22 
Guid22 
	storeGuid22 
=22  
Guid22! %
.22% &
Empty22& +
;22+ ,
private33 
Guid33 
cartGuid33 
=33 
Guid33  $
.33$ %
Empty33% *
;33* +
private44 
string44 
notificationType44 '
=44( )
string44* 0
.440 1
Empty441 6
;446 7
private55 
string55 
rawResponse55 "
=55# $
string55% +
.55+ ,
Empty55, 1
;551 2
private66 
string66 
serialNumber66 #
=66$ %
string66& ,
.66, -
Empty66- 2
;662 3
private77 
DateTime77 

gTimestamp77 #
=77$ %
DateTime77& .
.77. /
UtcNow77/ 5
;775 6
private88 
string88 
orderNumber88 "
=88# $
string88% +
.88+ ,
Empty88, 1
;881 2
private99 
string99 
buyerId99 
=99  
string99! '
.99' (
Empty99( -
;99- .
private:: 
string:: 
fullfillState:: $
=::% &
string::' -
.::- .
Empty::. 3
;::3 4
private;; 
string;; 
financeState;; #
=;;$ %
string;;& ,
.;;, -
Empty;;- 2
;;;2 3
private<< 
bool<< 
emailListOptIn<< #
=<<$ %
false<<& +
;<<+ ,
private== 
string== 
avsResponse== "
===# $
string==% +
.==+ ,
Empty==, 1
;==1 2
private>> 
string>> 
cvnResponse>> "
=>># $
string>>% +
.>>+ ,
Empty>>, 1
;>>1 2
private?? 
DateTime?? 
authExpDate?? $
=??% &
DateTime??' /
.??/ 0
UtcNow??0 6
;??6 7
private@@ 
decimal@@ 
authAmt@@ 
=@@  !
$num@@" #
;@@# $
privateAA 
decimalAA 
discountTotalAA %
=AA& '
$numAA( )
;AA) *
privateBB 
decimalBB 
shippingTotalBB %
=BB& '
$numBB( )
;BB) *
privateCC 
decimalCC 
taxTotalCC  
=CC! "
$numCC# $
;CC$ %
privateDD 
decimalDD 

orderTotalDD "
=DD# $
$numDD% &
;DD& '
privateEE 
decimalEE 
latestChgAmtEE $
=EE% &
$numEE' (
;EE( )
privateFF 
decimalFF 
totalChgAmtFF #
=FF$ %
$numFF& '
;FF' (
privateGG 
decimalGG 
latestRefundAmtGG '
=GG( )
$numGG* +
;GG+ ,
privateHH 
decimalHH 
totalRefundAmtHH &
=HH' (
$numHH) *
;HH* +
privateII 
decimalII 
latestChargebackII (
=II) *
$numII+ ,
;II, -
privateJJ 
decimalJJ 
totalChargebackJJ '
=JJ( )
$numJJ* +
;JJ+ ,
privateKK 
stringKK 
cartXmlKK 
=KK  
stringKK! '
.KK' (
EmptyKK( -
;KK- .
privateLL 
stringLL 
providerNameLL #
=LL$ %
stringLL& ,
.LL, -
EmptyLL- 2
;LL2 3
publicTT 
GuidTT 
RowGuidTT 
{UU 	
getVV 
{VV 
returnVV 
rowGuidVV  
;VV  !
}VV" #
setWW 
{WW 
rowGuidWW 
=WW 
valueWW !
;WW! "
}WW# $
}XX 	
publicYY 
DateTimeYY 

CreatedUtcYY "
{ZZ 	
get[[ 
{[[ 
return[[ 

createdUtc[[ #
;[[# $
}[[% &
set\\ 
{\\ 

createdUtc\\ 
=\\ 
value\\ $
;\\$ %
}\\& '
}]] 	
public^^ 
Guid^^ 
SiteGuid^^ 
{__ 	
get`` 
{`` 
return`` 
siteGuid`` !
;``! "
}``# $
setaa 
{aa 
siteGuidaa 
=aa 
valueaa "
;aa" #
}aa$ %
}bb 	
publiccc 
Guidcc 
UserGuidcc 
{dd 	
getee 
{ee 
returnee 
userGuidee !
;ee! "
}ee# $
setff 
{ff 
userGuidff 
=ff 
valueff "
;ff" #
}ff$ %
}gg 	
publichh 
Guidhh 
	StoreGuidhh 
{ii 	
getjj 
{jj 
returnjj 
	storeGuidjj "
;jj" #
}jj$ %
setkk 
{kk 
	storeGuidkk 
=kk 
valuekk #
;kk# $
}kk% &
}ll 	
publicmm 
Guidmm 
CartGuidmm 
{nn 	
getoo 
{oo 
returnoo 
cartGuidoo !
;oo! "
}oo# $
setpp 
{pp 
cartGuidpp 
=pp 
valuepp "
;pp" #
}pp$ %
}qq 	
publicrr 
stringrr 
NotificationTyperr &
{ss 	
gettt 
{tt 
returntt 
notificationTypett )
;tt) *
}tt+ ,
setuu 
{uu 
notificationTypeuu "
=uu# $
valueuu% *
;uu* +
}uu, -
}vv 	
publicww 
stringww 
RawResponseww !
{xx 	
getyy 
{yy 
returnyy 
rawResponseyy $
;yy$ %
}yy& '
setzz 
{zz 
rawResponsezz 
=zz 
valuezz  %
;zz% &
}zz' (
}{{ 	
public|| 
string|| 
SerialNumber|| "
{}} 	
get~~ 
{~~ 
return~~ 
serialNumber~~ %
;~~% &
}~~' (
set 
{ 
serialNumber 
=  
value! &
;& '
}( )
}
ÄÄ 	
public
ÅÅ 
DateTime
ÅÅ 

GTimestamp
ÅÅ "
{
ÇÇ 	
get
ÉÉ 
{
ÉÉ 
return
ÉÉ 

gTimestamp
ÉÉ #
;
ÉÉ# $
}
ÉÉ% &
set
ÑÑ 
{
ÑÑ 

gTimestamp
ÑÑ 
=
ÑÑ 
value
ÑÑ $
;
ÑÑ$ %
}
ÑÑ& '
}
ÖÖ 	
public
ÜÜ 
string
ÜÜ 
OrderNumber
ÜÜ !
{
áá 	
get
àà 
{
àà 
return
àà 
orderNumber
àà $
;
àà$ %
}
àà& '
set
ââ 
{
ââ 
orderNumber
ââ 
=
ââ 
value
ââ  %
;
ââ% &
}
ââ' (
}
ää 	
public
ãã 
string
ãã 
BuyerId
ãã 
{
åå 	
get
çç 
{
çç 
return
çç 
buyerId
çç  
;
çç  !
}
çç" #
set
éé 
{
éé 
buyerId
éé 
=
éé 
value
éé !
;
éé! "
}
éé# $
}
èè 	
public
êê 
string
êê 
FullfillState
êê #
{
ëë 	
get
íí 
{
íí 
return
íí 
fullfillState
íí &
;
íí& '
}
íí( )
set
ìì 
{
ìì 
fullfillState
ìì 
=
ìì  !
value
ìì" '
;
ìì' (
}
ìì) *
}
îî 	
public
ïï 
string
ïï 
FinanceState
ïï "
{
ññ 	
get
óó 
{
óó 
return
óó 
financeState
óó %
;
óó% &
}
óó' (
set
òò 
{
òò 
financeState
òò 
=
òò  
value
òò! &
;
òò& '
}
òò( )
}
ôô 	
public
öö 
bool
öö 
EmailListOptIn
öö "
{
õõ 	
get
úú 
{
úú 
return
úú 
emailListOptIn
úú '
;
úú' (
}
úú) *
set
ùù 
{
ùù 
emailListOptIn
ùù  
=
ùù! "
value
ùù# (
;
ùù( )
}
ùù* +
}
ûû 	
public
üü 
string
üü 
AvsResponse
üü !
{
†† 	
get
°° 
{
°° 
return
°° 
avsResponse
°° $
;
°°$ %
}
°°& '
set
¢¢ 
{
¢¢ 
avsResponse
¢¢ 
=
¢¢ 
value
¢¢  %
;
¢¢% &
}
¢¢' (
}
££ 	
public
§§ 
string
§§ 
CvnResponse
§§ !
{
•• 	
get
¶¶ 
{
¶¶ 
return
¶¶ 
cvnResponse
¶¶ $
;
¶¶$ %
}
¶¶& '
set
ßß 
{
ßß 
cvnResponse
ßß 
=
ßß 
value
ßß  %
;
ßß% &
}
ßß' (
}
®® 	
public
©© 
DateTime
©© 
AuthExpDate
©© #
{
™™ 	
get
´´ 
{
´´ 
return
´´ 
authExpDate
´´ $
;
´´$ %
}
´´& '
set
¨¨ 
{
¨¨ 
authExpDate
¨¨ 
=
¨¨ 
value
¨¨  %
;
¨¨% &
}
¨¨' (
}
≠≠ 	
public
ÆÆ 
decimal
ÆÆ 
AuthAmt
ÆÆ 
{
ØØ 	
get
∞∞ 
{
∞∞ 
return
∞∞ 
authAmt
∞∞  
;
∞∞  !
}
∞∞" #
set
±± 
{
±± 
authAmt
±± 
=
±± 
value
±± !
;
±±! "
}
±±# $
}
≤≤ 	
public
≥≥ 
decimal
≥≥ 
DiscountTotal
≥≥ $
{
¥¥ 	
get
µµ 
{
µµ 
return
µµ 
discountTotal
µµ &
;
µµ& '
}
µµ( )
set
∂∂ 
{
∂∂ 
discountTotal
∂∂ 
=
∂∂  !
value
∂∂" '
;
∂∂' (
}
∂∂) *
}
∑∑ 	
public
∏∏ 
decimal
∏∏ 
ShippingTotal
∏∏ $
{
ππ 	
get
∫∫ 
{
∫∫ 
return
∫∫ 
shippingTotal
∫∫ &
;
∫∫& '
}
∫∫( )
set
ªª 
{
ªª 
shippingTotal
ªª 
=
ªª  !
value
ªª" '
;
ªª' (
}
ªª) *
}
ºº 	
public
ΩΩ 
decimal
ΩΩ 
TaxTotal
ΩΩ 
{
ææ 	
get
øø 
{
øø 
return
øø 
taxTotal
øø !
;
øø! "
}
øø# $
set
¿¿ 
{
¿¿ 
taxTotal
¿¿ 
=
¿¿ 
value
¿¿ "
;
¿¿" #
}
¿¿$ %
}
¡¡ 	
public
¬¬ 
decimal
¬¬ 

OrderTotal
¬¬ !
{
√√ 	
get
ƒƒ 
{
ƒƒ 
return
ƒƒ 

orderTotal
ƒƒ #
;
ƒƒ# $
}
ƒƒ% &
set
≈≈ 
{
≈≈ 

orderTotal
≈≈ 
=
≈≈ 
value
≈≈ $
;
≈≈$ %
}
≈≈& '
}
∆∆ 	
public
«« 
decimal
«« 
LatestChgAmt
«« #
{
»» 	
get
…… 
{
…… 
return
…… 
latestChgAmt
…… %
;
……% &
}
……' (
set
   
{
   
latestChgAmt
   
=
    
value
  ! &
;
  & '
}
  ( )
}
ÀÀ 	
public
ÃÃ 
decimal
ÃÃ 
TotalChgAmt
ÃÃ "
{
ÕÕ 	
get
ŒŒ 
{
ŒŒ 
return
ŒŒ 
totalChgAmt
ŒŒ $
;
ŒŒ$ %
}
ŒŒ& '
set
œœ 
{
œœ 
totalChgAmt
œœ 
=
œœ 
value
œœ  %
;
œœ% &
}
œœ' (
}
–– 	
public
—— 
decimal
—— 
LatestRefundAmt
—— &
{
““ 	
get
”” 
{
”” 
return
”” 
latestRefundAmt
”” (
;
””( )
}
””* +
set
‘‘ 
{
‘‘ 
latestRefundAmt
‘‘ !
=
‘‘" #
value
‘‘$ )
;
‘‘) *
}
‘‘+ ,
}
’’ 	
public
÷÷ 
decimal
÷÷ 
TotalRefundAmt
÷÷ %
{
◊◊ 	
get
ÿÿ 
{
ÿÿ 
return
ÿÿ 
totalRefundAmt
ÿÿ '
;
ÿÿ' (
}
ÿÿ) *
set
ŸŸ 
{
ŸŸ 
totalRefundAmt
ŸŸ  
=
ŸŸ! "
value
ŸŸ# (
;
ŸŸ( )
}
ŸŸ* +
}
⁄⁄ 	
public
€€ 
decimal
€€ 
LatestChargeback
€€ '
{
‹‹ 	
get
›› 
{
›› 
return
›› 
latestChargeback
›› )
;
››) *
}
››+ ,
set
ﬁﬁ 
{
ﬁﬁ 
latestChargeback
ﬁﬁ "
=
ﬁﬁ# $
value
ﬁﬁ% *
;
ﬁﬁ* +
}
ﬁﬁ, -
}
ﬂﬂ 	
public
‡‡ 
decimal
‡‡ 
TotalChargeback
‡‡ &
{
·· 	
get
‚‚ 
{
‚‚ 
return
‚‚ 
totalChargeback
‚‚ (
;
‚‚( )
}
‚‚* +
set
„„ 
{
„„ 
totalChargeback
„„ !
=
„„" #
value
„„$ )
;
„„) *
}
„„+ ,
}
‰‰ 	
public
ÊÊ 
string
ÊÊ 
CartXml
ÊÊ 
{
ÁÁ 	
get
ËË 
{
ËË 
return
ËË 
cartXml
ËË  
;
ËË  !
}
ËË" #
set
ÈÈ 
{
ÈÈ 
cartXml
ÈÈ 
=
ÈÈ 
value
ÈÈ !
;
ÈÈ! "
}
ÈÈ# $
}
ÍÍ 	
public
ÏÏ 
string
ÏÏ 
ProviderName
ÏÏ "
{
ÌÌ 	
get
ÓÓ 
{
ÓÓ 
return
ÓÓ 
providerName
ÓÓ %
;
ÓÓ% &
}
ÓÓ' (
set
ÔÔ 
{
ÔÔ 
providerName
ÔÔ 
=
ÔÔ  
value
ÔÔ! &
;
ÔÔ& '
}
ÔÔ( )
}
 	
private
˙˙ 
void
˙˙ "
GetGoogleCheckoutLog
˙˙ )
(
˙˙) *
Guid
˙˙* .
rowGuid
˙˙/ 6
)
˙˙6 7
{
˚˚ 	
using
¸¸ 
(
¸¸ 
IDataReader
¸¸ 
reader
¸¸ %
=
¸¸& '!
DBGoogleCheckoutLog
¸¸( ;
.
¸¸; <
GetOne
¸¸< B
(
¸¸B C
rowGuid
¸¸C J
)
¸¸J K
)
¸¸K L
{
˝˝  
PopulateFromReader
˛˛ "
(
˛˛" #
reader
˛˛# )
)
˛˛) *
;
˛˛* +
}
ˇˇ 
}
ÅÅ 	
private
ÜÜ 
void
ÜÜ "
GetGoogleCheckoutLog
ÜÜ )
(
ÜÜ) *
string
ÜÜ* 0
googleOrderNumber
ÜÜ1 B
)
ÜÜB C
{
áá 	
using
àà 
(
àà 
IDataReader
àà 
reader
àà %
=
àà& '!
DBGoogleCheckoutLog
àà( ;
.
àà; <"
GetMostRecentByOrder
àà< P
(
ààP Q
googleOrderNumber
ààQ b
)
ààb c
)
ààc d
{
ââ  
PopulateFromReader
ää "
(
ää" #
reader
ää# )
)
ää) *
;
ää* +
}
ãã 
}
çç 	
private
êê 
void
êê  
PopulateFromReader
êê '
(
êê' (
IDataReader
êê( 3
reader
êê4 :
)
êê: ;
{
ëë 	
if
íí 
(
íí 
reader
íí 
.
íí 
Read
íí 
(
íí 
)
íí 
)
íí 
{
ìì 
this
îî 
.
îî 
rowGuid
îî 
=
îî 
new
îî "
Guid
îî# '
(
îî' (
reader
îî( .
[
îî. /
$str
îî/ 8
]
îî8 9
.
îî9 :
ToString
îî: B
(
îîB C
)
îîC D
)
îîD E
;
îîE F
this
ïï 
.
ïï 

createdUtc
ïï 
=
ïï  !
Convert
ïï" )
.
ïï) *

ToDateTime
ïï* 4
(
ïï4 5
reader
ïï5 ;
[
ïï; <
$str
ïï< H
]
ïïH I
)
ïïI J
;
ïïJ K
this
ññ 
.
ññ 
siteGuid
ññ 
=
ññ 
new
ññ  #
Guid
ññ$ (
(
ññ( )
reader
ññ) /
[
ññ/ 0
$str
ññ0 :
]
ññ: ;
.
ññ; <
ToString
ññ< D
(
ññD E
)
ññE F
)
ññF G
;
ññG H
this
óó 
.
óó 
userGuid
óó 
=
óó 
new
óó  #
Guid
óó$ (
(
óó( )
reader
óó) /
[
óó/ 0
$str
óó0 :
]
óó: ;
.
óó; <
ToString
óó< D
(
óóD E
)
óóE F
)
óóF G
;
óóG H
this
òò 
.
òò 
	storeGuid
òò 
=
òò  
new
òò! $
Guid
òò% )
(
òò) *
reader
òò* 0
[
òò0 1
$str
òò1 <
]
òò< =
.
òò= >
ToString
òò> F
(
òòF G
)
òòG H
)
òòH I
;
òòI J
this
ôô 
.
ôô 
cartGuid
ôô 
=
ôô 
new
ôô  #
Guid
ôô$ (
(
ôô( )
reader
ôô) /
[
ôô/ 0
$str
ôô0 :
]
ôô: ;
.
ôô; <
ToString
ôô< D
(
ôôD E
)
ôôE F
)
ôôF G
;
ôôG H
this
öö 
.
öö 
notificationType
öö %
=
öö& '
reader
öö( .
[
öö. /
$str
öö/ A
]
ööA B
.
ööB C
ToString
ööC K
(
ööK L
)
ööL M
;
ööM N
this
õõ 
.
õõ 
rawResponse
õõ  
=
õõ! "
reader
õõ# )
[
õõ) *
$str
õõ* 7
]
õõ7 8
.
õõ8 9
ToString
õõ9 A
(
õõA B
)
õõB C
;
õõC D
this
úú 
.
úú 
serialNumber
úú !
=
úú" #
reader
úú$ *
[
úú* +
$str
úú+ 9
]
úú9 :
.
úú: ;
ToString
úú; C
(
úúC D
)
úúD E
;
úúE F
this
ùù 
.
ùù 

gTimestamp
ùù 
=
ùù  !
Convert
ùù" )
.
ùù) *

ToDateTime
ùù* 4
(
ùù4 5
reader
ùù5 ;
[
ùù; <
$str
ùù< H
]
ùùH I
)
ùùI J
;
ùùJ K
this
ûû 
.
ûû 
orderNumber
ûû  
=
ûû! "
reader
ûû# )
[
ûû) *
$str
ûû* 7
]
ûû7 8
.
ûû8 9
ToString
ûû9 A
(
ûûA B
)
ûûB C
;
ûûC D
this
üü 
.
üü 
buyerId
üü 
=
üü 
reader
üü %
[
üü% &
$str
üü& /
]
üü/ 0
.
üü0 1
ToString
üü1 9
(
üü9 :
)
üü: ;
;
üü; <
this
†† 
.
†† 
fullfillState
†† "
=
††# $
reader
††% +
[
††+ ,
$str
††, ;
]
††; <
.
††< =
ToString
††= E
(
††E F
)
††F G
;
††G H
this
°° 
.
°° 
financeState
°° !
=
°°" #
reader
°°$ *
[
°°* +
$str
°°+ 9
]
°°9 :
.
°°: ;
ToString
°°; C
(
°°C D
)
°°D E
;
°°E F
this
¢¢ 
.
¢¢ 
emailListOptIn
¢¢ #
=
¢¢$ %
Convert
¢¢& -
.
¢¢- .
	ToBoolean
¢¢. 7
(
¢¢7 8
reader
¢¢8 >
[
¢¢> ?
$str
¢¢? O
]
¢¢O P
)
¢¢P Q
;
¢¢Q R
this
££ 
.
££ 
avsResponse
££  
=
££! "
reader
££# )
[
££) *
$str
££* 7
]
££7 8
.
££8 9
ToString
££9 A
(
££A B
)
££B C
;
££C D
this
§§ 
.
§§ 
cvnResponse
§§  
=
§§! "
reader
§§# )
[
§§) *
$str
§§* 7
]
§§7 8
.
§§8 9
ToString
§§9 A
(
§§A B
)
§§B C
;
§§C D
this
•• 
.
•• 
authExpDate
••  
=
••! "
Convert
••# *
.
••* +

ToDateTime
••+ 5
(
••5 6
reader
••6 <
[
••< =
$str
••= J
]
••J K
)
••K L
;
••L M
this
¶¶ 
.
¶¶ 
authAmt
¶¶ 
=
¶¶ 
Convert
¶¶ &
.
¶¶& '
	ToDecimal
¶¶' 0
(
¶¶0 1
reader
¶¶1 7
[
¶¶7 8
$str
¶¶8 A
]
¶¶A B
)
¶¶B C
;
¶¶C D
this
ßß 
.
ßß 
discountTotal
ßß "
=
ßß# $
Convert
ßß% ,
.
ßß, -
	ToDecimal
ßß- 6
(
ßß6 7
reader
ßß7 =
[
ßß= >
$str
ßß> M
]
ßßM N
)
ßßN O
;
ßßO P
this
®® 
.
®® 
shippingTotal
®® "
=
®®# $
Convert
®®% ,
.
®®, -
	ToDecimal
®®- 6
(
®®6 7
reader
®®7 =
[
®®= >
$str
®®> M
]
®®M N
)
®®N O
;
®®O P
this
©© 
.
©© 
taxTotal
©© 
=
©© 
Convert
©©  '
.
©©' (
	ToDecimal
©©( 1
(
©©1 2
reader
©©2 8
[
©©8 9
$str
©©9 C
]
©©C D
)
©©D E
;
©©E F
this
™™ 
.
™™ 

orderTotal
™™ 
=
™™  !
Convert
™™" )
.
™™) *
	ToDecimal
™™* 3
(
™™3 4
reader
™™4 :
[
™™: ;
$str
™™; G
]
™™G H
)
™™H I
;
™™I J
this
´´ 
.
´´ 
latestChgAmt
´´ !
=
´´" #
Convert
´´$ +
.
´´+ ,
	ToDecimal
´´, 5
(
´´5 6
reader
´´6 <
[
´´< =
$str
´´= K
]
´´K L
)
´´L M
;
´´M N
this
¨¨ 
.
¨¨ 
totalChgAmt
¨¨  
=
¨¨! "
Convert
¨¨# *
.
¨¨* +
	ToDecimal
¨¨+ 4
(
¨¨4 5
reader
¨¨5 ;
[
¨¨; <
$str
¨¨< I
]
¨¨I J
)
¨¨J K
;
¨¨K L
this
≠≠ 
.
≠≠ 
latestRefundAmt
≠≠ $
=
≠≠% &
Convert
≠≠' .
.
≠≠. /
	ToDecimal
≠≠/ 8
(
≠≠8 9
reader
≠≠9 ?
[
≠≠? @
$str
≠≠@ Q
]
≠≠Q R
)
≠≠R S
;
≠≠S T
this
ÆÆ 
.
ÆÆ 
totalRefundAmt
ÆÆ #
=
ÆÆ$ %
Convert
ÆÆ& -
.
ÆÆ- .
	ToDecimal
ÆÆ. 7
(
ÆÆ7 8
reader
ÆÆ8 >
[
ÆÆ> ?
$str
ÆÆ? O
]
ÆÆO P
)
ÆÆP Q
;
ÆÆQ R
this
ØØ 
.
ØØ 
latestChargeback
ØØ %
=
ØØ& '
Convert
ØØ( /
.
ØØ/ 0
	ToDecimal
ØØ0 9
(
ØØ9 :
reader
ØØ: @
[
ØØ@ A
$str
ØØA S
]
ØØS T
)
ØØT U
;
ØØU V
this
∞∞ 
.
∞∞ 
totalChargeback
∞∞ $
=
∞∞% &
Convert
∞∞' .
.
∞∞. /
	ToDecimal
∞∞/ 8
(
∞∞8 9
reader
∞∞9 ?
[
∞∞? @
$str
∞∞@ Q
]
∞∞Q R
)
∞∞R S
;
∞∞S T
this
±± 
.
±± 
cartXml
±± 
=
±± 
reader
±± %
[
±±% &
$str
±±& /
]
±±/ 0
.
±±0 1
ToString
±±1 9
(
±±9 :
)
±±: ;
;
±±; <
this
≤≤ 
.
≤≤ 
providerName
≤≤ !
=
≤≤" #
reader
≤≤$ *
[
≤≤* +
$str
≤≤+ 9
]
≤≤9 :
.
≤≤: ;
ToString
≤≤; C
(
≤≤C D
)
≤≤D E
;
≤≤E F
}
¥¥ 
}
∂∂ 	
private
ºº 
bool
ºº 
Create
ºº 
(
ºº 
)
ºº 
{
ΩΩ 	
this
ææ 
.
ææ 
rowGuid
ææ 
=
ææ 
Guid
ææ 
.
ææ  
NewGuid
ææ  '
(
ææ' (
)
ææ( )
;
ææ) *
int
¿¿ 
rowsAffected
¿¿ 
=
¿¿ !
DBGoogleCheckoutLog
¿¿ 2
.
¿¿2 3
Create
¿¿3 9
(
¿¿9 :
this
¡¡ 
.
¡¡ 
rowGuid
¡¡ 
,
¡¡ 
this
¬¬ 
.
¬¬ 

createdUtc
¬¬ 
,
¬¬  
this
√√ 
.
√√ 
siteGuid
√√ 
,
√√ 
this
ƒƒ 
.
ƒƒ 
userGuid
ƒƒ 
,
ƒƒ 
this
≈≈ 
.
≈≈ 
	storeGuid
≈≈ 
,
≈≈ 
this
∆∆ 
.
∆∆ 
cartGuid
∆∆ 
,
∆∆ 
this
«« 
.
«« 
notificationType
«« %
,
««% &
this
»» 
.
»» 
rawResponse
»»  
,
»»  !
this
…… 
.
…… 
serialNumber
…… !
,
……! "
this
   
.
   

gTimestamp
   
,
    
this
ÀÀ 
.
ÀÀ 
orderNumber
ÀÀ  
,
ÀÀ  !
this
ÃÃ 
.
ÃÃ 
buyerId
ÃÃ 
,
ÃÃ 
this
ÕÕ 
.
ÕÕ 
fullfillState
ÕÕ "
,
ÕÕ" #
this
ŒŒ 
.
ŒŒ 
financeState
ŒŒ !
,
ŒŒ! "
this
œœ 
.
œœ 
emailListOptIn
œœ #
,
œœ# $
this
–– 
.
–– 
avsResponse
––  
,
––  !
this
—— 
.
—— 
cvnResponse
——  
,
——  !
this
““ 
.
““ 
authExpDate
““  
,
““  !
this
”” 
.
”” 
authAmt
”” 
,
”” 
this
‘‘ 
.
‘‘ 
discountTotal
‘‘ "
,
‘‘" #
this
’’ 
.
’’ 
shippingTotal
’’ "
,
’’" #
this
÷÷ 
.
÷÷ 
taxTotal
÷÷ 
,
÷÷ 
this
◊◊ 
.
◊◊ 

orderTotal
◊◊ 
,
◊◊  
this
ÿÿ 
.
ÿÿ 
latestChgAmt
ÿÿ !
,
ÿÿ! "
this
ŸŸ 
.
ŸŸ 
totalChgAmt
ŸŸ  
,
ŸŸ  !
this
⁄⁄ 
.
⁄⁄ 
latestRefundAmt
⁄⁄ $
,
⁄⁄$ %
this
€€ 
.
€€ 
totalRefundAmt
€€ #
,
€€# $
this
‹‹ 
.
‹‹ 
latestChargeback
‹‹ %
,
‹‹% &
this
›› 
.
›› 
totalChargeback
›› $
,
››$ %
this
ﬁﬁ 
.
ﬁﬁ 
cartXml
ﬁﬁ 
,
ﬁﬁ 
this
ﬂﬂ 
.
ﬂﬂ 
providerName
ﬂﬂ !
)
ﬂﬂ! "
;
ﬂﬂ" #
return
·· 
(
·· 
rowsAffected
··  
>
··! "
$num
··# $
)
··$ %
;
··% &
}
„„ 	
private
ÍÍ 
bool
ÍÍ 
Update
ÍÍ 
(
ÍÍ 
)
ÍÍ 
{
ÎÎ 	
return
ÌÌ !
DBGoogleCheckoutLog
ÌÌ &
.
ÌÌ& '
Update
ÌÌ' -
(
ÌÌ- .
this
ÓÓ 
.
ÓÓ 
rowGuid
ÓÓ 
,
ÓÓ 
this
ÔÔ 
.
ÔÔ 

createdUtc
ÔÔ 
,
ÔÔ  
this
 
.
 
siteGuid
 
,
 
this
ÒÒ 
.
ÒÒ 
userGuid
ÒÒ 
,
ÒÒ 
this
ÚÚ 
.
ÚÚ 
	storeGuid
ÚÚ 
,
ÚÚ 
this
ÛÛ 
.
ÛÛ 
cartGuid
ÛÛ 
,
ÛÛ 
this
ÙÙ 
.
ÙÙ 
notificationType
ÙÙ %
,
ÙÙ% &
this
ıı 
.
ıı 
rawResponse
ıı  
,
ıı  !
this
ˆˆ 
.
ˆˆ 
serialNumber
ˆˆ !
,
ˆˆ! "
this
˜˜ 
.
˜˜ 

gTimestamp
˜˜ 
,
˜˜  
this
¯¯ 
.
¯¯ 
orderNumber
¯¯  
,
¯¯  !
this
˘˘ 
.
˘˘ 
buyerId
˘˘ 
,
˘˘ 
this
˙˙ 
.
˙˙ 
fullfillState
˙˙ "
,
˙˙" #
this
˚˚ 
.
˚˚ 
financeState
˚˚ !
,
˚˚! "
this
¸¸ 
.
¸¸ 
emailListOptIn
¸¸ #
,
¸¸# $
this
˝˝ 
.
˝˝ 
avsResponse
˝˝  
,
˝˝  !
this
˛˛ 
.
˛˛ 
cvnResponse
˛˛  
,
˛˛  !
this
ˇˇ 
.
ˇˇ 
authExpDate
ˇˇ  
,
ˇˇ  !
this
ÄÄ 
.
ÄÄ 
authAmt
ÄÄ 
,
ÄÄ 
this
ÅÅ 
.
ÅÅ 
discountTotal
ÅÅ "
,
ÅÅ" #
this
ÇÇ 
.
ÇÇ 
shippingTotal
ÇÇ "
,
ÇÇ" #
this
ÉÉ 
.
ÉÉ 
taxTotal
ÉÉ 
,
ÉÉ 
this
ÑÑ 
.
ÑÑ 

orderTotal
ÑÑ 
,
ÑÑ  
this
ÖÖ 
.
ÖÖ 
latestChgAmt
ÖÖ !
,
ÖÖ! "
this
ÜÜ 
.
ÜÜ 
totalChgAmt
ÜÜ  
,
ÜÜ  !
this
áá 
.
áá 
latestRefundAmt
áá $
,
áá$ %
this
àà 
.
àà 
totalRefundAmt
àà #
,
àà# $
this
ââ 
.
ââ 
latestChargeback
ââ %
,
ââ% &
this
ää 
.
ää 
totalChargeback
ää $
,
ää$ %
this
ãã 
.
ãã 
cartXml
ãã 
)
ãã 
;
ãã 
}
çç 	
public
õõ 
bool
õõ 
Save
õõ 
(
õõ 
)
õõ 
{
úú 	
if
ùù 
(
ùù 
this
ùù 
.
ùù 
rowGuid
ùù 
!=
ùù 
Guid
ùù  $
.
ùù$ %
Empty
ùù% *
)
ùù* +
{
ûû 
return
üü 
Update
üü 
(
üü 
)
üü 
;
üü  
}
†† 
else
°° 
{
¢¢ 
return
££ 
Create
££ 
(
££ 
)
££ 
;
££  
}
§§ 
}
•• 	
public
≥≥ 
static
≥≥ 
bool
≥≥ 
Delete
≥≥ !
(
≥≥! "
Guid
≥≥" &
rowGuid
≥≥' .
)
≥≥. /
{
¥¥ 	
return
µµ !
DBGoogleCheckoutLog
µµ &
.
µµ& '
Delete
µµ' -
(
µµ- .
rowGuid
µµ. 5
)
µµ5 6
;
µµ6 7
}
∂∂ 	
public
∏∏ 
static
∏∏ 
bool
∏∏ 
DeleteByCart
∏∏ '
(
∏∏' (
Guid
∏∏( ,
cartGuid
∏∏- 5
)
∏∏5 6
{
ππ 	
return
∫∫ !
DBGoogleCheckoutLog
∫∫ &
.
∫∫& '
DeleteByCart
∫∫' 3
(
∫∫3 4
cartGuid
∫∫4 <
)
∫∫< =
;
∫∫= >
}
ªª 	
public
ΩΩ 
static
ΩΩ 
bool
ΩΩ 
DeleteBySite
ΩΩ '
(
ΩΩ' (
Guid
ΩΩ( ,
siteGuid
ΩΩ- 5
)
ΩΩ5 6
{
ææ 	
return
øø !
DBGoogleCheckoutLog
øø &
.
øø& '
DeleteBySite
øø' 3
(
øø3 4
siteGuid
øø4 <
)
øø< =
;
øø= >
}
¿¿ 	
public
¬¬ 
static
¬¬ 
bool
¬¬ 
DeleteByStore
¬¬ (
(
¬¬( )
Guid
¬¬) -
	storeGuid
¬¬. 7
)
¬¬7 8
{
√√ 	
return
ƒƒ !
DBGoogleCheckoutLog
ƒƒ &
.
ƒƒ& '
DeleteByStore
ƒƒ' 4
(
ƒƒ4 5
	storeGuid
ƒƒ5 >
)
ƒƒ> ?
;
ƒƒ? @
}
≈≈ 	
public
ÀÀ 
static
ÀÀ 
int
ÀÀ 
GetCountByCart
ÀÀ (
(
ÀÀ( )
Guid
ÀÀ) -
cartGuid
ÀÀ. 6
)
ÀÀ6 7
{
ÃÃ 	
return
ÕÕ !
DBGoogleCheckoutLog
ÕÕ &
.
ÕÕ& '
GetCountByCart
ÕÕ' 5
(
ÕÕ5 6
cartGuid
ÕÕ6 >
)
ÕÕ> ?
;
ÕÕ? @
}
ŒŒ 	
public
”” 
static
”” 
int
”” 
GetCountByStore
”” )
(
””) *
Guid
””* .
	storeGuid
””/ 8
)
””8 9
{
‘‘ 	
return
’’ !
DBGoogleCheckoutLog
’’ &
.
’’& '
GetCountByStore
’’' 6
(
’’6 7
	storeGuid
’’7 @
)
’’@ A
;
’’A B
}
÷÷ 	
private
ÿÿ 
static
ÿÿ 
List
ÿÿ 
<
ÿÿ 
GoogleCheckoutLog
ÿÿ -
>
ÿÿ- . 
LoadListFromReader
ÿÿ/ A
(
ÿÿA B
IDataReader
ÿÿB M
reader
ÿÿN T
)
ÿÿT U
{
ŸŸ 	
List
⁄⁄ 
<
⁄⁄ 
GoogleCheckoutLog
⁄⁄ "
>
⁄⁄" ##
googleCheckoutLogList
⁄⁄$ 9
=
⁄⁄: ;
new
⁄⁄< ?
List
⁄⁄@ D
<
⁄⁄D E
GoogleCheckoutLog
⁄⁄E V
>
⁄⁄V W
(
⁄⁄W X
)
⁄⁄X Y
;
⁄⁄Y Z
try
€€ 
{
‹‹ 
while
›› 
(
›› 
reader
›› 
.
›› 
Read
›› "
(
››" #
)
››# $
)
››$ %
{
ﬁﬁ 
GoogleCheckoutLog
ﬂﬂ %
googleCheckoutLog
ﬂﬂ& 7
=
ﬂﬂ8 9
new
ﬂﬂ: =
GoogleCheckoutLog
ﬂﬂ> O
(
ﬂﬂO P
)
ﬂﬂP Q
;
ﬂﬂQ R
googleCheckoutLog
‡‡ %
.
‡‡% &
rowGuid
‡‡& -
=
‡‡. /
new
‡‡0 3
Guid
‡‡4 8
(
‡‡8 9
reader
‡‡9 ?
[
‡‡? @
$str
‡‡@ I
]
‡‡I J
.
‡‡J K
ToString
‡‡K S
(
‡‡S T
)
‡‡T U
)
‡‡U V
;
‡‡V W
googleCheckoutLog
·· %
.
··% &

createdUtc
··& 0
=
··1 2
Convert
··3 :
.
··: ;

ToDateTime
··; E
(
··E F
reader
··F L
[
··L M
$str
··M Y
]
··Y Z
)
··Z [
;
··[ \
googleCheckoutLog
‚‚ %
.
‚‚% &
siteGuid
‚‚& .
=
‚‚/ 0
new
‚‚1 4
Guid
‚‚5 9
(
‚‚9 :
reader
‚‚: @
[
‚‚@ A
$str
‚‚A K
]
‚‚K L
.
‚‚L M
ToString
‚‚M U
(
‚‚U V
)
‚‚V W
)
‚‚W X
;
‚‚X Y
googleCheckoutLog
„„ %
.
„„% &
userGuid
„„& .
=
„„/ 0
new
„„1 4
Guid
„„5 9
(
„„9 :
reader
„„: @
[
„„@ A
$str
„„A K
]
„„K L
.
„„L M
ToString
„„M U
(
„„U V
)
„„V W
)
„„W X
;
„„X Y
googleCheckoutLog
‰‰ %
.
‰‰% &
	storeGuid
‰‰& /
=
‰‰0 1
new
‰‰2 5
Guid
‰‰6 :
(
‰‰: ;
reader
‰‰; A
[
‰‰A B
$str
‰‰B M
]
‰‰M N
.
‰‰N O
ToString
‰‰O W
(
‰‰W X
)
‰‰X Y
)
‰‰Y Z
;
‰‰Z [
googleCheckoutLog
ÂÂ %
.
ÂÂ% &
cartGuid
ÂÂ& .
=
ÂÂ/ 0
new
ÂÂ1 4
Guid
ÂÂ5 9
(
ÂÂ9 :
reader
ÂÂ: @
[
ÂÂ@ A
$str
ÂÂA K
]
ÂÂK L
.
ÂÂL M
ToString
ÂÂM U
(
ÂÂU V
)
ÂÂV W
)
ÂÂW X
;
ÂÂX Y
googleCheckoutLog
ÊÊ %
.
ÊÊ% &
notificationType
ÊÊ& 6
=
ÊÊ7 8
reader
ÊÊ9 ?
[
ÊÊ? @
$str
ÊÊ@ R
]
ÊÊR S
.
ÊÊS T
ToString
ÊÊT \
(
ÊÊ\ ]
)
ÊÊ] ^
;
ÊÊ^ _
googleCheckoutLog
ÁÁ %
.
ÁÁ% &
rawResponse
ÁÁ& 1
=
ÁÁ2 3
reader
ÁÁ4 :
[
ÁÁ: ;
$str
ÁÁ; H
]
ÁÁH I
.
ÁÁI J
ToString
ÁÁJ R
(
ÁÁR S
)
ÁÁS T
;
ÁÁT U
googleCheckoutLog
ËË %
.
ËË% &
serialNumber
ËË& 2
=
ËË3 4
reader
ËË5 ;
[
ËË; <
$str
ËË< J
]
ËËJ K
.
ËËK L
ToString
ËËL T
(
ËËT U
)
ËËU V
;
ËËV W
googleCheckoutLog
ÈÈ %
.
ÈÈ% &

gTimestamp
ÈÈ& 0
=
ÈÈ1 2
Convert
ÈÈ3 :
.
ÈÈ: ;

ToDateTime
ÈÈ; E
(
ÈÈE F
reader
ÈÈF L
[
ÈÈL M
$str
ÈÈM Y
]
ÈÈY Z
)
ÈÈZ [
;
ÈÈ[ \
googleCheckoutLog
ÍÍ %
.
ÍÍ% &
orderNumber
ÍÍ& 1
=
ÍÍ2 3
reader
ÍÍ4 :
[
ÍÍ: ;
$str
ÍÍ; H
]
ÍÍH I
.
ÍÍI J
ToString
ÍÍJ R
(
ÍÍR S
)
ÍÍS T
;
ÍÍT U
googleCheckoutLog
ÎÎ %
.
ÎÎ% &
buyerId
ÎÎ& -
=
ÎÎ. /
reader
ÎÎ0 6
[
ÎÎ6 7
$str
ÎÎ7 @
]
ÎÎ@ A
.
ÎÎA B
ToString
ÎÎB J
(
ÎÎJ K
)
ÎÎK L
;
ÎÎL M
googleCheckoutLog
ÏÏ %
.
ÏÏ% &
fullfillState
ÏÏ& 3
=
ÏÏ4 5
reader
ÏÏ6 <
[
ÏÏ< =
$str
ÏÏ= L
]
ÏÏL M
.
ÏÏM N
ToString
ÏÏN V
(
ÏÏV W
)
ÏÏW X
;
ÏÏX Y
googleCheckoutLog
ÌÌ %
.
ÌÌ% &
financeState
ÌÌ& 2
=
ÌÌ3 4
reader
ÌÌ5 ;
[
ÌÌ; <
$str
ÌÌ< J
]
ÌÌJ K
.
ÌÌK L
ToString
ÌÌL T
(
ÌÌT U
)
ÌÌU V
;
ÌÌV W
googleCheckoutLog
ÓÓ %
.
ÓÓ% &
emailListOptIn
ÓÓ& 4
=
ÓÓ5 6
Convert
ÓÓ7 >
.
ÓÓ> ?
	ToBoolean
ÓÓ? H
(
ÓÓH I
reader
ÓÓI O
[
ÓÓO P
$str
ÓÓP `
]
ÓÓ` a
)
ÓÓa b
;
ÓÓb c
googleCheckoutLog
ÔÔ %
.
ÔÔ% &
avsResponse
ÔÔ& 1
=
ÔÔ2 3
reader
ÔÔ4 :
[
ÔÔ: ;
$str
ÔÔ; H
]
ÔÔH I
.
ÔÔI J
ToString
ÔÔJ R
(
ÔÔR S
)
ÔÔS T
;
ÔÔT U
googleCheckoutLog
 %
.
% &
cvnResponse
& 1
=
2 3
reader
4 :
[
: ;
$str
; H
]
H I
.
I J
ToString
J R
(
R S
)
S T
;
T U
googleCheckoutLog
ÒÒ %
.
ÒÒ% &
authExpDate
ÒÒ& 1
=
ÒÒ2 3
Convert
ÒÒ4 ;
.
ÒÒ; <

ToDateTime
ÒÒ< F
(
ÒÒF G
reader
ÒÒG M
[
ÒÒM N
$str
ÒÒN [
]
ÒÒ[ \
)
ÒÒ\ ]
;
ÒÒ] ^
googleCheckoutLog
ÚÚ %
.
ÚÚ% &
authAmt
ÚÚ& -
=
ÚÚ. /
Convert
ÚÚ0 7
.
ÚÚ7 8
	ToDecimal
ÚÚ8 A
(
ÚÚA B
reader
ÚÚB H
[
ÚÚH I
$str
ÚÚI R
]
ÚÚR S
)
ÚÚS T
;
ÚÚT U
googleCheckoutLog
ÛÛ %
.
ÛÛ% &
discountTotal
ÛÛ& 3
=
ÛÛ4 5
Convert
ÛÛ6 =
.
ÛÛ= >
	ToDecimal
ÛÛ> G
(
ÛÛG H
reader
ÛÛH N
[
ÛÛN O
$str
ÛÛO ^
]
ÛÛ^ _
)
ÛÛ_ `
;
ÛÛ` a
googleCheckoutLog
ÙÙ %
.
ÙÙ% &
shippingTotal
ÙÙ& 3
=
ÙÙ4 5
Convert
ÙÙ6 =
.
ÙÙ= >
	ToDecimal
ÙÙ> G
(
ÙÙG H
reader
ÙÙH N
[
ÙÙN O
$str
ÙÙO ^
]
ÙÙ^ _
)
ÙÙ_ `
;
ÙÙ` a
googleCheckoutLog
ıı %
.
ıı% &
taxTotal
ıı& .
=
ıı/ 0
Convert
ıı1 8
.
ıı8 9
	ToDecimal
ıı9 B
(
ııB C
reader
ııC I
[
ııI J
$str
ııJ T
]
ııT U
)
ııU V
;
ııV W
googleCheckoutLog
ˆˆ %
.
ˆˆ% &

orderTotal
ˆˆ& 0
=
ˆˆ1 2
Convert
ˆˆ3 :
.
ˆˆ: ;
	ToDecimal
ˆˆ; D
(
ˆˆD E
reader
ˆˆE K
[
ˆˆK L
$str
ˆˆL X
]
ˆˆX Y
)
ˆˆY Z
;
ˆˆZ [
googleCheckoutLog
˜˜ %
.
˜˜% &
latestChgAmt
˜˜& 2
=
˜˜3 4
Convert
˜˜5 <
.
˜˜< =
	ToDecimal
˜˜= F
(
˜˜F G
reader
˜˜G M
[
˜˜M N
$str
˜˜N \
]
˜˜\ ]
)
˜˜] ^
;
˜˜^ _
googleCheckoutLog
¯¯ %
.
¯¯% &
totalChgAmt
¯¯& 1
=
¯¯2 3
Convert
¯¯4 ;
.
¯¯; <
	ToDecimal
¯¯< E
(
¯¯E F
reader
¯¯F L
[
¯¯L M
$str
¯¯M Z
]
¯¯Z [
)
¯¯[ \
;
¯¯\ ]
googleCheckoutLog
˘˘ %
.
˘˘% &
latestRefundAmt
˘˘& 5
=
˘˘6 7
Convert
˘˘8 ?
.
˘˘? @
	ToDecimal
˘˘@ I
(
˘˘I J
reader
˘˘J P
[
˘˘P Q
$str
˘˘Q b
]
˘˘b c
)
˘˘c d
;
˘˘d e
googleCheckoutLog
˙˙ %
.
˙˙% &
totalRefundAmt
˙˙& 4
=
˙˙5 6
Convert
˙˙7 >
.
˙˙> ?
	ToDecimal
˙˙? H
(
˙˙H I
reader
˙˙I O
[
˙˙O P
$str
˙˙P `
]
˙˙` a
)
˙˙a b
;
˙˙b c
googleCheckoutLog
˚˚ %
.
˚˚% &
latestChargeback
˚˚& 6
=
˚˚7 8
Convert
˚˚9 @
.
˚˚@ A
	ToDecimal
˚˚A J
(
˚˚J K
reader
˚˚K Q
[
˚˚Q R
$str
˚˚R d
]
˚˚d e
)
˚˚e f
;
˚˚f g
googleCheckoutLog
¸¸ %
.
¸¸% &
totalChargeback
¸¸& 5
=
¸¸6 7
Convert
¸¸8 ?
.
¸¸? @
	ToDecimal
¸¸@ I
(
¸¸I J
reader
¸¸J P
[
¸¸P Q
$str
¸¸Q b
]
¸¸b c
)
¸¸c d
;
¸¸d e
googleCheckoutLog
˝˝ %
.
˝˝% &
cartXml
˝˝& -
=
˝˝. /
reader
˝˝0 6
[
˝˝6 7
$str
˝˝7 @
]
˝˝@ A
.
˝˝A B
ToString
˝˝B J
(
˝˝J K
)
˝˝K L
;
˝˝L M
googleCheckoutLog
˛˛ %
.
˛˛% &
providerName
˛˛& 2
=
˛˛3 4
reader
˛˛5 ;
[
˛˛; <
$str
˛˛< J
]
˛˛J K
.
˛˛K L
ToString
˛˛L T
(
˛˛T U
)
˛˛U V
;
˛˛V W#
googleCheckoutLogList
ˇˇ )
.
ˇˇ) *
Add
ˇˇ* -
(
ˇˇ- .
googleCheckoutLog
ˇˇ. ?
)
ˇˇ? @
;
ˇˇ@ A
}
ÅÅ 
}
ÇÇ 
finally
ÉÉ 
{
ÑÑ 
reader
ÖÖ 
.
ÖÖ 
Close
ÖÖ 
(
ÖÖ 
)
ÖÖ 
;
ÖÖ 
}
ÜÜ 
return
àà #
googleCheckoutLogList
àà (
;
àà( )
}
ää 	
public
ùù 
static
ùù 
IDataReader
ùù !
GetPageByCart
ùù" /
(
ùù/ 0
Guid
ûû 
cartGuid
ûû 
,
ûû 
int
üü 

pageNumber
üü 
,
üü 
int
†† 
pageSize
†† 
,
†† 
out
°° 
int
°° 

totalPages
°° 
)
°° 
{
¢¢ 	

totalPages
££ 
=
££ 
$num
££ 
;
££ 
return
§§ !
DBGoogleCheckoutLog
§§ &
.
§§& '
GetPageByCart
§§' 4
(
§§4 5
cartGuid
§§5 =
,
§§= >

pageNumber
§§? I
,
§§I J
pageSize
§§K S
,
§§S T
out
§§U X

totalPages
§§Y c
)
§§c d
;
§§d e
}
¶¶ 	
public
ØØ 
static
ØØ 
IDataReader
ØØ !
GetPageByStore
ØØ" 0
(
ØØ0 1
Guid
∞∞ 
	storeGuid
∞∞ 
,
∞∞ 
int
±± 

pageNumber
±± 
,
±± 
int
≤≤ 
pageSize
≤≤ 
,
≤≤ 
out
≥≥ 
int
≥≥ 

totalPages
≥≥ 
)
≥≥ 
{
¥¥ 	

totalPages
µµ 
=
µµ 
$num
µµ 
;
µµ 
return
∂∂ !
DBGoogleCheckoutLog
∂∂ &
.
∂∂& '
GetPageByStore
∂∂' 5
(
∂∂5 6
	storeGuid
∂∂6 ?
,
∂∂? @

pageNumber
∂∂A K
,
∂∂K L
pageSize
∂∂M U
,
∂∂U V
out
∂∂W Z

totalPages
∂∂[ e
)
∂∂e f
;
∂∂f g
}
∏∏ 	
public
ªª 
static
ªª 
Guid
ªª (
GetCartGuidFromOrderNumber
ªª 5
(
ªª5 6
string
ªª6 <
googleOrderNumber
ªª= N
)
ªªN O
{
ºº 	
Guid
ΩΩ 
cartGuid
ΩΩ 
=
ΩΩ 
Guid
ΩΩ  
.
ΩΩ  !
Empty
ΩΩ! &
;
ΩΩ& '
using
øø 
(
øø 
IDataReader
øø 
reader
øø %
=
øø& '!
DBGoogleCheckoutLog
øø( ;
.
øø; <"
GetMostRecentByOrder
øø< P
(
øøP Q
googleOrderNumber
øøQ b
)
øøb c
)
øøc d
{
¿¿ 
if
¡¡ 
(
¡¡ 
reader
¡¡ 
.
¡¡ 
Read
¡¡ 
(
¡¡  
)
¡¡  !
)
¡¡! "
{
¬¬ 
cartGuid
√√ 
=
√√ 
new
√√ "
Guid
√√# '
(
√√' (
reader
√√( .
[
√√. /
$str
√√/ 9
]
√√9 :
.
√√: ;
ToString
√√; C
(
√√C D
)
√√D E
)
√√E F
;
√√F G
}
ƒƒ 
}
≈≈ 
return
«« 
cartGuid
«« 
;
«« 
}
   	
public
ÃÃ 
static
ÃÃ 
string
ÃÃ ,
GetProviderNameFromOrderNumber
ÃÃ ;
(
ÃÃ; <
string
ÃÃ< B
googleOrderNumber
ÃÃC T
)
ÃÃT U
{
ÕÕ 	
string
ŒŒ 
providerName
ŒŒ 
=
ŒŒ  !
string
ŒŒ" (
.
ŒŒ( )
Empty
ŒŒ) .
;
ŒŒ. /
using
–– 
(
–– 
IDataReader
–– 
reader
–– %
=
––& '!
DBGoogleCheckoutLog
––( ;
.
––; <"
GetMostRecentByOrder
––< P
(
––P Q
googleOrderNumber
––Q b
)
––b c
)
––c d
{
—— 
if
““ 
(
““ 
reader
““ 
.
““ 
Read
““ 
(
““  
)
““  !
)
““! "
{
”” 
providerName
‘‘  
=
‘‘! "
reader
‘‘# )
[
‘‘) *
$str
‘‘* 8
]
‘‘8 9
.
‘‘9 :
ToString
‘‘: B
(
‘‘B C
)
‘‘C D
;
‘‘D E
}
’’ 
}
÷÷ 
return
ÿÿ 
providerName
ÿÿ 
;
ÿÿ  
}
€€ 	
public
ÂÂ 
static
ÂÂ 
int
ÂÂ !
CompareByCreatedUtc
ÂÂ -
(
ÂÂ- .
GoogleCheckoutLog
ÂÂ. ? 
googleCheckoutLog1
ÂÂ@ R
,
ÂÂR S
GoogleCheckoutLog
ÂÂT e 
googleCheckoutLog2
ÂÂf x
)
ÂÂx y
{
ÊÊ 	
return
ÁÁ  
googleCheckoutLog1
ÁÁ %
.
ÁÁ% &

CreatedUtc
ÁÁ& 0
.
ÁÁ0 1
	CompareTo
ÁÁ1 :
(
ÁÁ: ; 
googleCheckoutLog2
ÁÁ; M
.
ÁÁM N

CreatedUtc
ÁÁN X
)
ÁÁX Y
;
ÁÁY Z
}
ËË 	
public
ÏÏ 
static
ÏÏ 
int
ÏÏ '
CompareByNotificationType
ÏÏ 3
(
ÏÏ3 4
GoogleCheckoutLog
ÏÏ4 E 
googleCheckoutLog1
ÏÏF X
,
ÏÏX Y
GoogleCheckoutLog
ÏÏZ k 
googleCheckoutLog2
ÏÏl ~
)
ÏÏ~ 
{
ÌÌ 	
return
ÓÓ  
googleCheckoutLog1
ÓÓ %
.
ÓÓ% &
NotificationType
ÓÓ& 6
.
ÓÓ6 7
	CompareTo
ÓÓ7 @
(
ÓÓ@ A 
googleCheckoutLog2
ÓÓA S
.
ÓÓS T
NotificationType
ÓÓT d
)
ÓÓd e
;
ÓÓe f
}
ÔÔ 	
public
ÛÛ 
static
ÛÛ 
int
ÛÛ "
CompareByRawResponse
ÛÛ .
(
ÛÛ. /
GoogleCheckoutLog
ÛÛ/ @ 
googleCheckoutLog1
ÛÛA S
,
ÛÛS T
GoogleCheckoutLog
ÛÛU f 
googleCheckoutLog2
ÛÛg y
)
ÛÛy z
{
ÙÙ 	
return
ıı  
googleCheckoutLog1
ıı %
.
ıı% &
RawResponse
ıı& 1
.
ıı1 2
	CompareTo
ıı2 ;
(
ıı; < 
googleCheckoutLog2
ıı< N
.
ııN O
RawResponse
ııO Z
)
ııZ [
;
ıı[ \
}
ˆˆ 	
public
˙˙ 
static
˙˙ 
int
˙˙ #
CompareBySerialNumber
˙˙ /
(
˙˙/ 0
GoogleCheckoutLog
˙˙0 A 
googleCheckoutLog1
˙˙B T
,
˙˙T U
GoogleCheckoutLog
˙˙V g 
googleCheckoutLog2
˙˙h z
)
˙˙z {
{
˚˚ 	
return
¸¸  
googleCheckoutLog1
¸¸ %
.
¸¸% &
SerialNumber
¸¸& 2
.
¸¸2 3
	CompareTo
¸¸3 <
(
¸¸< = 
googleCheckoutLog2
¸¸= O
.
¸¸O P
SerialNumber
¸¸P \
)
¸¸\ ]
;
¸¸] ^
}
˝˝ 	
public
ÅÅ 
static
ÅÅ 
int
ÅÅ !
CompareByGTimestamp
ÅÅ -
(
ÅÅ- .
GoogleCheckoutLog
ÅÅ. ? 
googleCheckoutLog1
ÅÅ@ R
,
ÅÅR S
GoogleCheckoutLog
ÅÅT e 
googleCheckoutLog2
ÅÅf x
)
ÅÅx y
{
ÇÇ 	
return
ÉÉ  
googleCheckoutLog1
ÉÉ %
.
ÉÉ% &

GTimestamp
ÉÉ& 0
.
ÉÉ0 1
	CompareTo
ÉÉ1 :
(
ÉÉ: ; 
googleCheckoutLog2
ÉÉ; M
.
ÉÉM N

GTimestamp
ÉÉN X
)
ÉÉX Y
;
ÉÉY Z
}
ÑÑ 	
public
àà 
static
àà 
int
àà "
CompareByOrderNumber
àà .
(
àà. /
GoogleCheckoutLog
àà/ @ 
googleCheckoutLog1
ààA S
,
ààS T
GoogleCheckoutLog
ààU f 
googleCheckoutLog2
ààg y
)
àày z
{
ââ 	
return
ää  
googleCheckoutLog1
ää %
.
ää% &
OrderNumber
ää& 1
.
ää1 2
	CompareTo
ää2 ;
(
ää; < 
googleCheckoutLog2
ää< N
.
ääN O
OrderNumber
ääO Z
)
ääZ [
;
ää[ \
}
ãã 	
public
èè 
static
èè 
int
èè 
CompareByBuyerId
èè *
(
èè* +
GoogleCheckoutLog
èè+ < 
googleCheckoutLog1
èè= O
,
èèO P
GoogleCheckoutLog
èèQ b 
googleCheckoutLog2
èèc u
)
èèu v
{
êê 	
return
ëë  
googleCheckoutLog1
ëë %
.
ëë% &
BuyerId
ëë& -
.
ëë- .
	CompareTo
ëë. 7
(
ëë7 8 
googleCheckoutLog2
ëë8 J
.
ëëJ K
BuyerId
ëëK R
)
ëëR S
;
ëëS T
}
íí 	
public
ññ 
static
ññ 
int
ññ $
CompareByFullfillState
ññ 0
(
ññ0 1
GoogleCheckoutLog
ññ1 B 
googleCheckoutLog1
ññC U
,
ññU V
GoogleCheckoutLog
ññW h 
googleCheckoutLog2
ññi {
)
ññ{ |
{
óó 	
return
òò  
googleCheckoutLog1
òò %
.
òò% &
FullfillState
òò& 3
.
òò3 4
	CompareTo
òò4 =
(
òò= > 
googleCheckoutLog2
òò> P
.
òòP Q
FullfillState
òòQ ^
)
òò^ _
;
òò_ `
}
ôô 	
public
ùù 
static
ùù 
int
ùù #
CompareByFinanceState
ùù /
(
ùù/ 0
GoogleCheckoutLog
ùù0 A 
googleCheckoutLog1
ùùB T
,
ùùT U
GoogleCheckoutLog
ùùV g 
googleCheckoutLog2
ùùh z
)
ùùz {
{
ûû 	
return
üü  
googleCheckoutLog1
üü %
.
üü% &
FinanceState
üü& 2
.
üü2 3
	CompareTo
üü3 <
(
üü< = 
googleCheckoutLog2
üü= O
.
üüO P
FinanceState
üüP \
)
üü\ ]
;
üü] ^
}
†† 	
public
§§ 
static
§§ 
int
§§ "
CompareByAvsResponse
§§ .
(
§§. /
GoogleCheckoutLog
§§/ @ 
googleCheckoutLog1
§§A S
,
§§S T
GoogleCheckoutLog
§§U f 
googleCheckoutLog2
§§g y
)
§§y z
{
•• 	
return
¶¶  
googleCheckoutLog1
¶¶ %
.
¶¶% &
AvsResponse
¶¶& 1
.
¶¶1 2
	CompareTo
¶¶2 ;
(
¶¶; < 
googleCheckoutLog2
¶¶< N
.
¶¶N O
AvsResponse
¶¶O Z
)
¶¶Z [
;
¶¶[ \
}
ßß 	
public
´´ 
static
´´ 
int
´´ "
CompareByCvnResponse
´´ .
(
´´. /
GoogleCheckoutLog
´´/ @ 
googleCheckoutLog1
´´A S
,
´´S T
GoogleCheckoutLog
´´U f 
googleCheckoutLog2
´´g y
)
´´y z
{
¨¨ 	
return
≠≠  
googleCheckoutLog1
≠≠ %
.
≠≠% &
CvnResponse
≠≠& 1
.
≠≠1 2
	CompareTo
≠≠2 ;
(
≠≠; < 
googleCheckoutLog2
≠≠< N
.
≠≠N O
CvnResponse
≠≠O Z
)
≠≠Z [
;
≠≠[ \
}
ÆÆ 	
public
≤≤ 
static
≤≤ 
int
≤≤ "
CompareByAuthExpDate
≤≤ .
(
≤≤. /
GoogleCheckoutLog
≤≤/ @ 
googleCheckoutLog1
≤≤A S
,
≤≤S T
GoogleCheckoutLog
≤≤U f 
googleCheckoutLog2
≤≤g y
)
≤≤y z
{
≥≥ 	
return
¥¥  
googleCheckoutLog1
¥¥ %
.
¥¥% &
AuthExpDate
¥¥& 1
.
¥¥1 2
	CompareTo
¥¥2 ;
(
¥¥; < 
googleCheckoutLog2
¥¥< N
.
¥¥N O
AuthExpDate
¥¥O Z
)
¥¥Z [
;
¥¥[ \
}
µµ 	
}
∫∫ 
}ºº ∂
wD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\CommerceCore\MerchantData.cs
	namespace 	

mojoPortal
 
. 
Business 
. 
Commerce &
{ 
[ 
Serializable 
( 
) 
] 
public 

class 
MerchantData 
{ 
private 
string 
providerName #
=$ %
string& ,
., -
Empty- 2
;2 3
public 
string 
SerializedObject &
=' (
string) /
./ 0
Empty0 5
;5 6
public 
string 
ProviderName "
{ 	
get 
{ 
return 
providerName %
;% &
}' (
set 
{ 
providerName 
=  
value! &
;& '
}( )
} 	
}-- 
}.. ≠
vD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\CommerceCore\OrderStatus.cs
	namespace 	

mojoPortal
 
. 
Business 
. 
Commerce &
{ 
public 

class 
OrderStatus 
{ 
private 
OrderStatus 
( 
) 
{ 	
} 	
const 
string !
OrderStatusReceivedId *
=+ ,
$str- S
;S T
const 
string $
OrderStatusFulfillableId -
=. /
$str0 V
;V W
const 
string "
OrderStatusFulfilledId +
=, -
$str. T
;T U
const 
string "
OrderStatusCancelledId +
=, -
$str. T
;T U
const 
string 
OrderStatusAnyId %
=& '
$str( N
;N O
public!! 
static!! 
Guid!! 
OrderStatusNoneGuid!! .
{"" 	
get## 
{## 
return## 
Guid## 
.## 
Empty## #
;### $
}##% &
}$$ 	
public&& 
static&& 
Guid&& #
OrderStatusReceivedGuid&& 2
{'' 	
get(( 
{(( 
return(( 
new(( 
Guid(( !
(((! "!
OrderStatusReceivedId((" 7
)((7 8
;((8 9
}((: ;
})) 	
public++ 
static++ 
Guid++ &
OrderStatusFulfillableGuid++ 5
{,, 	
get-- 
{-- 
return-- 
new-- 
Guid-- !
(--! "$
OrderStatusFulfillableId--" :
)--: ;
;--; <
}--= >
}.. 	
public00 
static00 
Guid00 $
OrderStatusFulfilledGuid00 3
{11 	
get22 
{22 
return22 
new22 
Guid22 !
(22! ""
OrderStatusFulfilledId22" 8
)228 9
;229 :
}22; <
}33 	
public55 
static55 
Guid55 $
OrderStatusCancelledGuid55 3
{66 	
get77 
{77 
return77 
new77 
Guid77 !
(77! ""
OrderStatusCancelledId77" 8
)778 9
;779 :
}77; <
}88 	
public:: 
static:: 
Guid:: 
OrderStatusAny:: )
{;; 	
get<< 
{<< 
return<< 
new<< 
Guid<< !
(<<! "
OrderStatusAnyId<<" 2
)<<2 3
;<<3 4
}<<5 6
}== 	
}?? 
}@@ ¯∂
uD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\CommerceCore\PaymentLog.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 

PaymentLog 
{ 
public 

PaymentLog 
( 
) 
{ 	
}
 
public   

PaymentLog   
(   
Guid   
rowGuid   &
)  & '
{!! 	
GetPaymentLog"" 
("" 
rowGuid"" "
)""" #
;""# $
}## 	
private)) 
Guid)) 
rowGuid)) 
=)) 
Guid)) #
.))# $
Empty))$ )
;))) *
private** 
DateTime** 

createdUtc** #
=**$ %
DateTime**& .
.**. /
UtcNow**/ 5
;**5 6
private++ 
Guid++ 
siteGuid++ 
=++ 
Guid++  $
.++$ %
Empty++% *
;++* +
private,, 
Guid,, 
userGuid,, 
=,, 
Guid,,  $
.,,$ %
Empty,,% *
;,,* +
private-- 
Guid-- 
	storeGuid-- 
=--  
Guid--! %
.--% &
Empty--& +
;--+ ,
private.. 
Guid.. 
cartGuid.. 
=.. 
Guid..  $
...$ %
Empty..% *
;..* +
private// 
string// 
provider// 
=//  !
string//" (
.//( )
Empty//) .
;//. /
private00 
string00 
rawResponse00 "
=00# $
string00% +
.00+ ,
Empty00, 1
;001 2
private11 
string11 
responseCode11 #
=11$ %
string11& ,
.11, -
Empty11- 2
;112 3
private22 
string22 
responseReasonCode22 )
=22* +
string22, 2
.222 3
Empty223 8
;228 9
private33 
string33 
reason33 
=33 
string33  &
.33& '
Empty33' ,
;33, -
private44 
string44 
avsCode44 
=44  
string44! '
.44' (
Empty44( -
;44- .
private55 
string55 
ccvCode55 
=55  
string55! '
.55' (
Empty55( -
;55- .
private66 
string66 
cavCode66 
=66  
string66! '
.66' (
Empty66( -
;66- .
private77 
string77 
transactionId77 $
=77% &
string77' -
.77- .
Empty77. 3
;773 4
private88 
string88 
transactionType88 &
=88' (
string88) /
.88/ 0
Empty880 5
;885 6
private99 
string99 
method99 
=99 
string99  &
.99& '
Empty99' ,
;99, -
private:: 
string:: 
authCode:: 
=::  !
string::" (
.::( )
Empty::) .
;::. /
private;; 
decimal;; 
amount;; 
=;;  
$num;;! "
;;;" #
private<< 
decimal<< 
tax<< 
=<< 
$num<< 
;<<  
private== 
decimal== 
duty== 
=== 
$num==  
;==  !
private>> 
decimal>> 
freight>> 
=>>  !
$num>>" #
;>># $
publicDD 
GuidDD 
RowGuidDD 
{EE 	
getFF 
{FF 
returnFF 
rowGuidFF  
;FF  !
}FF" #
setGG 
{GG 
rowGuidGG 
=GG 
valueGG !
;GG! "
}GG# $
}HH 	
publicII 
DateTimeII 

CreatedUtcII "
{JJ 	
getKK 
{KK 
returnKK 

createdUtcKK #
;KK# $
}KK% &
setLL 
{LL 

createdUtcLL 
=LL 
valueLL $
;LL$ %
}LL& '
}MM 	
publicNN 
GuidNN 
SiteGuidNN 
{OO 	
getPP 
{PP 
returnPP 
siteGuidPP !
;PP! "
}PP# $
setQQ 
{QQ 
siteGuidQQ 
=QQ 
valueQQ "
;QQ" #
}QQ$ %
}RR 	
publicSS 
GuidSS 
UserGuidSS 
{TT 	
getUU 
{UU 
returnUU 
userGuidUU !
;UU! "
}UU# $
setVV 
{VV 
userGuidVV 
=VV 
valueVV "
;VV" #
}VV$ %
}WW 	
publicXX 
GuidXX 
	StoreGuidXX 
{YY 	
getZZ 
{ZZ 
returnZZ 
	storeGuidZZ "
;ZZ" #
}ZZ$ %
set[[ 
{[[ 
	storeGuid[[ 
=[[ 
value[[ #
;[[# $
}[[% &
}\\ 	
public]] 
Guid]] 
CartGuid]] 
{^^ 	
get__ 
{__ 
return__ 
cartGuid__ !
;__! "
}__# $
set`` 
{`` 
cartGuid`` 
=`` 
value`` "
;``" #
}``$ %
}aa 	
publicbb 
stringbb 
Providerbb 
{cc 	
getdd 
{dd 
returndd 
providerdd !
;dd! "
}dd# $
setee 
{ee 
provideree 
=ee 
valueee "
;ee" #
}ee$ %
}ff 	
publicgg 
stringgg 
RawResponsegg !
{hh 	
getii 
{ii 
returnii 
rawResponseii $
;ii$ %
}ii& '
setjj 
{jj 
rawResponsejj 
=jj 
valuejj  %
;jj% &
}jj' (
}kk 	
publicll 
stringll 
ResponseCodell "
{mm 	
getnn 
{nn 
returnnn 
responseCodenn %
;nn% &
}nn' (
setoo 
{oo 
responseCodeoo 
=oo  
valueoo! &
;oo& '
}oo( )
}pp 	
publicqq 
stringqq 
ResponseReasonCodeqq (
{rr 	
getss 
{ss 
returnss 
responseReasonCodess +
;ss+ ,
}ss- .
settt 
{tt 
responseReasonCodett $
=tt% &
valuett' ,
;tt, -
}tt. /
}uu 	
publicvv 
stringvv 
Reasonvv 
{ww 	
getxx 
{xx 
returnxx 
reasonxx 
;xx  
}xx! "
setyy 
{yy 
reasonyy 
=yy 
valueyy  
;yy  !
}yy" #
}zz 	
public{{ 
string{{ 
AvsCode{{ 
{|| 	
get}} 
{}} 
return}} 
avsCode}}  
;}}  !
}}}" #
set~~ 
{~~ 
avsCode~~ 
=~~ 
value~~ !
;~~! "
}~~# $
} 	
public
ÄÄ 
string
ÄÄ 
CcvCode
ÄÄ 
{
ÅÅ 	
get
ÇÇ 
{
ÇÇ 
return
ÇÇ 
ccvCode
ÇÇ  
;
ÇÇ  !
}
ÇÇ" #
set
ÉÉ 
{
ÉÉ 
ccvCode
ÉÉ 
=
ÉÉ 
value
ÉÉ !
;
ÉÉ! "
}
ÉÉ# $
}
ÑÑ 	
public
ÖÖ 
string
ÖÖ 
CavCode
ÖÖ 
{
ÜÜ 	
get
áá 
{
áá 
return
áá 
cavCode
áá  
;
áá  !
}
áá" #
set
àà 
{
àà 
cavCode
àà 
=
àà 
value
àà !
;
àà! "
}
àà# $
}
ââ 	
public
ää 
string
ää 
TransactionId
ää #
{
ãã 	
get
åå 
{
åå 
return
åå 
transactionId
åå &
;
åå& '
}
åå( )
set
çç 
{
çç 
transactionId
çç 
=
çç  !
value
çç" '
;
çç' (
}
çç) *
}
éé 	
public
èè 
string
èè 
TransactionType
èè %
{
êê 	
get
ëë 
{
ëë 
return
ëë 
transactionType
ëë (
;
ëë( )
}
ëë* +
set
íí 
{
íí 
transactionType
íí !
=
íí" #
value
íí$ )
;
íí) *
}
íí+ ,
}
ìì 	
public
îî 
string
îî 
Method
îî 
{
ïï 	
get
ññ 
{
ññ 
return
ññ 
method
ññ 
;
ññ  
}
ññ! "
set
óó 
{
óó 
method
óó 
=
óó 
value
óó  
;
óó  !
}
óó" #
}
òò 	
public
ôô 
string
ôô 
AuthCode
ôô 
{
öö 	
get
õõ 
{
õõ 
return
õõ 
authCode
õõ !
;
õõ! "
}
õõ# $
set
úú 
{
úú 
authCode
úú 
=
úú 
value
úú "
;
úú" #
}
úú$ %
}
ùù 	
public
ûû 
decimal
ûû 
Amount
ûû 
{
üü 	
get
†† 
{
†† 
return
†† 
amount
†† 
;
††  
}
††! "
set
°° 
{
°° 
amount
°° 
=
°° 
value
°°  
;
°°  !
}
°°" #
}
¢¢ 	
public
££ 
decimal
££ 
Tax
££ 
{
§§ 	
get
•• 
{
•• 
return
•• 
tax
•• 
;
•• 
}
•• 
set
¶¶ 
{
¶¶ 
tax
¶¶ 
=
¶¶ 
value
¶¶ 
;
¶¶ 
}
¶¶  
}
ßß 	
public
®® 
decimal
®® 
Duty
®® 
{
©© 	
get
™™ 
{
™™ 
return
™™ 
duty
™™ 
;
™™ 
}
™™  
set
´´ 
{
´´ 
duty
´´ 
=
´´ 
value
´´ 
;
´´ 
}
´´  !
}
¨¨ 	
public
≠≠ 
decimal
≠≠ 
Freight
≠≠ 
{
ÆÆ 	
get
ØØ 
{
ØØ 
return
ØØ 
freight
ØØ  
;
ØØ  !
}
ØØ" #
set
∞∞ 
{
∞∞ 
freight
∞∞ 
=
∞∞ 
value
∞∞ !
;
∞∞! "
}
∞∞# $
}
±± 	
private
ππ 
void
ππ 
GetPaymentLog
ππ "
(
ππ" #
Guid
ππ# '
rowGuid
ππ( /
)
ππ/ 0
{
∫∫ 	
using
ªª 
(
ªª 
IDataReader
ªª 
reader
ªª %
=
ªª& '
DBPaymentLog
ªª( 4
.
ªª4 5
GetOne
ªª5 ;
(
ªª; <
rowGuid
ªª< C
)
ªªC D
)
ªªD E
{
ºº  
PopulateFromReader
ΩΩ "
(
ΩΩ" #
reader
ΩΩ# )
)
ΩΩ) *
;
ΩΩ* +
}
ææ 
}
¿¿ 	
private
√√ 
void
√√  
PopulateFromReader
√√ '
(
√√' (
IDataReader
√√( 3
reader
√√4 :
)
√√: ;
{
ƒƒ 	
if
≈≈ 
(
≈≈ 
reader
≈≈ 
.
≈≈ 
Read
≈≈ 
(
≈≈ 
)
≈≈ 
)
≈≈ 
{
∆∆ 
this
«« 
.
«« 
rowGuid
«« 
=
«« 
new
«« "
Guid
««# '
(
««' (
reader
««( .
[
««. /
$str
««/ 8
]
««8 9
.
««9 :
ToString
««: B
(
««B C
)
««C D
)
««D E
;
««E F
this
»» 
.
»» 

createdUtc
»» 
=
»»  !
Convert
»»" )
.
»») *

ToDateTime
»»* 4
(
»»4 5
reader
»»5 ;
[
»»; <
$str
»»< H
]
»»H I
)
»»I J
;
»»J K
this
…… 
.
…… 
siteGuid
…… 
=
…… 
new
……  #
Guid
……$ (
(
……( )
reader
……) /
[
……/ 0
$str
……0 :
]
……: ;
.
……; <
ToString
……< D
(
……D E
)
……E F
)
……F G
;
……G H
this
   
.
   
userGuid
   
=
   
new
    #
Guid
  $ (
(
  ( )
reader
  ) /
[
  / 0
$str
  0 :
]
  : ;
.
  ; <
ToString
  < D
(
  D E
)
  E F
)
  F G
;
  G H
this
ÀÀ 
.
ÀÀ 
	storeGuid
ÀÀ 
=
ÀÀ  
new
ÀÀ! $
Guid
ÀÀ% )
(
ÀÀ) *
reader
ÀÀ* 0
[
ÀÀ0 1
$str
ÀÀ1 <
]
ÀÀ< =
.
ÀÀ= >
ToString
ÀÀ> F
(
ÀÀF G
)
ÀÀG H
)
ÀÀH I
;
ÀÀI J
this
ÃÃ 
.
ÃÃ 
cartGuid
ÃÃ 
=
ÃÃ 
new
ÃÃ  #
Guid
ÃÃ$ (
(
ÃÃ( )
reader
ÃÃ) /
[
ÃÃ/ 0
$str
ÃÃ0 :
]
ÃÃ: ;
.
ÃÃ; <
ToString
ÃÃ< D
(
ÃÃD E
)
ÃÃE F
)
ÃÃF G
;
ÃÃG H
this
ÕÕ 
.
ÕÕ 
provider
ÕÕ 
=
ÕÕ 
reader
ÕÕ  &
[
ÕÕ& '
$str
ÕÕ' 1
]
ÕÕ1 2
.
ÕÕ2 3
ToString
ÕÕ3 ;
(
ÕÕ; <
)
ÕÕ< =
;
ÕÕ= >
this
ŒŒ 
.
ŒŒ 
rawResponse
ŒŒ  
=
ŒŒ! "
reader
ŒŒ# )
[
ŒŒ) *
$str
ŒŒ* 7
]
ŒŒ7 8
.
ŒŒ8 9
ToString
ŒŒ9 A
(
ŒŒA B
)
ŒŒB C
;
ŒŒC D
this
œœ 
.
œœ 
responseCode
œœ !
=
œœ" #
reader
œœ$ *
[
œœ* +
$str
œœ+ 9
]
œœ9 :
.
œœ: ;
ToString
œœ; C
(
œœC D
)
œœD E
;
œœE F
this
–– 
.
––  
responseReasonCode
–– '
=
––( )
reader
––* 0
[
––0 1
$str
––1 E
]
––E F
.
––F G
ToString
––G O
(
––O P
)
––P Q
;
––Q R
this
—— 
.
—— 
reason
—— 
=
—— 
reader
—— $
[
——$ %
$str
——% -
]
——- .
.
——. /
ToString
——/ 7
(
——7 8
)
——8 9
;
——9 :
this
““ 
.
““ 
avsCode
““ 
=
““ 
reader
““ %
[
““% &
$str
““& /
]
““/ 0
.
““0 1
ToString
““1 9
(
““9 :
)
““: ;
;
““; <
this
”” 
.
”” 
ccvCode
”” 
=
”” 
reader
”” %
[
””% &
$str
””& /
]
””/ 0
.
””0 1
ToString
””1 9
(
””9 :
)
””: ;
;
””; <
this
‘‘ 
.
‘‘ 
cavCode
‘‘ 
=
‘‘ 
reader
‘‘ %
[
‘‘% &
$str
‘‘& /
]
‘‘/ 0
.
‘‘0 1
ToString
‘‘1 9
(
‘‘9 :
)
‘‘: ;
;
‘‘; <
this
’’ 
.
’’ 
transactionId
’’ "
=
’’# $
reader
’’% +
[
’’+ ,
$str
’’, ;
]
’’; <
.
’’< =
ToString
’’= E
(
’’E F
)
’’F G
;
’’G H
this
÷÷ 
.
÷÷ 
transactionType
÷÷ $
=
÷÷% &
reader
÷÷' -
[
÷÷- .
$str
÷÷. ?
]
÷÷? @
.
÷÷@ A
ToString
÷÷A I
(
÷÷I J
)
÷÷J K
;
÷÷K L
this
◊◊ 
.
◊◊ 
method
◊◊ 
=
◊◊ 
reader
◊◊ $
[
◊◊$ %
$str
◊◊% -
]
◊◊- .
.
◊◊. /
ToString
◊◊/ 7
(
◊◊7 8
)
◊◊8 9
;
◊◊9 :
this
ÿÿ 
.
ÿÿ 
authCode
ÿÿ 
=
ÿÿ 
reader
ÿÿ  &
[
ÿÿ& '
$str
ÿÿ' 1
]
ÿÿ1 2
.
ÿÿ2 3
ToString
ÿÿ3 ;
(
ÿÿ; <
)
ÿÿ< =
;
ÿÿ= >
this
ŸŸ 
.
ŸŸ 
amount
ŸŸ 
=
ŸŸ 
Convert
ŸŸ %
.
ŸŸ% &
	ToDecimal
ŸŸ& /
(
ŸŸ/ 0
reader
ŸŸ0 6
[
ŸŸ6 7
$str
ŸŸ7 ?
]
ŸŸ? @
)
ŸŸ@ A
;
ŸŸA B
this
⁄⁄ 
.
⁄⁄ 
tax
⁄⁄ 
=
⁄⁄ 
Convert
⁄⁄ "
.
⁄⁄" #
	ToDecimal
⁄⁄# ,
(
⁄⁄, -
reader
⁄⁄- 3
[
⁄⁄3 4
$str
⁄⁄4 9
]
⁄⁄9 :
)
⁄⁄: ;
;
⁄⁄; <
this
€€ 
.
€€ 
duty
€€ 
=
€€ 
Convert
€€ #
.
€€# $
	ToDecimal
€€$ -
(
€€- .
reader
€€. 4
[
€€4 5
$str
€€5 ;
]
€€; <
)
€€< =
;
€€= >
this
‹‹ 
.
‹‹ 
freight
‹‹ 
=
‹‹ 
Convert
‹‹ &
.
‹‹& '
	ToDecimal
‹‹' 0
(
‹‹0 1
reader
‹‹1 7
[
‹‹7 8
$str
‹‹8 A
]
‹‹A B
)
‹‹B C
;
‹‹C D
}
ﬁﬁ 
}
‡‡ 	
private
ÊÊ 
bool
ÊÊ 
Create
ÊÊ 
(
ÊÊ 
)
ÊÊ 
{
ÁÁ 	
this
ËË 
.
ËË 
rowGuid
ËË 
=
ËË 
Guid
ËË 
.
ËË  
NewGuid
ËË  '
(
ËË' (
)
ËË( )
;
ËË) *
int
ÍÍ 
rowsAffected
ÍÍ 
=
ÍÍ 
DBPaymentLog
ÍÍ +
.
ÍÍ+ ,
Create
ÍÍ, 2
(
ÍÍ2 3
this
ÎÎ 
.
ÎÎ 
rowGuid
ÎÎ 
,
ÎÎ 
this
ÏÏ 
.
ÏÏ 

createdUtc
ÏÏ 
,
ÏÏ  
this
ÌÌ 
.
ÌÌ 
siteGuid
ÌÌ 
,
ÌÌ 
this
ÓÓ 
.
ÓÓ 
userGuid
ÓÓ 
,
ÓÓ 
this
ÔÔ 
.
ÔÔ 
	storeGuid
ÔÔ 
,
ÔÔ 
this
 
.
 
cartGuid
 
,
 
this
ÒÒ 
.
ÒÒ 
provider
ÒÒ 
,
ÒÒ 
this
ÚÚ 
.
ÚÚ 
rawResponse
ÚÚ  
,
ÚÚ  !
this
ÛÛ 
.
ÛÛ 
responseCode
ÛÛ !
,
ÛÛ! "
this
ÙÙ 
.
ÙÙ  
responseReasonCode
ÙÙ '
,
ÙÙ' (
this
ıı 
.
ıı 
reason
ıı 
,
ıı 
this
ˆˆ 
.
ˆˆ 
avsCode
ˆˆ 
,
ˆˆ 
this
˜˜ 
.
˜˜ 
ccvCode
˜˜ 
,
˜˜ 
this
¯¯ 
.
¯¯ 
cavCode
¯¯ 
,
¯¯ 
this
˘˘ 
.
˘˘ 
transactionId
˘˘ "
,
˘˘" #
this
˙˙ 
.
˙˙ 
transactionType
˙˙ $
,
˙˙$ %
this
˚˚ 
.
˚˚ 
method
˚˚ 
,
˚˚ 
this
¸¸ 
.
¸¸ 
authCode
¸¸ 
,
¸¸ 
this
˝˝ 
.
˝˝ 
amount
˝˝ 
,
˝˝ 
this
˛˛ 
.
˛˛ 
tax
˛˛ 
,
˛˛ 
this
ˇˇ 
.
ˇˇ 
duty
ˇˇ 
,
ˇˇ 
this
ÄÄ 
.
ÄÄ 
freight
ÄÄ 
)
ÄÄ 
;
ÄÄ 
return
ÇÇ 
(
ÇÇ 
rowsAffected
ÇÇ  
>
ÇÇ! "
$num
ÇÇ# $
)
ÇÇ$ %
;
ÇÇ% &
}
ÑÑ 	
private
ãã 
bool
ãã 
Update
ãã 
(
ãã 
)
ãã 
{
åå 	
return
éé 
DBPaymentLog
éé 
.
éé  
Update
éé  &
(
éé& '
this
èè 
.
èè 
rowGuid
èè 
,
èè 
this
êê 
.
êê 
siteGuid
êê 
,
êê 
this
ëë 
.
ëë 
userGuid
ëë 
,
ëë 
this
íí 
.
íí 
	storeGuid
íí 
,
íí 
this
ìì 
.
ìì 
cartGuid
ìì 
,
ìì 
this
îî 
.
îî 
rawResponse
îî  
,
îî  !
this
ïï 
.
ïï 
responseCode
ïï !
,
ïï! "
this
ññ 
.
ññ  
responseReasonCode
ññ '
,
ññ' (
this
óó 
.
óó 
reason
óó 
,
óó 
this
òò 
.
òò 
avsCode
òò 
,
òò 
this
ôô 
.
ôô 
ccvCode
ôô 
,
ôô 
this
öö 
.
öö 
cavCode
öö 
,
öö 
this
õõ 
.
õõ 
transactionId
õõ "
,
õõ" #
this
úú 
.
úú 
transactionType
úú $
,
úú$ %
this
ùù 
.
ùù 
method
ùù 
,
ùù 
this
ûû 
.
ûû 
authCode
ûû 
,
ûû 
this
üü 
.
üü 
amount
üü 
,
üü 
this
†† 
.
†† 
tax
†† 
,
†† 
this
°° 
.
°° 
duty
°° 
,
°° 
this
¢¢ 
.
¢¢ 
freight
¢¢ 
)
¢¢ 
;
¢¢ 
}
§§ 	
public
≠≠ 
bool
≠≠ 
Save
≠≠ 
(
≠≠ 
)
≠≠ 
{
ÆÆ 	
if
ØØ 
(
ØØ 
this
ØØ 
.
ØØ 
rowGuid
ØØ 
!=
ØØ 
Guid
ØØ  $
.
ØØ$ %
Empty
ØØ% *
)
ØØ* +
{
∞∞ 
return
±± 
Update
±± 
(
±± 
)
±± 
;
±±  
}
≤≤ 
else
≥≥ 
{
¥¥ 
return
µµ 
Create
µµ 
(
µµ 
)
µµ 
;
µµ  
}
∂∂ 
}
∑∑ 	
public
¡¡ 
static
¡¡ 
bool
¡¡ 
Delete
¡¡ !
(
¡¡! "
Guid
¡¡" &
rowGuid
¡¡' .
)
¡¡. /
{
¬¬ 	
return
√√ 
DBPaymentLog
√√ 
.
√√  
Delete
√√  &
(
√√& '
rowGuid
√√' .
)
√√. /
;
√√/ 0
}
ƒƒ 	
public
∆∆ 
static
∆∆ 
IDataReader
∆∆ !
	GetByCart
∆∆" +
(
∆∆+ ,
Guid
∆∆, 0
cartGuid
∆∆1 9
)
∆∆9 :
{
«« 	
return
»» 
DBPaymentLog
»» 
.
»»  
	GetByCart
»»  )
(
»») *
cartGuid
»»* 2
)
»»2 3
;
»»3 4
}
…… 	
}
ÀÀ 
}ÃÃ Û˘
tD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\CommerceCore\PayPalLog.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
	PayPalLog 
{ 
public 
	PayPalLog 
( 
) 
{ 	
}
 
public   
	PayPalLog   
(   
Guid   
rowGuid   %
)  % &
{!! 	
GetPayPalLog"" 
("" 
rowGuid""  
)""  !
;""! "
}## 	
private)) 
Guid)) 
rowGuid)) 
=)) 
Guid)) #
.))# $
Empty))$ )
;))) *
private** 
DateTime** 

createdUtc** #
=**$ %
DateTime**& .
.**. /
UtcNow**/ 5
;**5 6
private++ 
Guid++ 
siteGuid++ 
=++ 
Guid++  $
.++$ %
Empty++% *
;++* +
private,, 
Guid,, 
userGuid,, 
=,, 
Guid,,  $
.,,$ %
Empty,,% *
;,,* +
private-- 
Guid-- 
	storeGuid-- 
=--  
Guid--! %
.--% &
Empty--& +
;--+ ,
private.. 
Guid.. 
cartGuid.. 
=.. 
Guid..  $
...$ %
Empty..% *
;..* +
private// 
string// 
requestType// "
=//# $
string//% +
.//+ ,
Empty//, 1
;//1 2
private00 
string00 

apiVersion00 !
=00" #
string00$ *
.00* +
Empty00+ 0
;000 1
private11 
string11 
rawResponse11 "
=11# $
string11% +
.11+ ,
Empty11, 1
;111 2
private22 
string22 
token22 
=22 
string22 %
.22% &
Empty22& +
;22+ ,
private33 
string33 
payerId33 
=33  
string33! '
.33' (
Empty33( -
;33- .
private44 
string44 
transactionId44 $
=44% &
string44' -
.44- .
Empty44. 3
;443 4
private55 
string55 
paymentType55 "
=55# $
string55% +
.55+ ,
Empty55, 1
;551 2
private66 
string66 
paymentStatus66 $
=66% &
string66' -
.66- .
Empty66. 3
;663 4
private77 
string77 
pendingReason77 $
=77% &
string77' -
.77- .
Empty77. 3
;773 4
private88 
string88 

reasonCode88 !
=88" #
string88$ *
.88* +
Empty88+ 0
;880 1
private99 
string99 
currencyCode99 #
=99$ %
string99& ,
.99, -
Empty99- 2
;992 3
private:: 
decimal:: 
exchangeRate:: $
=::% &
$num::' (
;::( )
private;; 
decimal;; 
	cartTotal;; !
=;;" #
$num;;$ %
;;;% &
private<< 
decimal<< 
	payPalAmt<< !
=<<" #
$num<<$ %
;<<% &
private== 
decimal== 
taxAmt== 
===  
$num==! "
;==" #
private>> 
decimal>> 
feeAmt>> 
=>>  
$num>>! "
;>>" #
private?? 
decimal?? 
	settleAmt?? !
=??" #
$num??$ %
;??% &
private@@ 
string@@ 
providerName@@ #
=@@$ %
string@@& ,
.@@, -
Empty@@- 2
;@@2 3
privateAA 
stringAA 
pdtProviderNameAA &
=AA' (
stringAA) /
.AA/ 0
EmptyAA0 5
;AA5 6
privateBB 
stringBB 
ipnProviderNameBB &
=BB' (
stringBB) /
.BB/ 0
EmptyBB0 5
;BB5 6
privateCC 
stringCC 
responseCC 
=CC  !
stringCC" (
.CC( )
EmptyCC) .
;CC. /
privateDD 
stringDD 
	returnUrlDD  
=DD! "
stringDD# )
.DD) *
EmptyDD* /
;DD/ 0
privateEE 
stringEE 
serializedObjectEE '
=EE( )
stringEE* 0
.EE0 1
EmptyEE1 6
;EE6 7
publicOO 
GuidOO 
RowGuidOO 
{PP 	
getQQ 
{QQ 
returnQQ 
rowGuidQQ  
;QQ  !
}QQ" #
setRR 
{RR 
rowGuidRR 
=RR 
valueRR !
;RR! "
}RR# $
}SS 	
publicTT 
DateTimeTT 

CreatedUtcTT "
{UU 	
getVV 
{VV 
returnVV 

createdUtcVV #
;VV# $
}VV% &
setWW 
{WW 

createdUtcWW 
=WW 
valueWW $
;WW$ %
}WW& '
}XX 	
publicYY 
GuidYY 
SiteGuidYY 
{ZZ 	
get[[ 
{[[ 
return[[ 
siteGuid[[ !
;[[! "
}[[# $
set\\ 
{\\ 
siteGuid\\ 
=\\ 
value\\ "
;\\" #
}\\$ %
}]] 	
public^^ 
Guid^^ 
UserGuid^^ 
{__ 	
get`` 
{`` 
return`` 
userGuid`` !
;``! "
}``# $
setaa 
{aa 
userGuidaa 
=aa 
valueaa "
;aa" #
}aa$ %
}bb 	
publiccc 
Guidcc 
	StoreGuidcc 
{dd 	
getee 
{ee 
returnee 
	storeGuidee "
;ee" #
}ee$ %
setff 
{ff 
	storeGuidff 
=ff 
valueff #
;ff# $
}ff% &
}gg 	
publichh 
Guidhh 
CartGuidhh 
{ii 	
getjj 
{jj 
returnjj 
cartGuidjj !
;jj! "
}jj# $
setkk 
{kk 
cartGuidkk 
=kk 
valuekk "
;kk" #
}kk$ %
}ll 	
publicmm 
stringmm 
RequestTypemm !
{nn 	
getoo 
{oo 
returnoo 
requestTypeoo $
;oo$ %
}oo& '
setpp 
{pp 
requestTypepp 
=pp 
valuepp  %
;pp% &
}pp' (
}qq 	
publicrr 
stringrr 

ApiVersionrr  
{ss 	
gettt 
{tt 
returntt 

apiVersiontt #
;tt# $
}tt% &
setuu 
{uu 

apiVersionuu 
=uu 
valueuu $
;uu$ %
}uu& '
}vv 	
publicww 
stringww 
RawResponseww !
{xx 	
getyy 
{yy 
returnyy 
rawResponseyy $
;yy$ %
}yy& '
setzz 
{zz 
rawResponsezz 
=zz 
valuezz  %
;zz% &
}zz' (
}{{ 	
public|| 
string|| 
Token|| 
{}} 	
get~~ 
{~~ 
return~~ 
token~~ 
;~~ 
}~~  !
set 
{ 
token 
= 
value 
;  
}! "
}
ÄÄ 	
public
ÅÅ 
string
ÅÅ 
PayerId
ÅÅ 
{
ÇÇ 	
get
ÉÉ 
{
ÉÉ 
return
ÉÉ 
payerId
ÉÉ  
;
ÉÉ  !
}
ÉÉ" #
set
ÑÑ 
{
ÑÑ 
payerId
ÑÑ 
=
ÑÑ 
value
ÑÑ !
;
ÑÑ! "
}
ÑÑ# $
}
ÖÖ 	
public
ÜÜ 
string
ÜÜ 
TransactionId
ÜÜ #
{
áá 	
get
àà 
{
àà 
return
àà 
transactionId
àà &
;
àà& '
}
àà( )
set
ââ 
{
ââ 
transactionId
ââ 
=
ââ  !
value
ââ" '
;
ââ' (
}
ââ) *
}
ää 	
public
ãã 
string
ãã 
PaymentType
ãã !
{
åå 	
get
çç 
{
çç 
return
çç 
paymentType
çç $
;
çç$ %
}
çç& '
set
éé 
{
éé 
paymentType
éé 
=
éé 
value
éé  %
;
éé% &
}
éé' (
}
èè 	
public
êê 
string
êê 
PaymentStatus
êê #
{
ëë 	
get
íí 
{
íí 
return
íí 
paymentStatus
íí &
;
íí& '
}
íí( )
set
ìì 
{
ìì 
paymentStatus
ìì 
=
ìì  !
value
ìì" '
;
ìì' (
}
ìì) *
}
îî 	
public
ïï 
string
ïï 
PendingReason
ïï #
{
ññ 	
get
óó 
{
óó 
return
óó 
pendingReason
óó &
;
óó& '
}
óó( )
set
òò 
{
òò 
pendingReason
òò 
=
òò  !
value
òò" '
;
òò' (
}
òò) *
}
ôô 	
public
öö 
string
öö 

ReasonCode
öö  
{
õõ 	
get
úú 
{
úú 
return
úú 

reasonCode
úú #
;
úú# $
}
úú% &
set
ùù 
{
ùù 

reasonCode
ùù 
=
ùù 
value
ùù $
;
ùù$ %
}
ùù& '
}
ûû 	
public
üü 
string
üü 
CurrencyCode
üü "
{
†† 	
get
°° 
{
°° 
return
°° 
currencyCode
°° %
;
°°% &
}
°°' (
set
¢¢ 
{
¢¢ 
currencyCode
¢¢ 
=
¢¢  
value
¢¢! &
;
¢¢& '
}
¢¢( )
}
££ 	
public
§§ 
decimal
§§ 
ExchangeRate
§§ #
{
•• 	
get
¶¶ 
{
¶¶ 
return
¶¶ 
exchangeRate
¶¶ %
;
¶¶% &
}
¶¶' (
set
ßß 
{
ßß 
exchangeRate
ßß 
=
ßß  
value
ßß! &
;
ßß& '
}
ßß( )
}
®® 	
public
©© 
decimal
©© 
	CartTotal
©©  
{
™™ 	
get
´´ 
{
´´ 
return
´´ 
	cartTotal
´´ "
;
´´" #
}
´´$ %
set
¨¨ 
{
¨¨ 
	cartTotal
¨¨ 
=
¨¨ 
value
¨¨ #
;
¨¨# $
}
¨¨% &
}
≠≠ 	
public
ÆÆ 
decimal
ÆÆ 
	PayPalAmt
ÆÆ  
{
ØØ 	
get
∞∞ 
{
∞∞ 
return
∞∞ 
	payPalAmt
∞∞ "
;
∞∞" #
}
∞∞$ %
set
±± 
{
±± 
	payPalAmt
±± 
=
±± 
value
±± #
;
±±# $
}
±±% &
}
≤≤ 	
public
≥≥ 
decimal
≥≥ 
TaxAmt
≥≥ 
{
¥¥ 	
get
µµ 
{
µµ 
return
µµ 
taxAmt
µµ 
;
µµ  
}
µµ! "
set
∂∂ 
{
∂∂ 
taxAmt
∂∂ 
=
∂∂ 
value
∂∂  
;
∂∂  !
}
∂∂" #
}
∑∑ 	
public
∏∏ 
decimal
∏∏ 
FeeAmt
∏∏ 
{
ππ 	
get
∫∫ 
{
∫∫ 
return
∫∫ 
feeAmt
∫∫ 
;
∫∫  
}
∫∫! "
set
ªª 
{
ªª 
feeAmt
ªª 
=
ªª 
value
ªª  
;
ªª  !
}
ªª" #
}
ºº 	
public
ΩΩ 
decimal
ΩΩ 
	SettleAmt
ΩΩ  
{
ææ 	
get
øø 
{
øø 
return
øø 
	settleAmt
øø "
;
øø" #
}
øø$ %
set
¿¿ 
{
¿¿ 
	settleAmt
¿¿ 
=
¿¿ 
value
¿¿ #
;
¿¿# $
}
¿¿% &
}
¡¡ 	
public
¬¬ 
string
¬¬ 
ProviderName
¬¬ "
{
√√ 	
get
ƒƒ 
{
ƒƒ 
return
ƒƒ 
providerName
ƒƒ %
;
ƒƒ% &
}
ƒƒ' (
set
≈≈ 
{
≈≈ 
providerName
≈≈ 
=
≈≈  
value
≈≈! &
;
≈≈& '
}
≈≈( )
}
∆∆ 	
public
»» 
string
»» 
	ReturnUrl
»» 
{
…… 	
get
   
{
   
return
   
	returnUrl
   "
;
  " #
}
  $ %
set
ÀÀ 
{
ÀÀ 
	returnUrl
ÀÀ 
=
ÀÀ 
value
ÀÀ #
;
ÀÀ# $
}
ÀÀ% &
}
ÃÃ 	
public
ŒŒ 
string
ŒŒ 
SerializedObject
ŒŒ &
{
œœ 	
get
–– 
{
–– 
return
–– 
serializedObject
–– )
;
––) *
}
––+ ,
set
—— 
{
—— 
serializedObject
—— "
=
——# $
value
——% *
;
——* +
}
——, -
}
““ 	
public
’’ 
string
’’ 
PDTProviderName
’’ %
{
÷÷ 	
get
◊◊ 
{
◊◊ 
return
◊◊ 
pdtProviderName
◊◊ (
;
◊◊( )
}
◊◊* +
set
ÿÿ 
{
ÿÿ 
pdtProviderName
ÿÿ !
=
ÿÿ" #
value
ÿÿ$ )
;
ÿÿ) *
}
ÿÿ+ ,
}
ŸŸ 	
public
€€ 
string
€€ 
IPNProviderName
€€ %
{
‹‹ 	
get
›› 
{
›› 
return
›› 
ipnProviderName
›› (
;
››( )
}
››* +
set
ﬁﬁ 
{
ﬁﬁ 
ipnProviderName
ﬁﬁ !
=
ﬁﬁ" #
value
ﬁﬁ$ )
;
ﬁﬁ) *
}
ﬁﬁ+ ,
}
ﬂﬂ 	
public
·· 
string
·· 
Response
·· 
{
‚‚ 	
get
„„ 
{
„„ 
return
„„ 
response
„„ !
;
„„! "
}
„„# $
set
‰‰ 
{
‰‰ 
response
‰‰ 
=
‰‰ 
value
‰‰ "
;
‰‰" #
}
‰‰$ %
}
ÂÂ 	
private
ÔÔ 
void
ÔÔ 
GetPayPalLog
ÔÔ !
(
ÔÔ! "
Guid
ÔÔ" &
rowGuid
ÔÔ' .
)
ÔÔ. /
{
 	
using
ÒÒ 
(
ÒÒ 
IDataReader
ÒÒ 
reader
ÒÒ %
=
ÒÒ& '
DBPayPalLog
ÒÒ( 3
.
ÒÒ3 4
GetOne
ÒÒ4 :
(
ÒÒ: ;
rowGuid
ÒÒ; B
)
ÒÒB C
)
ÒÒC D
{
ÚÚ  
PopulateFromReader
ÛÛ "
(
ÛÛ" #
this
ÛÛ# '
,
ÛÛ' (
reader
ÛÛ) /
)
ÛÛ/ 0
;
ÛÛ0 1
}
ÙÙ 
}
ˆˆ 	
private
ˇˇ 
bool
ˇˇ 
Create
ˇˇ 
(
ˇˇ 
)
ˇˇ 
{
ÄÄ 	
this
ÅÅ 
.
ÅÅ 
rowGuid
ÅÅ 
=
ÅÅ 
Guid
ÅÅ 
.
ÅÅ  
NewGuid
ÅÅ  '
(
ÅÅ' (
)
ÅÅ( )
;
ÅÅ) *
int
ÉÉ 
rowsAffected
ÉÉ 
=
ÉÉ 
DBPayPalLog
ÉÉ *
.
ÉÉ* +
Create
ÉÉ+ 1
(
ÉÉ1 2
this
ÑÑ 
.
ÑÑ 
rowGuid
ÑÑ 
,
ÑÑ 
this
ÖÖ 
.
ÖÖ 

createdUtc
ÖÖ 
,
ÖÖ  
this
ÜÜ 
.
ÜÜ 
siteGuid
ÜÜ 
,
ÜÜ 
this
áá 
.
áá 
userGuid
áá 
,
áá 
this
àà 
.
àà 
	storeGuid
àà 
,
àà 
this
ââ 
.
ââ 
cartGuid
ââ 
,
ââ 
this
ää 
.
ää 
requestType
ää  
,
ää  !
this
ãã 
.
ãã 

apiVersion
ãã 
,
ãã  
this
åå 
.
åå 
rawResponse
åå  
,
åå  !
this
çç 
.
çç 
token
çç 
,
çç 
this
éé 
.
éé 
payerId
éé 
,
éé 
this
èè 
.
èè 
transactionId
èè "
,
èè" #
this
êê 
.
êê 
paymentType
êê  
,
êê  !
this
ëë 
.
ëë 
paymentStatus
ëë "
,
ëë" #
this
íí 
.
íí 
pendingReason
íí "
,
íí" #
this
ìì 
.
ìì 

reasonCode
ìì 
,
ìì  
this
îî 
.
îî 
currencyCode
îî !
,
îî! "
this
ïï 
.
ïï 
exchangeRate
ïï !
,
ïï! "
this
ññ 
.
ññ 
	cartTotal
ññ 
,
ññ 
this
óó 
.
óó 
	payPalAmt
óó 
,
óó 
this
òò 
.
òò 
taxAmt
òò 
,
òò 
this
ôô 
.
ôô 
feeAmt
ôô 
,
ôô 
this
öö 
.
öö 
	settleAmt
öö 
,
öö 
this
õõ 
.
õõ 
providerName
õõ !
,
õõ! "
this
úú 
.
úú 
	returnUrl
úú 
,
úú 
this
ùù 
.
ùù 
serializedObject
ùù %
,
ùù% &
this
ûû 
.
ûû 
pdtProviderName
ûû $
,
ûû$ %
this
üü 
.
üü 
ipnProviderName
üü $
,
üü$ %
this
†† 
.
†† 
response
†† 
)
†† 
;
†† 
return
¢¢ 
(
¢¢ 
rowsAffected
¢¢  
>
¢¢! "
$num
¢¢# $
)
¢¢$ %
;
¢¢% &
}
§§ 	
private
´´ 
bool
´´ 
Update
´´ 
(
´´ 
)
´´ 
{
¨¨ 	
return
ÆÆ 
DBPayPalLog
ÆÆ 
.
ÆÆ 
Update
ÆÆ %
(
ÆÆ% &
this
ØØ 
.
ØØ 
rowGuid
ØØ 
,
ØØ 
this
∞∞ 
.
∞∞ 

createdUtc
∞∞ 
,
∞∞  
this
±± 
.
±± 
siteGuid
±± 
,
±± 
this
≤≤ 
.
≤≤ 
userGuid
≤≤ 
,
≤≤ 
this
≥≥ 
.
≥≥ 
	storeGuid
≥≥ 
,
≥≥ 
this
¥¥ 
.
¥¥ 
cartGuid
¥¥ 
,
¥¥ 
this
µµ 
.
µµ 
requestType
µµ  
,
µµ  !
this
∂∂ 
.
∂∂ 

apiVersion
∂∂ 
,
∂∂  
this
∑∑ 
.
∑∑ 
rawResponse
∑∑  
,
∑∑  !
this
∏∏ 
.
∏∏ 
token
∏∏ 
,
∏∏ 
this
ππ 
.
ππ 
payerId
ππ 
,
ππ 
this
∫∫ 
.
∫∫ 
transactionId
∫∫ "
,
∫∫" #
this
ªª 
.
ªª 
paymentType
ªª  
,
ªª  !
this
ºº 
.
ºº 
paymentStatus
ºº "
,
ºº" #
this
ΩΩ 
.
ΩΩ 
pendingReason
ΩΩ "
,
ΩΩ" #
this
ææ 
.
ææ 

reasonCode
ææ 
,
ææ  
this
øø 
.
øø 
currencyCode
øø !
,
øø! "
this
¿¿ 
.
¿¿ 
exchangeRate
¿¿ !
,
¿¿! "
this
¡¡ 
.
¡¡ 
	cartTotal
¡¡ 
,
¡¡ 
this
¬¬ 
.
¬¬ 
	payPalAmt
¬¬ 
,
¬¬ 
this
√√ 
.
√√ 
taxAmt
√√ 
,
√√ 
this
ƒƒ 
.
ƒƒ 
feeAmt
ƒƒ 
,
ƒƒ 
this
≈≈ 
.
≈≈ 
	settleAmt
≈≈ 
)
≈≈ 
;
≈≈  
}
«« 	
public
’’ 
bool
’’ 
Save
’’ 
(
’’ 
)
’’ 
{
÷÷ 	
if
◊◊ 
(
◊◊ 
this
◊◊ 
.
◊◊ 
rowGuid
◊◊ 
!=
◊◊ 
Guid
◊◊  $
.
◊◊$ %
Empty
◊◊% *
)
◊◊* +
{
ÿÿ 
return
ŸŸ 
Update
ŸŸ 
(
ŸŸ 
)
ŸŸ 
;
ŸŸ  
}
⁄⁄ 
else
€€ 
{
‹‹ 
return
›› 
Create
›› 
(
›› 
)
›› 
;
››  
}
ﬁﬁ 
}
ﬂﬂ 	
public
ÌÌ 
static
ÌÌ 
bool
ÌÌ 
Delete
ÌÌ !
(
ÌÌ! "
Guid
ÌÌ" &
rowGuid
ÌÌ' .
)
ÌÌ. /
{
ÓÓ 	
return
ÔÔ 
DBPayPalLog
ÔÔ 
.
ÔÔ 
Delete
ÔÔ %
(
ÔÔ% &
rowGuid
ÔÔ& -
)
ÔÔ- .
;
ÔÔ. /
}
 	
public
ÚÚ 
static
ÚÚ 
bool
ÚÚ 
DeleteByCart
ÚÚ '
(
ÚÚ' (
Guid
ÚÚ( ,
cartGuid
ÚÚ- 5
)
ÚÚ5 6
{
ÛÛ 	
return
ÙÙ 
DBPayPalLog
ÙÙ 
.
ÙÙ 
DeleteByCart
ÙÙ +
(
ÙÙ+ ,
cartGuid
ÙÙ, 4
)
ÙÙ4 5
;
ÙÙ5 6
}
ıı 	
public
˜˜ 
static
˜˜ 
bool
˜˜ 
DeleteBySite
˜˜ '
(
˜˜' (
Guid
˜˜( ,
siteGuid
˜˜- 5
)
˜˜5 6
{
¯¯ 	
return
˘˘ 
DBPayPalLog
˘˘ 
.
˘˘ 
DeleteBySite
˘˘ +
(
˘˘+ ,
siteGuid
˘˘, 4
)
˘˘4 5
;
˘˘5 6
}
˙˙ 	
public
¸¸ 
static
¸¸ 
bool
¸¸ 
DeleteByStore
¸¸ (
(
¸¸( )
Guid
¸¸) -
	storeGuid
¸¸. 7
)
¸¸7 8
{
˝˝ 	
return
˛˛ 
DBPayPalLog
˛˛ 
.
˛˛ 
DeleteByStore
˛˛ ,
(
˛˛, -
	storeGuid
˛˛- 6
)
˛˛6 7
;
˛˛7 8
}
ˇˇ 	
private
ÅÅ 
static
ÅÅ 
void
ÅÅ  
PopulateFromReader
ÅÅ .
(
ÅÅ. /
	PayPalLog
ÅÅ/ 8
	payPalLog
ÅÅ9 B
,
ÅÅB C
IDataReader
ÅÅD O
reader
ÅÅP V
)
ÅÅV W
{
ÇÇ 	
if
ÉÉ 
(
ÉÉ 
reader
ÉÉ 
.
ÉÉ 
Read
ÉÉ 
(
ÉÉ 
)
ÉÉ 
)
ÉÉ 
{
ÑÑ 
	payPalLog
ÖÖ 
.
ÖÖ 
rowGuid
ÖÖ !
=
ÖÖ" #
new
ÖÖ$ '
Guid
ÖÖ( ,
(
ÖÖ, -
reader
ÖÖ- 3
[
ÖÖ3 4
$str
ÖÖ4 =
]
ÖÖ= >
.
ÖÖ> ?
ToString
ÖÖ? G
(
ÖÖG H
)
ÖÖH I
)
ÖÖI J
;
ÖÖJ K
	payPalLog
ÜÜ 
.
ÜÜ 

createdUtc
ÜÜ $
=
ÜÜ% &
Convert
ÜÜ' .
.
ÜÜ. /

ToDateTime
ÜÜ/ 9
(
ÜÜ9 :
reader
ÜÜ: @
[
ÜÜ@ A
$str
ÜÜA M
]
ÜÜM N
)
ÜÜN O
;
ÜÜO P
	payPalLog
áá 
.
áá 
siteGuid
áá "
=
áá# $
new
áá% (
Guid
áá) -
(
áá- .
reader
áá. 4
[
áá4 5
$str
áá5 ?
]
áá? @
.
áá@ A
ToString
ááA I
(
ááI J
)
ááJ K
)
ááK L
;
ááL M
	payPalLog
àà 
.
àà 
userGuid
àà "
=
àà# $
new
àà% (
Guid
àà) -
(
àà- .
reader
àà. 4
[
àà4 5
$str
àà5 ?
]
àà? @
.
àà@ A
ToString
ààA I
(
ààI J
)
ààJ K
)
ààK L
;
ààL M
	payPalLog
ââ 
.
ââ 
	storeGuid
ââ #
=
ââ$ %
new
ââ& )
Guid
ââ* .
(
ââ. /
reader
ââ/ 5
[
ââ5 6
$str
ââ6 A
]
ââA B
.
ââB C
ToString
ââC K
(
ââK L
)
ââL M
)
ââM N
;
ââN O
	payPalLog
ää 
.
ää 
cartGuid
ää "
=
ää# $
new
ää% (
Guid
ää) -
(
ää- .
reader
ää. 4
[
ää4 5
$str
ää5 ?
]
ää? @
.
ää@ A
ToString
ääA I
(
ääI J
)
ääJ K
)
ääK L
;
ääL M
	payPalLog
ãã 
.
ãã 
requestType
ãã %
=
ãã& '
reader
ãã( .
[
ãã. /
$str
ãã/ <
]
ãã< =
.
ãã= >
ToString
ãã> F
(
ããF G
)
ããG H
;
ããH I
	payPalLog
åå 
.
åå 

apiVersion
åå $
=
åå% &
reader
åå' -
[
åå- .
$str
åå. :
]
åå: ;
.
åå; <
ToString
åå< D
(
ååD E
)
ååE F
;
ååF G
	payPalLog
çç 
.
çç 
rawResponse
çç %
=
çç& '
reader
çç( .
[
çç. /
$str
çç/ <
]
çç< =
.
çç= >
ToString
çç> F
(
ççF G
)
ççG H
;
ççH I
	payPalLog
éé 
.
éé 
token
éé 
=
éé  !
reader
éé" (
[
éé( )
$str
éé) 0
]
éé0 1
.
éé1 2
ToString
éé2 :
(
éé: ;
)
éé; <
;
éé< =
	payPalLog
èè 
.
èè 
payerId
èè !
=
èè" #
reader
èè$ *
[
èè* +
$str
èè+ 4
]
èè4 5
.
èè5 6
ToString
èè6 >
(
èè> ?
)
èè? @
;
èè@ A
	payPalLog
êê 
.
êê 
transactionId
êê '
=
êê( )
reader
êê* 0
[
êê0 1
$str
êê1 @
]
êê@ A
.
êêA B
ToString
êêB J
(
êêJ K
)
êêK L
;
êêL M
	payPalLog
ëë 
.
ëë 
paymentType
ëë %
=
ëë& '
reader
ëë( .
[
ëë. /
$str
ëë/ <
]
ëë< =
.
ëë= >
ToString
ëë> F
(
ëëF G
)
ëëG H
;
ëëH I
	payPalLog
íí 
.
íí 
paymentStatus
íí '
=
íí( )
reader
íí* 0
[
íí0 1
$str
íí1 @
]
íí@ A
.
ííA B
ToString
ííB J
(
ííJ K
)
ííK L
;
ííL M
	payPalLog
ìì 
.
ìì 
pendingReason
ìì '
=
ìì( )
reader
ìì* 0
[
ìì0 1
$str
ìì1 @
]
ìì@ A
.
ììA B
ToString
ììB J
(
ììJ K
)
ììK L
;
ììL M
	payPalLog
îî 
.
îî 

reasonCode
îî $
=
îî% &
reader
îî' -
[
îî- .
$str
îî. :
]
îî: ;
.
îî; <
ToString
îî< D
(
îîD E
)
îîE F
;
îîF G
	payPalLog
ïï 
.
ïï 
currencyCode
ïï &
=
ïï' (
reader
ïï) /
[
ïï/ 0
$str
ïï0 >
]
ïï> ?
.
ïï? @
ToString
ïï@ H
(
ïïH I
)
ïïI J
;
ïïJ K
	payPalLog
ññ 
.
ññ 
exchangeRate
ññ &
=
ññ' (
Convert
ññ) 0
.
ññ0 1
	ToDecimal
ññ1 :
(
ññ: ;
reader
ññ; A
[
ññA B
$str
ññB P
]
ññP Q
)
ññQ R
;
ññR S
	payPalLog
óó 
.
óó 
	cartTotal
óó #
=
óó$ %
Convert
óó& -
.
óó- .
	ToDecimal
óó. 7
(
óó7 8
reader
óó8 >
[
óó> ?
$str
óó? J
]
óóJ K
)
óóK L
;
óóL M
	payPalLog
òò 
.
òò 
	payPalAmt
òò #
=
òò$ %
Convert
òò& -
.
òò- .
	ToDecimal
òò. 7
(
òò7 8
reader
òò8 >
[
òò> ?
$str
òò? J
]
òòJ K
)
òòK L
;
òòL M
	payPalLog
ôô 
.
ôô 
taxAmt
ôô  
=
ôô! "
Convert
ôô# *
.
ôô* +
	ToDecimal
ôô+ 4
(
ôô4 5
reader
ôô5 ;
[
ôô; <
$str
ôô< D
]
ôôD E
)
ôôE F
;
ôôF G
	payPalLog
öö 
.
öö 
feeAmt
öö  
=
öö! "
Convert
öö# *
.
öö* +
	ToDecimal
öö+ 4
(
öö4 5
reader
öö5 ;
[
öö; <
$str
öö< D
]
ööD E
)
ööE F
;
ööF G
	payPalLog
õõ 
.
õõ 
	settleAmt
õõ #
=
õõ$ %
Convert
õõ& -
.
õõ- .
	ToDecimal
õõ. 7
(
õõ7 8
reader
õõ8 >
[
õõ> ?
$str
õõ? J
]
õõJ K
)
õõK L
;
õõL M
	payPalLog
úú 
.
úú 
providerName
úú &
=
úú' (
reader
úú) /
[
úú/ 0
$str
úú0 >
]
úú> ?
.
úú? @
ToString
úú@ H
(
úúH I
)
úúI J
;
úúJ K
	payPalLog
ùù 
.
ùù 
	returnUrl
ùù #
=
ùù$ %
reader
ùù& ,
[
ùù, -
$str
ùù- 8
]
ùù8 9
.
ùù9 :
ToString
ùù: B
(
ùùB C
)
ùùC D
;
ùùD E
	payPalLog
ûû 
.
ûû 
serializedObject
ûû *
=
ûû+ ,
reader
ûû- 3
[
ûû3 4
$str
ûû4 F
]
ûûF G
.
ûûG H
ToString
ûûH P
(
ûûP Q
)
ûûQ R
;
ûûR S
	payPalLog
üü 
.
üü 
pdtProviderName
üü )
=
üü* +
reader
üü, 2
[
üü2 3
$str
üü3 D
]
üüD E
.
üüE F
ToString
üüF N
(
üüN O
)
üüO P
;
üüP Q
	payPalLog
†† 
.
†† 
ipnProviderName
†† )
=
††* +
reader
††, 2
[
††2 3
$str
††3 D
]
††D E
.
††E F
ToString
††F N
(
††N O
)
††O P
;
††P Q
	payPalLog
°° 
.
°° 
response
°° "
=
°°# $
reader
°°% +
[
°°+ ,
$str
°°, 6
]
°°6 7
.
°°7 8
ToString
°°8 @
(
°°@ A
)
°°A B
;
°°B C
}
££ 
}
•• 	
public
ßß 
static
ßß 
	PayPalLog
ßß #
GetSetExpressCheckout
ßß  5
(
ßß5 6
string
ßß6 <
token
ßß= B
)
ßßB C
{
®® 	
	PayPalLog
©© 
log
©© 
=
©© 
new
©© 
	PayPalLog
©©  )
(
©©) *
)
©©* +
;
©©+ ,
using
™™ 
(
™™ 
IDataReader
™™ 
reader
™™ %
=
™™& '
DBPayPalLog
™™( 3
.
™™3 4#
GetSetExpressCheckout
™™4 I
(
™™I J
token
™™J O
)
™™O P
)
™™P Q
{
´´  
PopulateFromReader
¨¨ "
(
¨¨" #
log
¨¨# &
,
¨¨& '
reader
¨¨( .
)
¨¨. /
;
¨¨/ 0
}
≠≠ 
if
ØØ 
(
ØØ 
log
ØØ 
.
ØØ 
RowGuid
ØØ 
==
ØØ 
Guid
ØØ #
.
ØØ# $
Empty
ØØ$ )
)
ØØ) *
return
ØØ+ 1
null
ØØ2 6
;
ØØ6 7
return
±± 
log
±± 
;
±± 
}
≥≥ 	
public
µµ 
static
µµ 
	PayPalLog
µµ 
GetMostRecent
µµ  -
(
µµ- .
Guid
µµ. 2
cartGuid
µµ3 ;
,
µµ; <
string
µµ= C
requestType
µµD O
)
µµO P
{
∂∂ 	
	PayPalLog
∑∑ 
log
∑∑ 
=
∑∑ 
new
∑∑ 
	PayPalLog
∑∑  )
(
∑∑) *
)
∑∑* +
;
∑∑+ ,
using
∏∏ 
(
∏∏ 
IDataReader
∏∏ 
reader
∏∏ %
=
∏∏& '
DBPayPalLog
∏∏( 3
.
∏∏3 4
GetMostRecentLog
∏∏4 D
(
∏∏D E
cartGuid
∏∏E M
,
∏∏M N
requestType
∏∏O Z
)
∏∏Z [
)
∏∏[ \
{
ππ  
PopulateFromReader
∫∫ "
(
∫∫" #
log
∫∫# &
,
∫∫& '
reader
∫∫( .
)
∫∫. /
;
∫∫/ 0
}
ªª 
if
ΩΩ 
(
ΩΩ 
log
ΩΩ 
.
ΩΩ 
RowGuid
ΩΩ 
==
ΩΩ 
Guid
ΩΩ #
.
ΩΩ# $
Empty
ΩΩ$ )
)
ΩΩ) *
return
ΩΩ+ 1
null
ΩΩ2 6
;
ΩΩ6 7
return
øø 
log
øø 
;
øø 
}
¡¡ 	
private
ÀÀ 
static
ÀÀ 
List
ÀÀ 
<
ÀÀ 
	PayPalLog
ÀÀ %
>
ÀÀ% & 
LoadListFromReader
ÀÀ' 9
(
ÀÀ9 :
IDataReader
ÀÀ: E
reader
ÀÀF L
)
ÀÀL M
{
ÃÃ 	
List
ÕÕ 
<
ÕÕ 
	PayPalLog
ÕÕ 
>
ÕÕ 
payPalLogList
ÕÕ )
=
ÕÕ* +
new
ÕÕ, /
List
ÕÕ0 4
<
ÕÕ4 5
	PayPalLog
ÕÕ5 >
>
ÕÕ> ?
(
ÕÕ? @
)
ÕÕ@ A
;
ÕÕA B
try
ŒŒ 
{
œœ 
while
–– 
(
–– 
reader
–– 
.
–– 
Read
–– "
(
––" #
)
––# $
)
––$ %
{
—— 
	PayPalLog
““ 
	payPalLog
““ '
=
““( )
new
““* -
	PayPalLog
““. 7
(
““7 8
)
““8 9
;
““9 :
	payPalLog
”” 
.
”” 
rowGuid
”” %
=
””& '
new
””( +
Guid
””, 0
(
””0 1
reader
””1 7
[
””7 8
$str
””8 A
]
””A B
.
””B C
ToString
””C K
(
””K L
)
””L M
)
””M N
;
””N O
	payPalLog
‘‘ 
.
‘‘ 

createdUtc
‘‘ (
=
‘‘) *
Convert
‘‘+ 2
.
‘‘2 3

ToDateTime
‘‘3 =
(
‘‘= >
reader
‘‘> D
[
‘‘D E
$str
‘‘E Q
]
‘‘Q R
)
‘‘R S
;
‘‘S T
	payPalLog
’’ 
.
’’ 
siteGuid
’’ &
=
’’' (
new
’’) ,
Guid
’’- 1
(
’’1 2
reader
’’2 8
[
’’8 9
$str
’’9 C
]
’’C D
.
’’D E
ToString
’’E M
(
’’M N
)
’’N O
)
’’O P
;
’’P Q
	payPalLog
÷÷ 
.
÷÷ 
userGuid
÷÷ &
=
÷÷' (
new
÷÷) ,
Guid
÷÷- 1
(
÷÷1 2
reader
÷÷2 8
[
÷÷8 9
$str
÷÷9 C
]
÷÷C D
.
÷÷D E
ToString
÷÷E M
(
÷÷M N
)
÷÷N O
)
÷÷O P
;
÷÷P Q
	payPalLog
◊◊ 
.
◊◊ 
	storeGuid
◊◊ '
=
◊◊( )
new
◊◊* -
Guid
◊◊. 2
(
◊◊2 3
reader
◊◊3 9
[
◊◊9 :
$str
◊◊: E
]
◊◊E F
.
◊◊F G
ToString
◊◊G O
(
◊◊O P
)
◊◊P Q
)
◊◊Q R
;
◊◊R S
	payPalLog
ÿÿ 
.
ÿÿ 
cartGuid
ÿÿ &
=
ÿÿ' (
new
ÿÿ) ,
Guid
ÿÿ- 1
(
ÿÿ1 2
reader
ÿÿ2 8
[
ÿÿ8 9
$str
ÿÿ9 C
]
ÿÿC D
.
ÿÿD E
ToString
ÿÿE M
(
ÿÿM N
)
ÿÿN O
)
ÿÿO P
;
ÿÿP Q
	payPalLog
ŸŸ 
.
ŸŸ 
requestType
ŸŸ )
=
ŸŸ* +
reader
ŸŸ, 2
[
ŸŸ2 3
$str
ŸŸ3 @
]
ŸŸ@ A
.
ŸŸA B
ToString
ŸŸB J
(
ŸŸJ K
)
ŸŸK L
;
ŸŸL M
	payPalLog
⁄⁄ 
.
⁄⁄ 

apiVersion
⁄⁄ (
=
⁄⁄) *
reader
⁄⁄+ 1
[
⁄⁄1 2
$str
⁄⁄2 >
]
⁄⁄> ?
.
⁄⁄? @
ToString
⁄⁄@ H
(
⁄⁄H I
)
⁄⁄I J
;
⁄⁄J K
	payPalLog
€€ 
.
€€ 
rawResponse
€€ )
=
€€* +
reader
€€, 2
[
€€2 3
$str
€€3 @
]
€€@ A
.
€€A B
ToString
€€B J
(
€€J K
)
€€K L
;
€€L M
	payPalLog
‹‹ 
.
‹‹ 
token
‹‹ #
=
‹‹$ %
reader
‹‹& ,
[
‹‹, -
$str
‹‹- 4
]
‹‹4 5
.
‹‹5 6
ToString
‹‹6 >
(
‹‹> ?
)
‹‹? @
;
‹‹@ A
	payPalLog
›› 
.
›› 
payerId
›› %
=
››& '
reader
››( .
[
››. /
$str
››/ 8
]
››8 9
.
››9 :
ToString
››: B
(
››B C
)
››C D
;
››D E
	payPalLog
ﬁﬁ 
.
ﬁﬁ 
transactionId
ﬁﬁ +
=
ﬁﬁ, -
reader
ﬁﬁ. 4
[
ﬁﬁ4 5
$str
ﬁﬁ5 D
]
ﬁﬁD E
.
ﬁﬁE F
ToString
ﬁﬁF N
(
ﬁﬁN O
)
ﬁﬁO P
;
ﬁﬁP Q
	payPalLog
ﬂﬂ 
.
ﬂﬂ 
paymentType
ﬂﬂ )
=
ﬂﬂ* +
reader
ﬂﬂ, 2
[
ﬂﬂ2 3
$str
ﬂﬂ3 @
]
ﬂﬂ@ A
.
ﬂﬂA B
ToString
ﬂﬂB J
(
ﬂﬂJ K
)
ﬂﬂK L
;
ﬂﬂL M
	payPalLog
‡‡ 
.
‡‡ 
paymentStatus
‡‡ +
=
‡‡, -
reader
‡‡. 4
[
‡‡4 5
$str
‡‡5 D
]
‡‡D E
.
‡‡E F
ToString
‡‡F N
(
‡‡N O
)
‡‡O P
;
‡‡P Q
	payPalLog
·· 
.
·· 
pendingReason
·· +
=
··, -
reader
··. 4
[
··4 5
$str
··5 D
]
··D E
.
··E F
ToString
··F N
(
··N O
)
··O P
;
··P Q
	payPalLog
‚‚ 
.
‚‚ 

reasonCode
‚‚ (
=
‚‚) *
reader
‚‚+ 1
[
‚‚1 2
$str
‚‚2 >
]
‚‚> ?
.
‚‚? @
ToString
‚‚@ H
(
‚‚H I
)
‚‚I J
;
‚‚J K
	payPalLog
„„ 
.
„„ 
currencyCode
„„ *
=
„„+ ,
reader
„„- 3
[
„„3 4
$str
„„4 B
]
„„B C
.
„„C D
ToString
„„D L
(
„„L M
)
„„M N
;
„„N O
	payPalLog
‰‰ 
.
‰‰ 
exchangeRate
‰‰ *
=
‰‰+ ,
Convert
‰‰- 4
.
‰‰4 5
	ToDecimal
‰‰5 >
(
‰‰> ?
reader
‰‰? E
[
‰‰E F
$str
‰‰F T
]
‰‰T U
)
‰‰U V
;
‰‰V W
	payPalLog
ÂÂ 
.
ÂÂ 
	cartTotal
ÂÂ '
=
ÂÂ( )
Convert
ÂÂ* 1
.
ÂÂ1 2
	ToDecimal
ÂÂ2 ;
(
ÂÂ; <
reader
ÂÂ< B
[
ÂÂB C
$str
ÂÂC N
]
ÂÂN O
)
ÂÂO P
;
ÂÂP Q
	payPalLog
ÊÊ 
.
ÊÊ 
	payPalAmt
ÊÊ '
=
ÊÊ( )
Convert
ÊÊ* 1
.
ÊÊ1 2
	ToDecimal
ÊÊ2 ;
(
ÊÊ; <
reader
ÊÊ< B
[
ÊÊB C
$str
ÊÊC N
]
ÊÊN O
)
ÊÊO P
;
ÊÊP Q
	payPalLog
ÁÁ 
.
ÁÁ 
taxAmt
ÁÁ $
=
ÁÁ% &
Convert
ÁÁ' .
.
ÁÁ. /
	ToDecimal
ÁÁ/ 8
(
ÁÁ8 9
reader
ÁÁ9 ?
[
ÁÁ? @
$str
ÁÁ@ H
]
ÁÁH I
)
ÁÁI J
;
ÁÁJ K
	payPalLog
ËË 
.
ËË 
feeAmt
ËË $
=
ËË% &
Convert
ËË' .
.
ËË. /
	ToDecimal
ËË/ 8
(
ËË8 9
reader
ËË9 ?
[
ËË? @
$str
ËË@ H
]
ËËH I
)
ËËI J
;
ËËJ K
	payPalLog
ÈÈ 
.
ÈÈ 
	settleAmt
ÈÈ '
=
ÈÈ( )
Convert
ÈÈ* 1
.
ÈÈ1 2
	ToDecimal
ÈÈ2 ;
(
ÈÈ; <
reader
ÈÈ< B
[
ÈÈB C
$str
ÈÈC N
]
ÈÈN O
)
ÈÈO P
;
ÈÈP Q
	payPalLog
ÍÍ 
.
ÍÍ 
providerName
ÍÍ *
=
ÍÍ+ ,
reader
ÍÍ- 3
[
ÍÍ3 4
$str
ÍÍ4 B
]
ÍÍB C
.
ÍÍC D
ToString
ÍÍD L
(
ÍÍL M
)
ÍÍM N
;
ÍÍN O
	payPalLog
ÎÎ 
.
ÎÎ 
	returnUrl
ÎÎ '
=
ÎÎ( )
reader
ÎÎ* 0
[
ÎÎ0 1
$str
ÎÎ1 <
]
ÎÎ< =
.
ÎÎ= >
ToString
ÎÎ> F
(
ÎÎF G
)
ÎÎG H
;
ÎÎH I
	payPalLog
ÏÏ 
.
ÏÏ 
serializedObject
ÏÏ .
=
ÏÏ/ 0
reader
ÏÏ1 7
[
ÏÏ7 8
$str
ÏÏ8 J
]
ÏÏJ K
.
ÏÏK L
ToString
ÏÏL T
(
ÏÏT U
)
ÏÏU V
;
ÏÏV W
payPalLogList
ÓÓ !
.
ÓÓ! "
Add
ÓÓ" %
(
ÓÓ% &
	payPalLog
ÓÓ& /
)
ÓÓ/ 0
;
ÓÓ0 1
}
 
}
ÒÒ 
finally
ÚÚ 
{
ÛÛ 
reader
ÙÙ 
.
ÙÙ 
Close
ÙÙ 
(
ÙÙ 
)
ÙÙ 
;
ÙÙ 
}
ıı 
return
˜˜ 
payPalLogList
˜˜  
;
˜˜  !
}
˘˘ 	
public
àà 
static
àà 
IDataReader
àà !
	GetByCart
àà" +
(
àà+ ,
Guid
àà, 0
cartGuid
àà1 9
)
àà9 :
{
ââ 	
return
ää 
DBPayPalLog
ää 
.
ää 
	GetByCart
ää (
(
ää( )
cartGuid
ää) 1
)
ää1 2
;
ää2 3
}
åå 	
public
§§ 
static
§§ 
int
§§ !
CompareByCreatedUtc
§§ -
(
§§- .
	PayPalLog
§§. 7

payPalLog1
§§8 B
,
§§B C
	PayPalLog
§§D M

payPalLog2
§§N X
)
§§X Y
{
•• 	
return
¶¶ 

payPalLog1
¶¶ 
.
¶¶ 

CreatedUtc
¶¶ (
.
¶¶( )
	CompareTo
¶¶) 2
(
¶¶2 3

payPalLog2
¶¶3 =
.
¶¶= >

CreatedUtc
¶¶> H
)
¶¶H I
;
¶¶I J
}
ßß 	
public
´´ 
static
´´ 
int
´´ "
CompareByRequestType
´´ .
(
´´. /
	PayPalLog
´´/ 8

payPalLog1
´´9 C
,
´´C D
	PayPalLog
´´E N

payPalLog2
´´O Y
)
´´Y Z
{
¨¨ 	
return
≠≠ 

payPalLog1
≠≠ 
.
≠≠ 
RequestType
≠≠ )
.
≠≠) *
	CompareTo
≠≠* 3
(
≠≠3 4

payPalLog2
≠≠4 >
.
≠≠> ?
RequestType
≠≠? J
)
≠≠J K
;
≠≠K L
}
ÆÆ 	
public
≤≤ 
static
≤≤ 
int
≤≤ !
CompareByApiVersion
≤≤ -
(
≤≤- .
	PayPalLog
≤≤. 7

payPalLog1
≤≤8 B
,
≤≤B C
	PayPalLog
≤≤D M

payPalLog2
≤≤N X
)
≤≤X Y
{
≥≥ 	
return
¥¥ 

payPalLog1
¥¥ 
.
¥¥ 

ApiVersion
¥¥ (
.
¥¥( )
	CompareTo
¥¥) 2
(
¥¥2 3

payPalLog2
¥¥3 =
.
¥¥= >

ApiVersion
¥¥> H
)
¥¥H I
;
¥¥I J
}
µµ 	
public
ππ 
static
ππ 
int
ππ "
CompareByRawResponse
ππ .
(
ππ. /
	PayPalLog
ππ/ 8

payPalLog1
ππ9 C
,
ππC D
	PayPalLog
ππE N

payPalLog2
ππO Y
)
ππY Z
{
∫∫ 	
return
ªª 

payPalLog1
ªª 
.
ªª 
RawResponse
ªª )
.
ªª) *
	CompareTo
ªª* 3
(
ªª3 4

payPalLog2
ªª4 >
.
ªª> ?
RawResponse
ªª? J
)
ªªJ K
;
ªªK L
}
ºº 	
public
¿¿ 
static
¿¿ 
int
¿¿ 
CompareByToken
¿¿ (
(
¿¿( )
	PayPalLog
¿¿) 2

payPalLog1
¿¿3 =
,
¿¿= >
	PayPalLog
¿¿? H

payPalLog2
¿¿I S
)
¿¿S T
{
¡¡ 	
return
¬¬ 

payPalLog1
¬¬ 
.
¬¬ 
Token
¬¬ #
.
¬¬# $
	CompareTo
¬¬$ -
(
¬¬- .

payPalLog2
¬¬. 8
.
¬¬8 9
Token
¬¬9 >
)
¬¬> ?
;
¬¬? @
}
√√ 	
public
«« 
static
«« 
int
«« 
CompareByPayerId
«« *
(
««* +
	PayPalLog
««+ 4

payPalLog1
««5 ?
,
««? @
	PayPalLog
««A J

payPalLog2
««K U
)
««U V
{
»» 	
return
…… 

payPalLog1
…… 
.
…… 
PayerId
…… %
.
……% &
	CompareTo
……& /
(
……/ 0

payPalLog2
……0 :
.
……: ;
PayerId
……; B
)
……B C
;
……C D
}
   	
public
ŒŒ 
static
ŒŒ 
int
ŒŒ $
CompareByTransactionId
ŒŒ 0
(
ŒŒ0 1
	PayPalLog
ŒŒ1 :

payPalLog1
ŒŒ; E
,
ŒŒE F
	PayPalLog
ŒŒG P

payPalLog2
ŒŒQ [
)
ŒŒ[ \
{
œœ 	
return
–– 

payPalLog1
–– 
.
–– 
TransactionId
–– +
.
––+ ,
	CompareTo
––, 5
(
––5 6

payPalLog2
––6 @
.
––@ A
TransactionId
––A N
)
––N O
;
––O P
}
—— 	
public
’’ 
static
’’ 
int
’’ "
CompareByPaymentType
’’ .
(
’’. /
	PayPalLog
’’/ 8

payPalLog1
’’9 C
,
’’C D
	PayPalLog
’’E N

payPalLog2
’’O Y
)
’’Y Z
{
÷÷ 	
return
◊◊ 

payPalLog1
◊◊ 
.
◊◊ 
PaymentType
◊◊ )
.
◊◊) *
	CompareTo
◊◊* 3
(
◊◊3 4

payPalLog2
◊◊4 >
.
◊◊> ?
PaymentType
◊◊? J
)
◊◊J K
;
◊◊K L
}
ÿÿ 	
public
‹‹ 
static
‹‹ 
int
‹‹ $
CompareByPaymentStatus
‹‹ 0
(
‹‹0 1
	PayPalLog
‹‹1 :

payPalLog1
‹‹; E
,
‹‹E F
	PayPalLog
‹‹G P

payPalLog2
‹‹Q [
)
‹‹[ \
{
›› 	
return
ﬁﬁ 

payPalLog1
ﬁﬁ 
.
ﬁﬁ 
PaymentStatus
ﬁﬁ +
.
ﬁﬁ+ ,
	CompareTo
ﬁﬁ, 5
(
ﬁﬁ5 6

payPalLog2
ﬁﬁ6 @
.
ﬁﬁ@ A
PaymentStatus
ﬁﬁA N
)
ﬁﬁN O
;
ﬁﬁO P
}
ﬂﬂ 	
public
„„ 
static
„„ 
int
„„ $
CompareByPendingReason
„„ 0
(
„„0 1
	PayPalLog
„„1 :

payPalLog1
„„; E
,
„„E F
	PayPalLog
„„G P

payPalLog2
„„Q [
)
„„[ \
{
‰‰ 	
return
ÂÂ 

payPalLog1
ÂÂ 
.
ÂÂ 
PendingReason
ÂÂ +
.
ÂÂ+ ,
	CompareTo
ÂÂ, 5
(
ÂÂ5 6

payPalLog2
ÂÂ6 @
.
ÂÂ@ A
PendingReason
ÂÂA N
)
ÂÂN O
;
ÂÂO P
}
ÊÊ 	
public
ÍÍ 
static
ÍÍ 
int
ÍÍ !
CompareByReasonCode
ÍÍ -
(
ÍÍ- .
	PayPalLog
ÍÍ. 7

payPalLog1
ÍÍ8 B
,
ÍÍB C
	PayPalLog
ÍÍD M

payPalLog2
ÍÍN X
)
ÍÍX Y
{
ÎÎ 	
return
ÏÏ 

payPalLog1
ÏÏ 
.
ÏÏ 

ReasonCode
ÏÏ (
.
ÏÏ( )
	CompareTo
ÏÏ) 2
(
ÏÏ2 3

payPalLog2
ÏÏ3 =
.
ÏÏ= >

ReasonCode
ÏÏ> H
)
ÏÏH I
;
ÏÏI J
}
ÌÌ 	
public
ÒÒ 
static
ÒÒ 
int
ÒÒ #
CompareByCurrencyCode
ÒÒ /
(
ÒÒ/ 0
	PayPalLog
ÒÒ0 9

payPalLog1
ÒÒ: D
,
ÒÒD E
	PayPalLog
ÒÒF O

payPalLog2
ÒÒP Z
)
ÒÒZ [
{
ÚÚ 	
return
ÛÛ 

payPalLog1
ÛÛ 
.
ÛÛ 
CurrencyCode
ÛÛ *
.
ÛÛ* +
	CompareTo
ÛÛ+ 4
(
ÛÛ4 5

payPalLog2
ÛÛ5 ?
.
ÛÛ? @
CurrencyCode
ÛÛ@ L
)
ÛÛL M
;
ÛÛM N
}
ÙÙ 	
}
˘˘ 
}˚˚ Çú
vD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\CommerceCore\PlugNPayLog.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
PlugNPayLog 
{ 
public 
PlugNPayLog 
( 
) 
{ 	
}
 
public   
PlugNPayLog   
(   
Guid   
rowGuid    '
)  ' (
{!! 	
GetPlugNPayLog"" 
("" 
rowGuid"" "
)""" #
;""# $
}## 	
private)) 
Guid)) 
rowGuid)) 
=)) 
Guid)) #
.))# $
Empty))$ )
;))) *
private** 
DateTime** 

createdUtc** #
=**$ %
DateTime**& .
.**. /
UtcNow**/ 5
;**5 6
private++ 
Guid++ 
siteGuid++ 
=++ 
Guid++  $
.++$ %
Empty++% *
;++* +
private,, 
Guid,, 
userGuid,, 
=,, 
Guid,,  $
.,,$ %
Empty,,% *
;,,* +
private-- 
Guid-- 
	storeGuid-- 
=--  
Guid--! %
.--% &
Empty--& +
;--+ ,
private.. 
Guid.. 
cartGuid.. 
=.. 
Guid..  $
...$ %
Empty..% *
;..* +
private// 
string// 
rawResponse// "
=//# $
string//% +
.//+ ,
Empty//, 1
;//1 2
private00 
string00 
responseCode00 #
=00$ %
string00& ,
.00, -
Empty00- 2
;002 3
private11 
string11 
responseReasonCode11 )
=11* +
string11, 2
.112 3
Empty113 8
;118 9
private22 
string22 
reason22 
=22 
string22  &
.22& '
Empty22' ,
;22, -
private33 
string33 
avsCode33 
=33  
string33! '
.33' (
Empty33( -
;33- .
private44 
string44 
ccvCode44 
=44  
string44! '
.44' (
Empty44( -
;44- .
private55 
string55 
cavCode55 
=55  
string55! '
.55' (
Empty55( -
;55- .
private66 
string66 
transactionId66 $
=66% &
string66' -
.66- .
Empty66. 3
;663 4
private77 
string77 
transactionType77 &
=77' (
string77) /
.77/ 0
Empty770 5
;775 6
private88 
string88 
method88 
=88 
string88  &
.88& '
Empty88' ,
;88, -
private99 
string99 
authCode99 
=99  !
string99" (
.99( )
Empty99) .
;99. /
private:: 
decimal:: 
amount:: 
=::  
$num::! "
;::" #
private;; 
decimal;; 
tax;; 
=;; 
$num;; 
;;;  
private<< 
decimal<< 
duty<< 
=<< 
$num<<  
;<<  !
private== 
decimal== 
freight== 
===  !
$num==" #
;==# $
publicCC 
GuidCC 
RowGuidCC 
{DD 	
getEE 
{EE 
returnEE 
rowGuidEE  
;EE  !
}EE" #
setFF 
{FF 
rowGuidFF 
=FF 
valueFF !
;FF! "
}FF# $
}GG 	
publicHH 
DateTimeHH 

CreatedUtcHH "
{II 	
getJJ 
{JJ 
returnJJ 

createdUtcJJ #
;JJ# $
}JJ% &
setKK 
{KK 

createdUtcKK 
=KK 
valueKK $
;KK$ %
}KK& '
}LL 	
publicMM 
GuidMM 
SiteGuidMM 
{NN 	
getOO 
{OO 
returnOO 
siteGuidOO !
;OO! "
}OO# $
setPP 
{PP 
siteGuidPP 
=PP 
valuePP "
;PP" #
}PP$ %
}QQ 	
publicRR 
GuidRR 
UserGuidRR 
{SS 	
getTT 
{TT 
returnTT 
userGuidTT !
;TT! "
}TT# $
setUU 
{UU 
userGuidUU 
=UU 
valueUU "
;UU" #
}UU$ %
}VV 	
publicWW 
GuidWW 
	StoreGuidWW 
{XX 	
getYY 
{YY 
returnYY 
	storeGuidYY "
;YY" #
}YY$ %
setZZ 
{ZZ 
	storeGuidZZ 
=ZZ 
valueZZ #
;ZZ# $
}ZZ% &
}[[ 	
public\\ 
Guid\\ 
CartGuid\\ 
{]] 	
get^^ 
{^^ 
return^^ 
cartGuid^^ !
;^^! "
}^^# $
set__ 
{__ 
cartGuid__ 
=__ 
value__ "
;__" #
}__$ %
}`` 	
publicaa 
stringaa 
RawResponseaa !
{bb 	
getcc 
{cc 
returncc 
rawResponsecc $
;cc$ %
}cc& '
setdd 
{dd 
rawResponsedd 
=dd 
valuedd  %
;dd% &
}dd' (
}ee 	
publicff 
stringff 
ResponseCodeff "
{gg 	
gethh 
{hh 
returnhh 
responseCodehh %
;hh% &
}hh' (
setii 
{ii 
responseCodeii 
=ii  
valueii! &
;ii& '
}ii( )
}jj 	
publickk 
stringkk 
ResponseReasonCodekk (
{ll 	
getmm 
{mm 
returnmm 
responseReasonCodemm +
;mm+ ,
}mm- .
setnn 
{nn 
responseReasonCodenn $
=nn% &
valuenn' ,
;nn, -
}nn. /
}oo 	
publicpp 
stringpp 
Reasonpp 
{qq 	
getrr 
{rr 
returnrr 
reasonrr 
;rr  
}rr! "
setss 
{ss 
reasonss 
=ss 
valuess  
;ss  !
}ss" #
}tt 	
publicuu 
stringuu 
AvsCodeuu 
{vv 	
getww 
{ww 
returnww 
avsCodeww  
;ww  !
}ww" #
setxx 
{xx 
avsCodexx 
=xx 
valuexx !
;xx! "
}xx# $
}yy 	
publiczz 
stringzz 
CcvCodezz 
{{{ 	
get|| 
{|| 
return|| 
ccvCode||  
;||  !
}||" #
set}} 
{}} 
ccvCode}} 
=}} 
value}} !
;}}! "
}}}# $
}~~ 	
public 
string 
CavCode 
{
ÄÄ 	
get
ÅÅ 
{
ÅÅ 
return
ÅÅ 
cavCode
ÅÅ  
;
ÅÅ  !
}
ÅÅ" #
set
ÇÇ 
{
ÇÇ 
cavCode
ÇÇ 
=
ÇÇ 
value
ÇÇ !
;
ÇÇ! "
}
ÇÇ# $
}
ÉÉ 	
public
ÑÑ 
string
ÑÑ 
TransactionId
ÑÑ #
{
ÖÖ 	
get
ÜÜ 
{
ÜÜ 
return
ÜÜ 
transactionId
ÜÜ &
;
ÜÜ& '
}
ÜÜ( )
set
áá 
{
áá 
transactionId
áá 
=
áá  !
value
áá" '
;
áá' (
}
áá) *
}
àà 	
public
ââ 
string
ââ 
TransactionType
ââ %
{
ää 	
get
ãã 
{
ãã 
return
ãã 
transactionType
ãã (
;
ãã( )
}
ãã* +
set
åå 
{
åå 
transactionType
åå !
=
åå" #
value
åå$ )
;
åå) *
}
åå+ ,
}
çç 	
public
éé 
string
éé 
Method
éé 
{
èè 	
get
êê 
{
êê 
return
êê 
method
êê 
;
êê  
}
êê! "
set
ëë 
{
ëë 
method
ëë 
=
ëë 
value
ëë  
;
ëë  !
}
ëë" #
}
íí 	
public
ìì 
string
ìì 
AuthCode
ìì 
{
îî 	
get
ïï 
{
ïï 
return
ïï 
authCode
ïï !
;
ïï! "
}
ïï# $
set
ññ 
{
ññ 
authCode
ññ 
=
ññ 
value
ññ "
;
ññ" #
}
ññ$ %
}
óó 	
public
òò 
decimal
òò 
Amount
òò 
{
ôô 	
get
öö 
{
öö 
return
öö 
amount
öö 
;
öö  
}
öö! "
set
õõ 
{
õõ 
amount
õõ 
=
õõ 
value
õõ  
;
õõ  !
}
õõ" #
}
úú 	
public
ùù 
decimal
ùù 
Tax
ùù 
{
ûû 	
get
üü 
{
üü 
return
üü 
tax
üü 
;
üü 
}
üü 
set
†† 
{
†† 
tax
†† 
=
†† 
value
†† 
;
†† 
}
††  
}
°° 	
public
¢¢ 
decimal
¢¢ 
Duty
¢¢ 
{
££ 	
get
§§ 
{
§§ 
return
§§ 
duty
§§ 
;
§§ 
}
§§  
set
•• 
{
•• 
duty
•• 
=
•• 
value
•• 
;
•• 
}
••  !
}
¶¶ 	
public
ßß 
decimal
ßß 
Freight
ßß 
{
®® 	
get
©© 
{
©© 
return
©© 
freight
©©  
;
©©  !
}
©©" #
set
™™ 
{
™™ 
freight
™™ 
=
™™ 
value
™™ !
;
™™! "
}
™™# $
}
´´ 	
private
µµ 
void
µµ 
GetPlugNPayLog
µµ #
(
µµ# $
Guid
µµ$ (
rowGuid
µµ) 0
)
µµ0 1
{
∂∂ 	
using
∑∑ 
(
∑∑ 
IDataReader
∑∑ 
reader
∑∑ %
=
∑∑& '
DBPlugNPayLog
∑∑( 5
.
∑∑5 6
GetOne
∑∑6 <
(
∑∑< =
rowGuid
∑∑= D
)
∑∑D E
)
∑∑E F
{
∏∏  
PopulateFromReader
ππ "
(
ππ" #
reader
ππ# )
)
ππ) *
;
ππ* +
}
∫∫ 
}
ºº 	
private
øø 
void
øø  
PopulateFromReader
øø '
(
øø' (
IDataReader
øø( 3
reader
øø4 :
)
øø: ;
{
¿¿ 	
if
¡¡ 
(
¡¡ 
reader
¡¡ 
.
¡¡ 
Read
¡¡ 
(
¡¡ 
)
¡¡ 
)
¡¡ 
{
¬¬ 
this
√√ 
.
√√ 
rowGuid
√√ 
=
√√ 
new
√√ "
Guid
√√# '
(
√√' (
reader
√√( .
[
√√. /
$str
√√/ 8
]
√√8 9
.
√√9 :
ToString
√√: B
(
√√B C
)
√√C D
)
√√D E
;
√√E F
this
ƒƒ 
.
ƒƒ 

createdUtc
ƒƒ 
=
ƒƒ  !
Convert
ƒƒ" )
.
ƒƒ) *

ToDateTime
ƒƒ* 4
(
ƒƒ4 5
reader
ƒƒ5 ;
[
ƒƒ; <
$str
ƒƒ< H
]
ƒƒH I
)
ƒƒI J
;
ƒƒJ K
this
≈≈ 
.
≈≈ 
siteGuid
≈≈ 
=
≈≈ 
new
≈≈  #
Guid
≈≈$ (
(
≈≈( )
reader
≈≈) /
[
≈≈/ 0
$str
≈≈0 :
]
≈≈: ;
.
≈≈; <
ToString
≈≈< D
(
≈≈D E
)
≈≈E F
)
≈≈F G
;
≈≈G H
this
∆∆ 
.
∆∆ 
userGuid
∆∆ 
=
∆∆ 
new
∆∆  #
Guid
∆∆$ (
(
∆∆( )
reader
∆∆) /
[
∆∆/ 0
$str
∆∆0 :
]
∆∆: ;
.
∆∆; <
ToString
∆∆< D
(
∆∆D E
)
∆∆E F
)
∆∆F G
;
∆∆G H
this
«« 
.
«« 
	storeGuid
«« 
=
««  
new
««! $
Guid
««% )
(
««) *
reader
««* 0
[
««0 1
$str
««1 <
]
««< =
.
««= >
ToString
««> F
(
««F G
)
««G H
)
««H I
;
««I J
this
»» 
.
»» 
cartGuid
»» 
=
»» 
new
»»  #
Guid
»»$ (
(
»»( )
reader
»») /
[
»»/ 0
$str
»»0 :
]
»»: ;
.
»»; <
ToString
»»< D
(
»»D E
)
»»E F
)
»»F G
;
»»G H
this
…… 
.
…… 
rawResponse
……  
=
……! "
reader
……# )
[
……) *
$str
……* 7
]
……7 8
.
……8 9
ToString
……9 A
(
……A B
)
……B C
;
……C D
this
   
.
   
responseCode
   !
=
  " #
reader
  $ *
[
  * +
$str
  + 9
]
  9 :
.
  : ;
ToString
  ; C
(
  C D
)
  D E
;
  E F
this
ÀÀ 
.
ÀÀ  
responseReasonCode
ÀÀ '
=
ÀÀ( )
reader
ÀÀ* 0
[
ÀÀ0 1
$str
ÀÀ1 E
]
ÀÀE F
.
ÀÀF G
ToString
ÀÀG O
(
ÀÀO P
)
ÀÀP Q
;
ÀÀQ R
this
ÃÃ 
.
ÃÃ 
reason
ÃÃ 
=
ÃÃ 
reader
ÃÃ $
[
ÃÃ$ %
$str
ÃÃ% -
]
ÃÃ- .
.
ÃÃ. /
ToString
ÃÃ/ 7
(
ÃÃ7 8
)
ÃÃ8 9
;
ÃÃ9 :
this
ÕÕ 
.
ÕÕ 
avsCode
ÕÕ 
=
ÕÕ 
reader
ÕÕ %
[
ÕÕ% &
$str
ÕÕ& /
]
ÕÕ/ 0
.
ÕÕ0 1
ToString
ÕÕ1 9
(
ÕÕ9 :
)
ÕÕ: ;
;
ÕÕ; <
this
ŒŒ 
.
ŒŒ 
ccvCode
ŒŒ 
=
ŒŒ 
reader
ŒŒ %
[
ŒŒ% &
$str
ŒŒ& /
]
ŒŒ/ 0
.
ŒŒ0 1
ToString
ŒŒ1 9
(
ŒŒ9 :
)
ŒŒ: ;
;
ŒŒ; <
this
œœ 
.
œœ 
cavCode
œœ 
=
œœ 
reader
œœ %
[
œœ% &
$str
œœ& /
]
œœ/ 0
.
œœ0 1
ToString
œœ1 9
(
œœ9 :
)
œœ: ;
;
œœ; <
this
–– 
.
–– 
transactionId
–– "
=
––# $
reader
––% +
[
––+ ,
$str
––, ;
]
––; <
.
––< =
ToString
––= E
(
––E F
)
––F G
;
––G H
this
—— 
.
—— 
transactionType
—— $
=
——% &
reader
——' -
[
——- .
$str
——. ?
]
——? @
.
——@ A
ToString
——A I
(
——I J
)
——J K
;
——K L
this
““ 
.
““ 
method
““ 
=
““ 
reader
““ $
[
““$ %
$str
““% -
]
““- .
.
““. /
ToString
““/ 7
(
““7 8
)
““8 9
;
““9 :
this
”” 
.
”” 
authCode
”” 
=
”” 
reader
””  &
[
””& '
$str
””' 1
]
””1 2
.
””2 3
ToString
””3 ;
(
””; <
)
””< =
;
””= >
this
‘‘ 
.
‘‘ 
amount
‘‘ 
=
‘‘ 
Convert
‘‘ %
.
‘‘% &
	ToDecimal
‘‘& /
(
‘‘/ 0
reader
‘‘0 6
[
‘‘6 7
$str
‘‘7 ?
]
‘‘? @
)
‘‘@ A
;
‘‘A B
this
’’ 
.
’’ 
tax
’’ 
=
’’ 
Convert
’’ "
.
’’" #
	ToDecimal
’’# ,
(
’’, -
reader
’’- 3
[
’’3 4
$str
’’4 9
]
’’9 :
)
’’: ;
;
’’; <
this
÷÷ 
.
÷÷ 
duty
÷÷ 
=
÷÷ 
Convert
÷÷ #
.
÷÷# $
	ToDecimal
÷÷$ -
(
÷÷- .
reader
÷÷. 4
[
÷÷4 5
$str
÷÷5 ;
]
÷÷; <
)
÷÷< =
;
÷÷= >
this
◊◊ 
.
◊◊ 
freight
◊◊ 
=
◊◊ 
Convert
◊◊ &
.
◊◊& '
	ToDecimal
◊◊' 0
(
◊◊0 1
reader
◊◊1 7
[
◊◊7 8
$str
◊◊8 A
]
◊◊A B
)
◊◊B C
;
◊◊C D
}
ŸŸ 
}
€€ 	
private
·· 
bool
·· 
Create
·· 
(
·· 
)
·· 
{
‚‚ 	
this
„„ 
.
„„ 
rowGuid
„„ 
=
„„ 
Guid
„„ 
.
„„  
NewGuid
„„  '
(
„„' (
)
„„( )
;
„„) *
int
ÂÂ 
rowsAffected
ÂÂ 
=
ÂÂ 
DBPlugNPayLog
ÂÂ ,
.
ÂÂ, -
Create
ÂÂ- 3
(
ÂÂ3 4
this
ÊÊ 
.
ÊÊ 
rowGuid
ÊÊ 
,
ÊÊ 
this
ÁÁ 
.
ÁÁ 

createdUtc
ÁÁ 
,
ÁÁ  
this
ËË 
.
ËË 
siteGuid
ËË 
,
ËË 
this
ÈÈ 
.
ÈÈ 
userGuid
ÈÈ 
,
ÈÈ 
this
ÍÍ 
.
ÍÍ 
	storeGuid
ÍÍ 
,
ÍÍ 
this
ÎÎ 
.
ÎÎ 
cartGuid
ÎÎ 
,
ÎÎ 
this
ÏÏ 
.
ÏÏ 
rawResponse
ÏÏ  
,
ÏÏ  !
this
ÌÌ 
.
ÌÌ 
responseCode
ÌÌ !
,
ÌÌ! "
this
ÓÓ 
.
ÓÓ  
responseReasonCode
ÓÓ '
,
ÓÓ' (
this
ÔÔ 
.
ÔÔ 
reason
ÔÔ 
,
ÔÔ 
this
 
.
 
avsCode
 
,
 
this
ÒÒ 
.
ÒÒ 
ccvCode
ÒÒ 
,
ÒÒ 
this
ÚÚ 
.
ÚÚ 
cavCode
ÚÚ 
,
ÚÚ 
this
ÛÛ 
.
ÛÛ 
transactionId
ÛÛ "
,
ÛÛ" #
this
ÙÙ 
.
ÙÙ 
transactionType
ÙÙ $
,
ÙÙ$ %
this
ıı 
.
ıı 
method
ıı 
,
ıı 
this
ˆˆ 
.
ˆˆ 
authCode
ˆˆ 
,
ˆˆ 
this
˜˜ 
.
˜˜ 
amount
˜˜ 
,
˜˜ 
this
¯¯ 
.
¯¯ 
tax
¯¯ 
,
¯¯ 
this
˘˘ 
.
˘˘ 
duty
˘˘ 
,
˘˘ 
this
˙˙ 
.
˙˙ 
freight
˙˙ 
)
˙˙ 
;
˙˙ 
return
¸¸ 
(
¸¸ 
rowsAffected
¸¸  
>
¸¸! "
$num
¸¸# $
)
¸¸$ %
;
¸¸% &
}
˛˛ 	
private
ÖÖ 
bool
ÖÖ 
Update
ÖÖ 
(
ÖÖ 
)
ÖÖ 
{
ÜÜ 	
return
àà 
DBPlugNPayLog
àà  
.
àà  !
Update
àà! '
(
àà' (
this
ââ 
.
ââ 
rowGuid
ââ 
,
ââ 
this
ää 
.
ää 
siteGuid
ää 
,
ää 
this
ãã 
.
ãã 
userGuid
ãã 
,
ãã 
this
åå 
.
åå 
	storeGuid
åå 
,
åå 
this
çç 
.
çç 
cartGuid
çç 
,
çç 
this
éé 
.
éé 
rawResponse
éé  
,
éé  !
this
èè 
.
èè 
responseCode
èè !
,
èè! "
this
êê 
.
êê  
responseReasonCode
êê '
,
êê' (
this
ëë 
.
ëë 
reason
ëë 
,
ëë 
this
íí 
.
íí 
avsCode
íí 
,
íí 
this
ìì 
.
ìì 
ccvCode
ìì 
,
ìì 
this
îî 
.
îî 
cavCode
îî 
,
îî 
this
ïï 
.
ïï 
transactionId
ïï "
,
ïï" #
this
ññ 
.
ññ 
transactionType
ññ $
,
ññ$ %
this
óó 
.
óó 
method
óó 
,
óó 
this
òò 
.
òò 
authCode
òò 
,
òò 
this
ôô 
.
ôô 
amount
ôô 
,
ôô 
this
öö 
.
öö 
tax
öö 
,
öö 
this
õõ 
.
õõ 
duty
õõ 
,
õõ 
this
úú 
.
úú 
freight
úú 
)
úú 
;
úú 
}
ûû 	
public
¨¨ 
bool
¨¨ 
Save
¨¨ 
(
¨¨ 
)
¨¨ 
{
≠≠ 	
if
ÆÆ 
(
ÆÆ 
this
ÆÆ 
.
ÆÆ 
rowGuid
ÆÆ 
!=
ÆÆ 
Guid
ÆÆ  $
.
ÆÆ$ %
Empty
ÆÆ% *
)
ÆÆ* +
{
ØØ 
return
∞∞ 
Update
∞∞ 
(
∞∞ 
)
∞∞ 
;
∞∞  
}
±± 
else
≤≤ 
{
≥≥ 
return
¥¥ 
Create
¥¥ 
(
¥¥ 
)
¥¥ 
;
¥¥  
}
µµ 
}
∂∂ 	
public
ƒƒ 
static
ƒƒ 
bool
ƒƒ 
Delete
ƒƒ !
(
ƒƒ! "
Guid
ƒƒ" &
rowGuid
ƒƒ' .
)
ƒƒ. /
{
≈≈ 	
return
∆∆ 
DBPlugNPayLog
∆∆  
.
∆∆  !
Delete
∆∆! '
(
∆∆' (
rowGuid
∆∆( /
)
∆∆/ 0
;
∆∆0 1
}
«« 	
private
ÃÃ 
static
ÃÃ 
List
ÃÃ 
<
ÃÃ 
PlugNPayLog
ÃÃ '
>
ÃÃ' ( 
LoadListFromReader
ÃÃ) ;
(
ÃÃ; <
IDataReader
ÃÃ< G
reader
ÃÃH N
)
ÃÃN O
{
ÕÕ 	
List
ŒŒ 
<
ŒŒ 
PlugNPayLog
ŒŒ 
>
ŒŒ 
PlugNPayLogList
ŒŒ -
=
ŒŒ. /
new
ŒŒ0 3
List
ŒŒ4 8
<
ŒŒ8 9
PlugNPayLog
ŒŒ9 D
>
ŒŒD E
(
ŒŒE F
)
ŒŒF G
;
ŒŒG H
try
œœ 
{
–– 
while
—— 
(
—— 
reader
—— 
.
—— 
Read
—— "
(
——" #
)
——# $
)
——$ %
{
““ 
PlugNPayLog
”” 
PlugNPayLog
””  +
=
””, -
new
””. 1
PlugNPayLog
””2 =
(
””= >
)
””> ?
;
””? @
PlugNPayLog
‘‘ 
.
‘‘  
rowGuid
‘‘  '
=
‘‘( )
new
‘‘* -
Guid
‘‘. 2
(
‘‘2 3
reader
‘‘3 9
[
‘‘9 :
$str
‘‘: C
]
‘‘C D
.
‘‘D E
ToString
‘‘E M
(
‘‘M N
)
‘‘N O
)
‘‘O P
;
‘‘P Q
PlugNPayLog
’’ 
.
’’  

createdUtc
’’  *
=
’’+ ,
Convert
’’- 4
.
’’4 5

ToDateTime
’’5 ?
(
’’? @
reader
’’@ F
[
’’F G
$str
’’G S
]
’’S T
)
’’T U
;
’’U V
PlugNPayLog
÷÷ 
.
÷÷  
siteGuid
÷÷  (
=
÷÷) *
new
÷÷+ .
Guid
÷÷/ 3
(
÷÷3 4
reader
÷÷4 :
[
÷÷: ;
$str
÷÷; E
]
÷÷E F
.
÷÷F G
ToString
÷÷G O
(
÷÷O P
)
÷÷P Q
)
÷÷Q R
;
÷÷R S
PlugNPayLog
◊◊ 
.
◊◊  
userGuid
◊◊  (
=
◊◊) *
new
◊◊+ .
Guid
◊◊/ 3
(
◊◊3 4
reader
◊◊4 :
[
◊◊: ;
$str
◊◊; E
]
◊◊E F
.
◊◊F G
ToString
◊◊G O
(
◊◊O P
)
◊◊P Q
)
◊◊Q R
;
◊◊R S
PlugNPayLog
ÿÿ 
.
ÿÿ  
	storeGuid
ÿÿ  )
=
ÿÿ* +
new
ÿÿ, /
Guid
ÿÿ0 4
(
ÿÿ4 5
reader
ÿÿ5 ;
[
ÿÿ; <
$str
ÿÿ< G
]
ÿÿG H
.
ÿÿH I
ToString
ÿÿI Q
(
ÿÿQ R
)
ÿÿR S
)
ÿÿS T
;
ÿÿT U
PlugNPayLog
ŸŸ 
.
ŸŸ  
cartGuid
ŸŸ  (
=
ŸŸ) *
new
ŸŸ+ .
Guid
ŸŸ/ 3
(
ŸŸ3 4
reader
ŸŸ4 :
[
ŸŸ: ;
$str
ŸŸ; E
]
ŸŸE F
.
ŸŸF G
ToString
ŸŸG O
(
ŸŸO P
)
ŸŸP Q
)
ŸŸQ R
;
ŸŸR S
PlugNPayLog
⁄⁄ 
.
⁄⁄  
rawResponse
⁄⁄  +
=
⁄⁄, -
reader
⁄⁄. 4
[
⁄⁄4 5
$str
⁄⁄5 B
]
⁄⁄B C
.
⁄⁄C D
ToString
⁄⁄D L
(
⁄⁄L M
)
⁄⁄M N
;
⁄⁄N O
PlugNPayLog
€€ 
.
€€  
responseCode
€€  ,
=
€€- .
reader
€€/ 5
[
€€5 6
$str
€€6 D
]
€€D E
.
€€E F
ToString
€€F N
(
€€N O
)
€€O P
;
€€P Q
PlugNPayLog
‹‹ 
.
‹‹   
responseReasonCode
‹‹  2
=
‹‹3 4
reader
‹‹5 ;
[
‹‹; <
$str
‹‹< P
]
‹‹P Q
.
‹‹Q R
ToString
‹‹R Z
(
‹‹Z [
)
‹‹[ \
;
‹‹\ ]
PlugNPayLog
›› 
.
››  
reason
››  &
=
››' (
reader
››) /
[
››/ 0
$str
››0 8
]
››8 9
.
››9 :
ToString
››: B
(
››B C
)
››C D
;
››D E
PlugNPayLog
ﬁﬁ 
.
ﬁﬁ  
avsCode
ﬁﬁ  '
=
ﬁﬁ( )
reader
ﬁﬁ* 0
[
ﬁﬁ0 1
$str
ﬁﬁ1 :
]
ﬁﬁ: ;
.
ﬁﬁ; <
ToString
ﬁﬁ< D
(
ﬁﬁD E
)
ﬁﬁE F
;
ﬁﬁF G
PlugNPayLog
ﬂﬂ 
.
ﬂﬂ  
ccvCode
ﬂﬂ  '
=
ﬂﬂ( )
reader
ﬂﬂ* 0
[
ﬂﬂ0 1
$str
ﬂﬂ1 :
]
ﬂﬂ: ;
.
ﬂﬂ; <
ToString
ﬂﬂ< D
(
ﬂﬂD E
)
ﬂﬂE F
;
ﬂﬂF G
PlugNPayLog
‡‡ 
.
‡‡  
cavCode
‡‡  '
=
‡‡( )
reader
‡‡* 0
[
‡‡0 1
$str
‡‡1 :
]
‡‡: ;
.
‡‡; <
ToString
‡‡< D
(
‡‡D E
)
‡‡E F
;
‡‡F G
PlugNPayLog
·· 
.
··  
transactionId
··  -
=
··. /
reader
··0 6
[
··6 7
$str
··7 F
]
··F G
.
··G H
ToString
··H P
(
··P Q
)
··Q R
;
··R S
PlugNPayLog
‚‚ 
.
‚‚  
transactionType
‚‚  /
=
‚‚0 1
reader
‚‚2 8
[
‚‚8 9
$str
‚‚9 J
]
‚‚J K
.
‚‚K L
ToString
‚‚L T
(
‚‚T U
)
‚‚U V
;
‚‚V W
PlugNPayLog
„„ 
.
„„  
method
„„  &
=
„„' (
reader
„„) /
[
„„/ 0
$str
„„0 8
]
„„8 9
.
„„9 :
ToString
„„: B
(
„„B C
)
„„C D
;
„„D E
PlugNPayLog
‰‰ 
.
‰‰  
authCode
‰‰  (
=
‰‰) *
reader
‰‰+ 1
[
‰‰1 2
$str
‰‰2 <
]
‰‰< =
.
‰‰= >
ToString
‰‰> F
(
‰‰F G
)
‰‰G H
;
‰‰H I
PlugNPayLog
ÂÂ 
.
ÂÂ  
amount
ÂÂ  &
=
ÂÂ' (
Convert
ÂÂ) 0
.
ÂÂ0 1
	ToDecimal
ÂÂ1 :
(
ÂÂ: ;
reader
ÂÂ; A
[
ÂÂA B
$str
ÂÂB J
]
ÂÂJ K
)
ÂÂK L
;
ÂÂL M
PlugNPayLog
ÊÊ 
.
ÊÊ  
tax
ÊÊ  #
=
ÊÊ$ %
Convert
ÊÊ& -
.
ÊÊ- .
	ToDecimal
ÊÊ. 7
(
ÊÊ7 8
reader
ÊÊ8 >
[
ÊÊ> ?
$str
ÊÊ? D
]
ÊÊD E
)
ÊÊE F
;
ÊÊF G
PlugNPayLog
ÁÁ 
.
ÁÁ  
duty
ÁÁ  $
=
ÁÁ% &
Convert
ÁÁ' .
.
ÁÁ. /
	ToDecimal
ÁÁ/ 8
(
ÁÁ8 9
reader
ÁÁ9 ?
[
ÁÁ? @
$str
ÁÁ@ F
]
ÁÁF G
)
ÁÁG H
;
ÁÁH I
PlugNPayLog
ËË 
.
ËË  
freight
ËË  '
=
ËË( )
Convert
ËË* 1
.
ËË1 2
	ToDecimal
ËË2 ;
(
ËË; <
reader
ËË< B
[
ËËB C
$str
ËËC L
]
ËËL M
)
ËËM N
;
ËËN O
PlugNPayLogList
ÈÈ #
.
ÈÈ# $
Add
ÈÈ$ '
(
ÈÈ' (
PlugNPayLog
ÈÈ( 3
)
ÈÈ3 4
;
ÈÈ4 5
}
ÎÎ 
}
ÏÏ 
finally
ÌÌ 
{
ÓÓ 
reader
ÔÔ 
.
ÔÔ 
Close
ÔÔ 
(
ÔÔ 
)
ÔÔ 
;
ÔÔ 
}
 
return
ÚÚ 
PlugNPayLogList
ÚÚ "
;
ÚÚ" #
}
ÙÙ 	
public
¸¸ 
static
¸¸ 
IDataReader
¸¸ !
	GetByCart
¸¸" +
(
¸¸+ ,
Guid
¸¸, 0
cartGuid
¸¸1 9
)
¸¸9 :
{
˝˝ 	
return
˛˛ 
DBPlugNPayLog
˛˛  
.
˛˛  !
	GetByCart
˛˛! *
(
˛˛* +
cartGuid
˛˛+ 3
)
˛˛3 4
;
˛˛4 5
}
ˇˇ 	
public
óó 
static
óó 
int
óó !
CompareByCreatedUtc
óó -
(
óó- .
PlugNPayLog
óó. 9
PlugNPayLog1
óó: F
,
óóF G
PlugNPayLog
óóH S
PlugNPayLog2
óóT `
)
óó` a
{
òò 	
return
ôô 
PlugNPayLog1
ôô 
.
ôô  

CreatedUtc
ôô  *
.
ôô* +
	CompareTo
ôô+ 4
(
ôô4 5
PlugNPayLog2
ôô5 A
.
ôôA B

CreatedUtc
ôôB L
)
ôôL M
;
ôôM N
}
öö 	
public
ûû 
static
ûû 
int
ûû "
CompareByRawResponse
ûû .
(
ûû. /
PlugNPayLog
ûû/ :
PlugNPayLog1
ûû; G
,
ûûG H
PlugNPayLog
ûûI T
PlugNPayLog2
ûûU a
)
ûûa b
{
üü 	
return
†† 
PlugNPayLog1
†† 
.
††  
RawResponse
††  +
.
††+ ,
	CompareTo
††, 5
(
††5 6
PlugNPayLog2
††6 B
.
††B C
RawResponse
††C N
)
††N O
;
††O P
}
°° 	
public
•• 
static
•• 
int
•• #
CompareByResponseCode
•• /
(
••/ 0
PlugNPayLog
••0 ;
PlugNPayLog1
••< H
,
••H I
PlugNPayLog
••J U
PlugNPayLog2
••V b
)
••b c
{
¶¶ 	
return
ßß 
PlugNPayLog1
ßß 
.
ßß  
ResponseCode
ßß  ,
.
ßß, -
	CompareTo
ßß- 6
(
ßß6 7
PlugNPayLog2
ßß7 C
.
ßßC D
ResponseCode
ßßD P
)
ßßP Q
;
ßßQ R
}
®® 	
public
¨¨ 
static
¨¨ 
int
¨¨ )
CompareByResponseReasonCode
¨¨ 5
(
¨¨5 6
PlugNPayLog
¨¨6 A
PlugNPayLog1
¨¨B N
,
¨¨N O
PlugNPayLog
¨¨P [
PlugNPayLog2
¨¨\ h
)
¨¨h i
{
≠≠ 	
return
ÆÆ 
PlugNPayLog1
ÆÆ 
.
ÆÆ   
ResponseReasonCode
ÆÆ  2
.
ÆÆ2 3
	CompareTo
ÆÆ3 <
(
ÆÆ< =
PlugNPayLog2
ÆÆ= I
.
ÆÆI J 
ResponseReasonCode
ÆÆJ \
)
ÆÆ\ ]
;
ÆÆ] ^
}
ØØ 	
public
≥≥ 
static
≥≥ 
int
≥≥ 
CompareByReason
≥≥ )
(
≥≥) *
PlugNPayLog
≥≥* 5
PlugNPayLog1
≥≥6 B
,
≥≥B C
PlugNPayLog
≥≥D O
PlugNPayLog2
≥≥P \
)
≥≥\ ]
{
¥¥ 	
return
µµ 
PlugNPayLog1
µµ 
.
µµ  
Reason
µµ  &
.
µµ& '
	CompareTo
µµ' 0
(
µµ0 1
PlugNPayLog2
µµ1 =
.
µµ= >
Reason
µµ> D
)
µµD E
;
µµE F
}
∂∂ 	
public
∫∫ 
static
∫∫ 
int
∫∫ 
CompareByAvsCode
∫∫ *
(
∫∫* +
PlugNPayLog
∫∫+ 6
PlugNPayLog1
∫∫7 C
,
∫∫C D
PlugNPayLog
∫∫E P
PlugNPayLog2
∫∫Q ]
)
∫∫] ^
{
ªª 	
return
ºº 
PlugNPayLog1
ºº 
.
ºº  
AvsCode
ºº  '
.
ºº' (
	CompareTo
ºº( 1
(
ºº1 2
PlugNPayLog2
ºº2 >
.
ºº> ?
AvsCode
ºº? F
)
ººF G
;
ººG H
}
ΩΩ 	
public
¡¡ 
static
¡¡ 
int
¡¡ 
CompareByCcvCode
¡¡ *
(
¡¡* +
PlugNPayLog
¡¡+ 6
PlugNPayLog1
¡¡7 C
,
¡¡C D
PlugNPayLog
¡¡E P
PlugNPayLog2
¡¡Q ]
)
¡¡] ^
{
¬¬ 	
return
√√ 
PlugNPayLog1
√√ 
.
√√  
CcvCode
√√  '
.
√√' (
	CompareTo
√√( 1
(
√√1 2
PlugNPayLog2
√√2 >
.
√√> ?
CcvCode
√√? F
)
√√F G
;
√√G H
}
ƒƒ 	
public
»» 
static
»» 
int
»» 
CompareByCavCode
»» *
(
»»* +
PlugNPayLog
»»+ 6
PlugNPayLog1
»»7 C
,
»»C D
PlugNPayLog
»»E P
PlugNPayLog2
»»Q ]
)
»»] ^
{
…… 	
return
   
PlugNPayLog1
   
.
    
CavCode
    '
.
  ' (
	CompareTo
  ( 1
(
  1 2
PlugNPayLog2
  2 >
.
  > ?
CavCode
  ? F
)
  F G
;
  G H
}
ÀÀ 	
public
œœ 
static
œœ 
int
œœ $
CompareByTransactionId
œœ 0
(
œœ0 1
PlugNPayLog
œœ1 <
PlugNPayLog1
œœ= I
,
œœI J
PlugNPayLog
œœK V
PlugNPayLog2
œœW c
)
œœc d
{
–– 	
return
—— 
PlugNPayLog1
—— 
.
——  
TransactionId
——  -
.
——- .
	CompareTo
——. 7
(
——7 8
PlugNPayLog2
——8 D
.
——D E
TransactionId
——E R
)
——R S
;
——S T
}
““ 	
public
÷÷ 
static
÷÷ 
int
÷÷ &
CompareByTransactionType
÷÷ 2
(
÷÷2 3
PlugNPayLog
÷÷3 >
PlugNPayLog1
÷÷? K
,
÷÷K L
PlugNPayLog
÷÷M X
PlugNPayLog2
÷÷Y e
)
÷÷e f
{
◊◊ 	
return
ÿÿ 
PlugNPayLog1
ÿÿ 
.
ÿÿ  
TransactionType
ÿÿ  /
.
ÿÿ/ 0
	CompareTo
ÿÿ0 9
(
ÿÿ9 :
PlugNPayLog2
ÿÿ: F
.
ÿÿF G
TransactionType
ÿÿG V
)
ÿÿV W
;
ÿÿW X
}
ŸŸ 	
public
›› 
static
›› 
int
›› 
CompareByMethod
›› )
(
››) *
PlugNPayLog
››* 5
PlugNPayLog1
››6 B
,
››B C
PlugNPayLog
››D O
PlugNPayLog2
››P \
)
››\ ]
{
ﬁﬁ 	
return
ﬂﬂ 
PlugNPayLog1
ﬂﬂ 
.
ﬂﬂ  
Method
ﬂﬂ  &
.
ﬂﬂ& '
	CompareTo
ﬂﬂ' 0
(
ﬂﬂ0 1
PlugNPayLog2
ﬂﬂ1 =
.
ﬂﬂ= >
Method
ﬂﬂ> D
)
ﬂﬂD E
;
ﬂﬂE F
}
‡‡ 	
public
‰‰ 
static
‰‰ 
int
‰‰ 
CompareByAuthCode
‰‰ +
(
‰‰+ ,
PlugNPayLog
‰‰, 7
PlugNPayLog1
‰‰8 D
,
‰‰D E
PlugNPayLog
‰‰F Q
PlugNPayLog2
‰‰R ^
)
‰‰^ _
{
ÂÂ 	
return
ÊÊ 
PlugNPayLog1
ÊÊ 
.
ÊÊ  
AuthCode
ÊÊ  (
.
ÊÊ( )
	CompareTo
ÊÊ) 2
(
ÊÊ2 3
PlugNPayLog2
ÊÊ3 ?
.
ÊÊ? @
AuthCode
ÊÊ@ H
)
ÊÊH I
;
ÊÊI J
}
ÁÁ 	
}
ÏÏ 
}ÓÓ Ú
xD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\CommerceCore\TaxCalculator.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

static 
class 
TaxCalculator %
{ 
public 
static 
decimal 
	Calculate '
(' (
Guid 
siteGuid 
, 
Guid 
taxZoneGuid 
, 
Guid 
taxClassGuid 
, 
decimal 
taxableTotal  
,  !
int !
roundingDecimalPlaces %
,% &
MidpointRounding 
roundingMode )
)) *
{   	
decimal!! 
taxTotal!! 
=!! 
$num!!  
;!!  !
if## 
(## 
taxZoneGuid## 
!=## 
Guid## #
.### $
Empty##$ )
)##) *
{$$ 

Collection%% 
<%% 
TaxRate%% "
>%%" #
taxRates%%$ ,
=%%- .
TaxRate%%/ 6
.%%6 7
GetTaxRates%%7 B
(%%B C
siteGuid%%C K
,%%K L
taxZoneGuid%%M X
)%%X Y
;%%Y Z
if&& 
(&& 
taxRates&& 
.&& 
Count&& "
>&&# $
$num&&% &
)&&& '
{'' 
foreach(( 
((( 
TaxRate(( $
taxRate((% ,
in((- /
taxRates((0 8
)((8 9
{)) 
if** 
(** 
taxClassGuid** (
==**) +
taxRate**, 3
.**3 4
TaxClassGuid**4 @
)**@ A
{++ 
taxTotal,, $
+=,,% '
(,,( )
taxRate,,) 0
.,,0 1
Rate,,1 5
*,,6 7
taxableTotal,,8 D
),,D E
;,,E F
break-- !
;--! "
}.. 
}// 
}00 
}33 
return66 
taxTotal66 
;66 
}88 	
}:: 
};; ≈t
sD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\CommerceCore\TaxClass.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
TaxClass 
{ 
public 
TaxClass 
( 
) 
{ 	
}
 
public   
TaxClass   
(   
Guid   
guid   !
)  ! "
{!! 	
GetTaxClass"" 
("" 
guid"" 
)"" 
;"" 
}## 	
private)) 
Guid)) 
guid)) 
=)) 
Guid))  
.))  !
Empty))! &
;))& '
private** 
Guid** 
siteGuid** 
=** 
Guid**  $
.**$ %
Empty**% *
;*** +
private++ 
string++ 
title++ 
=++ 
string++ %
.++% &
Empty++& +
;+++ ,
private,, 
string,, 
description,, "
=,,# $
string,,% +
.,,+ ,
Empty,,, 1
;,,1 2
private-- 
DateTime-- 
lastModified-- %
=--& '
DateTime--( 0
.--0 1
UtcNow--1 7
;--7 8
private.. 
DateTime.. 
created..  
=..! "
DateTime..# +
...+ ,
UtcNow.., 2
;..2 3
public44 
Guid44 
Guid44 
{55 	
get66 
{66 
return66 
guid66 
;66 
}66  
set77 
{77 
guid77 
=77 
value77 
;77 
}77  !
}88 	
public99 
Guid99 
SiteGuid99 
{:: 	
get;; 
{;; 
return;; 
siteGuid;; !
;;;! "
};;# $
set<< 
{<< 
siteGuid<< 
=<< 
value<< "
;<<" #
}<<$ %
}== 	
public>> 
string>> 
Title>> 
{?? 	
get@@ 
{@@ 
return@@ 
title@@ 
;@@ 
}@@  !
setAA 
{AA 
titleAA 
=AA 
valueAA 
;AA  
}AA! "
}BB 	
publicCC 
stringCC 
DescriptionCC !
{DD 	
getEE 
{EE 
returnEE 
descriptionEE $
;EE$ %
}EE& '
setFF 
{FF 
descriptionFF 
=FF 
valueFF  %
;FF% &
}FF' (
}GG 	
publicHH 
DateTimeHH 
LastModifiedHH $
{II 	
getJJ 
{JJ 
returnJJ 
lastModifiedJJ %
;JJ% &
}JJ' (
setKK 
{KK 
lastModifiedKK 
=KK  
valueKK! &
;KK& '
}KK( )
}LL 	
publicMM 
DateTimeMM 
CreatedMM 
{NN 	
getOO 
{OO 
returnOO 
createdOO  
;OO  !
}OO" #
setPP 
{PP 
createdPP 
=PP 
valuePP !
;PP! "
}PP# $
}QQ 	
privateWW 
voidWW 
GetTaxClassWW  
(WW  !
GuidWW! %
guidWW& *
)WW* +
{XX 	
usingYY 
(YY 
IDataReaderYY 
readerYY %
=YY& '

DBTaxClassYY( 2
.YY2 3
GetOneYY3 9
(YY9 :
guidYY: >
)YY> ?
)YY? @
{ZZ 
if[[ 
([[ 
reader[[ 
.[[ 
Read[[ 
([[  
)[[  !
)[[! "
{\\ 
this]] 
.]] 
guid]] 
=]] 
new]]  #
Guid]]$ (
(]]( )
reader]]) /
[]]/ 0
$str]]0 6
]]]6 7
.]]7 8
ToString]]8 @
(]]@ A
)]]A B
)]]B C
;]]C D
this^^ 
.^^ 
siteGuid^^ !
=^^" #
new^^$ '
Guid^^( ,
(^^, -
reader^^- 3
[^^3 4
$str^^4 >
]^^> ?
.^^? @
ToString^^@ H
(^^H I
)^^I J
)^^J K
;^^K L
this__ 
.__ 
title__ 
=__  
reader__! '
[__' (
$str__( /
]__/ 0
.__0 1
ToString__1 9
(__9 :
)__: ;
;__; <
this`` 
.`` 
description`` $
=``% &
reader``' -
[``- .
$str``. ;
]``; <
.``< =
ToString``= E
(``E F
)``F G
;``G H
thisaa 
.aa 
lastModifiedaa %
=aa& '
Convertaa( /
.aa/ 0

ToDateTimeaa0 :
(aa: ;
readeraa; A
[aaA B
$straaB P
]aaP Q
)aaQ R
;aaR S
thisbb 
.bb 
createdbb  
=bb! "
Convertbb# *
.bb* +

ToDateTimebb+ 5
(bb5 6
readerbb6 <
[bb< =
$strbb= F
]bbF G
)bbG H
;bbH I
}dd 
}ff 
}hh 	
privatejj 
booljj 
Createjj 
(jj 
)jj 
{kk 	
Guidll 
newIDll 
=ll 
Guidll 
.ll 
NewGuidll %
(ll% &
)ll& '
;ll' (
thisnn 
.nn 
guidnn 
=nn 
newIDnn 
;nn 
intpp 
rowsAffectedpp 
=pp 

DBTaxClasspp )
.pp) *
Createpp* 0
(pp0 1
thisqq 
.qq 
guidqq 
,qq 
thisrr 
.rr 
siteGuidrr 
,rr 
thisss 
.ss 
titless 
,ss 
thistt 
.tt 
descriptiontt  
,tt  !
thisuu 
.uu 
lastModifieduu !
,uu! "
thisvv 
.vv 
createdvv 
)vv 
;vv 
returnxx 
(xx 
rowsAffectedxx  
>xx! "
$numxx# $
)xx$ %
;xx% &
}zz 	
private~~ 
bool~~ 
Update~~ 
(~~ 
)~~ 
{ 	
return
ÅÅ 

DBTaxClass
ÅÅ 
.
ÅÅ 
Update
ÅÅ $
(
ÅÅ$ %
this
ÇÇ 
.
ÇÇ 
guid
ÇÇ 
,
ÇÇ 
this
ÉÉ 
.
ÉÉ 
title
ÉÉ 
,
ÉÉ 
this
ÑÑ 
.
ÑÑ 
description
ÑÑ  
,
ÑÑ  !
this
ÖÖ 
.
ÖÖ 
lastModified
ÖÖ !
,
ÖÖ! "
this
ÜÜ 
.
ÜÜ 
created
ÜÜ 
)
ÜÜ 
;
ÜÜ 
}
àà 	
public
êê 
bool
êê 
Save
êê 
(
êê 
)
êê 
{
ëë 	
if
íí 
(
íí 
this
íí 
.
íí 
guid
íí 
!=
íí 
Guid
íí !
.
íí! "
Empty
íí" '
)
íí' (
{
ìì 
return
îî 
Update
îî 
(
îî 
)
îî 
;
îî  
}
ïï 
else
ññ 
{
óó 
return
òò 
Create
òò 
(
òò 
)
òò 
;
òò  
}
ôô 
}
öö 	
public
†† 
static
†† 
bool
†† 
Delete
†† !
(
††! "
Guid
††" &
guid
††' +
)
††+ ,
{
°° 	
return
¢¢ 

DBTaxClass
¢¢ 
.
¢¢ 
Delete
¢¢ $
(
¢¢$ %
guid
¢¢% )
)
¢¢) *
;
¢¢* +
}
££ 	
private
•• 
static
•• 
List
•• 
<
•• 
TaxClass
•• $
>
••$ % 
LoadListFromReader
••& 8
(
••8 9
IDataReader
••9 D
reader
••E K
)
••K L
{
¶¶ 	
List
ßß 
<
ßß 
TaxClass
ßß 
>
ßß 
taxClassList
ßß '
=
ßß( )
new
ßß* -
List
ßß. 2
<
ßß2 3
TaxClass
ßß3 ;
>
ßß; <
(
ßß< =
)
ßß= >
;
ßß> ?
try
®® 
{
©© 
while
™™ 
(
™™ 
reader
™™ 
.
™™ 
Read
™™ "
(
™™" #
)
™™# $
)
™™$ %
{
´´ 
TaxClass
¨¨ 
taxClass
¨¨ %
=
¨¨& '
new
¨¨( +
TaxClass
¨¨, 4
(
¨¨4 5
)
¨¨5 6
;
¨¨6 7
taxClass
≠≠ 
.
≠≠ 
guid
≠≠ !
=
≠≠" #
new
≠≠$ '
Guid
≠≠( ,
(
≠≠, -
reader
≠≠- 3
[
≠≠3 4
$str
≠≠4 :
]
≠≠: ;
.
≠≠; <
ToString
≠≠< D
(
≠≠D E
)
≠≠E F
)
≠≠F G
;
≠≠G H
taxClass
ÆÆ 
.
ÆÆ 
siteGuid
ÆÆ %
=
ÆÆ& '
new
ÆÆ( +
Guid
ÆÆ, 0
(
ÆÆ0 1
reader
ÆÆ1 7
[
ÆÆ7 8
$str
ÆÆ8 B
]
ÆÆB C
.
ÆÆC D
ToString
ÆÆD L
(
ÆÆL M
)
ÆÆM N
)
ÆÆN O
;
ÆÆO P
taxClass
ØØ 
.
ØØ 
title
ØØ "
=
ØØ# $
reader
ØØ% +
[
ØØ+ ,
$str
ØØ, 3
]
ØØ3 4
.
ØØ4 5
ToString
ØØ5 =
(
ØØ= >
)
ØØ> ?
;
ØØ? @
taxClass
∞∞ 
.
∞∞ 
description
∞∞ (
=
∞∞) *
reader
∞∞+ 1
[
∞∞1 2
$str
∞∞2 ?
]
∞∞? @
.
∞∞@ A
ToString
∞∞A I
(
∞∞I J
)
∞∞J K
;
∞∞K L
taxClass
±± 
.
±± 
lastModified
±± )
=
±±* +
Convert
±±, 3
.
±±3 4

ToDateTime
±±4 >
(
±±> ?
reader
±±? E
[
±±E F
$str
±±F T
]
±±T U
)
±±U V
;
±±V W
taxClass
≤≤ 
.
≤≤ 
created
≤≤ $
=
≤≤% &
Convert
≤≤' .
.
≤≤. /

ToDateTime
≤≤/ 9
(
≤≤9 :
reader
≤≤: @
[
≤≤@ A
$str
≤≤A J
]
≤≤J K
)
≤≤K L
;
≤≤L M
taxClassList
≥≥  
.
≥≥  !
Add
≥≥! $
(
≥≥$ %
taxClass
≥≥% -
)
≥≥- .
;
≥≥. /
}
µµ 
}
∂∂ 
finally
∑∑ 
{
∏∏ 
reader
ππ 
.
ππ 
Close
ππ 
(
ππ 
)
ππ 
;
ππ 
}
∫∫ 
return
ºº 
taxClassList
ºº 
;
ºº  
}
ææ 	
public
¡¡ 
static
¡¡ 
IDataReader
¡¡ !
	GetBySite
¡¡" +
(
¡¡+ ,
Guid
¡¡, 0
siteGuid
¡¡1 9
)
¡¡9 :
{
¬¬ 	
return
√√ 

DBTaxClass
√√ 
.
√√ 
	GetBySite
√√ '
(
√√' (
siteGuid
√√( 0
)
√√0 1
;
√√1 2
}
ƒƒ 	
public
∆∆ 
static
∆∆ 
List
∆∆ 
<
∆∆ 
TaxClass
∆∆ #
>
∆∆# $
GetList
∆∆% ,
(
∆∆, -
Guid
∆∆- 1
siteGuid
∆∆2 :
)
∆∆: ;
{
«« 	
IDataReader
»» 
reader
»» 
=
»»  

DBTaxClass
»»! +
.
»»+ ,
	GetBySite
»», 5
(
»»5 6
siteGuid
»»6 >
)
»»> ?
;
»»? @
return
    
LoadListFromReader
   %
(
  % &
reader
  & ,
)
  , -
;
  - .
}
ÃÃ 	
public
œœ 
static
œœ 
IDataReader
œœ !
GetPage
œœ" )
(
œœ) *
Guid
–– 
	storeGuid
–– 
,
–– 
int
—— 

pageNumber
—— 
,
—— 
int
““ 
pageSize
““ 
,
““ 
out
”” 
int
”” 

totalPages
”” 
)
”” 
{
‘‘ 	
return
÷÷ 

DBTaxClass
÷÷ 
.
÷÷ 
GetPage
÷÷ %
(
÷÷% &
	storeGuid
÷÷& /
,
÷÷/ 0

pageNumber
÷÷1 ;
,
÷÷; <
pageSize
÷÷= E
,
÷÷E F
out
÷÷G J

totalPages
÷÷K U
)
÷÷U V
;
÷÷V W
}
ÿÿ 	
public
ÊÊ 
static
ÊÊ 
int
ÊÊ 
CompareByTitle
ÊÊ (
(
ÊÊ( )
TaxClass
ÊÊ) 1
	taxClass1
ÊÊ2 ;
,
ÊÊ; <
TaxClass
ÊÊ= E
	taxClass2
ÊÊF O
)
ÊÊO P
{
ÁÁ 	
return
ËË 
	taxClass1
ËË 
.
ËË 
Title
ËË "
.
ËË" #
	CompareTo
ËË# ,
(
ËË, -
	taxClass2
ËË- 6
.
ËË6 7
Title
ËË7 <
)
ËË< =
;
ËË= >
}
ÈÈ 	
public
ÌÌ 
static
ÌÌ 
int
ÌÌ "
CompareByDescription
ÌÌ .
(
ÌÌ. /
TaxClass
ÌÌ/ 7
	taxClass1
ÌÌ8 A
,
ÌÌA B
TaxClass
ÌÌC K
	taxClass2
ÌÌL U
)
ÌÌU V
{
ÓÓ 	
return
ÔÔ 
	taxClass1
ÔÔ 
.
ÔÔ 
Description
ÔÔ (
.
ÔÔ( )
	CompareTo
ÔÔ) 2
(
ÔÔ2 3
	taxClass2
ÔÔ3 <
.
ÔÔ< =
Description
ÔÔ= H
)
ÔÔH I
;
ÔÔI J
}
 	
public
ÙÙ 
static
ÙÙ 
int
ÙÙ #
CompareByLastModified
ÙÙ /
(
ÙÙ/ 0
TaxClass
ÙÙ0 8
	taxClass1
ÙÙ9 B
,
ÙÙB C
TaxClass
ÙÙD L
	taxClass2
ÙÙM V
)
ÙÙV W
{
ıı 	
return
ˆˆ 
	taxClass1
ˆˆ 
.
ˆˆ 
LastModified
ˆˆ )
.
ˆˆ) *
	CompareTo
ˆˆ* 3
(
ˆˆ3 4
	taxClass2
ˆˆ4 =
.
ˆˆ= >
LastModified
ˆˆ> J
)
ˆˆJ K
;
ˆˆK L
}
˜˜ 	
public
˚˚ 
static
˚˚ 
int
˚˚ 
CompareByCreated
˚˚ *
(
˚˚* +
TaxClass
˚˚+ 3
	taxClass1
˚˚4 =
,
˚˚= >
TaxClass
˚˚? G
	taxClass2
˚˚H Q
)
˚˚Q R
{
¸¸ 	
return
˝˝ 
	taxClass1
˝˝ 
.
˝˝ 
Created
˝˝ $
.
˝˝$ %
	CompareTo
˝˝% .
(
˝˝. /
	taxClass2
˝˝/ 8
.
˝˝8 9
Created
˝˝9 @
)
˝˝@ A
;
˝˝A B
}
˛˛ 	
}
ÉÉ 
}ÖÖ ª–
rD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\CommerceCore\TaxRate.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
TaxRate 
{ 
public 
TaxRate 
( 
Guid 
siteGuid $
,$ %
Guid& *
geoZoneGuid+ 6
)6 7
{ 	
this 
. 
siteGuid 
= 
siteGuid $
;$ %
this 
. 
geoZoneGuid 
= 
geoZoneGuid *
;* +
}!! 	
public$$ 
TaxRate$$ 
($$ 
Guid$$ 
guid$$  
)$$  !
{%% 	

GetTaxRate&& 
(&& 
guid&& 
)&& 
;&& 
}'' 	
private-- 
Guid-- 
guid-- 
=-- 
Guid--  
.--  !
Empty--! &
;--& '
private.. 
Guid.. 
siteGuid.. 
=.. 
Guid..  $
...$ %
Empty..% *
;..* +
private// 
Guid// 
geoZoneGuid//  
=//! "
Guid//# '
.//' (
Empty//( -
;//- .
private00 
Guid00 
taxClassGuid00 !
=00" #
Guid00$ (
.00( )
Empty00) .
;00. /
private11 
int11 
priority11 
=11 
$num11  
;11  !
private22 
decimal22 
rate22 
=22 
$num22  
;22  !
private33 
string33 
description33 "
;33" #
private44 
DateTime44 
created44  
;44  !
private55 
Guid55 
	createdBy55 
=55  
Guid55! %
.55% &
Empty55& +
;55+ ,
private66 
DateTime66 
lastModified66 %
;66% &
private77 
Guid77 

modifiedBy77 
=77  !
Guid77" &
.77& '
Empty77' ,
;77, -
public== 
Guid== 
Guid== 
{>> 	
get?? 
{?? 
return?? 
guid?? 
;?? 
}??  
set@@ 
{@@ 
guid@@ 
=@@ 
value@@ 
;@@ 
}@@  !
}AA 	
publicBB 
GuidBB 
SiteGuidBB 
{CC 	
getDD 
{DD 
returnDD 
siteGuidDD !
;DD! "
}DD# $
setEE 
{EE 
siteGuidEE 
=EE 
valueEE "
;EE" #
}EE$ %
}FF 	
publicGG 
GuidGG 
GeoZoneGuidGG 
{HH 	
getII 
{II 
returnII 
geoZoneGuidII $
;II$ %
}II& '
setJJ 
{JJ 
geoZoneGuidJJ 
=JJ 
valueJJ  %
;JJ% &
}JJ' (
}KK 	
publicLL 
GuidLL 
TaxClassGuidLL  
{MM 	
getNN 
{NN 
returnNN 
taxClassGuidNN %
;NN% &
}NN' (
setOO 
{OO 
taxClassGuidOO 
=OO  
valueOO! &
;OO& '
}OO( )
}PP 	
publicQQ 
intQQ 
PriorityQQ 
{RR 	
getSS 
{SS 
returnSS 
prioritySS !
;SS! "
}SS# $
setTT 
{TT 
priorityTT 
=TT 
valueTT "
;TT" #
}TT$ %
}UU 	
publicVV 
decimalVV 
RateVV 
{WW 	
getXX 
{XX 
returnXX 
rateXX 
;XX 
}XX  
setYY 
{YY 
rateYY 
=YY 
valueYY 
;YY 
}YY  !
}ZZ 	
public[[ 
string[[ 
Description[[ !
{\\ 	
get]] 
{]] 
return]] 
description]] $
;]]$ %
}]]& '
set^^ 
{^^ 
description^^ 
=^^ 
value^^  %
;^^% &
}^^' (
}__ 	
public`` 
DateTime`` 
Created`` 
{aa 	
getbb 
{bb 
returnbb 
createdbb  
;bb  !
}bb" #
setcc 
{cc 
createdcc 
=cc 
valuecc !
;cc! "
}cc# $
}dd 	
publicee 
Guidee 
	CreatedByee 
{ff 	
getgg 
{gg 
returngg 
	createdBygg "
;gg" #
}gg$ %
sethh 
{hh 
	createdByhh 
=hh 
valuehh #
;hh# $
}hh% &
}ii 	
publicjj 
DateTimejj 
LastModifiedjj $
{kk 	
getll 
{ll 
returnll 
lastModifiedll %
;ll% &
}ll' (
setmm 
{mm 
lastModifiedmm 
=mm  
valuemm! &
;mm& '
}mm( )
}nn 	
publicoo 
Guidoo 

ModifiedByoo 
{pp 	
getqq 
{qq 
returnqq 

modifiedByqq #
;qq# $
}qq% &
setrr 
{rr 

modifiedByrr 
=rr 
valuerr $
;rr$ %
}rr& '
}ss 	
privateyy 
voidyy 

GetTaxRateyy 
(yy  
Guidyy  $
guidyy% )
)yy) *
{zz 	
using{{ 
({{ 
IDataReader{{ 
reader{{ %
={{& '
	DBTaxRate{{( 1
.{{1 2
GetOne{{2 8
({{8 9
guid{{9 =
){{= >
){{> ?
{|| 
if}} 
(}} 
reader}} 
.}} 
Read}} 
(}}  
)}}  !
)}}! "
{~~ 
this 
. 
guid 
= 
new  #
Guid$ (
(( )
reader) /
[/ 0
$str0 6
]6 7
.7 8
ToString8 @
(@ A
)A B
)B C
;C D
this
ÄÄ 
.
ÄÄ 
siteGuid
ÄÄ !
=
ÄÄ" #
new
ÄÄ$ '
Guid
ÄÄ( ,
(
ÄÄ, -
reader
ÄÄ- 3
[
ÄÄ3 4
$str
ÄÄ4 >
]
ÄÄ> ?
.
ÄÄ? @
ToString
ÄÄ@ H
(
ÄÄH I
)
ÄÄI J
)
ÄÄJ K
;
ÄÄK L
this
ÅÅ 
.
ÅÅ 
geoZoneGuid
ÅÅ $
=
ÅÅ% &
new
ÅÅ' *
Guid
ÅÅ+ /
(
ÅÅ/ 0
reader
ÅÅ0 6
[
ÅÅ6 7
$str
ÅÅ7 D
]
ÅÅD E
.
ÅÅE F
ToString
ÅÅF N
(
ÅÅN O
)
ÅÅO P
)
ÅÅP Q
;
ÅÅQ R
this
ÇÇ 
.
ÇÇ 
taxClassGuid
ÇÇ %
=
ÇÇ& '
new
ÇÇ( +
Guid
ÇÇ, 0
(
ÇÇ0 1
reader
ÇÇ1 7
[
ÇÇ7 8
$str
ÇÇ8 F
]
ÇÇF G
.
ÇÇG H
ToString
ÇÇH P
(
ÇÇP Q
)
ÇÇQ R
)
ÇÇR S
;
ÇÇS T
this
ÉÉ 
.
ÉÉ 
priority
ÉÉ !
=
ÉÉ" #
Convert
ÉÉ$ +
.
ÉÉ+ ,
ToInt32
ÉÉ, 3
(
ÉÉ3 4
reader
ÉÉ4 :
[
ÉÉ: ;
$str
ÉÉ; E
]
ÉÉE F
)
ÉÉF G
;
ÉÉG H
this
ÑÑ 
.
ÑÑ 
rate
ÑÑ 
=
ÑÑ 
Convert
ÑÑ  '
.
ÑÑ' (
	ToDecimal
ÑÑ( 1
(
ÑÑ1 2
reader
ÑÑ2 8
[
ÑÑ8 9
$str
ÑÑ9 ?
]
ÑÑ? @
)
ÑÑ@ A
;
ÑÑA B
this
ÖÖ 
.
ÖÖ 
description
ÖÖ $
=
ÖÖ% &
reader
ÖÖ' -
[
ÖÖ- .
$str
ÖÖ. ;
]
ÖÖ; <
.
ÖÖ< =
ToString
ÖÖ= E
(
ÖÖE F
)
ÖÖF G
;
ÖÖG H
this
ÜÜ 
.
ÜÜ 
created
ÜÜ  
=
ÜÜ! "
Convert
ÜÜ# *
.
ÜÜ* +

ToDateTime
ÜÜ+ 5
(
ÜÜ5 6
reader
ÜÜ6 <
[
ÜÜ< =
$str
ÜÜ= F
]
ÜÜF G
)
ÜÜG H
;
ÜÜH I
this
áá 
.
áá 
	createdBy
áá "
=
áá# $
new
áá% (
Guid
áá) -
(
áá- .
reader
áá. 4
[
áá4 5
$str
áá5 @
]
áá@ A
.
ááA B
ToString
ááB J
(
ááJ K
)
ááK L
)
ááL M
;
ááM N
this
àà 
.
àà 
lastModified
àà %
=
àà& '
Convert
àà( /
.
àà/ 0

ToDateTime
àà0 :
(
àà: ;
reader
àà; A
[
ààA B
$str
ààB P
]
ààP Q
)
ààQ R
;
ààR S
if
ââ 
(
ââ 
(
ää 
reader
ää 
[
ää  
$str
ää  ,
]
ää, -
!=
ää. 0
DBNull
ää1 7
.
ää7 8
Value
ää8 =
)
ää= >
&&
ãã 
(
ãã 
reader
ãã "
[
ãã" #
$str
ãã# /
]
ãã/ 0
.
ãã0 1
ToString
ãã1 9
(
ãã9 :
)
ãã: ;
.
ãã; <
Trim
ãã< @
(
ãã@ A
)
ããA B
!=
ããC E
string
ããF L
.
ããL M
Empty
ããM R
)
ããR S
)
åå 
{
çç 
this
éé 
.
éé 

modifiedBy
éé '
=
éé( )
new
éé* -
Guid
éé. 2
(
éé2 3
reader
éé3 9
[
éé9 :
$str
éé: F
]
ééF G
.
ééG H
ToString
ééH P
(
ééP Q
)
ééQ R
)
ééR S
;
ééS T
}
èè 
}
ëë 
}
ìì 
}
ïï 	
private
óó 
bool
óó 
Create
óó 
(
óó 
)
óó 
{
òò 	
Guid
ôô 
newID
ôô 
=
ôô 
Guid
ôô 
.
ôô 
NewGuid
ôô %
(
ôô% &
)
ôô& '
;
ôô' (
this
õõ 
.
õõ 
guid
õõ 
=
õõ 
newID
õõ 
;
õõ 
int
ùù 
rowsAffected
ùù 
=
ùù 
	DBTaxRate
ùù (
.
ùù( )
Create
ùù) /
(
ùù/ 0
this
ûû 
.
ûû 
guid
ûû 
,
ûû 
this
üü 
.
üü 
siteGuid
üü 
,
üü 
this
†† 
.
†† 
geoZoneGuid
††  
,
††  !
this
°° 
.
°° 
taxClassGuid
°° !
,
°°! "
this
¢¢ 
.
¢¢ 
priority
¢¢ 
,
¢¢ 
this
££ 
.
££ 
rate
££ 
,
££ 
this
§§ 
.
§§ 
description
§§  
,
§§  !
this
•• 
.
•• 
created
•• 
,
•• 
this
¶¶ 
.
¶¶ 
	createdBy
¶¶ 
,
¶¶ 
this
ßß 
.
ßß 
lastModified
ßß !
,
ßß! "
this
®® 
.
®® 

modifiedBy
®® 
)
®®  
;
®®  !
return
™™ 
(
™™ 
rowsAffected
™™  
>
™™! "
$num
™™# $
)
™™$ %
;
™™% &
}
¨¨ 	
private
∞∞ 
bool
∞∞ 
Update
∞∞ 
(
∞∞ 
)
∞∞ 
{
±± 	

LogHistory
≤≤ 
(
≤≤ 
this
≤≤ 
.
≤≤ 
guid
≤≤  
)
≤≤  !
;
≤≤! "
return
≥≥ 
	DBTaxRate
≥≥ 
.
≥≥ 
Update
≥≥ #
(
≥≥# $
this
¥¥ 
.
¥¥ 
guid
¥¥ 
,
¥¥ 
this
µµ 
.
µµ 
geoZoneGuid
µµ  
,
µµ  !
this
∂∂ 
.
∂∂ 
taxClassGuid
∂∂ !
,
∂∂! "
this
∑∑ 
.
∑∑ 
priority
∑∑ 
,
∑∑ 
this
∏∏ 
.
∏∏ 
rate
∏∏ 
,
∏∏ 
this
ππ 
.
ππ 
description
ππ  
,
ππ  !
this
∫∫ 
.
∫∫ 
lastModified
∫∫ !
,
∫∫! "
this
ªª 
.
ªª 

modifiedBy
ªª 
)
ªª  
;
ªª  !
}
ΩΩ 	
private
øø 
static
øø 
void
øø 

LogHistory
øø &
(
øø& '
Guid
øø' +
guid
øø, 0
)
øø0 1
{
¿¿ 	
TaxRate
¡¡ 
previousVersion
¡¡ #
=
¡¡$ %
new
¡¡& )
TaxRate
¡¡* 1
(
¡¡1 2
guid
¡¡2 6
)
¡¡6 7
;
¡¡7 8
if
¬¬ 
(
¬¬ 
previousVersion
¬¬ 
.
¬¬  
Guid
¬¬  $
!=
¬¬% '
Guid
¬¬( ,
.
¬¬, -
Empty
¬¬- 2
)
¬¬2 3
{
√√ 
	DBTaxRate
ƒƒ 
.
ƒƒ 

AddHistory
ƒƒ $
(
ƒƒ$ %
Guid
≈≈ 
.
≈≈ 
NewGuid
≈≈  
(
≈≈  !
)
≈≈! "
,
≈≈" #
previousVersion
∆∆ #
.
∆∆# $
Guid
∆∆$ (
,
∆∆( )
previousVersion
«« #
.
««# $
siteGuid
««$ ,
,
««, -
previousVersion
»» #
.
»»# $
GeoZoneGuid
»»$ /
,
»»/ 0
previousVersion
…… #
.
……# $
TaxClassGuid
……$ 0
,
……0 1
previousVersion
   #
.
  # $
Priority
  $ ,
,
  , -
previousVersion
ÀÀ #
.
ÀÀ# $
Rate
ÀÀ$ (
,
ÀÀ( )
previousVersion
ÃÃ #
.
ÃÃ# $
Description
ÃÃ$ /
,
ÃÃ/ 0
previousVersion
ÕÕ #
.
ÕÕ# $
Created
ÕÕ$ +
,
ÕÕ+ ,
previousVersion
ŒŒ #
.
ŒŒ# $
	CreatedBy
ŒŒ$ -
,
ŒŒ- .
previousVersion
œœ #
.
œœ# $
LastModified
œœ$ 0
,
œœ0 1
previousVersion
–– #
.
––# $

ModifiedBy
––$ .
,
––. /
DateTime
—— 
.
—— 
UtcNow
—— #
)
——# $
;
——$ %
}
““ 
}
’’ 	
public
›› 
bool
›› 
Save
›› 
(
›› 
)
›› 
{
ﬁﬁ 	
if
ﬂﬂ 
(
ﬂﬂ 
this
ﬂﬂ 
.
ﬂﬂ 
guid
ﬂﬂ 
!=
ﬂﬂ 
Guid
ﬂﬂ !
.
ﬂﬂ! "
Empty
ﬂﬂ" '
)
ﬂﬂ' (
{
‡‡ 
return
·· 
Update
·· 
(
·· 
)
·· 
;
··  
}
‚‚ 
else
„„ 
{
‰‰ 
return
ÂÂ 
Create
ÂÂ 
(
ÂÂ 
)
ÂÂ 
;
ÂÂ  
}
ÊÊ 
}
ÁÁ 	
public
 
static
 
bool
 
Delete
 !
(
! "
Guid
" &
guid
' +
)
+ ,
{
ÒÒ 	

LogHistory
ÚÚ 
(
ÚÚ 
guid
ÚÚ 
)
ÚÚ 
;
ÚÚ 
return
ÛÛ 
	DBTaxRate
ÛÛ 
.
ÛÛ 
Delete
ÛÛ #
(
ÛÛ# $
guid
ÛÛ$ (
)
ÛÛ( )
;
ÛÛ) *
}
ÙÙ 	
public
ˆˆ 
static
ˆˆ 
	DataTable
ˆˆ 
GetAll
ˆˆ  &
(
ˆˆ& '
Guid
ˆˆ' +
siteGuid
ˆˆ, 4
,
ˆˆ4 5
Guid
ˆˆ6 :
geoZoneGuid
ˆˆ; F
)
ˆˆF G
{
˜˜ 	
	DataTable
¯¯ 
	dataTable
¯¯ 
=
¯¯  !
new
¯¯" %
	DataTable
¯¯& /
(
¯¯/ 0
)
¯¯0 1
;
¯¯1 2
	dataTable
˘˘ 
.
˘˘ 
Columns
˘˘ 
.
˘˘ 
Add
˘˘ !
(
˘˘! "
$str
˘˘" (
,
˘˘( )
typeof
˘˘* 0
(
˘˘0 1
Guid
˘˘1 5
)
˘˘5 6
)
˘˘6 7
;
˘˘7 8
	dataTable
˙˙ 
.
˙˙ 
Columns
˙˙ 
.
˙˙ 
Add
˙˙ !
(
˙˙! "
$str
˙˙" ,
,
˙˙, -
typeof
˙˙. 4
(
˙˙4 5
Guid
˙˙5 9
)
˙˙9 :
)
˙˙: ;
;
˙˙; <
	dataTable
˚˚ 
.
˚˚ 
Columns
˚˚ 
.
˚˚ 
Add
˚˚ !
(
˚˚! "
$str
˚˚" /
,
˚˚/ 0
typeof
˚˚1 7
(
˚˚7 8
Guid
˚˚8 <
)
˚˚< =
)
˚˚= >
;
˚˚> ?
	dataTable
¸¸ 
.
¸¸ 
Columns
¸¸ 
.
¸¸ 
Add
¸¸ !
(
¸¸! "
$str
¸¸" 0
,
¸¸0 1
typeof
¸¸2 8
(
¸¸8 9
Guid
¸¸9 =
)
¸¸= >
)
¸¸> ?
;
¸¸? @
	dataTable
˝˝ 
.
˝˝ 
Columns
˝˝ 
.
˝˝ 
Add
˝˝ !
(
˝˝! "
$str
˝˝" ,
,
˝˝, -
typeof
˝˝. 4
(
˝˝4 5
int
˝˝5 8
)
˝˝8 9
)
˝˝9 :
;
˝˝: ;
	dataTable
˛˛ 
.
˛˛ 
Columns
˛˛ 
.
˛˛ 
Add
˛˛ !
(
˛˛! "
$str
˛˛" (
,
˛˛( )
typeof
˛˛* 0
(
˛˛0 1
decimal
˛˛1 8
)
˛˛8 9
)
˛˛9 :
;
˛˛: ;
	dataTable
ˇˇ 
.
ˇˇ 
Columns
ˇˇ 
.
ˇˇ 
Add
ˇˇ !
(
ˇˇ! "
$str
ˇˇ" /
,
ˇˇ/ 0
typeof
ˇˇ1 7
(
ˇˇ7 8
string
ˇˇ8 >
)
ˇˇ> ?
)
ˇˇ? @
;
ˇˇ@ A
	dataTable
ÄÄ 
.
ÄÄ 
Columns
ÄÄ 
.
ÄÄ 
Add
ÄÄ !
(
ÄÄ! "
$str
ÄÄ" +
,
ÄÄ+ ,
typeof
ÄÄ- 3
(
ÄÄ3 4
DateTime
ÄÄ4 <
)
ÄÄ< =
)
ÄÄ= >
;
ÄÄ> ?
	dataTable
ÅÅ 
.
ÅÅ 
Columns
ÅÅ 
.
ÅÅ 
Add
ÅÅ !
(
ÅÅ! "
$str
ÅÅ" -
,
ÅÅ- .
typeof
ÅÅ/ 5
(
ÅÅ5 6
Guid
ÅÅ6 :
)
ÅÅ: ;
)
ÅÅ; <
;
ÅÅ< =
	dataTable
ÇÇ 
.
ÇÇ 
Columns
ÇÇ 
.
ÇÇ 
Add
ÇÇ !
(
ÇÇ! "
$str
ÇÇ" 0
,
ÇÇ0 1
typeof
ÇÇ2 8
(
ÇÇ8 9
DateTime
ÇÇ9 A
)
ÇÇA B
)
ÇÇB C
;
ÇÇC D
	dataTable
ÉÉ 
.
ÉÉ 
Columns
ÉÉ 
.
ÉÉ 
Add
ÉÉ !
(
ÉÉ! "
$str
ÉÉ" .
,
ÉÉ. /
typeof
ÉÉ0 6
(
ÉÉ6 7
Guid
ÉÉ7 ;
)
ÉÉ; <
)
ÉÉ< =
;
ÉÉ= >
using
ÜÜ 
(
ÜÜ 
IDataReader
ÜÜ 
reader
ÜÜ %
=
ÜÜ& '
	DBTaxRate
ÜÜ( 1
.
ÜÜ1 2
GetTaxRates
ÜÜ2 =
(
ÜÜ= >
siteGuid
ÜÜ> F
,
ÜÜF G
geoZoneGuid
ÜÜH S
)
ÜÜS T
)
ÜÜT U
{
áá 
while
àà 
(
àà 
reader
àà 
.
àà 
Read
àà "
(
àà" #
)
àà# $
)
àà$ %
{
ââ 
DataRow
ää 
row
ää 
=
ää  !
	dataTable
ää" +
.
ää+ ,
NewRow
ää, 2
(
ää2 3
)
ää3 4
;
ää4 5
row
ãã 
[
ãã 
$str
ãã 
]
ãã 
=
ãã  !
new
ãã" %
Guid
ãã& *
(
ãã* +
reader
ãã+ 1
[
ãã1 2
$str
ãã2 8
]
ãã8 9
.
ãã9 :
ToString
ãã: B
(
ããB C
)
ããC D
)
ããD E
;
ããE F
row
åå 
[
åå 
$str
åå "
]
åå" #
=
åå$ %
new
åå& )
Guid
åå* .
(
åå. /
reader
åå/ 5
[
åå5 6
$str
åå6 @
]
åå@ A
.
ååA B
ToString
ååB J
(
ååJ K
)
ååK L
)
ååL M
;
ååM N
row
çç 
[
çç 
$str
çç %
]
çç% &
=
çç' (
new
çç) ,
Guid
çç- 1
(
çç1 2
reader
çç2 8
[
çç8 9
$str
çç9 F
]
ççF G
.
ççG H
ToString
ççH P
(
ççP Q
)
ççQ R
)
ççR S
;
ççS T
row
éé 
[
éé 
$str
éé &
]
éé& '
=
éé( )
new
éé* -
Guid
éé. 2
(
éé2 3
reader
éé3 9
[
éé9 :
$str
éé: H
]
ééH I
.
ééI J
ToString
ééJ R
(
ééR S
)
ééS T
)
ééT U
;
ééU V
row
èè 
[
èè 
$str
èè "
]
èè" #
=
èè$ %
reader
èè& ,
[
èè, -
$str
èè- 7
]
èè7 8
;
èè8 9
row
êê 
[
êê 
$str
êê 
]
êê 
=
êê  !
reader
êê" (
[
êê( )
$str
êê) /
]
êê/ 0
;
êê0 1
row
ëë 
[
ëë 
$str
ëë %
]
ëë% &
=
ëë' (
reader
ëë) /
[
ëë/ 0
$str
ëë0 =
]
ëë= >
;
ëë> ?
row
íí 
[
íí 
$str
íí !
]
íí! "
=
íí# $
reader
íí% +
[
íí+ ,
$str
íí, 5
]
íí5 6
;
íí6 7
row
ìì 
[
ìì 
$str
ìì #
]
ìì# $
=
ìì% &
new
ìì' *
Guid
ìì+ /
(
ìì/ 0
reader
ìì0 6
[
ìì6 7
$str
ìì7 B
]
ììB C
.
ììC D
ToString
ììD L
(
ììL M
)
ììM N
)
ììN O
;
ììO P
row
îî 
[
îî 
$str
îî &
]
îî& '
=
îî( )
reader
îî* 0
[
îî0 1
$str
îî1 ?
]
îî? @
;
îî@ A
if
ññ 
(
ññ 
(
óó 
reader
óó 
[
óó  
$str
óó  ,
]
óó, -
!=
óó. 0
DBNull
óó1 7
.
óó7 8
Value
óó8 =
)
óó= >
&&
òò 
(
òò 
reader
òò "
[
òò" #
$str
òò# /
]
òò/ 0
.
òò0 1
ToString
òò1 9
(
òò9 :
)
òò: ;
.
òò; <
Trim
òò< @
(
òò@ A
)
òòA B
!=
òòC E
string
òòF L
.
òòL M
Empty
òòM R
)
òòR S
)
ôô 
{
öö 
row
õõ 
[
õõ 
$str
õõ (
]
õõ( )
=
õõ* +
new
õõ, /
Guid
õõ0 4
(
õõ4 5
reader
õõ5 ;
[
õõ; <
$str
õõ< H
]
õõH I
.
õõI J
ToString
õõJ R
(
õõR S
)
õõS T
)
õõT U
;
õõU V
}
úú 
else
ùù 
{
ûû 
row
üü 
[
üü 
$str
üü (
]
üü( )
=
üü* +
Guid
üü, 0
.
üü0 1
Empty
üü1 6
;
üü6 7
}
†† 
	dataTable
¢¢ 
.
¢¢ 
Rows
¢¢ "
.
¢¢" #
Add
¢¢# &
(
¢¢& '
row
¢¢' *
)
¢¢* +
;
¢¢+ ,
}
££ 
}
•• 
return
ßß 
	dataTable
ßß 
;
ßß 
}
©© 	
public
´´ 
static
´´ 

Collection
´´  
<
´´  !
TaxRate
´´! (
>
´´( )
GetTaxRates
´´* 5
(
´´5 6
Guid
´´6 :
siteGuid
´´; C
,
´´C D
Guid
´´E I
geoZoneGuid
´´J U
)
´´U V
{
¨¨ 	

Collection
ÆÆ 
<
ÆÆ 
TaxRate
ÆÆ 
>
ÆÆ 
taxRates
ÆÆ  (
=
ÆÆ) *
new
ÆÆ+ .

Collection
ÆÆ/ 9
<
ÆÆ9 :
TaxRate
ÆÆ: A
>
ÆÆA B
(
ÆÆB C
)
ÆÆC D
;
ÆÆD E
using
∞∞ 
(
∞∞ 
IDataReader
∞∞ 
reader
∞∞ %
=
∞∞& '
	DBTaxRate
∞∞( 1
.
∞∞1 2
GetTaxRates
∞∞2 =
(
∞∞= >
siteGuid
∞∞> F
,
∞∞F G
geoZoneGuid
∞∞H S
)
∞∞S T
)
∞∞T U
{
±± 
while
≤≤ 
(
≤≤ 
reader
≤≤ 
.
≤≤ 
Read
≤≤ "
(
≤≤" #
)
≤≤# $
)
≤≤$ %
{
≥≥ 
TaxRate
¥¥ 
taxRate
¥¥ #
=
¥¥$ %
new
¥¥& )
TaxRate
¥¥* 1
(
¥¥1 2
siteGuid
¥¥2 :
,
¥¥: ;
geoZoneGuid
¥¥< G
)
¥¥G H
;
¥¥H I
taxRate
∂∂ 
.
∂∂ 
guid
∂∂  
=
∂∂! "
new
∂∂# &
Guid
∂∂' +
(
∂∂+ ,
reader
∂∂, 2
[
∂∂2 3
$str
∂∂3 9
]
∂∂9 :
.
∂∂: ;
ToString
∂∂; C
(
∂∂C D
)
∂∂D E
)
∂∂E F
;
∂∂F G
taxRate
∑∑ 
.
∑∑ 
description
∑∑ '
=
∑∑( )
reader
∑∑* 0
[
∑∑0 1
$str
∑∑1 >
]
∑∑> ?
.
∑∑? @
ToString
∑∑@ H
(
∑∑H I
)
∑∑I J
;
∑∑J K
taxRate
∏∏ 
.
∏∏ 
taxClassGuid
∏∏ (
=
∏∏) *
new
∏∏+ .
Guid
∏∏/ 3
(
∏∏3 4
reader
∏∏4 :
[
∏∏: ;
$str
∏∏; I
]
∏∏I J
.
∏∏J K
ToString
∏∏K S
(
∏∏S T
)
∏∏T U
)
∏∏U V
;
∏∏V W
taxRate
ππ 
.
ππ 
priority
ππ $
=
ππ% &
Convert
ππ' .
.
ππ. /
ToInt32
ππ/ 6
(
ππ6 7
reader
ππ7 =
[
ππ= >
$str
ππ> H
]
ππH I
)
ππI J
;
ππJ K
taxRate
∫∫ 
.
∫∫ 
rate
∫∫  
=
∫∫! "
Convert
∫∫# *
.
∫∫* +
	ToDecimal
∫∫+ 4
(
∫∫4 5
reader
∫∫5 ;
[
∫∫; <
$str
∫∫< B
]
∫∫B C
)
∫∫C D
;
∫∫D E
taxRates
ºº 
.
ºº 
Add
ºº  
(
ºº  !
taxRate
ºº! (
)
ºº( )
;
ºº) *
}
ææ 
}
¿¿ 
return
¬¬ 
taxRates
¬¬ 
;
¬¬ 
}
ƒƒ 	
}
ŒŒ 
}–– úç
lD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\CommerceReport.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

static 
class 
CommerceReport &
{ 
public 
static 
void 
AddRow !
(! "
Guid 
rowGuid 
, 
Guid   
siteGuid   
,   
Guid!! 
userGuid!! 
,!! 
Guid"" 
featureGuid"" 
,"" 
Guid## 

moduleGuid## 
,## 
string$$ 
moduleTitle$$ 
,$$ 
Guid%% 
	orderGuid%% 
,%% 
Guid&& 
itemGuid&& 
,&& 
string'' 
itemName'' 
,'' 
int(( 
quantity(( 
,(( 
decimal)) 
price)) 
,)) 
decimal** 
subTotal** 
,** 
DateTime++ 
orderDateUtc++ !
,++! "
string,, 
paymentMethod,,  
,,,  !
string-- 
	iPAddress-- 
,-- 
string.. 
adminOrderLink.. !
,..! "
string// 
userOrderLink//  
)//  !
{00 	
AddRow11 
(11 
rowGuid22 
,22 
siteGuid33 
,33 
userGuid44 
,44 
featureGuid55 
,55 

moduleGuid66 
,66 
moduleTitle77 
,77 
	orderGuid88 
,88 
itemGuid99 
,99 
itemName:: 
,:: 
quantity;; 
,;; 
price<< 
,<< 
subTotal== 
,== 
orderDateUtc>> 
,>> 
paymentMethod?? 
,?? 
	iPAddress@@ 
,@@ 
adminOrderLinkAA 
,AA 
userOrderLinkBB 
,BB 
trueCC 
)CC 
;CC 
}DD 	
publicJJ 
staticJJ 
voidJJ 
AddRowJJ !
(JJ! "
GuidKK 
rowGuidKK 
,KK 
GuidLL 
siteGuidLL 
,LL 
GuidMM 
userGuidMM 
,MM 
GuidNN 
featureGuidNN 
,NN 
GuidOO 

moduleGuidOO 
,OO 
stringPP 
moduleTitlePP 
,PP 
GuidQQ 
	orderGuidQQ 
,QQ 
GuidRR 
itemGuidRR 
,RR 
stringSS 
itemNameSS 
,SS 
intTT 
quantityTT 
,TT 
decimalUU 
priceUU 
,UU 
decimalVV 
subTotalVV 
,VV 
DateTimeWW 
orderDateUtcWW !
,WW! "
stringXX 
paymentMethodXX  
,XX  !
stringYY 
	iPAddressYY 
,YY 
stringZZ 
adminOrderLinkZZ !
,ZZ! "
string[[ 
userOrderLink[[  
,[[  !
bool\\ 
includeInAggregate\\ #
)\\# $
{]] 	
DBCommerceReport^^ 
.^^ 
Create^^ #
(^^# $
rowGuid__ 
,__ 
siteGuid`` 
,`` 
userGuidaa 
,aa 
featureGuidbb 
,bb 

moduleGuidcc 
,cc 
moduleTitledd 
,dd 
	orderGuidee 
,ee 
itemGuidff 
,ff 
itemNamegg 
,gg 
quantityhh 
,hh 
priceii 
,ii 
subTotaljj 
,jj 
orderDateUtckk 
,kk 
paymentMethodll 
,ll 
	iPAddressmm 
,mm 
adminOrderLinknn 
,nn 
userOrderLinkoo 
,oo 
DateTimepp 
.pp 
UtcNowpp 
,pp  
includeInAggregateqq "
)qq" #
;qq# $
}ss 	
public|| 
static|| 
bool|| 
Delete|| !
(||! "
Guid||" &
rowGuid||' .
)||. /
{}} 	
return~~ 
DBCommerceReport~~ #
.~~# $
Delete~~$ *
(~~* +
rowGuid~~+ 2
)~~2 3
;~~3 4
} 	
public
ÜÜ 
static
ÜÜ 
bool
ÜÜ 
DeleteBySite
ÜÜ '
(
ÜÜ' (
Guid
ÜÜ( ,
siteGuid
ÜÜ- 5
)
ÜÜ5 6
{
áá 	
return
àà 
DBCommerceReport
àà #
.
àà# $
DeleteBySite
àà$ 0
(
àà0 1
siteGuid
àà1 9
)
àà9 :
;
àà: ;
}
ââ 	
private
ãã 
static
ãã 
	DataTable
ãã  
GetYearEmptyTable
ãã! 2
(
ãã2 3
)
ãã3 4
{
åå 	
	DataTable
çç 
	dataTable
çç 
=
çç  !
new
çç" %
	DataTable
çç& /
(
çç/ 0
)
çç0 1
;
çç1 2
	dataTable
èè 
.
èè 
Columns
èè 
.
èè 
Add
èè !
(
èè! "
$str
èè" %
,
èè% &
typeof
èè' -
(
èè- .
int
èè. 1
)
èè1 2
)
èè2 3
;
èè3 4
	dataTable
êê 
.
êê 
Columns
êê 
.
êê 
Add
êê !
(
êê! "
$str
êê" )
,
êê) *
typeof
êê+ 1
(
êê1 2
decimal
êê2 9
)
êê9 :
)
êê: ;
;
êê; <
	dataTable
ëë 
.
ëë 
Columns
ëë 
.
ëë 
Add
ëë !
(
ëë! "
$str
ëë" )
,
ëë) *
typeof
ëë+ 1
(
ëë1 2
int
ëë2 5
)
ëë5 6
)
ëë6 7
;
ëë7 8
return
íí 
	dataTable
íí 
;
íí 
}
ìì 	
private
ïï 
static
ïï 
void
ïï )
PopulateYearTableFromReader
ïï 7
(
ïï7 8
IDataReader
ïï8 C
reader
ïïD J
,
ïïJ K
	DataTable
ïïL U
	dataTable
ïïV _
)
ïï_ `
{
ññ 	
try
óó 
{
òò 
while
ôô 
(
ôô 
reader
ôô 
.
ôô 
Read
ôô "
(
ôô" #
)
ôô# $
)
ôô$ %
{
öö 
DataRow
õõ 
row
õõ 
=
õõ  !
	dataTable
õõ" +
.
õõ+ ,
NewRow
õõ, 2
(
õõ2 3
)
õõ3 4
;
õõ4 5
row
ùù 
[
ùù 
$str
ùù 
]
ùù 
=
ùù 
Convert
ùù &
.
ùù& '
ToInt32
ùù' .
(
ùù. /
reader
ùù/ 5
[
ùù5 6
$str
ùù6 9
]
ùù9 :
,
ùù: ;
CultureInfo
ùù< G
.
ùùG H
InvariantCulture
ùùH X
)
ùùX Y
;
ùùY Z
row
ûû 
[
ûû 
$str
ûû 
]
ûû  
=
ûû! "
Convert
ûû# *
.
ûû* +
	ToDecimal
ûû+ 4
(
ûû4 5
reader
ûû5 ;
[
ûû; <
$str
ûû< C
]
ûûC D
,
ûûD E
CultureInfo
ûûF Q
.
ûûQ R
InvariantCulture
ûûR b
)
ûûb c
;
ûûc d
row
üü 
[
üü 
$str
üü 
]
üü  
=
üü! "
Convert
üü# *
.
üü* +
ToInt32
üü+ 2
(
üü2 3
reader
üü3 9
[
üü9 :
$str
üü: A
]
üüA B
,
üüB C
CultureInfo
üüD O
.
üüO P
InvariantCulture
üüP `
)
üü` a
;
üüa b
	dataTable
†† 
.
†† 
Rows
†† "
.
††" #
Add
††# &
(
††& '
row
††' *
)
††* +
;
††+ ,
}
°° 
}
¢¢ 
finally
££ 
{
§§ 
reader
•• 
.
•• 
Close
•• 
(
•• 
)
•• 
;
•• 
}
¶¶ 
}
ßß 	
private
©© 
static
©© 
	DataTable
©©  $
GetYearMonthEmptyTable
©©! 7
(
©©7 8
)
©©8 9
{
™™ 	
	DataTable
´´ 
	dataTable
´´ 
=
´´  !
new
´´" %
	DataTable
´´& /
(
´´/ 0
)
´´0 1
;
´´1 2
	dataTable
≠≠ 
.
≠≠ 
Columns
≠≠ 
.
≠≠ 
Add
≠≠ !
(
≠≠! "
$str
≠≠" %
,
≠≠% &
typeof
≠≠' -
(
≠≠- .
int
≠≠. 1
)
≠≠1 2
)
≠≠2 3
;
≠≠3 4
	dataTable
ÆÆ 
.
ÆÆ 
Columns
ÆÆ 
.
ÆÆ 
Add
ÆÆ !
(
ÆÆ! "
$str
ÆÆ" %
,
ÆÆ% &
typeof
ÆÆ' -
(
ÆÆ- .
int
ÆÆ. 1
)
ÆÆ1 2
)
ÆÆ2 3
;
ÆÆ3 4
;
ÆÆ5 6
	dataTable
ØØ 
.
ØØ 
Columns
ØØ 
.
ØØ 
Add
ØØ !
(
ØØ! "
$str
ØØ" )
,
ØØ) *
typeof
ØØ+ 1
(
ØØ1 2
decimal
ØØ2 9
)
ØØ9 :
)
ØØ: ;
;
ØØ; <
	dataTable
∞∞ 
.
∞∞ 
Columns
∞∞ 
.
∞∞ 
Add
∞∞ !
(
∞∞! "
$str
∞∞" )
,
∞∞) *
typeof
∞∞+ 1
(
∞∞1 2
int
∞∞2 5
)
∞∞5 6
)
∞∞6 7
;
∞∞7 8
return
±± 
	dataTable
±± 
;
±± 
}
≤≤ 	
private
¥¥ 
static
¥¥ 
void
¥¥ .
 PopulateYearMonthTableFromReader
¥¥ <
(
¥¥< =
IDataReader
¥¥= H
reader
¥¥I O
,
¥¥O P
	DataTable
¥¥Q Z
	dataTable
¥¥[ d
)
¥¥d e
{
µµ 	
try
∂∂ 
{
∑∑ 
while
∏∏ 
(
∏∏ 
reader
∏∏ 
.
∏∏ 
Read
∏∏ "
(
∏∏" #
)
∏∏# $
)
∏∏$ %
{
ππ 
DataRow
∫∫ 
row
∫∫ 
=
∫∫  !
	dataTable
∫∫" +
.
∫∫+ ,
NewRow
∫∫, 2
(
∫∫2 3
)
∫∫3 4
;
∫∫4 5
row
ºº 
[
ºº 
$str
ºº 
]
ºº 
=
ºº 
Convert
ºº &
.
ºº& '
ToInt32
ºº' .
(
ºº. /
reader
ºº/ 5
[
ºº5 6
$str
ºº6 9
]
ºº9 :
,
ºº: ;
CultureInfo
ºº< G
.
ººG H
InvariantCulture
ººH X
)
ººX Y
;
ººY Z
row
ΩΩ 
[
ΩΩ 
$str
ΩΩ 
]
ΩΩ 
=
ΩΩ 
Convert
ΩΩ &
.
ΩΩ& '
ToInt32
ΩΩ' .
(
ΩΩ. /
reader
ΩΩ/ 5
[
ΩΩ5 6
$str
ΩΩ6 9
]
ΩΩ9 :
,
ΩΩ: ;
CultureInfo
ΩΩ< G
.
ΩΩG H
InvariantCulture
ΩΩH X
)
ΩΩX Y
;
ΩΩY Z
row
ææ 
[
ææ 
$str
ææ 
]
ææ  
=
ææ! "
Convert
ææ# *
.
ææ* +
	ToDecimal
ææ+ 4
(
ææ4 5
reader
ææ5 ;
[
ææ; <
$str
ææ< C
]
ææC D
,
ææD E
CultureInfo
ææF Q
.
ææQ R
InvariantCulture
ææR b
)
ææb c
;
ææc d
row
øø 
[
øø 
$str
øø 
]
øø  
=
øø! "
Convert
øø# *
.
øø* +
ToInt32
øø+ 2
(
øø2 3
reader
øø3 9
[
øø9 :
$str
øø: A
]
øøA B
,
øøB C
CultureInfo
øøD O
.
øøO P
InvariantCulture
øøP `
)
øø` a
;
øøa b
	dataTable
¡¡ 
.
¡¡ 
Rows
¡¡ "
.
¡¡" #
Add
¡¡# &
(
¡¡& '
row
¡¡' *
)
¡¡* +
;
¡¡+ ,
}
¬¬ 
}
√√ 
finally
ƒƒ 
{
≈≈ 
reader
∆∆ 
.
∆∆ 
Close
∆∆ 
(
∆∆ 
)
∆∆ 
;
∆∆ 
}
«« 
}
»» 	
public
   
static
   
	DataTable
   '
GetSalesByYearMonthBySite
    9
(
  9 :
Guid
  : >
siteGuid
  ? G
)
  G H
{
ÀÀ 	
	DataTable
ÃÃ 
	dataTable
ÃÃ 
=
ÃÃ  !$
GetYearMonthEmptyTable
ÃÃ" 8
(
ÃÃ8 9
)
ÃÃ9 :
;
ÃÃ: ;
IDataReader
ÕÕ 
reader
ÕÕ 
=
ÕÕ  
DBCommerceReport
ÕÕ! 1
.
ÕÕ1 2'
GetSalesByYearMonthBySite
ÕÕ2 K
(
ÕÕK L
siteGuid
ÕÕL T
)
ÕÕT U
;
ÕÕU V.
 PopulateYearMonthTableFromReader
ŒŒ ,
(
ŒŒ, -
reader
ŒŒ- 3
,
ŒŒ3 4
	dataTable
ŒŒ5 >
)
ŒŒ> ?
;
ŒŒ? @
return
œœ 
	dataTable
œœ 
;
œœ 
}
–– 	
public
““ 
static
““ 
	DataTable
““ $
GetSalesByYearByModule
““  6
(
““6 7
Guid
““7 ;

moduleGuid
““< F
)
““F G
{
”” 	
	DataTable
‘‘ 
	dataTable
‘‘ 
=
‘‘  !
GetYearEmptyTable
‘‘" 3
(
‘‘3 4
)
‘‘4 5
;
‘‘5 6
IDataReader
’’ 
reader
’’ 
=
’’  
DBCommerceReport
’’! 1
.
’’1 2$
GetSalesByYearByModule
’’2 H
(
’’H I

moduleGuid
’’I S
)
’’S T
;
’’T U)
PopulateYearTableFromReader
÷÷ '
(
÷÷' (
reader
÷÷( .
,
÷÷. /
	dataTable
÷÷0 9
)
÷÷9 :
;
÷÷: ;
return
◊◊ 
	dataTable
◊◊ 
;
◊◊ 
}
ÿÿ 	
public
⁄⁄ 
static
⁄⁄ 
	DataTable
⁄⁄ )
GetSalesByYearMonthByModule
⁄⁄  ;
(
⁄⁄; <
Guid
⁄⁄< @

moduleGuid
⁄⁄A K
)
⁄⁄K L
{
€€ 	
	DataTable
‹‹ 
	dataTable
‹‹ 
=
‹‹  !$
GetYearMonthEmptyTable
‹‹" 8
(
‹‹8 9
)
‹‹9 :
;
‹‹: ;
IDataReader
›› 
reader
›› 
=
››  
DBCommerceReport
››! 1
.
››1 2)
GetSalesByYearMonthByModule
››2 M
(
››M N

moduleGuid
››N X
)
››X Y
;
››Y Z.
 PopulateYearMonthTableFromReader
ﬁﬁ ,
(
ﬁﬁ, -
reader
ﬁﬁ- 3
,
ﬁﬁ3 4
	dataTable
ﬁﬁ5 >
)
ﬁﬁ> ?
;
ﬁﬁ? @
return
ﬂﬂ 
	dataTable
ﬂﬂ 
;
ﬂﬂ 
}
‡‡ 	
public
‚‚ 
static
‚‚ 
	DataTable
‚‚ '
GetSalesByYearMonthByItem
‚‚  9
(
‚‚9 :
Guid
‚‚: >
itemGuid
‚‚? G
)
‚‚G H
{
„„ 	
	DataTable
‰‰ 
	dataTable
‰‰ 
=
‰‰  !$
GetYearMonthEmptyTable
‰‰" 8
(
‰‰8 9
)
‰‰9 :
;
‰‰: ;
IDataReader
ÂÂ 
reader
ÂÂ 
=
ÂÂ  
DBCommerceReport
ÂÂ! 1
.
ÂÂ1 2'
GetSalesByYearMonthByItem
ÂÂ2 K
(
ÂÂK L
itemGuid
ÂÂL T
)
ÂÂT U
;
ÂÂU V.
 PopulateYearMonthTableFromReader
ÊÊ ,
(
ÊÊ, -
reader
ÊÊ- 3
,
ÊÊ3 4
	dataTable
ÊÊ5 >
)
ÊÊ> ?
;
ÊÊ? @
return
ÁÁ 
	dataTable
ÁÁ 
;
ÁÁ 
}
ËË 	
public
ÍÍ 
static
ÍÍ 
	DataTable
ÍÍ '
GetSalesByYearMonthByUser
ÍÍ  9
(
ÍÍ9 :
Guid
ÍÍ: >
userGuid
ÍÍ? G
)
ÍÍG H
{
ÎÎ 	
	DataTable
ÏÏ 
	dataTable
ÏÏ 
=
ÏÏ  !$
GetYearMonthEmptyTable
ÏÏ" 8
(
ÏÏ8 9
)
ÏÏ9 :
;
ÏÏ: ;
IDataReader
ÌÌ 
reader
ÌÌ 
=
ÌÌ  
DBCommerceReport
ÌÌ! 1
.
ÌÌ1 2'
GetSalesByYearMonthByUser
ÌÌ2 K
(
ÌÌK L
userGuid
ÌÌL T
)
ÌÌT U
;
ÌÌU V.
 PopulateYearMonthTableFromReader
ÓÓ ,
(
ÓÓ, -
reader
ÓÓ- 3
,
ÓÓ3 4
	dataTable
ÓÓ5 >
)
ÓÓ> ?
;
ÓÓ? @
return
ÔÔ 
	dataTable
ÔÔ 
;
ÔÔ 
}
 	
private
ÚÚ 
static
ÚÚ 
	DataTable
ÚÚ  &
GetItemRevenueEmptyTable
ÚÚ! 9
(
ÚÚ9 :
)
ÚÚ: ;
{
ÛÛ 	
	DataTable
ÙÙ 
	dataTable
ÙÙ 
=
ÙÙ  !
new
ÙÙ" %
	DataTable
ÙÙ& /
(
ÙÙ/ 0
)
ÙÙ0 1
;
ÙÙ1 2
	dataTable
ıı 
.
ıı 
Columns
ıı 
.
ıı 
Add
ıı !
(
ıı! "
$str
ıı" /
,
ıı/ 0
typeof
ıı1 7
(
ıı7 8
string
ıı8 >
)
ıı> ?
)
ıı? @
;
ıı@ A
	dataTable
ˆˆ 
.
ˆˆ 
Columns
ˆˆ 
.
ˆˆ 
Add
ˆˆ !
(
ˆˆ! "
$str
ˆˆ" ,
,
ˆˆ, -
typeof
ˆˆ. 4
(
ˆˆ4 5
string
ˆˆ5 ;
)
ˆˆ; <
)
ˆˆ< =
;
ˆˆ= >
	dataTable
˜˜ 
.
˜˜ 
Columns
˜˜ 
.
˜˜ 
Add
˜˜ !
(
˜˜! "
$str
˜˜" ,
,
˜˜, -
typeof
˜˜. 4
(
˜˜4 5
Guid
˜˜5 9
)
˜˜9 :
)
˜˜: ;
;
˜˜; <
;
˜˜= >
	dataTable
¯¯ 
.
¯¯ 
Columns
¯¯ 
.
¯¯ 
Add
¯¯ !
(
¯¯! "
$str
¯¯" -
,
¯¯- .
typeof
¯¯/ 5
(
¯¯5 6
int
¯¯6 9
)
¯¯9 :
)
¯¯: ;
;
¯¯; <
	dataTable
˘˘ 
.
˘˘ 
Columns
˘˘ 
.
˘˘ 
Add
˘˘ !
(
˘˘! "
$str
˘˘" +
,
˘˘+ ,
typeof
˘˘- 3
(
˘˘3 4
decimal
˘˘4 ;
)
˘˘; <
)
˘˘< =
;
˘˘= >
return
˙˙ 
	dataTable
˙˙ 
;
˙˙ 
}
˚˚ 	
private
˝˝ 
static
˝˝ 
void
˝˝ 0
"PopulateItemRevenueTableFromReader
˝˝ >
(
˝˝> ?
IDataReader
˝˝? J
reader
˝˝K Q
,
˝˝Q R
	DataTable
˝˝S \
	dataTable
˝˝] f
)
˝˝f g
{
˛˛ 	
try
ˇˇ 
{
ÄÄ 
while
ÅÅ 
(
ÅÅ 
reader
ÅÅ 
.
ÅÅ 
Read
ÅÅ "
(
ÅÅ" #
)
ÅÅ# $
)
ÅÅ$ %
{
ÇÇ 
DataRow
ÉÉ 
row
ÉÉ 
=
ÉÉ  !
	dataTable
ÉÉ" +
.
ÉÉ+ ,
NewRow
ÉÉ, 2
(
ÉÉ2 3
)
ÉÉ3 4
;
ÉÉ4 5
row
ÑÑ 
[
ÑÑ 
$str
ÑÑ %
]
ÑÑ% &
=
ÑÑ' (
reader
ÑÑ) /
[
ÑÑ/ 0
$str
ÑÑ0 =
]
ÑÑ= >
.
ÑÑ> ?
ToString
ÑÑ? G
(
ÑÑG H
)
ÑÑH I
;
ÑÑI J
row
ÖÖ 
[
ÖÖ 
$str
ÖÖ "
]
ÖÖ" #
=
ÖÖ$ %
reader
ÖÖ& ,
[
ÖÖ, -
$str
ÖÖ- 7
]
ÖÖ7 8
.
ÖÖ8 9
ToString
ÖÖ9 A
(
ÖÖA B
)
ÖÖB C
;
ÖÖC D
row
ÜÜ 
[
ÜÜ 
$str
ÜÜ "
]
ÜÜ" #
=
ÜÜ$ %
new
ÜÜ& )
Guid
ÜÜ* .
(
ÜÜ. /
reader
ÜÜ/ 5
[
ÜÜ5 6
$str
ÜÜ6 @
]
ÜÜ@ A
.
ÜÜA B
ToString
ÜÜB J
(
ÜÜJ K
)
ÜÜK L
)
ÜÜL M
;
ÜÜM N
row
áá 
[
áá 
$str
áá #
]
áá# $
=
áá% &
Convert
áá' .
.
áá. /
ToInt32
áá/ 6
(
áá6 7
reader
áá7 =
[
áá= >
$str
áá> I
]
ááI J
,
ááJ K
CultureInfo
ááL W
.
ááW X
InvariantCulture
ááX h
)
ááh i
;
áái j
row
àà 
[
àà 
$str
àà !
]
àà! "
=
àà# $
Convert
àà% ,
.
àà, -
	ToDecimal
àà- 6
(
àà6 7
reader
àà7 =
[
àà= >
$str
àà> G
]
ààG H
,
ààH I
CultureInfo
ààJ U
.
ààU V
InvariantCulture
ààV f
)
ààf g
;
ààg h
	dataTable
ää 
.
ää 
Rows
ää "
.
ää" #
Add
ää# &
(
ää& '
row
ää' *
)
ää* +
;
ää+ ,
}
ãã 
}
åå 
finally
çç 
{
éé 
reader
èè 
.
èè 
Close
èè 
(
èè 
)
èè 
;
èè 
}
êê 
}
ëë 	
public
ìì 
static
ìì 
	DataTable
ìì "
GetItemRevenueBySite
ìì  4
(
ìì4 5
Guid
ìì5 9
siteGuid
ìì: B
)
ììB C
{
îî 	
	DataTable
ïï 
	dataTable
ïï 
=
ïï  !&
GetItemRevenueEmptyTable
ïï" :
(
ïï: ;
)
ïï; <
;
ïï< =
using
ññ 
(
ññ 
IDataReader
ññ 
reader
ññ %
=
ññ& '
DBCommerceReport
ññ( 8
.
ññ8 9"
GetItemRevenueBySite
ññ9 M
(
ññM N
siteGuid
ññN V
)
ññV W
)
ññW X
{
óó 0
"PopulateItemRevenueTableFromReader
òò 2
(
òò2 3
reader
òò3 9
,
òò9 :
	dataTable
òò; D
)
òòD E
;
òòE F
}
ôô 
return
öö 
	dataTable
öö 
;
öö 
}
õõ 	
public
ùù 
static
ùù 
	DataTable
ùù $
GetItemRevenueByModule
ùù  6
(
ùù6 7
Guid
ùù7 ;

moduleGuid
ùù< F
)
ùùF G
{
ûû 	
	DataTable
üü 
	dataTable
üü 
=
üü  !&
GetItemRevenueEmptyTable
üü" :
(
üü: ;
)
üü; <
;
üü< =
using
†† 
(
†† 
IDataReader
†† 
reader
†† %
=
††& '
DBCommerceReport
††( 8
.
††8 9$
GetItemRevenueByModule
††9 O
(
††O P

moduleGuid
††P Z
)
††Z [
)
††[ \
{
°° 0
"PopulateItemRevenueTableFromReader
¢¢ 2
(
¢¢2 3
reader
¢¢3 9
,
¢¢9 :
	dataTable
¢¢; D
)
¢¢D E
;
¢¢E F
}
££ 
return
§§ 
	dataTable
§§ 
;
§§ 
}
•• 	
public
ßß 
static
ßß 
decimal
ßß %
GetAllTimeRevenueBySite
ßß 5
(
ßß5 6
Guid
ßß6 :
siteGuid
ßß; C
)
ßßC D
{
®® 	
return
©© 
DBCommerceReport
©© #
.
©©# $%
GetAllTimeRevenueBySite
©©$ ;
(
©©; <
siteGuid
©©< D
)
©©D E
;
©©E F
}
™™ 	
public
¨¨ 
static
¨¨ 
decimal
¨¨ '
GetAllTimeRevenueByModule
¨¨ 7
(
¨¨7 8
Guid
¨¨8 <

moduleGuid
¨¨= G
)
¨¨G H
{
≠≠ 	
return
ÆÆ 
DBCommerceReport
ÆÆ #
.
ÆÆ# $'
GetAllTimeRevenueByModule
ÆÆ$ =
(
ÆÆ= >

moduleGuid
ÆÆ> H
)
ÆÆH I
;
ÆÆI J
}
ØØ 	
public
±± 
static
±± 
IDataReader
±± !%
GetSalesGroupedByModule
±±" 9
(
±±9 :
Guid
±±: >
siteGuid
±±? G
)
±±G H
{
≤≤ 	
return
≥≥ 
DBCommerceReport
≥≥ #
.
≥≥# $%
GetSalesGroupedByModule
≥≥$ ;
(
≥≥; <
siteGuid
≥≥< D
)
≥≥D E
;
≥≥E F
}
¥¥ 	
public
∂∂ 
static
∂∂ 
IDataReader
∂∂ !#
GetSalesGroupedByUser
∂∂" 7
(
∂∂7 8
Guid
∂∂8 <
siteGuid
∂∂= E
)
∂∂E F
{
∑∑ 	
return
∏∏ 
DBCommerceReport
∏∏ #
.
∏∏# $#
GetSalesGroupedByUser
∏∏$ 9
(
∏∏9 :
siteGuid
∏∏: B
)
∏∏B C
;
∏∏C D
}
ππ 	
public
ææ 
static
ææ 
IDataReader
ææ !
GetUserItemsPage
ææ" 2
(
ææ2 3
Guid
øø 
siteGuid
øø 
,
øø 
Guid
¿¿ 
userGuid
¿¿ 
,
¿¿ 
int
¡¡ 

pageNumber
¡¡ 
,
¡¡ 
int
¬¬ 
pageSize
¬¬ 
,
¬¬ 
out
√√ 
int
√√ 

totalPages
√√ 
)
√√ 
{
ƒƒ 	
return
≈≈ 
DBCommerceReport
≈≈ #
.
≈≈# $
GetUserItemsPage
≈≈$ 4
(
≈≈4 5
siteGuid
≈≈5 =
,
≈≈= >
userGuid
≈≈? G
,
≈≈G H

pageNumber
≈≈I S
,
≈≈S T
pageSize
≈≈U ]
,
≈≈] ^
out
≈≈_ b

totalPages
≈≈c m
)
≈≈m n
;
≈≈n o
}
∆∆ 	
public
ÃÃ 
static
ÃÃ 
IDataReader
ÃÃ !"
GetItemsPageByModule
ÃÃ" 6
(
ÃÃ6 7
Guid
ÕÕ 

moduleGuid
ÕÕ 
,
ÕÕ 
int
ŒŒ 

pageNumber
ŒŒ 
,
ŒŒ 
int
œœ 
pageSize
œœ 
,
œœ 
out
–– 
int
–– 

totalPages
–– 
)
–– 
{
—— 	
return
““ 
DBCommerceReport
““ #
.
““# $"
GetItemsPageByModule
““$ 8
(
““8 9

moduleGuid
““9 C
,
““C D

pageNumber
““E O
,
““O P
pageSize
““Q Y
,
““Y Z
out
““[ ^

totalPages
““_ i
)
““i j
;
““j k
}
‘‘ 	
public
ŸŸ 
static
ŸŸ 
IDataReader
ŸŸ !#
GetUserItemPageBySite
ŸŸ" 7
(
ŸŸ7 8
Guid
⁄⁄ 
siteGuid
⁄⁄ 
,
⁄⁄ 
int
€€ 

pageNumber
€€ 
,
€€ 
int
‹‹ 
pageSize
‹‹ 
,
‹‹ 
out
›› 
int
›› 

totalPages
›› 
)
›› 
{
ﬁﬁ 	
return
ﬂﬂ 
DBCommerceReport
ﬂﬂ #
.
ﬂﬂ# $#
GetUserItemPageBySite
ﬂﬂ$ 9
(
ﬂﬂ9 :
siteGuid
ﬂﬂ: B
,
ﬂﬂB C

pageNumber
ﬂﬂD N
,
ﬂﬂN O
pageSize
ﬂﬂP X
,
ﬂﬂX Y
out
ﬂﬂZ ]

totalPages
ﬂﬂ^ h
)
ﬂﬂh i
;
ﬂﬂi j
}
‡‡ 	
public
ÊÊ 
static
ÊÊ 
bool
ÊÊ 
DeleteByModule
ÊÊ )
(
ÊÊ) *
Guid
ÊÊ* .

moduleGuid
ÊÊ/ 9
)
ÊÊ9 :
{
ÁÁ 	
DBCommerceReport
ËË 
.
ËË "
DeleteOrdersByModule
ËË 1
(
ËË1 2

moduleGuid
ËË2 <
)
ËË< =
;
ËË= >
return
ÈÈ 
DBCommerceReport
ÈÈ #
.
ÈÈ# $
DeleteByModule
ÈÈ$ 2
(
ÈÈ2 3

moduleGuid
ÈÈ3 =
)
ÈÈ= >
;
ÈÈ> ?
}
ÍÍ 	
public
ÏÏ 
static
ÏÏ 
int
ÏÏ 
CreateOrder
ÏÏ %
(
ÏÏ% &
Guid
ÌÌ 
rowGuid
ÌÌ 
,
ÌÌ 
Guid
ÓÓ 
siteGuid
ÓÓ 
,
ÓÓ 
Guid
ÔÔ 
featureGuid
ÔÔ 
,
ÔÔ 
Guid
 

moduleGuid
 
,
 
Guid
ÒÒ 
userGuid
ÒÒ 
,
ÒÒ 
Guid
ÚÚ 
	orderGuid
ÚÚ 
,
ÚÚ 
string
ÛÛ 
billingFirstName
ÛÛ #
,
ÛÛ# $
string
ÙÙ 
billingLastName
ÙÙ "
,
ÙÙ" #
string
ıı 
billingCompany
ıı !
,
ıı! "
string
ˆˆ 
billingAddress1
ˆˆ "
,
ˆˆ" #
string
˜˜ 
billingAddress2
˜˜ "
,
˜˜" #
string
¯¯ 
billingSuburb
¯¯  
,
¯¯  !
string
˘˘ 
billingCity
˘˘ 
,
˘˘ 
string
˙˙ 
billingPostalCode
˙˙ $
,
˙˙$ %
string
˚˚ 
billingState
˚˚ 
,
˚˚  
string
¸¸ 
billingCountry
¸¸ !
,
¸¸! "
string
˝˝ 
paymentMethod
˝˝  
,
˝˝  !
decimal
˛˛ 
subTotal
˛˛ 
,
˛˛ 
decimal
ˇˇ 
taxTotal
ˇˇ 
,
ˇˇ 
decimal
ÄÄ 
shippingTotal
ÄÄ !
,
ÄÄ! "
decimal
ÅÅ 

orderTotal
ÅÅ 
,
ÅÅ 
DateTime
ÇÇ 
orderDateUtc
ÇÇ !
,
ÇÇ! "
string
ÉÉ 
adminOrderLink
ÉÉ !
,
ÉÉ! "
string
ÑÑ 
userOrderLink
ÑÑ  
,
ÑÑ  !
DateTime
ÖÖ 
rowCreatedUtc
ÖÖ "
)
ÖÖ" #
{
ÜÜ 	
return
áá 
CreateOrder
áá 
(
áá 
rowGuid
àà 
,
àà 
siteGuid
ââ 
,
ââ 
featureGuid
ää 
,
ää 

moduleGuid
ãã 
,
ãã 
userGuid
åå 
,
åå 
	orderGuid
çç 
,
çç 
billingFirstName
éé  
,
éé  !
billingLastName
èè 
,
èè  
billingCompany
êê 
,
êê 
billingAddress1
ëë 
,
ëë  
billingAddress2
íí 
,
íí  
billingSuburb
ìì 
,
ìì 
billingCity
îî 
,
îî 
billingPostalCode
ïï !
,
ïï! "
billingState
ññ 
,
ññ 
billingCountry
óó 
,
óó 
paymentMethod
òò 
,
òò 
subTotal
ôô 
,
ôô 
taxTotal
öö 
,
öö 
shippingTotal
õõ 
,
õõ 

orderTotal
úú 
,
úú 
orderDateUtc
ùù 
,
ùù 
adminOrderLink
ûû 
,
ûû 
userOrderLink
üü 
,
üü 
rowCreatedUtc
†† 
,
†† 
true
°° 
)
°° 
;
°° 
}
¢¢ 	
public
®® 
static
®® 
int
®® 
CreateOrder
®® %
(
®®% &
Guid
©© 
rowGuid
©© 
,
©© 
Guid
™™ 
siteGuid
™™ 
,
™™ 
Guid
´´ 
featureGuid
´´ 
,
´´ 
Guid
¨¨ 

moduleGuid
¨¨ 
,
¨¨ 
Guid
≠≠ 
userGuid
≠≠ 
,
≠≠ 
Guid
ÆÆ 
	orderGuid
ÆÆ 
,
ÆÆ 
string
ØØ 
billingFirstName
ØØ #
,
ØØ# $
string
∞∞ 
billingLastName
∞∞ "
,
∞∞" #
string
±± 
billingCompany
±± !
,
±±! "
string
≤≤ 
billingAddress1
≤≤ "
,
≤≤" #
string
≥≥ 
billingAddress2
≥≥ "
,
≥≥" #
string
¥¥ 
billingSuburb
¥¥  
,
¥¥  !
string
µµ 
billingCity
µµ 
,
µµ 
string
∂∂ 
billingPostalCode
∂∂ $
,
∂∂$ %
string
∑∑ 
billingState
∑∑ 
,
∑∑  
string
∏∏ 
billingCountry
∏∏ !
,
∏∏! "
string
ππ 
paymentMethod
ππ  
,
ππ  !
decimal
∫∫ 
subTotal
∫∫ 
,
∫∫ 
decimal
ªª 
taxTotal
ªª 
,
ªª 
decimal
ºº 
shippingTotal
ºº !
,
ºº! "
decimal
ΩΩ 

orderTotal
ΩΩ 
,
ΩΩ 
DateTime
ææ 
orderDateUtc
ææ !
,
ææ! "
string
øø 
adminOrderLink
øø !
,
øø! "
string
¿¿ 
userOrderLink
¿¿  
,
¿¿  !
DateTime
¡¡ 
rowCreatedUtc
¡¡ "
,
¡¡" #
bool
¬¬  
includeInAggregate
¬¬ #
)
¬¬# $
{
√√ 	
return
ƒƒ 
DBCommerceReport
ƒƒ #
.
ƒƒ# $
CreateOrder
ƒƒ$ /
(
ƒƒ/ 0
rowGuid
≈≈ 
,
≈≈ 
siteGuid
∆∆ 
,
∆∆ 
featureGuid
«« 
,
«« 

moduleGuid
»» 
,
»» 
userGuid
…… 
,
…… 
	orderGuid
   
,
   
billingFirstName
ÀÀ  
,
ÀÀ  !
billingLastName
ÃÃ 
,
ÃÃ  
billingCompany
ÕÕ 
,
ÕÕ 
billingAddress1
ŒŒ 
,
ŒŒ  
billingAddress2
œœ 
,
œœ  
billingSuburb
–– 
,
–– 
billingCity
—— 
,
—— 
billingPostalCode
““ !
,
““! "
billingState
”” 
,
”” 
billingCountry
‘‘ 
,
‘‘ 
paymentMethod
’’ 
,
’’ 
subTotal
÷÷ 
,
÷÷ 
taxTotal
◊◊ 
,
◊◊ 
shippingTotal
ÿÿ 
,
ÿÿ 

orderTotal
ŸŸ 
,
ŸŸ 
orderDateUtc
⁄⁄ 
,
⁄⁄ 
adminOrderLink
€€ 
,
€€ 
userOrderLink
‹‹ 
,
‹‹ 
rowCreatedUtc
›› 
,
››  
includeInAggregate
ﬁﬁ "
)
ﬁﬁ" #
;
ﬁﬁ# $
}
‡‡ 	
public
ÂÂ 
static
ÂÂ 
bool
ÂÂ 
DeleteOrder
ÂÂ &
(
ÂÂ& '
Guid
ÂÂ' +
	orderGuid
ÂÂ, 5
)
ÂÂ5 6
{
ÊÊ 	
DBCommerceReport
ÁÁ 
.
ÁÁ !
DeleteOrdersByOrder
ÁÁ 0
(
ÁÁ0 1
	orderGuid
ÁÁ1 :
)
ÁÁ: ;
;
ÁÁ; <
return
ËË 
DBCommerceReport
ËË #
.
ËË# $
DeleteByOrder
ËË$ 1
(
ËË1 2
	orderGuid
ËË2 ;
)
ËË; <
;
ËË< =
}
ÈÈ 	
public
ÎÎ 
static
ÎÎ 
bool
ÎÎ 
	MoveOrder
ÎÎ $
(
ÎÎ$ %
Guid
ÏÏ 
	orderGuid
ÏÏ 
,
ÏÏ 
Guid
ÌÌ 
newUserGuid
ÌÌ 
)
ÌÌ 
{
ÓÓ 	
return
ÔÔ 
DBCommerceReport
ÔÔ #
.
ÔÔ# $
	MoveOrder
ÔÔ$ -
(
ÔÔ- .
	orderGuid
ÔÔ. 7
,
ÔÔ7 8
newUserGuid
ÔÔ9 D
)
ÔÔD E
;
ÔÔE F
}
 	
}
õõ 
}ùù ¸$
pD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\CommerceReportItem.cs
	namespace 	

mojoPortal
 
. 
Business 
{		 
public

 

class

 
CommerceReportItem

 #
{ 
private 
Guid 
itemGuid 
= 
Guid  $
.$ %
Empty% *
;* +
private 
Guid 

moduleGuid 
=  !
Guid" &
.& '
Empty' ,
;, -
private 
Guid 
siteGuid 
= 
Guid  $
.$ %
Empty% *
;* +
private 
string 
itemName 
=  !
string" (
.( )
Empty) .
;. /
private 
string 
moduleTitle "
=# $
string% +
.+ ,
Empty, 1
;1 2
private 
decimal 
totalRevenue $
=% &
$num' (
;( )
public 
Guid 
ItemGuid 
{ 	
get 
{ 
return 
itemGuid !
;! "
}# $
} 	
public 
Guid 

ModuleGuid 
{ 	
get 
{ 
return 

moduleGuid #
;# $
}% &
} 	
public 
Guid 
SiteGuid 
{ 	
get 
{ 
return 
siteGuid !
;! "
}# $
}   	
public"" 
string"" 
ItemName"" 
{## 	
get$$ 
{$$ 
return$$ 
itemName$$ !
;$$! "
}$$# $
}%% 	
public'' 
string'' 
ModuleTitle'' !
{(( 	
get)) 
{)) 
return)) 
moduleTitle)) $
;))$ %
}))& '
}** 	
public,, 
decimal,, 
TotalRevenue,, #
{-- 	
get.. 
{.. 
return.. 
totalRevenue.. %
;..% &
}..' (
}// 	
public11 
static11 
CommerceReportItem11 (
	GetByGuid11) 2
(112 3
Guid113 7
itemGuid118 @
)11@ A
{22 	
CommerceReportItem33 
item33 #
=33$ %
new33& )
CommerceReportItem33* <
(33< =
)33= >
;33> ?
using44 
(44 
IDataReader44 
reader44 %
=44& '
DBCommerceReport44( 8
.448 9
GetItemSummary449 G
(44G H
itemGuid44H P
)44P Q
)44Q R
{55 
if66 
(66 
reader66 
.66 
Read66 
(66  
)66  !
)66! "
{77 
item88 
.88 
itemGuid88 !
=88" #
new88$ '
Guid88( ,
(88, -
reader88- 3
[883 4
$str884 >
]88> ?
.88? @
ToString88@ H
(88H I
)88I J
)88J K
;88K L
item99 
.99 

moduleGuid99 #
=99$ %
new99& )
Guid99* .
(99. /
reader99/ 5
[995 6
$str996 B
]99B C
.99C D
ToString99D L
(99L M
)99M N
)99N O
;99O P
item:: 
.:: 
siteGuid:: !
=::" #
new::$ '
Guid::( ,
(::, -
reader::- 3
[::3 4
$str::4 >
]::> ?
.::? @
ToString::@ H
(::H I
)::I J
)::J K
;::K L
item;; 
.;; 
itemName;; !
=;;" #
reader;;$ *
[;;* +
$str;;+ 5
];;5 6
.;;6 7
ToString;;7 ?
(;;? @
);;@ A
;;;A B
item<< 
.<< 
moduleTitle<< $
=<<% &
reader<<' -
[<<- .
$str<<. ;
]<<; <
.<<< =
ToString<<= E
(<<E F
)<<F G
;<<G H
item== 
.== 
totalRevenue== %
===& '
Convert==( /
.==/ 0
	ToDecimal==0 9
(==9 :
reader==: @
[==@ A
$str==A J
]==J K
)==K L
;==L M
}?? 
}AA 
returnCC 
itemCC 
;CC 
}DD 	
}FF 
}GG ö©
lD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ContentHistory.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
ContentHistory 
{ 
public 
ContentHistory 
( 
) 
{ 	
}
 
public 
ContentHistory 
( 
Guid "
guid# '
)' (
{   	
GetContentHistory!! 
(!! 
guid!! "
)!!" #
;!!# $
}"" 	
private(( 
Guid(( 
guid(( 
=(( 
Guid((  
.((  !
Empty((! &
;((& '
private)) 
Guid)) 
siteGuid)) 
=)) 
Guid))  $
.))$ %
Empty))% *
;))* +
private** 
Guid** 
userGuid** 
=** 
Guid**  $
.**$ %
Empty**% *
;*** +
private++ 
Guid++ 
contentGuid++  
=++! "
Guid++# '
.++' (
Empty++( -
;++- .
private,, 
string,, 
title,, 
=,, 
string,, %
.,,% &
Empty,,& +
;,,+ ,
private-- 
string-- 
contentText-- "
=--# $
string--% +
.--+ ,
Empty--, 1
;--1 2
private.. 
string.. 

customData.. !
=.." #
string..$ *
...* +
Empty..+ 0
;..0 1
private// 
DateTime// 

createdUtc// #
=//$ %
DateTime//& .
.//. /
UtcNow/// 5
;//5 6
private00 
DateTime00 

historyUtc00 #
=00$ %
DateTime00& .
.00. /
UtcNow00/ 5
;005 6
private11 
string11 
userName11 
=11  !
string11" (
.11( )
Empty11) .
;11. /
private22 
string22 
	userLogin22  
=22! "
string22# )
.22) *
Empty22* /
;22/ 0
public:: 
Guid:: 
Guid:: 
{;; 	
get<< 
{<< 
return<< 
guid<< 
;<< 
}<<  
set== 
{== 
guid== 
=== 
value== 
;== 
}==  !
}>> 	
public?? 
Guid?? 
SiteGuid?? 
{@@ 	
getAA 
{AA 
returnAA 
siteGuidAA !
;AA! "
}AA# $
setBB 
{BB 
siteGuidBB 
=BB 
valueBB "
;BB" #
}BB$ %
}CC 	
publicDD 
GuidDD 
UserGuidDD 
{EE 	
getFF 
{FF 
returnFF 
userGuidFF !
;FF! "
}FF# $
setGG 
{GG 
userGuidGG 
=GG 
valueGG "
;GG" #
}GG$ %
}HH 	
publicII 
GuidII 
ContentGuidII 
{JJ 	
getKK 
{KK 
returnKK 
contentGuidKK $
;KK$ %
}KK& '
setLL 
{LL 
contentGuidLL 
=LL 
valueLL  %
;LL% &
}LL' (
}MM 	
publicNN 
stringNN 
TitleNN 
{OO 	
getPP 
{PP 
returnPP 
titlePP 
;PP 
}PP  !
setQQ 
{QQ 
titleQQ 
=QQ 
valueQQ 
;QQ  
}QQ! "
}RR 	
publicSS 
stringSS 
ContentTextSS !
{TT 	
getUU 
{UU 
returnUU 
contentTextUU $
;UU$ %
}UU& '
setVV 
{VV 
contentTextVV 
=VV 
valueVV  %
;VV% &
}VV' (
}WW 	
publicXX 
stringXX 

CustomDataXX  
{YY 	
getZZ 
{ZZ 
returnZZ 

customDataZZ #
;ZZ# $
}ZZ% &
set[[ 
{[[ 

customData[[ 
=[[ 
value[[ $
;[[$ %
}[[& '
}\\ 	
public]] 
DateTime]] 

CreatedUtc]] "
{^^ 	
get__ 
{__ 
return__ 

createdUtc__ #
;__# $
}__% &
set`` 
{`` 

createdUtc`` 
=`` 
value`` $
;``$ %
}``& '
}aa 	
publicbb 
DateTimebb 

HistoryUtcbb "
{cc 	
getdd 
{dd 
returndd 

historyUtcdd #
;dd# $
}dd% &
setee 
{ee 

historyUtcee 
=ee 
valueee $
;ee$ %
}ee& '
}ff 	
publichh 
stringhh 
UserNamehh 
{ii 	
getjj 
{jj 
returnjj 
userNamejj !
;jj! "
}jj# $
}kk 	
publicmm 
stringmm 
	UserLoginmm 
{nn 	
getoo 
{oo 
returnoo 
	userLoginoo "
;oo" #
}oo$ %
}pp 	
privatezz 
voidzz 
GetContentHistoryzz &
(zz& '
Guidzz' +
guidzz, 0
)zz0 1
{{{ 	
using|| 
(|| 
IDataReader|| 
reader|| %
=||& '
DBContentHistory||( 8
.||8 9
GetOne||9 ?
(||? @
guid||@ D
)||D E
)||E F
{}} 
PopulateFromReader~~ "
(~~" #
reader~~# )
)~~) *
;~~* +
} 
}
ÅÅ 	
private
ÑÑ 
void
ÑÑ  
PopulateFromReader
ÑÑ '
(
ÑÑ' (
IDataReader
ÑÑ( 3
reader
ÑÑ4 :
)
ÑÑ: ;
{
ÖÖ 	
if
ÜÜ 
(
ÜÜ 
reader
ÜÜ 
.
ÜÜ 
Read
ÜÜ 
(
ÜÜ 
)
ÜÜ 
)
ÜÜ 
{
áá 
this
àà 
.
àà 
guid
àà 
=
àà 
new
àà 
Guid
àà  $
(
àà$ %
reader
àà% +
[
àà+ ,
$str
àà, 2
]
àà2 3
.
àà3 4
ToString
àà4 <
(
àà< =
)
àà= >
)
àà> ?
;
àà? @
this
ââ 
.
ââ 
siteGuid
ââ 
=
ââ 
new
ââ  #
Guid
ââ$ (
(
ââ( )
reader
ââ) /
[
ââ/ 0
$str
ââ0 :
]
ââ: ;
.
ââ; <
ToString
ââ< D
(
ââD E
)
ââE F
)
ââF G
;
ââG H
this
ää 
.
ää 
userGuid
ää 
=
ää 
new
ää  #
Guid
ää$ (
(
ää( )
reader
ää) /
[
ää/ 0
$str
ää0 :
]
ää: ;
.
ää; <
ToString
ää< D
(
ääD E
)
ääE F
)
ääF G
;
ääG H
this
ãã 
.
ãã 
contentGuid
ãã  
=
ãã! "
new
ãã# &
Guid
ãã' +
(
ãã+ ,
reader
ãã, 2
[
ãã2 3
$str
ãã3 @
]
ãã@ A
.
ããA B
ToString
ããB J
(
ããJ K
)
ããK L
)
ããL M
;
ããM N
this
åå 
.
åå 
title
åå 
=
åå 
reader
åå #
[
åå# $
$str
åå$ +
]
åå+ ,
.
åå, -
ToString
åå- 5
(
åå5 6
)
åå6 7
;
åå7 8
this
çç 
.
çç 
contentText
çç  
=
çç! "
reader
çç# )
[
çç) *
$str
çç* 7
]
çç7 8
.
çç8 9
ToString
çç9 A
(
ççA B
)
ççB C
;
ççC D
this
éé 
.
éé 

customData
éé 
=
éé  !
reader
éé" (
[
éé( )
$str
éé) 5
]
éé5 6
.
éé6 7
ToString
éé7 ?
(
éé? @
)
éé@ A
;
ééA B
this
èè 
.
èè 

createdUtc
èè 
=
èè  !
Convert
èè" )
.
èè) *

ToDateTime
èè* 4
(
èè4 5
reader
èè5 ;
[
èè; <
$str
èè< H
]
èèH I
)
èèI J
;
èèJ K
this
êê 
.
êê 

historyUtc
êê 
=
êê  !
Convert
êê" )
.
êê) *

ToDateTime
êê* 4
(
êê4 5
reader
êê5 ;
[
êê; <
$str
êê< H
]
êêH I
)
êêI J
;
êêJ K
this
ëë 
.
ëë 
	userLogin
ëë 
=
ëë  
reader
ëë! '
[
ëë' (
$str
ëë( 3
]
ëë3 4
.
ëë4 5
ToString
ëë5 =
(
ëë= >
)
ëë> ?
;
ëë? @
this
íí 
.
íí 
userName
íí 
=
íí 
reader
íí  &
[
íí& '
$str
íí' -
]
íí- .
.
íí. /
ToString
íí/ 7
(
íí7 8
)
íí8 9
;
íí9 :
}
îî 
}
ññ 	
private
úú 
bool
úú 
Create
úú 
(
úú 
)
úú 
{
ùù 	
this
ûû 
.
ûû 
guid
ûû 
=
ûû 
Guid
ûû 
.
ûû 
NewGuid
ûû $
(
ûû$ %
)
ûû% &
;
ûû& '
int
†† 
rowsAffected
†† 
=
†† 
DBContentHistory
†† /
.
††/ 0
Create
††0 6
(
††6 7
this
°° 
.
°° 
guid
°° 
,
°° 
this
¢¢ 
.
¢¢ 
siteGuid
¢¢ 
,
¢¢ 
this
££ 
.
££ 
userGuid
££ 
,
££ 
this
§§ 
.
§§ 
contentGuid
§§  
,
§§  !
this
•• 
.
•• 
title
•• 
,
•• 
this
¶¶ 
.
¶¶ 
contentText
¶¶  
,
¶¶  !
this
ßß 
.
ßß 

customData
ßß 
,
ßß  
this
®® 
.
®® 

createdUtc
®® 
,
®®  
this
©© 
.
©© 

historyUtc
©© 
)
©©  
;
©©  !
return
´´ 
(
´´ 
rowsAffected
´´  
>
´´! "
$num
´´# $
)
´´$ %
;
´´% &
}
≠≠ 	
public
ææ 
bool
ææ 
Save
ææ 
(
ææ 
)
ææ 
{
øø 	
return
¿¿ 
Create
¿¿ 
(
¿¿ 
)
¿¿ 
;
¿¿ 
}
¡¡ 	
public
œœ 
static
œœ 
bool
œœ 
Delete
œœ !
(
œœ! "
Guid
œœ" &
guid
œœ' +
)
œœ+ ,
{
–– 	
return
—— 
DBContentHistory
—— #
.
——# $
Delete
——$ *
(
——* +
guid
——+ /
)
——/ 0
;
——0 1
}
““ 	
public
‘‘ 
static
‘‘ 
bool
‘‘ 
DeleteBySite
‘‘ '
(
‘‘' (
Guid
‘‘( ,
siteGuid
‘‘- 5
)
‘‘5 6
{
’’ 	
return
÷÷ 
DBContentHistory
÷÷ #
.
÷÷# $
DeleteBySite
÷÷$ 0
(
÷÷0 1
siteGuid
÷÷1 9
)
÷÷9 :
;
÷÷: ;
}
◊◊ 	
public
ŸŸ 
static
ŸŸ 
bool
ŸŸ 
DeleteByContent
ŸŸ *
(
ŸŸ* +
Guid
ŸŸ+ /
contentGuid
ŸŸ0 ;
)
ŸŸ; <
{
⁄⁄ 	
return
€€ 
DBContentHistory
€€ #
.
€€# $
DeleteByContent
€€$ 3
(
€€3 4
contentGuid
€€4 ?
)
€€? @
;
€€@ A
}
‹‹ 	
public
‚‚ 
static
‚‚ 
int
‚‚ 
GetCount
‚‚ "
(
‚‚" #
Guid
‚‚# '
contentGuid
‚‚( 3
)
‚‚3 4
{
„„ 	
return
‰‰ 
DBContentHistory
‰‰ #
.
‰‰# $
GetCount
‰‰$ ,
(
‰‰, -
contentGuid
‰‰- 8
)
‰‰8 9
;
‰‰9 :
}
ÂÂ 	
private
ÁÁ 
static
ÁÁ 
List
ÁÁ 
<
ÁÁ 
ContentHistory
ÁÁ *
>
ÁÁ* + 
LoadListFromReader
ÁÁ, >
(
ÁÁ> ?
IDataReader
ÁÁ? J
reader
ÁÁK Q
)
ÁÁQ R
{
ËË 	
List
ÈÈ 
<
ÈÈ 
ContentHistory
ÈÈ 
>
ÈÈ   
contentHistoryList
ÈÈ! 3
=
ÈÈ4 5
new
ÈÈ6 9
List
ÈÈ: >
<
ÈÈ> ?
ContentHistory
ÈÈ? M
>
ÈÈM N
(
ÈÈN O
)
ÈÈO P
;
ÈÈP Q
try
ÍÍ 
{
ÎÎ 
while
ÏÏ 
(
ÏÏ 
reader
ÏÏ 
.
ÏÏ 
Read
ÏÏ "
(
ÏÏ" #
)
ÏÏ# $
)
ÏÏ$ %
{
ÌÌ 
ContentHistory
ÓÓ "
contentHistory
ÓÓ# 1
=
ÓÓ2 3
new
ÓÓ4 7
ContentHistory
ÓÓ8 F
(
ÓÓF G
)
ÓÓG H
;
ÓÓH I
contentHistory
ÔÔ "
.
ÔÔ" #
guid
ÔÔ# '
=
ÔÔ( )
new
ÔÔ* -
Guid
ÔÔ. 2
(
ÔÔ2 3
reader
ÔÔ3 9
[
ÔÔ9 :
$str
ÔÔ: @
]
ÔÔ@ A
.
ÔÔA B
ToString
ÔÔB J
(
ÔÔJ K
)
ÔÔK L
)
ÔÔL M
;
ÔÔM N
contentHistory
 "
.
" #
siteGuid
# +
=
, -
new
. 1
Guid
2 6
(
6 7
reader
7 =
[
= >
$str
> H
]
H I
.
I J
ToString
J R
(
R S
)
S T
)
T U
;
U V
contentHistory
ÒÒ "
.
ÒÒ" #
userGuid
ÒÒ# +
=
ÒÒ, -
new
ÒÒ. 1
Guid
ÒÒ2 6
(
ÒÒ6 7
reader
ÒÒ7 =
[
ÒÒ= >
$str
ÒÒ> H
]
ÒÒH I
.
ÒÒI J
ToString
ÒÒJ R
(
ÒÒR S
)
ÒÒS T
)
ÒÒT U
;
ÒÒU V
contentHistory
ÚÚ "
.
ÚÚ" #
contentGuid
ÚÚ# .
=
ÚÚ/ 0
new
ÚÚ1 4
Guid
ÚÚ5 9
(
ÚÚ9 :
reader
ÚÚ: @
[
ÚÚ@ A
$str
ÚÚA N
]
ÚÚN O
.
ÚÚO P
ToString
ÚÚP X
(
ÚÚX Y
)
ÚÚY Z
)
ÚÚZ [
;
ÚÚ[ \
contentHistory
ÛÛ "
.
ÛÛ" #
title
ÛÛ# (
=
ÛÛ) *
reader
ÛÛ+ 1
[
ÛÛ1 2
$str
ÛÛ2 9
]
ÛÛ9 :
.
ÛÛ: ;
ToString
ÛÛ; C
(
ÛÛC D
)
ÛÛD E
;
ÛÛE F
contentHistory
ÙÙ "
.
ÙÙ" #
contentText
ÙÙ# .
=
ÙÙ/ 0
reader
ÙÙ1 7
[
ÙÙ7 8
$str
ÙÙ8 E
]
ÙÙE F
.
ÙÙF G
ToString
ÙÙG O
(
ÙÙO P
)
ÙÙP Q
;
ÙÙQ R
contentHistory
ıı "
.
ıı" #

customData
ıı# -
=
ıı. /
reader
ıı0 6
[
ıı6 7
$str
ıı7 C
]
ııC D
.
ııD E
ToString
ııE M
(
ııM N
)
ııN O
;
ııO P
contentHistory
ˆˆ "
.
ˆˆ" #

createdUtc
ˆˆ# -
=
ˆˆ. /
Convert
ˆˆ0 7
.
ˆˆ7 8

ToDateTime
ˆˆ8 B
(
ˆˆB C
reader
ˆˆC I
[
ˆˆI J
$str
ˆˆJ V
]
ˆˆV W
)
ˆˆW X
;
ˆˆX Y
contentHistory
˜˜ "
.
˜˜" #

historyUtc
˜˜# -
=
˜˜. /
Convert
˜˜0 7
.
˜˜7 8

ToDateTime
˜˜8 B
(
˜˜B C
reader
˜˜C I
[
˜˜I J
$str
˜˜J V
]
˜˜V W
)
˜˜W X
;
˜˜X Y
contentHistory
¯¯ "
.
¯¯" #
	userLogin
¯¯# ,
=
¯¯- .
reader
¯¯/ 5
[
¯¯5 6
$str
¯¯6 A
]
¯¯A B
.
¯¯B C
ToString
¯¯C K
(
¯¯K L
)
¯¯L M
;
¯¯M N
contentHistory
˘˘ "
.
˘˘" #
userName
˘˘# +
=
˘˘, -
reader
˘˘. 4
[
˘˘4 5
$str
˘˘5 ;
]
˘˘; <
.
˘˘< =
ToString
˘˘= E
(
˘˘E F
)
˘˘F G
;
˘˘G H 
contentHistoryList
˙˙ &
.
˙˙& '
Add
˙˙' *
(
˙˙* +
contentHistory
˙˙+ 9
)
˙˙9 :
;
˙˙: ;
}
¸¸ 
}
˝˝ 
finally
˛˛ 
{
ˇˇ 
reader
ÄÄ 
.
ÄÄ 
Close
ÄÄ 
(
ÄÄ 
)
ÄÄ 
;
ÄÄ 
}
ÅÅ 
return
ÉÉ  
contentHistoryList
ÉÉ %
;
ÉÉ% &
}
ÖÖ 	
public
åå 
static
åå 
List
åå 
<
åå 
ContentHistory
åå )
>
åå) *
GetPage
åå+ 2
(
åå2 3
Guid
çç 
contentGuid
çç 
,
çç 
int
éé 

pageNumber
éé 
,
éé 
int
èè 
pageSize
èè 
,
èè 
out
êê 
int
êê 

totalPages
êê 
)
êê 
{
ëë 	

totalPages
íí 
=
íí 
$num
íí 
;
íí 
IDataReader
îî 
reader
îî 
=
îî  
DBContentHistory
îî! 1
.
îî1 2
GetPage
îî2 9
(
îî9 :
contentGuid
ïï 
,
ïï 

pageNumber
ññ 
,
ññ 
pageSize
óó 
,
óó 
out
òò 

totalPages
òò 
)
òò 
;
òò  
return
öö  
LoadListFromReader
öö %
(
öö% &
reader
öö& ,
)
öö, -
;
öö- .
}
õõ 	
public
ùù 
static
ùù 
IDataReader
ùù !
GetPageAsReader
ùù" 1
(
ùù1 2
Guid
ûû 
contentGuid
ûû 
,
ûû 
int
üü 

pageNumber
üü 
,
üü 
int
†† 
pageSize
†† 
,
†† 
out
°° 
int
°° 

totalPages
°° 
)
°° 
{
¢¢ 	
return
££ 
DBContentHistory
££ #
.
££# $
GetPage
££$ +
(
££+ ,
contentGuid
§§ 
,
§§ 

pageNumber
•• 
,
•• 
pageSize
¶¶ 
,
¶¶ 
out
ßß 

totalPages
ßß 
)
ßß 
;
ßß  
}
®® 	
public
≥≥ 
static
≥≥ 
int
≥≥ 
CompareByTitle
≥≥ (
(
≥≥( )
ContentHistory
≥≥) 7
contentHistory1
≥≥8 G
,
≥≥G H
ContentHistory
≥≥I W
contentHistory2
≥≥X g
)
≥≥g h
{
¥¥ 	
return
µµ 
contentHistory1
µµ "
.
µµ" #
Title
µµ# (
.
µµ( )
	CompareTo
µµ) 2
(
µµ2 3
contentHistory2
µµ3 B
.
µµB C
Title
µµC H
)
µµH I
;
µµI J
}
∂∂ 	
public
∫∫ 
static
∫∫ 
int
∫∫ "
CompareByContentText
∫∫ .
(
∫∫. /
ContentHistory
∫∫/ =
contentHistory1
∫∫> M
,
∫∫M N
ContentHistory
∫∫O ]
contentHistory2
∫∫^ m
)
∫∫m n
{
ªª 	
return
ºº 
contentHistory1
ºº "
.
ºº" #
ContentText
ºº# .
.
ºº. /
	CompareTo
ºº/ 8
(
ºº8 9
contentHistory2
ºº9 H
.
ººH I
ContentText
ººI T
)
ººT U
;
ººU V
}
ΩΩ 	
public
¡¡ 
static
¡¡ 
int
¡¡ !
CompareByCustomData
¡¡ -
(
¡¡- .
ContentHistory
¡¡. <
contentHistory1
¡¡= L
,
¡¡L M
ContentHistory
¡¡N \
contentHistory2
¡¡] l
)
¡¡l m
{
¬¬ 	
return
√√ 
contentHistory1
√√ "
.
√√" #

CustomData
√√# -
.
√√- .
	CompareTo
√√. 7
(
√√7 8
contentHistory2
√√8 G
.
√√G H

CustomData
√√H R
)
√√R S
;
√√S T
}
ƒƒ 	
public
»» 
static
»» 
int
»» !
CompareByCreatedUtc
»» -
(
»»- .
ContentHistory
»». <
contentHistory1
»»= L
,
»»L M
ContentHistory
»»N \
contentHistory2
»»] l
)
»»l m
{
…… 	
return
   
contentHistory1
   "
.
  " #

CreatedUtc
  # -
.
  - .
	CompareTo
  . 7
(
  7 8
contentHistory2
  8 G
.
  G H

CreatedUtc
  H R
)
  R S
;
  S T
}
ÀÀ 	
public
œœ 
static
œœ 
int
œœ !
CompareByHistoryUtc
œœ -
(
œœ- .
ContentHistory
œœ. <
contentHistory1
œœ= L
,
œœL M
ContentHistory
œœN \
contentHistory2
œœ] l
)
œœl m
{
–– 	
return
—— 
contentHistory1
—— "
.
——" #

HistoryUtc
——# -
.
——- .
	CompareTo
——. 7
(
——7 8
contentHistory2
——8 G
.
——G H

HistoryUtc
——H R
)
——R S
;
——S T
}
““ 	
}
◊◊ 
}ŸŸ Îf
iD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ContentMeta.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 
class 
ContentMeta 
{ 
public 
ContentMeta	 
( 
) 
{ 
} 
private 	
Guid
 
guid 
= 
Guid 
. 
Empty  
;  !
private 	
Guid
 
siteGuid 
= 
Guid 
. 
Empty $
;$ %
private 	
Guid
 

moduleGuid 
= 
Guid  
.  !
Empty! &
;& '
private 	
Guid
 
contentGuid 
= 
Guid !
.! "
Empty" '
;' (
private 	
string
 
name 
= 
string 
. 
Empty $
;$ %
private 	
string
 
nameProperty 
= 
$str  &
;& '
private 	
string
 
scheme 
= 
string  
.  !
Empty! &
;& '
private 	
string
 
langCode 
= 
string "
." #
Empty# (
;( )
private   	
string  
 
dir   
=   
string   
.   
Empty   #
;  # $
private!! 	
string!!
 
metaContent!! 
=!! 
string!! %
.!!% &
Empty!!& +
;!!+ ,
private"" 	
string""
 
contentProperty""  
=""! "
$str""# ,
;"", -
private## 	
int##
 
sortRank## 
=## 
$num## 
;## 
private$$ 	
DateTime$$
 

createdUtc$$ 
=$$ 
DateTime$$  (
.$$( )
UtcNow$$) /
;$$/ 0
private%% 	
Guid%%
 
	createdBy%% 
=%% 
Guid%% 
.%%  
Empty%%  %
;%%% &
private&& 	
DateTime&&
 

lastModUtc&& 
=&& 
DateTime&&  (
.&&( )
UtcNow&&) /
;&&/ 0
private'' 	
Guid''
 
	lastModBy'' 
='' 
Guid'' 
.''  
Empty''  %
;''% &
public-- 
Guid--	 
Guid-- 
{.. 
get// 
{// 
return//	 
guid// 
;// 
}// 
set00 
{00 
guid00	 
=00 
value00 
;00 
}00 
}11 
public22 
Guid22	 
SiteGuid22 
{33 
get44 
{44 
return44	 
siteGuid44 
;44 
}44 
set55 
{55 
siteGuid55	 
=55 
value55 
;55 
}55 
}66 
public77 
Guid77	 

ModuleGuid77 
{88 
get99 
{99 
return99	 

moduleGuid99 
;99 
}99 
set:: 
{:: 

moduleGuid::	 
=:: 
value:: 
;:: 
}:: 
};; 
public<< 
Guid<<	 
ContentGuid<< 
{== 
get>> 
{>> 
return>>	 
contentGuid>> 
;>> 
}>> 
set?? 
{?? 
contentGuid??	 
=?? 
value?? 
;?? 
}?? 
}@@ 
publicAA 
stringAA	 
NameAA 
{BB 
getCC 
{CC 
returnCC	 
nameCC 
;CC 
}CC 
setDD 
{DD 
nameDD	 
=DD 
valueDD 
;DD 
}DD 
}EE 
publicFF 
stringFF	 
NamePropertyFF 
{GG 
getHH 
{HH 
returnHH	 
namePropertyHH 
;HH 
}HH 
setII 
{II 
namePropertyII	 
=II 
valueII 
;II 
}II  
}JJ 
publicKK 
stringKK	 
SchemeKK 
{LL 
getMM 
{MM 
returnMM	 
schemeMM 
;MM 
}MM 
setNN 
{NN 
schemeNN	 
=NN 
valueNN 
;NN 
}NN 
}OO 
publicPP 
stringPP	 
LangCodePP 
{QQ 
getRR 
{RR 
returnRR	 
langCodeRR 
;RR 
}RR 
setSS 
{SS 
langCodeSS	 
=SS 
valueSS 
;SS 
}SS 
}TT 
publicUU 
stringUU	 
DirUU 
{VV 
getWW 
{WW 
returnWW	 
dirWW 
;WW 
}WW 
setXX 
{XX 
dirXX	 
=XX 
valueXX 
;XX 
}XX 
}YY 
publicZZ 
stringZZ	 
MetaContentZZ 
{[[ 
get\\ 
{\\ 
return\\	 
metaContent\\ 
;\\ 
}\\ 
set]] 
{]] 
metaContent]]	 
=]] 
value]] 
;]] 
}]] 
}^^ 
public__ 
string__	 
ContentProperty__ 
{`` 
getaa 
{aa 
returnaa	 
contentPropertyaa 
;aa  
}aa! "
setbb 
{bb 
contentPropertybb	 
=bb 
valuebb  
;bb  !
}bb" #
}cc 
publicdd 
intdd	 
SortRankdd 
{ee 
getff 
{ff 
returnff	 
sortRankff 
;ff 
}ff 
setgg 
{gg 
sortRankgg	 
=gg 
valuegg 
;gg 
}gg 
}hh 
publicii 
DateTimeii	 

CreatedUtcii 
{jj 
getkk 
{kk 
returnkk	 

createdUtckk 
;kk 
}kk 
setll 
{ll 

createdUtcll	 
=ll 
valuell 
;ll 
}ll 
}mm 
publicnn 
Guidnn	 
	CreatedBynn 
{oo 
getpp 
{pp 
returnpp	 
	createdBypp 
;pp 
}pp 
setqq 
{qq 
	createdByqq	 
=qq 
valueqq 
;qq 
}qq 
}rr 
publicss 
DateTimess	 

LastModUtcss 
{tt 
getuu 
{uu 
returnuu	 

lastModUtcuu 
;uu 
}uu 
setvv 
{vv 

lastModUtcvv	 
=vv 
valuevv 
;vv 
}vv 
}ww 
publicxx 
Guidxx	 
	LastModByxx 
{yy 
getzz 
{zz 
returnzz	 
	lastModByzz 
;zz 
}zz 
set{{ 
{{{ 
	lastModBy{{	 
={{ 
value{{ 
;{{ 
}{{ 
}|| 
public
ÖÖ 
static
ÖÖ	 
int
ÖÖ 
CompareByName
ÖÖ !
(
ÖÖ! "
ContentMeta
ÖÖ" -
contentMeta1
ÖÖ. :
,
ÖÖ: ;
ContentMeta
ÖÖ< G
contentMeta2
ÖÖH T
)
ÖÖT U
{
ÜÜ 
return
áá 	
contentMeta1
áá
 
.
áá 
Name
áá 
.
áá 
	CompareTo
áá %
(
áá% &
contentMeta2
áá& 2
.
áá2 3
Name
áá3 7
)
áá7 8
;
áá8 9
}
àà 
public
åå 
static
åå	 
int
åå #
CompareByNameProperty
åå )
(
åå) *
ContentMeta
åå* 5
contentMeta1
åå6 B
,
ååB C
ContentMeta
ååD O
contentMeta2
ååP \
)
åå\ ]
{
çç 
return
éé 	
contentMeta1
éé
 
.
éé 
NameProperty
éé #
.
éé# $
	CompareTo
éé$ -
(
éé- .
contentMeta2
éé. :
.
éé: ;
NameProperty
éé; G
)
ééG H
;
ééH I
}
èè 
public
ìì 
static
ìì	 
int
ìì 
CompareByScheme
ìì #
(
ìì# $
ContentMeta
ìì$ /
contentMeta1
ìì0 <
,
ìì< =
ContentMeta
ìì> I
contentMeta2
ììJ V
)
ììV W
{
îî 
return
ïï 	
contentMeta1
ïï
 
.
ïï 
Scheme
ïï 
.
ïï 
	CompareTo
ïï '
(
ïï' (
contentMeta2
ïï( 4
.
ïï4 5
Scheme
ïï5 ;
)
ïï; <
;
ïï< =
}
ññ 
public
öö 
static
öö	 
int
öö 
CompareByLangCode
öö %
(
öö% &
ContentMeta
öö& 1
contentMeta1
öö2 >
,
öö> ?
ContentMeta
öö@ K
contentMeta2
ööL X
)
ööX Y
{
õõ 
return
úú 	
contentMeta1
úú
 
.
úú 
LangCode
úú 
.
úú  
	CompareTo
úú  )
(
úú) *
contentMeta2
úú* 6
.
úú6 7
LangCode
úú7 ?
)
úú? @
;
úú@ A
}
ùù 
public
°° 
static
°°	 
int
°° 
CompareByDir
°°  
(
°°  !
ContentMeta
°°! ,
contentMeta1
°°- 9
,
°°9 :
ContentMeta
°°; F
contentMeta2
°°G S
)
°°S T
{
¢¢ 
return
££ 	
contentMeta1
££
 
.
££ 
Dir
££ 
.
££ 
	CompareTo
££ $
(
££$ %
contentMeta2
££% 1
.
££1 2
Dir
££2 5
)
££5 6
;
££6 7
}
§§ 
public
®® 
static
®®	 
int
®® "
CompareByMetaContent
®® (
(
®®( )
ContentMeta
®®) 4
contentMeta1
®®5 A
,
®®A B
ContentMeta
®®C N
contentMeta2
®®O [
)
®®[ \
{
©© 
return
™™ 	
contentMeta1
™™
 
.
™™ 
MetaContent
™™ "
.
™™" #
	CompareTo
™™# ,
(
™™, -
contentMeta2
™™- 9
.
™™9 :
MetaContent
™™: E
)
™™E F
;
™™F G
}
´´ 
public
ØØ 
static
ØØ	 
int
ØØ *
CompareByMetaContentProperty
ØØ 0
(
ØØ0 1
ContentMeta
ØØ1 <
contentMeta1
ØØ= I
,
ØØI J
ContentMeta
ØØK V
contentMeta2
ØØW c
)
ØØc d
{
∞∞ 
return
±± 	
contentMeta1
±±
 
.
±± 
ContentProperty
±± &
.
±±& '
	CompareTo
±±' 0
(
±±0 1
contentMeta2
±±1 =
.
±±= >
ContentProperty
±±> M
)
±±M N
;
±±N O
}
≤≤ 
public
∂∂ 
static
∂∂	 
int
∂∂ 
CompareBySortRank
∂∂ %
(
∂∂% &
ContentMeta
∂∂& 1
contentMeta1
∂∂2 >
,
∂∂> ?
ContentMeta
∂∂@ K
contentMeta2
∂∂L X
)
∂∂X Y
{
∑∑ 
return
∏∏ 	
contentMeta1
∏∏
 
.
∏∏ 
SortRank
∏∏ 
.
∏∏  
	CompareTo
∏∏  )
(
∏∏) *
contentMeta2
∏∏* 6
.
∏∏6 7
SortRank
∏∏7 ?
)
∏∏? @
;
∏∏@ A
}
ππ 
public
ΩΩ 
static
ΩΩ	 
int
ΩΩ !
CompareByCreatedUtc
ΩΩ '
(
ΩΩ' (
ContentMeta
ΩΩ( 3
contentMeta1
ΩΩ4 @
,
ΩΩ@ A
ContentMeta
ΩΩB M
contentMeta2
ΩΩN Z
)
ΩΩZ [
{
ææ 
return
øø 	
contentMeta1
øø
 
.
øø 

CreatedUtc
øø !
.
øø! "
	CompareTo
øø" +
(
øø+ ,
contentMeta2
øø, 8
.
øø8 9

CreatedUtc
øø9 C
)
øøC D
;
øøD E
}
¿¿ 
public
ƒƒ 
static
ƒƒ	 
int
ƒƒ !
CompareByLastModUtc
ƒƒ '
(
ƒƒ' (
ContentMeta
ƒƒ( 3
contentMeta1
ƒƒ4 @
,
ƒƒ@ A
ContentMeta
ƒƒB M
contentMeta2
ƒƒN Z
)
ƒƒZ [
{
≈≈ 
return
∆∆ 	
contentMeta1
∆∆
 
.
∆∆ 

LastModUtc
∆∆ !
.
∆∆! "
	CompareTo
∆∆" +
(
∆∆+ ,
contentMeta2
∆∆, 8
.
∆∆8 9

LastModUtc
∆∆9 C
)
∆∆C D
;
∆∆D E
}
«« 
}
ÀÀ 
}ÃÃ ˛_
mD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ContentMetaLink.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
ContentMetaLink  
{ 
public 
ContentMetaLink 
( 
)  
{ 	
}
 
private 
Guid 
guid 
= 
Guid  
.  !
Empty! &
;& '
private   
Guid   
siteGuid   
=   
Guid    $
.  $ %
Empty  % *
;  * +
private!! 
Guid!! 

moduleGuid!! 
=!!  !
Guid!!" &
.!!& '
Empty!!' ,
;!!, -
private"" 
Guid"" 
contentGuid""  
=""! "
Guid""# '
.""' (
Empty""( -
;""- .
private## 
string## 
rel## 
=## 
string## #
.### $
Empty##$ )
;##) *
private$$ 
string$$ 
href$$ 
=$$ 
string$$ $
.$$$ %
Empty$$% *
;$$* +
private%% 
string%% 
hrefLang%% 
=%%  !
string%%" (
.%%( )
Empty%%) .
;%%. /
private&& 
string&& 
rev&& 
=&& 
string&& #
.&&# $
Empty&&$ )
;&&) *
private'' 
string'' 
type'' 
='' 
string'' $
.''$ %
Empty''% *
;''* +
private(( 
string(( 
media(( 
=(( 
string(( %
.((% &
Empty((& +
;((+ ,
private)) 
int)) 
sortRank)) 
=)) 
$num))  
;))  !
private** 
DateTime** 

createdUtc** #
=**$ %
DateTime**& .
.**. /
UtcNow**/ 5
;**5 6
private++ 
Guid++ 
	createdBy++ 
=++  
Guid++! %
.++% &
Empty++& +
;+++ ,
private,, 
DateTime,, 

lastModUtc,, #
=,,$ %
DateTime,,& .
.,,. /
UtcNow,,/ 5
;,,5 6
private-- 
Guid-- 
	lastModBy-- 
=--  
Guid--! %
.--% &
Empty--& +
;--+ ,
public33 
Guid33 
Guid33 
{44 	
get55 
{55 
return55 
guid55 
;55 
}55  
set66 
{66 
guid66 
=66 
value66 
;66 
}66  !
}77 	
public88 
Guid88 
SiteGuid88 
{99 	
get:: 
{:: 
return:: 
siteGuid:: !
;::! "
}::# $
set;; 
{;; 
siteGuid;; 
=;; 
value;; "
;;;" #
};;$ %
}<< 	
public== 
Guid== 

ModuleGuid== 
{>> 	
get?? 
{?? 
return?? 

moduleGuid?? #
;??# $
}??% &
set@@ 
{@@ 

moduleGuid@@ 
=@@ 
value@@ $
;@@$ %
}@@& '
}AA 	
publicBB 
GuidBB 
ContentGuidBB 
{CC 	
getDD 
{DD 
returnDD 
contentGuidDD $
;DD$ %
}DD& '
setEE 
{EE 
contentGuidEE 
=EE 
valueEE  %
;EE% &
}EE' (
}FF 	
publicGG 
stringGG 
RelGG 
{HH 	
getII 
{II 
returnII 
relII 
;II 
}II 
setJJ 
{JJ 
relJJ 
=JJ 
valueJJ 
;JJ 
}JJ  
}KK 	
publicLL 
stringLL 
HrefLL 
{MM 	
getNN 
{NN 
returnNN 
hrefNN 
;NN 
}NN  
setOO 
{OO 
hrefOO 
=OO 
valueOO 
;OO 
}OO  !
}PP 	
publicQQ 
stringQQ 
HrefLangQQ 
{RR 	
getSS 
{SS 
returnSS 
hrefLangSS !
;SS! "
}SS# $
setTT 
{TT 
hrefLangTT 
=TT 
valueTT "
;TT" #
}TT$ %
}UU 	
publicVV 
stringVV 
RevVV 
{WW 	
getXX 
{XX 
returnXX 
revXX 
;XX 
}XX 
setYY 
{YY 
revYY 
=YY 
valueYY 
;YY 
}YY  
}ZZ 	
public[[ 
string[[ 
Type[[ 
{\\ 	
get]] 
{]] 
return]] 
type]] 
;]] 
}]]  
set^^ 
{^^ 
type^^ 
=^^ 
value^^ 
;^^ 
}^^  !
}__ 	
public`` 
string`` 
Media`` 
{aa 	
getbb 
{bb 
returnbb 
mediabb 
;bb 
}bb  !
setcc 
{cc 
mediacc 
=cc 
valuecc 
;cc  
}cc! "
}dd 	
publicee 
intee 
SortRankee 
{ff 	
getgg 
{gg 
returngg 
sortRankgg !
;gg! "
}gg# $
sethh 
{hh 
sortRankhh 
=hh 
valuehh "
;hh" #
}hh$ %
}ii 	
publicjj 
DateTimejj 

CreatedUtcjj "
{kk 	
getll 
{ll 
returnll 

createdUtcll #
;ll# $
}ll% &
setmm 
{mm 

createdUtcmm 
=mm 
valuemm $
;mm$ %
}mm& '
}nn 	
publicoo 
Guidoo 
	CreatedByoo 
{pp 	
getqq 
{qq 
returnqq 
	createdByqq "
;qq" #
}qq$ %
setrr 
{rr 
	createdByrr 
=rr 
valuerr #
;rr# $
}rr% &
}ss 	
publictt 
DateTimett 

LastModUtctt "
{uu 	
getvv 
{vv 
returnvv 

lastModUtcvv #
;vv# $
}vv% &
setww 
{ww 

lastModUtcww 
=ww 
valueww $
;ww$ %
}ww& '
}xx 	
publicyy 
Guidyy 
	LastModByyy 
{zz 	
get{{ 
{{{ 
return{{ 
	lastModBy{{ "
;{{" #
}{{$ %
set|| 
{|| 
	lastModBy|| 
=|| 
value|| #
;||# $
}||% &
}}} 	
public
ÜÜ 
static
ÜÜ 
int
ÜÜ 
CompareByRel
ÜÜ &
(
ÜÜ& '
ContentMetaLink
ÜÜ' 6
contentMetaLink1
ÜÜ7 G
,
ÜÜG H
ContentMetaLink
ÜÜI X
contentMetaLink2
ÜÜY i
)
ÜÜi j
{
áá 	
return
àà 
contentMetaLink1
àà #
.
àà# $
Rel
àà$ '
.
àà' (
	CompareTo
àà( 1
(
àà1 2
contentMetaLink2
àà2 B
.
ààB C
Rel
ààC F
)
ààF G
;
ààG H
}
ââ 	
public
çç 
static
çç 
int
çç 
CompareByHref
çç '
(
çç' (
ContentMetaLink
çç( 7
contentMetaLink1
çç8 H
,
ççH I
ContentMetaLink
ççJ Y
contentMetaLink2
ççZ j
)
ççj k
{
éé 	
return
èè 
contentMetaLink1
èè #
.
èè# $
Href
èè$ (
.
èè( )
	CompareTo
èè) 2
(
èè2 3
contentMetaLink2
èè3 C
.
èèC D
Href
èèD H
)
èèH I
;
èèI J
}
êê 	
public
îî 
static
îî 
int
îî 
CompareByHrefLang
îî +
(
îî+ ,
ContentMetaLink
îî, ;
contentMetaLink1
îî< L
,
îîL M
ContentMetaLink
îîN ]
contentMetaLink2
îî^ n
)
îîn o
{
ïï 	
return
ññ 
contentMetaLink1
ññ #
.
ññ# $
HrefLang
ññ$ ,
.
ññ, -
	CompareTo
ññ- 6
(
ññ6 7
contentMetaLink2
ññ7 G
.
ññG H
HrefLang
ññH P
)
ññP Q
;
ññQ R
}
óó 	
public
õõ 
static
õõ 
int
õõ 
CompareByRev
õõ &
(
õõ& '
ContentMetaLink
õõ' 6
contentMetaLink1
õõ7 G
,
õõG H
ContentMetaLink
õõI X
contentMetaLink2
õõY i
)
õõi j
{
úú 	
return
ùù 
contentMetaLink1
ùù #
.
ùù# $
Rev
ùù$ '
.
ùù' (
	CompareTo
ùù( 1
(
ùù1 2
contentMetaLink2
ùù2 B
.
ùùB C
Rev
ùùC F
)
ùùF G
;
ùùG H
}
ûû 	
public
¢¢ 
static
¢¢ 
int
¢¢ 
CompareByType
¢¢ '
(
¢¢' (
ContentMetaLink
¢¢( 7
contentMetaLink1
¢¢8 H
,
¢¢H I
ContentMetaLink
¢¢J Y
contentMetaLink2
¢¢Z j
)
¢¢j k
{
££ 	
return
§§ 
contentMetaLink1
§§ #
.
§§# $
Type
§§$ (
.
§§( )
	CompareTo
§§) 2
(
§§2 3
contentMetaLink2
§§3 C
.
§§C D
Type
§§D H
)
§§H I
;
§§I J
}
•• 	
public
©© 
static
©© 
int
©© 
CompareByMedia
©© (
(
©©( )
ContentMetaLink
©©) 8
contentMetaLink1
©©9 I
,
©©I J
ContentMetaLink
©©K Z
contentMetaLink2
©©[ k
)
©©k l
{
™™ 	
return
´´ 
contentMetaLink1
´´ #
.
´´# $
Media
´´$ )
.
´´) *
	CompareTo
´´* 3
(
´´3 4
contentMetaLink2
´´4 D
.
´´D E
Media
´´E J
)
´´J K
;
´´K L
}
¨¨ 	
public
∞∞ 
static
∞∞ 
int
∞∞ 
CompareBySortRank
∞∞ +
(
∞∞+ ,
ContentMetaLink
∞∞, ;
contentMetaLink1
∞∞< L
,
∞∞L M
ContentMetaLink
∞∞N ]
contentMetaLink2
∞∞^ n
)
∞∞n o
{
±± 	
return
≤≤ 
contentMetaLink1
≤≤ #
.
≤≤# $
SortRank
≤≤$ ,
.
≤≤, -
	CompareTo
≤≤- 6
(
≤≤6 7
contentMetaLink2
≤≤7 G
.
≤≤G H
SortRank
≤≤H P
)
≤≤P Q
;
≤≤Q R
}
≥≥ 	
public
∑∑ 
static
∑∑ 
int
∑∑ !
CompareByCreatedUtc
∑∑ -
(
∑∑- .
ContentMetaLink
∑∑. =
contentMetaLink1
∑∑> N
,
∑∑N O
ContentMetaLink
∑∑P _
contentMetaLink2
∑∑` p
)
∑∑p q
{
∏∏ 	
return
ππ 
contentMetaLink1
ππ #
.
ππ# $

CreatedUtc
ππ$ .
.
ππ. /
	CompareTo
ππ/ 8
(
ππ8 9
contentMetaLink2
ππ9 I
.
ππI J

CreatedUtc
ππJ T
)
ππT U
;
ππU V
}
∫∫ 	
public
ææ 
static
ææ 
int
ææ !
CompareByLastModUtc
ææ -
(
ææ- .
ContentMetaLink
ææ. =
contentMetaLink1
ææ> N
,
ææN O
ContentMetaLink
ææP _
contentMetaLink2
ææ` p
)
ææp q
{
øø 	
return
¿¿ 
contentMetaLink1
¿¿ #
.
¿¿# $

LastModUtc
¿¿$ .
.
¿¿. /
	CompareTo
¿¿/ 8
(
¿¿8 9
contentMetaLink2
¿¿9 I
.
¿¿I J

LastModUtc
¿¿J T
)
¿¿T U
;
¿¿U V
}
¡¡ 	
}
∆∆ 
}»» »»
sD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ContentMetaRepository.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 
class "
ContentMetaRespository $
{ 
public "
ContentMetaRespository	 
(  
)  !
{" #
}$ %
public 
void	 
Save 
( 
ContentMeta 
contentMeta *
)* +
{ 
if 
( 
contentMeta 
== 
null 
) 
{   
return!! 

;!!
 
}"" 
if$$ 
($$ 
contentMeta$$ 
.$$ 
Guid$$ 
==$$ 
Guid$$ 
.$$  
Empty$$  %
)$$% &
{%% 
contentMeta&& 
.&& 
Guid&& 
=&& 
Guid&& 
.&& 
NewGuid&& #
(&&# $
)&&$ %
;&&% &
DBContentMeta(( 
.(( 
Create(( 
((( 
contentMeta)) 
.)) 
Guid)) 
,)) 
contentMeta** 
.** 
SiteGuid** 
,** 
contentMeta++ 
.++ 

ModuleGuid++ 
,++ 
contentMeta,, 
.,, 
ContentGuid,, 
,,, 
contentMeta-- 
.-- 
Name-- 
,-- 
contentMeta.. 
... 
NameProperty.. 
,.. 
contentMeta// 
.// 
Scheme// 
,// 
contentMeta00 
.00 
LangCode00 
,00 
contentMeta11 
.11 
Dir11 
,11 
contentMeta22 
.22 
MetaContent22 
,22 
contentMeta33 
.33 
ContentProperty33  
,33  !
contentMeta44 
.44 
SortRank44 
,44 
contentMeta55 
.55 

CreatedUtc55 
,55 
contentMeta66 
.66 
	CreatedBy66 
)77 
;77 
}88 
else99 
{:: 
DBContentMeta;; 
.;; 
Update;; 
(;; 
contentMeta<< 
.<< 
Guid<< 
,<< 
contentMeta== 
.== 
Name== 
,== 
contentMeta>> 
.>> 
NameProperty>> 
,>> 
contentMeta?? 
.?? 
Scheme?? 
,?? 
contentMeta@@ 
.@@ 
LangCode@@ 
,@@ 
contentMetaAA 
.AA 
DirAA 
,AA 
contentMetaBB 
.BB 
MetaContentBB 
,BB 
contentMetaCC 
.CC 
ContentPropertyCC  
,CC  !
contentMetaDD 
.DD 
SortRankDD 
,DD 
contentMetaEE 
.EE 

LastModUtcEE 
,EE 
contentMetaFF 
.FF 
	LastModByFF 
)GG 
;GG 
}HH 
}II 
publicPP 
voidPP	 
SavePP 
(PP 
ContentMetaLinkPP "
contentMetaLinkPP# 2
)PP2 3
{QQ 
ifRR 
(RR 
contentMetaLinkRR 
==RR 
nullRR 
)RR 
{RR  !
returnRR" (
;RR( )
}RR* +
ifTT 
(TT 
contentMetaLinkTT 
.TT 
GuidTT 
==TT 
GuidTT #
.TT# $
EmptyTT$ )
)TT) *
{UU 
contentMetaLinkVV 
.VV 
GuidVV 
=VV 
GuidVV 
.VV  
NewGuidVV  '
(VV' (
)VV( )
;VV) *
DBContentMetaLinkXX 
.XX 
CreateXX 
(XX 
contentMetaLinkYY 
.YY 
GuidYY 
,YY 
contentMetaLinkZZ 
.ZZ 
SiteGuidZZ 
,ZZ 
contentMetaLink[[ 
.[[ 

ModuleGuid[[ 
,[[  
contentMetaLink\\ 
.\\ 
ContentGuid\\  
,\\  !
contentMetaLink]] 
.]] 
Rel]] 
,]] 
contentMetaLink^^ 
.^^ 
Href^^ 
,^^ 
contentMetaLink__ 
.__ 
HrefLang__ 
,__ 
contentMetaLink`` 
.`` 
Rev`` 
,`` 
contentMetaLinkaa 
.aa 
Typeaa 
,aa 
contentMetaLinkbb 
.bb 
Mediabb 
,bb 
contentMetaLinkcc 
.cc 
SortRankcc 
,cc 
contentMetaLinkdd 
.dd 

CreatedUtcdd 
,dd  
contentMetaLinkee 
.ee 
	CreatedByee 
)ff 
;ff 
}gg 
elsehh 
{ii 
DBContentMetaLinkjj 
.jj 
Updatejj 
(jj 
contentMetaLinkkk 
.kk 
Guidkk 
,kk 
contentMetaLinkll 
.ll 
Relll 
,ll 
contentMetaLinkmm 
.mm 
Hrefmm 
,mm 
contentMetaLinknn 
.nn 
HrefLangnn 
,nn 
contentMetaLinkoo 
.oo 
Revoo 
,oo 
contentMetaLinkpp 
.pp 
Typepp 
,pp 
contentMetaLinkqq 
.qq 
Mediaqq 
,qq 
contentMetaLinkrr 
.rr 
SortRankrr 
,rr 
contentMetaLinkss 
.ss 

LastModUtcss 
,ss  
contentMetaLinktt 
.tt 
	LastModBytt 
)uu 
;uu 
}vv 
}ww 
publiczz 
ContentMetazz	 
Fetchzz 
(zz 
Guidzz 
guidzz  $
)zz$ %
{{{ 
using|| 
(||	 

IDataReader||
 
reader|| 
=|| 
DBContentMeta|| ,
.||, -
GetOne||- 3
(||3 4
guid||4 8
)||8 9
)||9 :
{}} 
if~~ 
(~~ 
reader~~ 
.~~ 
Read~~ 
(~~ 
)~~ 
)~~ 
{ 
ContentMeta
ÄÄ 
contentMeta
ÄÄ 
=
ÄÄ 
new
ÄÄ "
ContentMeta
ÄÄ# .
(
ÄÄ. /
)
ÄÄ/ 0
;
ÄÄ0 1
contentMeta
ÇÇ 
.
ÇÇ 
Guid
ÇÇ 
=
ÇÇ 
new
ÇÇ 
Guid
ÇÇ  
(
ÇÇ  !
reader
ÇÇ! '
[
ÇÇ' (
$str
ÇÇ( .
]
ÇÇ. /
.
ÇÇ/ 0
ToString
ÇÇ0 8
(
ÇÇ8 9
)
ÇÇ9 :
)
ÇÇ: ;
;
ÇÇ; <
contentMeta
ÉÉ 
.
ÉÉ 
SiteGuid
ÉÉ 
=
ÉÉ 
new
ÉÉ 
Guid
ÉÉ  $
(
ÉÉ$ %
reader
ÉÉ% +
[
ÉÉ+ ,
$str
ÉÉ, 6
]
ÉÉ6 7
.
ÉÉ7 8
ToString
ÉÉ8 @
(
ÉÉ@ A
)
ÉÉA B
)
ÉÉB C
;
ÉÉC D
contentMeta
ÑÑ 
.
ÑÑ 

ModuleGuid
ÑÑ 
=
ÑÑ 
new
ÑÑ !
Guid
ÑÑ" &
(
ÑÑ& '
reader
ÑÑ' -
[
ÑÑ- .
$str
ÑÑ. :
]
ÑÑ: ;
.
ÑÑ; <
ToString
ÑÑ< D
(
ÑÑD E
)
ÑÑE F
)
ÑÑF G
;
ÑÑG H
contentMeta
ÖÖ 
.
ÖÖ 
ContentGuid
ÖÖ 
=
ÖÖ 
new
ÖÖ "
Guid
ÖÖ# '
(
ÖÖ' (
reader
ÖÖ( .
[
ÖÖ. /
$str
ÖÖ/ <
]
ÖÖ< =
.
ÖÖ= >
ToString
ÖÖ> F
(
ÖÖF G
)
ÖÖG H
)
ÖÖH I
;
ÖÖI J
contentMeta
ÜÜ 
.
ÜÜ 
Name
ÜÜ 
=
ÜÜ 
reader
ÜÜ 
[
ÜÜ 
$str
ÜÜ %
]
ÜÜ% &
.
ÜÜ& '
ToString
ÜÜ' /
(
ÜÜ/ 0
)
ÜÜ0 1
;
ÜÜ1 2
contentMeta
áá 
.
áá 
NameProperty
áá 
=
áá 
reader
áá  &
[
áá& '
$str
áá' 5
]
áá5 6
.
áá6 7
ToString
áá7 ?
(
áá? @
)
áá@ A
;
ááA B
contentMeta
àà 
.
àà 
Scheme
àà 
=
àà 
reader
àà  
[
àà  !
$str
àà! )
]
àà) *
.
àà* +
ToString
àà+ 3
(
àà3 4
)
àà4 5
;
àà5 6
contentMeta
ââ 
.
ââ 
LangCode
ââ 
=
ââ 
reader
ââ "
[
ââ" #
$str
ââ# -
]
ââ- .
.
ââ. /
ToString
ââ/ 7
(
ââ7 8
)
ââ8 9
;
ââ9 :
contentMeta
ää 
.
ää 
Dir
ää 
=
ää 
reader
ää 
[
ää 
$str
ää #
]
ää# $
.
ää$ %
ToString
ää% -
(
ää- .
)
ää. /
;
ää/ 0
contentMeta
ãã 
.
ãã 
MetaContent
ãã 
=
ãã 
reader
ãã %
[
ãã% &
$str
ãã& 3
]
ãã3 4
.
ãã4 5
ToString
ãã5 =
(
ãã= >
)
ãã> ?
;
ãã? @
contentMeta
åå 
.
åå 
ContentProperty
åå  
=
åå! "
reader
åå# )
[
åå) *
$str
åå* ;
]
åå; <
.
åå< =
ToString
åå= E
(
ååE F
)
ååF G
;
ååG H
contentMeta
çç 
.
çç 
SortRank
çç 
=
çç 
Convert
çç #
.
çç# $
ToInt32
çç$ +
(
çç+ ,
reader
çç, 2
[
çç2 3
$str
çç3 =
]
çç= >
)
çç> ?
;
çç? @
contentMeta
éé 
.
éé 

CreatedUtc
éé 
=
éé 
Convert
éé %
.
éé% &

ToDateTime
éé& 0
(
éé0 1
reader
éé1 7
[
éé7 8
$str
éé8 D
]
ééD E
)
ééE F
;
ééF G
contentMeta
èè 
.
èè 
	CreatedBy
èè 
=
èè 
new
èè  
Guid
èè! %
(
èè% &
reader
èè& ,
[
èè, -
$str
èè- 8
]
èè8 9
.
èè9 :
ToString
èè: B
(
èèB C
)
èèC D
)
èèD E
;
èèE F
contentMeta
êê 
.
êê 

LastModUtc
êê 
=
êê 
Convert
êê %
.
êê% &

ToDateTime
êê& 0
(
êê0 1
reader
êê1 7
[
êê7 8
$str
êê8 D
]
êêD E
)
êêE F
;
êêF G
contentMeta
ëë 
.
ëë 
	LastModBy
ëë 
=
ëë 
new
ëë  
Guid
ëë! %
(
ëë% &
reader
ëë& ,
[
ëë, -
$str
ëë- 8
]
ëë8 9
.
ëë9 :
ToString
ëë: B
(
ëëB C
)
ëëC D
)
ëëD E
;
ëëE F
return
ìì 
contentMeta
ìì 
;
ìì 
}
îî 
}
ïï 
return
óó 	
null
óó
 
;
óó 
}
òò 
public
õõ 
ContentMetaLink
õõ	 
	FetchLink
õõ "
(
õõ" #
Guid
õõ# '
guid
õõ( ,
)
õõ, -
{
úú 
using
ùù 
(
ùù	 

IDataReader
ùù
 
reader
ùù 
=
ùù 
DBContentMetaLink
ùù 0
.
ùù0 1
GetOne
ùù1 7
(
ùù7 8
guid
ùù8 <
)
ùù< =
)
ùù= >
{
ûû 
if
üü 
(
üü 
reader
üü 
.
üü 
Read
üü 
(
üü 
)
üü 
)
üü 
{
†† 
ContentMetaLink
°° 
contentMetaLink
°° $
=
°°% &
new
°°' *
ContentMetaLink
°°+ :
(
°°: ;
)
°°; <
;
°°< =
contentMetaLink
££ 
.
££ 
Guid
££ 
=
££ 
new
££ 
Guid
££  $
(
££$ %
reader
££% +
[
££+ ,
$str
££, 2
]
££2 3
.
££3 4
ToString
££4 <
(
££< =
)
££= >
)
££> ?
;
££? @
contentMetaLink
§§ 
.
§§ 
SiteGuid
§§ 
=
§§ 
new
§§  #
Guid
§§$ (
(
§§( )
reader
§§) /
[
§§/ 0
$str
§§0 :
]
§§: ;
.
§§; <
ToString
§§< D
(
§§D E
)
§§E F
)
§§F G
;
§§G H
contentMetaLink
•• 
.
•• 

ModuleGuid
•• 
=
••  !
new
••" %
Guid
••& *
(
••* +
reader
••+ 1
[
••1 2
$str
••2 >
]
••> ?
.
••? @
ToString
••@ H
(
••H I
)
••I J
)
••J K
;
••K L
contentMetaLink
¶¶ 
.
¶¶ 
ContentGuid
¶¶  
=
¶¶! "
new
¶¶# &
Guid
¶¶' +
(
¶¶+ ,
reader
¶¶, 2
[
¶¶2 3
$str
¶¶3 @
]
¶¶@ A
.
¶¶A B
ToString
¶¶B J
(
¶¶J K
)
¶¶K L
)
¶¶L M
;
¶¶M N
contentMetaLink
ßß 
.
ßß 
Rel
ßß 
=
ßß 
reader
ßß !
[
ßß! "
$str
ßß" '
]
ßß' (
.
ßß( )
ToString
ßß) 1
(
ßß1 2
)
ßß2 3
;
ßß3 4
contentMetaLink
®® 
.
®® 
Href
®® 
=
®® 
reader
®® "
[
®®" #
$str
®®# )
]
®®) *
.
®®* +
ToString
®®+ 3
(
®®3 4
)
®®4 5
;
®®5 6
contentMetaLink
©© 
.
©© 
HrefLang
©© 
=
©© 
reader
©©  &
[
©©& '
$str
©©' 1
]
©©1 2
.
©©2 3
ToString
©©3 ;
(
©©; <
)
©©< =
;
©©= >
contentMetaLink
™™ 
.
™™ 
Rev
™™ 
=
™™ 
reader
™™ !
[
™™! "
$str
™™" '
]
™™' (
.
™™( )
ToString
™™) 1
(
™™1 2
)
™™2 3
;
™™3 4
contentMetaLink
´´ 
.
´´ 
Type
´´ 
=
´´ 
reader
´´ "
[
´´" #
$str
´´# )
]
´´) *
.
´´* +
ToString
´´+ 3
(
´´3 4
)
´´4 5
;
´´5 6
contentMetaLink
¨¨ 
.
¨¨ 
Media
¨¨ 
=
¨¨ 
reader
¨¨ #
[
¨¨# $
$str
¨¨$ +
]
¨¨+ ,
.
¨¨, -
ToString
¨¨- 5
(
¨¨5 6
)
¨¨6 7
;
¨¨7 8
contentMetaLink
≠≠ 
.
≠≠ 
SortRank
≠≠ 
=
≠≠ 
Convert
≠≠  '
.
≠≠' (
ToInt32
≠≠( /
(
≠≠/ 0
reader
≠≠0 6
[
≠≠6 7
$str
≠≠7 A
]
≠≠A B
)
≠≠B C
;
≠≠C D
contentMetaLink
ÆÆ 
.
ÆÆ 

CreatedUtc
ÆÆ 
=
ÆÆ  !
Convert
ÆÆ" )
.
ÆÆ) *

ToDateTime
ÆÆ* 4
(
ÆÆ4 5
reader
ÆÆ5 ;
[
ÆÆ; <
$str
ÆÆ< H
]
ÆÆH I
)
ÆÆI J
;
ÆÆJ K
contentMetaLink
ØØ 
.
ØØ 
	CreatedBy
ØØ 
=
ØØ  
new
ØØ! $
Guid
ØØ% )
(
ØØ) *
reader
ØØ* 0
[
ØØ0 1
$str
ØØ1 <
]
ØØ< =
.
ØØ= >
ToString
ØØ> F
(
ØØF G
)
ØØG H
)
ØØH I
;
ØØI J
contentMetaLink
∞∞ 
.
∞∞ 

LastModUtc
∞∞ 
=
∞∞  !
Convert
∞∞" )
.
∞∞) *

ToDateTime
∞∞* 4
(
∞∞4 5
reader
∞∞5 ;
[
∞∞; <
$str
∞∞< H
]
∞∞H I
)
∞∞I J
;
∞∞J K
contentMetaLink
±± 
.
±± 
	LastModBy
±± 
=
±±  
new
±±! $
Guid
±±% )
(
±±) *
reader
±±* 0
[
±±0 1
$str
±±1 <
]
±±< =
.
±±= >
ToString
±±> F
(
±±F G
)
±±G H
)
±±H I
;
±±I J
return
≥≥ 
contentMetaLink
≥≥ 
;
≥≥ 
}
¥¥ 
}
µµ 
return
∑∑ 	
null
∑∑
 
;
∑∑ 
}
∏∏ 
public
ªª 
List
ªª	 
<
ªª 
ContentMeta
ªª 
>
ªª 
FetchByContent
ªª )
(
ªª) *
Guid
ªª* .
contentGuid
ªª/ :
)
ªª: ;
{
ºº 
IDataReader
ΩΩ 
reader
ΩΩ 
=
ΩΩ 
DBContentMeta
ΩΩ %
.
ΩΩ% &
GetByContent
ΩΩ& 2
(
ΩΩ2 3
contentGuid
ΩΩ3 >
)
ΩΩ> ?
;
ΩΩ? @
return
øø 	 
LoadListFromReader
øø
 
(
øø 
reader
øø #
)
øø# $
;
øø$ %
}
¿¿ 
public
√√ 
List
√√	 
<
√√ 
ContentMetaLink
√√ 
>
√√ !
FetchLinksByContent
√√ 2
(
√√2 3
Guid
√√3 7
contentGuid
√√8 C
)
√√C D
{
ƒƒ 
IDataReader
≈≈ 
reader
≈≈ 
=
≈≈ 
DBContentMetaLink
≈≈ )
.
≈≈) *
GetByContent
≈≈* 6
(
≈≈6 7
contentGuid
≈≈7 B
)
≈≈B C
;
≈≈C D
return
«« 	$
LoadLinkListFromReader
««
  
(
««  !
reader
««! '
)
««' (
;
««( )
}
»» 
public
œœ 
bool
œœ	 
Delete
œœ 
(
œœ 
Guid
œœ 
guid
œœ 
)
œœ 
{
–– 
return
—— 	
DBContentMeta
——
 
.
—— 
Delete
—— 
(
—— 
guid
—— #
)
——# $
;
——$ %
}
““ 
public
ÿÿ 
bool
ÿÿ	 

DeleteLink
ÿÿ 
(
ÿÿ 
Guid
ÿÿ 
guid
ÿÿ "
)
ÿÿ" #
{
ŸŸ 
return
⁄⁄ 	
DBContentMetaLink
⁄⁄
 
.
⁄⁄ 
Delete
⁄⁄ "
(
⁄⁄" #
guid
⁄⁄# '
)
⁄⁄' (
;
⁄⁄( )
}
€€ 
public
·· 
bool
··	 
DeleteBySite
·· 
(
·· 
Guid
·· 
siteGuid
··  (
)
··( )
{
‚‚ 
DBContentMetaLink
„„ 
.
„„ 
DeleteBySite
„„ !
(
„„! "
siteGuid
„„" *
)
„„* +
;
„„+ ,
return
ÂÂ 	
DBContentMeta
ÂÂ
 
.
ÂÂ 
DeleteBySite
ÂÂ $
(
ÂÂ$ %
siteGuid
ÂÂ% -
)
ÂÂ- .
;
ÂÂ. /
}
ÊÊ 
public
ÌÌ 
bool
ÌÌ	 
DeleteByModule
ÌÌ 
(
ÌÌ 
Guid
ÌÌ !

moduleGuid
ÌÌ" ,
)
ÌÌ, -
{
ÓÓ 
DBContentMetaLink
ÔÔ 
.
ÔÔ 
DeleteByModule
ÔÔ #
(
ÔÔ# $

moduleGuid
ÔÔ$ .
)
ÔÔ. /
;
ÔÔ/ 0
return
ÒÒ 	
DBContentMeta
ÒÒ
 
.
ÒÒ 
DeleteByModule
ÒÒ &
(
ÒÒ& '

moduleGuid
ÒÒ' 1
)
ÒÒ1 2
;
ÒÒ2 3
}
ÚÚ 
public
˘˘ 
bool
˘˘	 
DeleteByContent
˘˘ 
(
˘˘ 
Guid
˘˘ "
contentGuid
˘˘# .
)
˘˘. /
{
˙˙ 
DBContentMetaLink
˚˚ 
.
˚˚ 
DeleteByContent
˚˚ $
(
˚˚$ %
contentGuid
˚˚% 0
)
˚˚0 1
;
˚˚1 2
return
˝˝ 	
DBContentMeta
˝˝
 
.
˝˝ 
DeleteByContent
˝˝ '
(
˝˝' (
contentGuid
˝˝( 3
)
˝˝3 4
;
˝˝4 5
}
˛˛ 
public
ÜÜ 
int
ÜÜ	 
GetNextSortRank
ÜÜ 
(
ÜÜ 
Guid
ÜÜ !
contentGuid
ÜÜ" -
)
ÜÜ- .
{
áá 
int
àà 
nextSort
àà 
=
àà 
DBContentMeta
àà 
.
àà  
GetMaxSortRank
àà  .
(
àà. /
contentGuid
àà/ :
)
àà: ;
+
àà< =
$num
àà> ?
;
àà? @
return
ää 	
nextSort
ää
 
;
ää 
}
ãã 
public
ìì 
int
ìì	 !
GetNextLinkSortRank
ìì  
(
ìì  !
Guid
ìì! %
contentGuid
ìì& 1
)
ìì1 2
{
îî 
int
ïï 
nextSort
ïï 
=
ïï 
DBContentMetaLink
ïï #
.
ïï# $
GetMaxSortRank
ïï$ 2
(
ïï2 3
contentGuid
ïï3 >
)
ïï> ?
+
ïï@ A
$num
ïïB C
;
ïïC D
return
óó 	
nextSort
óó
 
;
óó 
}
òò 
public
õõ 
void
õõ	 

ResortMeta
õõ 
(
õõ 
List
õõ 
<
õõ 
ContentMeta
õõ )
>
õõ) *
metaList
õõ+ 3
)
õõ3 4
{
úú 
int
ùù 
i
ùù 
=
ùù	 

$num
ùù 
;
ùù 
foreach
üü 

(
üü 
ContentMeta
üü 
meta
üü 
in
üü 
metaList
üü  (
)
üü( )
{
†† 
meta
°° 
.
°° 	
SortRank
°°	 
=
°° 
i
°° 
;
°° 
Save
¢¢ 
(
¢¢ 	
meta
¢¢	 
)
¢¢ 
;
¢¢ 
i
££ 
+=
££ 
$num
££	 

;
££
 
}
§§ 
}
•• 
public
®® 
void
®®	 

ResortMeta
®® 
(
®® 
List
®® 
<
®® 
ContentMetaLink
®® -
>
®®- .
metaList
®®/ 7
)
®®7 8
{
©© 
int
™™ 
i
™™ 
=
™™	 

$num
™™ 
;
™™ 
foreach
¨¨ 

(
¨¨ 
ContentMetaLink
¨¨ 
meta
¨¨  
in
¨¨! #
metaList
¨¨$ ,
)
¨¨, -
{
≠≠ 
meta
ÆÆ 
.
ÆÆ 	
SortRank
ÆÆ	 
=
ÆÆ 
i
ÆÆ 
;
ÆÆ 
Save
ØØ 
(
ØØ 	
meta
ØØ	 
)
ØØ 
;
ØØ 
i
∞∞ 
+=
∞∞ 
$num
∞∞	 

;
∞∞
 
}
±± 
}
≤≤ 
public
µµ 
string
µµ	 
GetMetaString
µµ 
(
µµ 
Guid
µµ "
contentGuid
µµ# .
)
µµ. /
{
∂∂ 
if
∑∑ 
(
∑∑ 
contentGuid
∑∑ 
==
∑∑ 
null
∑∑ 
)
∑∑ 
{
∏∏ 
return
ππ 

string
ππ 
.
ππ 
Empty
ππ 
;
ππ 
}
∫∫ 
if
ºº 
(
ºº 
contentGuid
ºº 
==
ºº 
Guid
ºº 
.
ºº 
Empty
ºº  
)
ºº  !
{
ΩΩ 
return
ææ 

string
ææ 
.
ææ 
Empty
ææ 
;
ææ 
}
øø 
List
¡¡ 
<
¡¡ 
ContentMeta
¡¡ 
>
¡¡ 
metaList
¡¡ 
=
¡¡ 
FetchByContent
¡¡  .
(
¡¡. /
contentGuid
¡¡/ :
)
¡¡: ;
;
¡¡; <
List
√√ 
<
√√ 
ContentMetaLink
√√ 
>
√√ 
metaLinkList
√√ %
=
√√& '!
FetchLinksByContent
√√( ;
(
√√; <
contentGuid
√√< G
)
√√G H
;
√√H I
StringBuilder
≈≈ 

metaString
≈≈ 
=
≈≈ 
new
≈≈ !
StringBuilder
≈≈" /
(
≈≈/ 0
)
≈≈0 1
;
≈≈1 2
foreach
«« 

(
«« 
ContentMetaLink
«« 
meta
««  
in
««! #
metaLinkList
««$ 0
)
««0 1
{
»» 

metaString
…… 
.
…… 
Append
…… 
(
…… 
$str
…… 
)
…… 
;
…… 

metaString
   
.
   
Append
   
(
   
$str
   
)
   
;
    

metaString
ÀÀ 
.
ÀÀ 
Append
ÀÀ 
(
ÀÀ 
$str
ÀÀ 
+
ÀÀ  
meta
ÀÀ! %
.
ÀÀ% &
Rel
ÀÀ& )
.
ÀÀ) *
Replace
ÀÀ* 1
(
ÀÀ1 2
$str
ÀÀ2 5
,
ÀÀ5 6
$str
ÀÀ7 >
)
ÀÀ> ?
.
ÀÀ? @
Replace
ÀÀ@ G
(
ÀÀG H
$str
ÀÀH L
,
ÀÀL M
$str
ÀÀN U
)
ÀÀU V
+
ÀÀW X
$str
ÀÀY ^
)
ÀÀ^ _
;
ÀÀ_ `
if
ÕÕ 
(
ÕÕ 
meta
ÕÕ 
.
ÕÕ 
HrefLang
ÕÕ 
.
ÕÕ 
Length
ÕÕ 
>
ÕÕ 
$num
ÕÕ  
)
ÕÕ  !
{
ŒŒ 

metaString
œœ 
.
œœ 
Append
œœ 
(
œœ 
$str
œœ $
+
œœ% &
meta
œœ' +
.
œœ+ ,
HrefLang
œœ, 4
.
œœ4 5
Replace
œœ5 <
(
œœ< =
$str
œœ= @
,
œœ@ A
$str
œœB I
)
œœI J
.
œœJ K
Replace
œœK R
(
œœR S
$str
œœS W
,
œœW X
$str
œœY `
)
œœ` a
+
œœb c
$str
œœd i
)
œœi j
;
œœj k
}
–– 

metaString
““ 
.
““ 
Append
““ 
(
““ 
$str
““ 
+
““  !
meta
““" &
.
““& '
Href
““' +
.
““+ ,
Replace
““, 3
(
““3 4
$str
““4 7
,
““7 8
$str
““9 @
)
““@ A
.
““A B
Replace
““B I
(
““I J
$str
““J N
,
““N O
$str
““P W
)
““W X
+
““Y Z
$str
““[ `
)
““` a
;
““a b

metaString
”” 
.
”” 
Append
”” 
(
”” 
$str
”” 
)
”” 
;
”” 
}
‘‘ 
foreach
÷÷ 

(
÷÷ 
ContentMeta
÷÷ 
meta
÷÷ 
in
÷÷ 
metaList
÷÷  (
)
÷÷( )
{
◊◊ 

metaString
ÿÿ 
.
ÿÿ 
Append
ÿÿ 
(
ÿÿ 
$str
ÿÿ 
)
ÿÿ 
;
ÿÿ 

metaString
ŸŸ 
.
ŸŸ 
Append
ŸŸ 
(
ŸŸ 
$str
ŸŸ 
)
ŸŸ 
;
ŸŸ  

metaString
⁄⁄ 
.
⁄⁄ 
Append
⁄⁄ 
(
⁄⁄ 
meta
⁄⁄ 
.
⁄⁄ 
NameProperty
⁄⁄ '
+
⁄⁄( )
$str
⁄⁄* /
+
⁄⁄0 1
meta
⁄⁄2 6
.
⁄⁄6 7
Name
⁄⁄7 ;
.
⁄⁄; <
Replace
⁄⁄< C
(
⁄⁄C D
$str
⁄⁄D G
,
⁄⁄G H
$str
⁄⁄I P
)
⁄⁄P Q
.
⁄⁄Q R
Replace
⁄⁄R Y
(
⁄⁄Y Z
$str
⁄⁄Z ^
,
⁄⁄^ _
$str
⁄⁄` g
)
⁄⁄g h
+
⁄⁄i j
$str
⁄⁄k p
)
⁄⁄p q
;
⁄⁄q r
if
‹‹ 
(
‹‹ 
meta
‹‹ 
.
‹‹ 
Scheme
‹‹ 
.
‹‹ 
Length
‹‹ 
>
‹‹ 
$num
‹‹ 
)
‹‹ 
{
›› 

metaString
ﬁﬁ 
.
ﬁﬁ 
Append
ﬁﬁ 
(
ﬁﬁ 
$str
ﬁﬁ "
+
ﬁﬁ# $
meta
ﬁﬁ% )
.
ﬁﬁ) *
Scheme
ﬁﬁ* 0
.
ﬁﬁ0 1
Replace
ﬁﬁ1 8
(
ﬁﬁ8 9
$str
ﬁﬁ9 <
,
ﬁﬁ< =
$str
ﬁﬁ> E
)
ﬁﬁE F
.
ﬁﬁF G
Replace
ﬁﬁG N
(
ﬁﬁN O
$str
ﬁﬁO S
,
ﬁﬁS T
$str
ﬁﬁU \
)
ﬁﬁ\ ]
+
ﬁﬁ^ _
$str
ﬁﬁ` e
)
ﬁﬁe f
;
ﬁﬁf g
}
ﬂﬂ 

metaString
·· 
.
·· 
Append
·· 
(
·· 
meta
·· 
.
·· 
ContentProperty
·· *
+
··+ ,
$str
··- 2
+
··3 4
meta
··5 9
.
··9 :
MetaContent
··: E
.
··E F
Replace
··F M
(
··M N
$str
··N Q
,
··Q R
$str
··S Z
)
··Z [
.
··[ \
Replace
··\ c
(
··c d
$str
··d h
,
··h i
$str
··j q
)
··q r
+
··s t
$str
··u z
)
··z {
;
··{ |
if
„„ 
(
„„ 
meta
„„ 
.
„„ 
LangCode
„„ 
.
„„ 
Length
„„ 
>
„„ 
$num
„„  
)
„„  !
{
‰‰ 

metaString
ÂÂ 
.
ÂÂ 
Append
ÂÂ 
(
ÂÂ 
$str
ÂÂ  
+
ÂÂ! "
meta
ÂÂ# '
.
ÂÂ' (
LangCode
ÂÂ( 0
.
ÂÂ0 1
Replace
ÂÂ1 8
(
ÂÂ8 9
$str
ÂÂ9 <
,
ÂÂ< =
$str
ÂÂ> E
)
ÂÂE F
.
ÂÂF G
Replace
ÂÂG N
(
ÂÂN O
$str
ÂÂO S
,
ÂÂS T
$str
ÂÂU \
)
ÂÂ\ ]
+
ÂÂ^ _
$str
ÂÂ` e
)
ÂÂe f
;
ÂÂf g
}
ÊÊ 
if
ËË 
(
ËË 
meta
ËË 
.
ËË 
Dir
ËË 
.
ËË 
Length
ËË 
>
ËË 
$num
ËË 
)
ËË 
{
ÈÈ 

metaString
ÍÍ 
.
ÍÍ 
Append
ÍÍ 
(
ÍÍ 
$str
ÍÍ 
+
ÍÍ  !
meta
ÍÍ" &
.
ÍÍ& '
Dir
ÍÍ' *
+
ÍÍ+ ,
$str
ÍÍ- 2
)
ÍÍ2 3
;
ÍÍ3 4
}
ÎÎ 

metaString
ÌÌ 
.
ÌÌ 
Append
ÌÌ 
(
ÌÌ 
$str
ÌÌ 
)
ÌÌ 
;
ÌÌ 
}
ÓÓ 
return
 	

metaString

 
.
 
ToString
 
(
 
)
 
;
  
}
ÒÒ 
private
ÙÙ 	
List
ÙÙ
 
<
ÙÙ 
ContentMeta
ÙÙ 
>
ÙÙ  
LoadListFromReader
ÙÙ .
(
ÙÙ. /
IDataReader
ÙÙ/ :
reader
ÙÙ; A
)
ÙÙA B
{
ıı 
List
ˆˆ 
<
ˆˆ 
ContentMeta
ˆˆ 
>
ˆˆ 
contentMetaList
ˆˆ $
=
ˆˆ% &
new
ˆˆ' *
List
ˆˆ+ /
<
ˆˆ/ 0
ContentMeta
ˆˆ0 ;
>
ˆˆ; <
(
ˆˆ< =
)
ˆˆ= >
;
ˆˆ> ?
try
¯¯ 
{
˘˘ 
while
˙˙ 	
(
˙˙
 
reader
˙˙ 
.
˙˙ 
Read
˙˙ 
(
˙˙ 
)
˙˙ 
)
˙˙ 
{
˚˚ 
ContentMeta
¸¸ 
contentMeta
¸¸ 
=
¸¸ 
new
¸¸ "
ContentMeta
¸¸# .
(
¸¸. /
)
¸¸/ 0
;
¸¸0 1
contentMeta
˛˛ 
.
˛˛ 
Guid
˛˛ 
=
˛˛ 
new
˛˛ 
Guid
˛˛  
(
˛˛  !
reader
˛˛! '
[
˛˛' (
$str
˛˛( .
]
˛˛. /
.
˛˛/ 0
ToString
˛˛0 8
(
˛˛8 9
)
˛˛9 :
)
˛˛: ;
;
˛˛; <
contentMeta
ˇˇ 
.
ˇˇ 
SiteGuid
ˇˇ 
=
ˇˇ 
new
ˇˇ 
Guid
ˇˇ  $
(
ˇˇ$ %
reader
ˇˇ% +
[
ˇˇ+ ,
$str
ˇˇ, 6
]
ˇˇ6 7
.
ˇˇ7 8
ToString
ˇˇ8 @
(
ˇˇ@ A
)
ˇˇA B
)
ˇˇB C
;
ˇˇC D
contentMeta
ÄÄ 
.
ÄÄ 

ModuleGuid
ÄÄ 
=
ÄÄ 
new
ÄÄ !
Guid
ÄÄ" &
(
ÄÄ& '
reader
ÄÄ' -
[
ÄÄ- .
$str
ÄÄ. :
]
ÄÄ: ;
.
ÄÄ; <
ToString
ÄÄ< D
(
ÄÄD E
)
ÄÄE F
)
ÄÄF G
;
ÄÄG H
contentMeta
ÅÅ 
.
ÅÅ 
ContentGuid
ÅÅ 
=
ÅÅ 
new
ÅÅ "
Guid
ÅÅ# '
(
ÅÅ' (
reader
ÅÅ( .
[
ÅÅ. /
$str
ÅÅ/ <
]
ÅÅ< =
.
ÅÅ= >
ToString
ÅÅ> F
(
ÅÅF G
)
ÅÅG H
)
ÅÅH I
;
ÅÅI J
contentMeta
ÇÇ 
.
ÇÇ 
Name
ÇÇ 
=
ÇÇ 
reader
ÇÇ 
[
ÇÇ 
$str
ÇÇ %
]
ÇÇ% &
.
ÇÇ& '
ToString
ÇÇ' /
(
ÇÇ/ 0
)
ÇÇ0 1
;
ÇÇ1 2
contentMeta
ÉÉ 
.
ÉÉ 
NameProperty
ÉÉ 
=
ÉÉ 
reader
ÉÉ  &
[
ÉÉ& '
$str
ÉÉ' 5
]
ÉÉ5 6
.
ÉÉ6 7
ToString
ÉÉ7 ?
(
ÉÉ? @
)
ÉÉ@ A
;
ÉÉA B
contentMeta
ÑÑ 
.
ÑÑ 
Scheme
ÑÑ 
=
ÑÑ 
reader
ÑÑ  
[
ÑÑ  !
$str
ÑÑ! )
]
ÑÑ) *
.
ÑÑ* +
ToString
ÑÑ+ 3
(
ÑÑ3 4
)
ÑÑ4 5
;
ÑÑ5 6
contentMeta
ÖÖ 
.
ÖÖ 
LangCode
ÖÖ 
=
ÖÖ 
reader
ÖÖ "
[
ÖÖ" #
$str
ÖÖ# -
]
ÖÖ- .
.
ÖÖ. /
ToString
ÖÖ/ 7
(
ÖÖ7 8
)
ÖÖ8 9
;
ÖÖ9 :
contentMeta
ÜÜ 
.
ÜÜ 
Dir
ÜÜ 
=
ÜÜ 
reader
ÜÜ 
[
ÜÜ 
$str
ÜÜ #
]
ÜÜ# $
.
ÜÜ$ %
ToString
ÜÜ% -
(
ÜÜ- .
)
ÜÜ. /
;
ÜÜ/ 0
contentMeta
áá 
.
áá 
MetaContent
áá 
=
áá 
reader
áá %
[
áá% &
$str
áá& 3
]
áá3 4
.
áá4 5
ToString
áá5 =
(
áá= >
)
áá> ?
;
áá? @
contentMeta
àà 
.
àà 
ContentProperty
àà  
=
àà! "
reader
àà# )
[
àà) *
$str
àà* ;
]
àà; <
.
àà< =
ToString
àà= E
(
ààE F
)
ààF G
;
ààG H
contentMeta
ââ 
.
ââ 
SortRank
ââ 
=
ââ 
Convert
ââ #
.
ââ# $
ToInt32
ââ$ +
(
ââ+ ,
reader
ââ, 2
[
ââ2 3
$str
ââ3 =
]
ââ= >
)
ââ> ?
;
ââ? @
contentMeta
ää 
.
ää 

CreatedUtc
ää 
=
ää 
Convert
ää %
.
ää% &

ToDateTime
ää& 0
(
ää0 1
reader
ää1 7
[
ää7 8
$str
ää8 D
]
ääD E
)
ääE F
;
ääF G
contentMeta
ãã 
.
ãã 
	CreatedBy
ãã 
=
ãã 
new
ãã  
Guid
ãã! %
(
ãã% &
reader
ãã& ,
[
ãã, -
$str
ãã- 8
]
ãã8 9
.
ãã9 :
ToString
ãã: B
(
ããB C
)
ããC D
)
ããD E
;
ããE F
contentMeta
åå 
.
åå 

LastModUtc
åå 
=
åå 
Convert
åå %
.
åå% &

ToDateTime
åå& 0
(
åå0 1
reader
åå1 7
[
åå7 8
$str
åå8 D
]
ååD E
)
ååE F
;
ååF G
contentMeta
çç 
.
çç 
	LastModBy
çç 
=
çç 
new
çç  
Guid
çç! %
(
çç% &
reader
çç& ,
[
çç, -
$str
çç- 8
]
çç8 9
.
çç9 :
ToString
çç: B
(
ççB C
)
ççC D
)
ççD E
;
ççE F
contentMetaList
èè 
.
èè 
Add
èè 
(
èè 
contentMeta
èè $
)
èè$ %
;
èè% &
}
êê 
}
ëë 
finally
íí 

{
ìì 
reader
îî 

.
îî
 
Close
îî 
(
îî 
)
îî 
;
îî 
}
ïï 
return
óó 	
contentMetaList
óó
 
;
óó 
}
òò 
private
öö 	
List
öö
 
<
öö 
ContentMetaLink
öö 
>
öö $
LoadLinkListFromReader
öö  6
(
öö6 7
IDataReader
öö7 B
reader
ööC I
)
ööI J
{
õõ 
List
úú 
<
úú 
ContentMetaLink
úú 
>
úú !
contentMetaLinkList
úú ,
=
úú- .
new
úú/ 2
List
úú3 7
<
úú7 8
ContentMetaLink
úú8 G
>
úúG H
(
úúH I
)
úúI J
;
úúJ K
try
ûû 
{
üü 
while
†† 	
(
††
 
reader
†† 
.
†† 
Read
†† 
(
†† 
)
†† 
)
†† 
{
°° 
ContentMetaLink
¢¢ 
contentMetaLink
¢¢ $
=
¢¢% &
new
¢¢' *
ContentMetaLink
¢¢+ :
(
¢¢: ;
)
¢¢; <
;
¢¢< =
contentMetaLink
§§ 
.
§§ 
Guid
§§ 
=
§§ 
new
§§ 
Guid
§§  $
(
§§$ %
reader
§§% +
[
§§+ ,
$str
§§, 2
]
§§2 3
.
§§3 4
ToString
§§4 <
(
§§< =
)
§§= >
)
§§> ?
;
§§? @
contentMetaLink
•• 
.
•• 
SiteGuid
•• 
=
•• 
new
••  #
Guid
••$ (
(
••( )
reader
••) /
[
••/ 0
$str
••0 :
]
••: ;
.
••; <
ToString
••< D
(
••D E
)
••E F
)
••F G
;
••G H
contentMetaLink
¶¶ 
.
¶¶ 

ModuleGuid
¶¶ 
=
¶¶  !
new
¶¶" %
Guid
¶¶& *
(
¶¶* +
reader
¶¶+ 1
[
¶¶1 2
$str
¶¶2 >
]
¶¶> ?
.
¶¶? @
ToString
¶¶@ H
(
¶¶H I
)
¶¶I J
)
¶¶J K
;
¶¶K L
contentMetaLink
ßß 
.
ßß 
ContentGuid
ßß  
=
ßß! "
new
ßß# &
Guid
ßß' +
(
ßß+ ,
reader
ßß, 2
[
ßß2 3
$str
ßß3 @
]
ßß@ A
.
ßßA B
ToString
ßßB J
(
ßßJ K
)
ßßK L
)
ßßL M
;
ßßM N
contentMetaLink
®® 
.
®® 
Rel
®® 
=
®® 
reader
®® !
[
®®! "
$str
®®" '
]
®®' (
.
®®( )
ToString
®®) 1
(
®®1 2
)
®®2 3
;
®®3 4
contentMetaLink
©© 
.
©© 
Href
©© 
=
©© 
reader
©© "
[
©©" #
$str
©©# )
]
©©) *
.
©©* +
ToString
©©+ 3
(
©©3 4
)
©©4 5
;
©©5 6
contentMetaLink
™™ 
.
™™ 
HrefLang
™™ 
=
™™ 
reader
™™  &
[
™™& '
$str
™™' 1
]
™™1 2
.
™™2 3
ToString
™™3 ;
(
™™; <
)
™™< =
;
™™= >
contentMetaLink
´´ 
.
´´ 
Rev
´´ 
=
´´ 
reader
´´ !
[
´´! "
$str
´´" '
]
´´' (
.
´´( )
ToString
´´) 1
(
´´1 2
)
´´2 3
;
´´3 4
contentMetaLink
¨¨ 
.
¨¨ 
Type
¨¨ 
=
¨¨ 
reader
¨¨ "
[
¨¨" #
$str
¨¨# )
]
¨¨) *
.
¨¨* +
ToString
¨¨+ 3
(
¨¨3 4
)
¨¨4 5
;
¨¨5 6
contentMetaLink
≠≠ 
.
≠≠ 
Media
≠≠ 
=
≠≠ 
reader
≠≠ #
[
≠≠# $
$str
≠≠$ +
]
≠≠+ ,
.
≠≠, -
ToString
≠≠- 5
(
≠≠5 6
)
≠≠6 7
;
≠≠7 8
contentMetaLink
ÆÆ 
.
ÆÆ 
SortRank
ÆÆ 
=
ÆÆ 
Convert
ÆÆ  '
.
ÆÆ' (
ToInt32
ÆÆ( /
(
ÆÆ/ 0
reader
ÆÆ0 6
[
ÆÆ6 7
$str
ÆÆ7 A
]
ÆÆA B
)
ÆÆB C
;
ÆÆC D
contentMetaLink
ØØ 
.
ØØ 

CreatedUtc
ØØ 
=
ØØ  !
Convert
ØØ" )
.
ØØ) *

ToDateTime
ØØ* 4
(
ØØ4 5
reader
ØØ5 ;
[
ØØ; <
$str
ØØ< H
]
ØØH I
)
ØØI J
;
ØØJ K
contentMetaLink
∞∞ 
.
∞∞ 
	CreatedBy
∞∞ 
=
∞∞  
new
∞∞! $
Guid
∞∞% )
(
∞∞) *
reader
∞∞* 0
[
∞∞0 1
$str
∞∞1 <
]
∞∞< =
.
∞∞= >
ToString
∞∞> F
(
∞∞F G
)
∞∞G H
)
∞∞H I
;
∞∞I J
contentMetaLink
±± 
.
±± 

LastModUtc
±± 
=
±±  !
Convert
±±" )
.
±±) *

ToDateTime
±±* 4
(
±±4 5
reader
±±5 ;
[
±±; <
$str
±±< H
]
±±H I
)
±±I J
;
±±J K
contentMetaLink
≤≤ 
.
≤≤ 
	LastModBy
≤≤ 
=
≤≤  
new
≤≤! $
Guid
≤≤% )
(
≤≤) *
reader
≤≤* 0
[
≤≤0 1
$str
≤≤1 <
]
≤≤< =
.
≤≤= >
ToString
≤≤> F
(
≤≤F G
)
≤≤G H
)
≤≤H I
;
≤≤I J!
contentMetaLinkList
¥¥ 
.
¥¥ 
Add
¥¥ 
(
¥¥ 
contentMetaLink
¥¥ ,
)
¥¥, -
;
¥¥- .
}
µµ 
}
∂∂ 
finally
∑∑ 

{
∏∏ 
reader
ππ 

.
ππ
 
Close
ππ 
(
ππ 
)
ππ 
;
ππ 
}
∫∫ 
return
ºº 	!
contentMetaLinkList
ºº
 
;
ºº 
}
ΩΩ 
}
ææ 
}øø Å
pD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ContentPublishMode.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

enum 
ContentPublishMode "
{ 
All 
= 
$num 
, 
WebOnly 
= 
$num 
, 

MobileOnly 
= 
$num 
}		 
}

 †⁄
kD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ContentRating.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
ContentRating 
{ 
public 
ContentRating 
( 
) 
{ 	
}
 
public   
ContentRating   
(   
Guid   !
rowGuid  " )
)  ) *
{!! 	
GetContentRating"" 
("" 
rowGuid"" $
)""$ %
;""% &
}## 	
public%% 
ContentRating%% 
(%% 
Guid%% !
contentGuid%%" -
,%%- .
Guid%%/ 3
userGuid%%4 <
)%%< =
{&& 	
GetContentRating'' 
('' 
contentGuid'' (
,''( )
userGuid''* 2
)''2 3
;''3 4
}(( 	
private.. 
Guid.. 
rowGuid.. 
=.. 
Guid.. #
...# $
Empty..$ )
;..) *
private// 
Guid// 
siteGuid// 
=// 
Guid//  $
.//$ %
Empty//% *
;//* +
private00 
Guid00 
contentGuid00  
=00! "
Guid00# '
.00' (
Empty00( -
;00- .
private11 
Guid11 
userGuid11 
=11 
Guid11  $
.11$ %
Empty11% *
;11* +
private22 
string22 
emailAddress22 #
=22$ %
string22& ,
.22, -
Empty22- 2
;222 3
private33 
int33 
rating33 
=33 
-33 
$num33 
;33  
private44 
string44 
comments44 
=44  !
string44" (
.44( )
Empty44) .
;44. /
private55 
string55 
	ipAddress55  
=55! "
string55# )
.55) *
Empty55* /
;55/ 0
private66 
DateTime66 

createdUtc66 #
;66# $
private77 
DateTime77 

lastModUtc77 #
;77# $
public== 
Guid== 
RowGuid== 
{>> 	
get?? 
{?? 
return?? 
rowGuid??  
;??  !
}??" #
set@@ 
{@@ 
rowGuid@@ 
=@@ 
value@@ !
;@@! "
}@@# $
}AA 	
publicBB 
GuidBB 
SiteGuidBB 
{CC 	
getDD 
{DD 
returnDD 
siteGuidDD !
;DD! "
}DD# $
setEE 
{EE 
siteGuidEE 
=EE 
valueEE "
;EE" #
}EE$ %
}FF 	
publicGG 
GuidGG 
ContentGuidGG 
{HH 	
getII 
{II 
returnII 
contentGuidII $
;II$ %
}II& '
setJJ 
{JJ 
contentGuidJJ 
=JJ 
valueJJ  %
;JJ% &
}JJ' (
}KK 	
publicLL 
GuidLL 
UserGuidLL 
{MM 	
getNN 
{NN 
returnNN 
userGuidNN !
;NN! "
}NN# $
setOO 
{OO 
userGuidOO 
=OO 
valueOO "
;OO" #
}OO$ %
}PP 	
publicQQ 
stringQQ 
EmailAddressQQ "
{RR 	
getSS 
{SS 
returnSS 
emailAddressSS %
;SS% &
}SS' (
setTT 
{TT 
emailAddressTT 
=TT  
valueTT! &
;TT& '
}TT( )
}UU 	
publicVV 
intVV 
RatingVV 
{WW 	
getXX 
{XX 
returnXX 
ratingXX 
;XX  
}XX! "
setYY 
{YY 
ratingYY 
=YY 
valueYY  
;YY  !
}YY" #
}ZZ 	
public[[ 
string[[ 
Comments[[ 
{\\ 	
get]] 
{]] 
return]] 
comments]] !
;]]! "
}]]# $
set^^ 
{^^ 
comments^^ 
=^^ 
value^^ "
;^^" #
}^^$ %
}__ 	
public`` 
string`` 
	IpAddress`` 
{aa 	
getbb 
{bb 
returnbb 
	ipAddressbb "
;bb" #
}bb$ %
setcc 
{cc 
	ipAddresscc 
=cc 
valuecc #
;cc# $
}cc% &
}dd 	
publicee 
DateTimeee 

CreatedUtcee "
{ff 	
getgg 
{gg 
returngg 

createdUtcgg #
;gg# $
}gg% &
sethh 
{hh 

createdUtchh 
=hh 
valuehh $
;hh$ %
}hh& '
}ii 	
publicjj 
DateTimejj 

LastModUtcjj "
{kk 	
getll 
{ll 
returnll 

lastModUtcll #
;ll# $
}ll% &
setmm 
{mm 

lastModUtcmm 
=mm 
valuemm $
;mm$ %
}mm& '
}nn 	
privatexx 
voidxx 
GetContentRatingxx %
(xx% &
Guidxx& *
rowGuidxx+ 2
)xx2 3
{yy 	
IDataReaderzz 
readerzz 
=zz  
DBContentRatingzz! 0
.zz0 1
GetOnezz1 7
(zz7 8
rowGuidzz8 ?
)zz? @
;zz@ A
PopulateFromReader{{ 
({{ 
reader{{ %
){{% &
;{{& '
}}} 	
private
ÇÇ 
void
ÇÇ 
GetContentRating
ÇÇ %
(
ÇÇ% &
Guid
ÇÇ& *
contentGuid
ÇÇ+ 6
,
ÇÇ6 7
Guid
ÇÇ8 <
userGuid
ÇÇ= E
)
ÇÇE F
{
ÉÉ 	
IDataReader
ÑÑ 
reader
ÑÑ 
=
ÑÑ  
DBContentRating
ÑÑ! 0
.
ÑÑ0 1$
GetOneByContentAndUser
ÑÑ1 G
(
ÑÑG H
contentGuid
ÑÑH S
,
ÑÑS T
userGuid
ÑÑU ]
)
ÑÑ] ^
;
ÑÑ^ _ 
PopulateFromReader
ÖÖ 
(
ÖÖ 
reader
ÖÖ %
)
ÖÖ% &
;
ÖÖ& '
}
áá 	
private
ää 
void
ää  
PopulateFromReader
ää '
(
ää' (
IDataReader
ää( 3
reader
ää4 :
)
ää: ;
{
ãã 	
try
åå 
{
çç 
if
éé 
(
éé 
reader
éé 
.
éé 
Read
éé 
(
éé  
)
éé  !
)
éé! "
{
èè 
this
êê 
.
êê 
rowGuid
êê  
=
êê! "
new
êê# &
Guid
êê' +
(
êê+ ,
reader
êê, 2
[
êê2 3
$str
êê3 <
]
êê< =
.
êê= >
ToString
êê> F
(
êêF G
)
êêG H
)
êêH I
;
êêI J
this
ëë 
.
ëë 
siteGuid
ëë !
=
ëë" #
new
ëë$ '
Guid
ëë( ,
(
ëë, -
reader
ëë- 3
[
ëë3 4
$str
ëë4 >
]
ëë> ?
.
ëë? @
ToString
ëë@ H
(
ëëH I
)
ëëI J
)
ëëJ K
;
ëëK L
this
íí 
.
íí 
contentGuid
íí $
=
íí% &
new
íí' *
Guid
íí+ /
(
íí/ 0
reader
íí0 6
[
íí6 7
$str
íí7 D
]
ííD E
.
ííE F
ToString
ííF N
(
ííN O
)
ííO P
)
ííP Q
;
ííQ R
this
ìì 
.
ìì 
userGuid
ìì !
=
ìì" #
new
ìì$ '
Guid
ìì( ,
(
ìì, -
reader
ìì- 3
[
ìì3 4
$str
ìì4 >
]
ìì> ?
.
ìì? @
ToString
ìì@ H
(
ììH I
)
ììI J
)
ììJ K
;
ììK L
this
îî 
.
îî 
emailAddress
îî %
=
îî& '
reader
îî( .
[
îî. /
$str
îî/ =
]
îî= >
.
îî> ?
ToString
îî? G
(
îîG H
)
îîH I
;
îîI J
this
ïï 
.
ïï 
rating
ïï 
=
ïï  !
Convert
ïï" )
.
ïï) *
ToInt32
ïï* 1
(
ïï1 2
reader
ïï2 8
[
ïï8 9
$str
ïï9 A
]
ïïA B
)
ïïB C
;
ïïC D
this
ññ 
.
ññ 
comments
ññ !
=
ññ" #
reader
ññ$ *
[
ññ* +
$str
ññ+ 5
]
ññ5 6
.
ññ6 7
ToString
ññ7 ?
(
ññ? @
)
ññ@ A
;
ññA B
this
óó 
.
óó 
	ipAddress
óó "
=
óó# $
reader
óó% +
[
óó+ ,
$str
óó, 7
]
óó7 8
.
óó8 9
ToString
óó9 A
(
óóA B
)
óóB C
;
óóC D
this
òò 
.
òò 

createdUtc
òò #
=
òò$ %
Convert
òò& -
.
òò- .

ToDateTime
òò. 8
(
òò8 9
reader
òò9 ?
[
òò? @
$str
òò@ L
]
òòL M
)
òòM N
;
òòN O
this
ôô 
.
ôô 

lastModUtc
ôô #
=
ôô$ %
Convert
ôô& -
.
ôô- .

ToDateTime
ôô. 8
(
ôô8 9
reader
ôô9 ?
[
ôô? @
$str
ôô@ L
]
ôôL M
)
ôôM N
;
ôôN O
}
õõ 
}
úú 
finally
ùù 
{
ûû 
reader
üü 
.
üü 
Close
üü 
(
üü 
)
üü 
;
üü 
}
†† 
}
°° 	
private
ßß 
bool
ßß 
Create
ßß 
(
ßß 
)
ßß 
{
®® 	
this
©© 
.
©© 
rowGuid
©© 
=
©© 
Guid
©© 
.
©©  
NewGuid
©©  '
(
©©' (
)
©©( )
;
©©) *
int
´´ 
rowsAffected
´´ 
=
´´ 
DBContentRating
´´ .
.
´´. /
Create
´´/ 5
(
´´5 6
this
¨¨ 
.
¨¨ 
rowGuid
¨¨ 
,
¨¨ 
this
≠≠ 
.
≠≠ 
siteGuid
≠≠ 
,
≠≠ 
this
ÆÆ 
.
ÆÆ 
contentGuid
ÆÆ  
,
ÆÆ  !
this
ØØ 
.
ØØ 
userGuid
ØØ 
,
ØØ 
this
∞∞ 
.
∞∞ 
emailAddress
∞∞ !
,
∞∞! "
this
±± 
.
±± 
rating
±± 
,
±± 
this
≤≤ 
.
≤≤ 
comments
≤≤ 
,
≤≤ 
this
≥≥ 
.
≥≥ 
	ipAddress
≥≥ 
,
≥≥ 
this
¥¥ 
.
¥¥ 

createdUtc
¥¥ 
)
¥¥  
;
¥¥  !
return
∂∂ 
(
∂∂ 
rowsAffected
∂∂  
>
∂∂! "
$num
∂∂# $
)
∂∂$ %
;
∂∂% &
}
∏∏ 	
private
øø 
bool
øø 
Update
øø 
(
øø 
)
øø 
{
¿¿ 	
return
¬¬ 
DBContentRating
¬¬ "
.
¬¬" #
Update
¬¬# )
(
¬¬) *
this
√√ 
.
√√ 
rowGuid
√√ 
,
√√ 
this
ƒƒ 
.
ƒƒ 
emailAddress
ƒƒ !
,
ƒƒ! "
this
≈≈ 
.
≈≈ 
rating
≈≈ 
,
≈≈ 
this
∆∆ 
.
∆∆ 
comments
∆∆ 
,
∆∆ 
this
«« 
.
«« 
	ipAddress
«« 
,
«« 
this
»» 
.
»» 

lastModUtc
»» 
)
»»  
;
»»  !
}
   	
public
ÿÿ 
bool
ÿÿ 
Save
ÿÿ 
(
ÿÿ 
)
ÿÿ 
{
ŸŸ 	
if
⁄⁄ 
(
⁄⁄ 
this
⁄⁄ 
.
⁄⁄ 
rowGuid
⁄⁄ 
!=
⁄⁄ 
Guid
⁄⁄  $
.
⁄⁄$ %
Empty
⁄⁄% *
)
⁄⁄* +
{
€€ 
return
‹‹ 
Update
‹‹ 
(
‹‹ 
)
‹‹ 
;
‹‹  
}
›› 
else
ﬁﬁ 
{
ﬂﬂ 
return
‡‡ 
Create
‡‡ 
(
‡‡ 
)
‡‡ 
;
‡‡  
}
·· 
}
‚‚ 	
public
 
static
 
bool
 
Delete
 !
(
! "
Guid
" &
rowGuid
' .
)
. /
{
ÒÒ 	
return
ÚÚ 
DBContentRating
ÚÚ "
.
ÚÚ" #
Delete
ÚÚ# )
(
ÚÚ) *
rowGuid
ÚÚ* 1
)
ÚÚ1 2
;
ÚÚ2 3
}
ÛÛ 	
private
˛˛ 
static
˛˛ 
List
˛˛ 
<
˛˛ 
ContentRating
˛˛ )
>
˛˛) * 
LoadListFromReader
˛˛+ =
(
˛˛= >
IDataReader
˛˛> I
reader
˛˛J P
)
˛˛P Q
{
ˇˇ 	
List
ÄÄ 
<
ÄÄ 
ContentRating
ÄÄ 
>
ÄÄ 
contentRatingList
ÄÄ  1
=
ÄÄ2 3
new
ÄÄ4 7
List
ÄÄ8 <
<
ÄÄ< =
ContentRating
ÄÄ= J
>
ÄÄJ K
(
ÄÄK L
)
ÄÄL M
;
ÄÄM N
using
ÅÅ 
(
ÅÅ 
reader
ÅÅ 
)
ÅÅ 
{
ÇÇ 
while
ÉÉ 
(
ÉÉ 
reader
ÉÉ 
.
ÉÉ 
Read
ÉÉ "
(
ÉÉ" #
)
ÉÉ# $
)
ÉÉ$ %
{
ÑÑ 
ContentRating
ÖÖ !
contentRating
ÖÖ" /
=
ÖÖ0 1
new
ÖÖ2 5
ContentRating
ÖÖ6 C
(
ÖÖC D
)
ÖÖD E
;
ÖÖE F
contentRating
ÜÜ !
.
ÜÜ! "
rowGuid
ÜÜ" )
=
ÜÜ* +
new
ÜÜ, /
Guid
ÜÜ0 4
(
ÜÜ4 5
reader
ÜÜ5 ;
[
ÜÜ; <
$str
ÜÜ< E
]
ÜÜE F
.
ÜÜF G
ToString
ÜÜG O
(
ÜÜO P
)
ÜÜP Q
)
ÜÜQ R
;
ÜÜR S
contentRating
áá !
.
áá! "
siteGuid
áá" *
=
áá+ ,
new
áá- 0
Guid
áá1 5
(
áá5 6
reader
áá6 <
[
áá< =
$str
áá= G
]
ááG H
.
ááH I
ToString
ááI Q
(
ááQ R
)
ááR S
)
ááS T
;
ááT U
contentRating
àà !
.
àà! "
contentGuid
àà" -
=
àà. /
new
àà0 3
Guid
àà4 8
(
àà8 9
reader
àà9 ?
[
àà? @
$str
àà@ M
]
ààM N
.
ààN O
ToString
ààO W
(
ààW X
)
ààX Y
)
ààY Z
;
ààZ [
contentRating
ââ !
.
ââ! "
userGuid
ââ" *
=
ââ+ ,
new
ââ- 0
Guid
ââ1 5
(
ââ5 6
reader
ââ6 <
[
ââ< =
$str
ââ= G
]
ââG H
.
ââH I
ToString
ââI Q
(
ââQ R
)
ââR S
)
ââS T
;
ââT U
contentRating
ää !
.
ää! "
emailAddress
ää" .
=
ää/ 0
reader
ää1 7
[
ää7 8
$str
ää8 F
]
ääF G
.
ääG H
ToString
ääH P
(
ääP Q
)
ääQ R
;
ääR S
contentRating
ãã !
.
ãã! "
rating
ãã" (
=
ãã) *
Convert
ãã+ 2
.
ãã2 3
ToInt32
ãã3 :
(
ãã: ;
reader
ãã; A
[
ããA B
$str
ããB J
]
ããJ K
)
ããK L
;
ããL M
contentRating
åå !
.
åå! "
comments
åå" *
=
åå+ ,
reader
åå- 3
[
åå3 4
$str
åå4 >
]
åå> ?
.
åå? @
ToString
åå@ H
(
ååH I
)
ååI J
;
ååJ K
contentRating
çç !
.
çç! "
	ipAddress
çç" +
=
çç, -
reader
çç. 4
[
çç4 5
$str
çç5 @
]
çç@ A
.
ççA B
ToString
ççB J
(
ççJ K
)
ççK L
;
ççL M
contentRating
éé !
.
éé! "

createdUtc
éé" ,
=
éé- .
Convert
éé/ 6
.
éé6 7

ToDateTime
éé7 A
(
ééA B
reader
ééB H
[
ééH I
$str
ééI U
]
ééU V
)
ééV W
;
ééW X
contentRating
èè !
.
èè! "

lastModUtc
èè" ,
=
èè- .
Convert
èè/ 6
.
èè6 7

ToDateTime
èè7 A
(
èèA B
reader
èèB H
[
èèH I
$str
èèI U
]
èèU V
)
èèV W
;
èèW X
contentRatingList
êê %
.
êê% &
Add
êê& )
(
êê) *
contentRating
êê* 7
)
êê7 8
;
êê8 9
}
íí 
}
ìì 
return
ïï 
contentRatingList
ïï $
;
ïï$ %
}
óó 	
public
ûû 
static
ûû 
List
ûû 
<
ûû 
ContentRating
ûû (
>
ûû( )
GetPage
ûû* 1
(
ûû1 2
Guid
ûû2 6
contentGuid
ûû7 B
,
ûûB C
int
ûûD G

pageNumber
ûûH R
,
ûûR S
int
ûûT W
pageSize
ûûX `
,
ûû` a
out
ûûb e
int
ûûf i

totalPages
ûûj t
)
ûût u
{
üü 	

totalPages
†† 
=
†† 
$num
†† 
;
†† 
IDataReader
°° 
reader
°° 
=
°°  
DBContentRating
°°! 0
.
°°0 1
GetPage
°°1 8
(
°°8 9
contentGuid
°°9 D
,
°°D E

pageNumber
°°F P
,
°°P Q
pageSize
°°R Z
,
°°Z [
out
°°\ _

totalPages
°°` j
)
°°j k
;
°°k l
return
¢¢  
LoadListFromReader
¢¢ %
(
¢¢% &
reader
¢¢& ,
)
¢¢, -
;
¢¢- .
}
££ 	
public
•• 
static
••  
ContentRatingStats
•• (
GetStats
••) 1
(
••1 2
Guid
••2 6
contentGuid
••7 B
)
••B C
{
¶¶ 	 
ContentRatingStats
ßß 
stats
ßß $
=
ßß% &
new
ßß' * 
ContentRatingStats
ßß+ =
(
ßß= >
)
ßß> ?
;
ßß? @
using
©© 
(
©© 
IDataReader
©© 
reader
©© $
=
©©% &
DBContentRating
©©' 6
.
©©6 7
GetStatsByContent
©©7 H
(
©©H I
contentGuid
©©I T
)
©©T U
)
©©U V
{
™™ 
if
´´ 
(
´´ 
reader
´´ 
.
´´ 
Read
´´ 
(
´´  
)
´´  !
)
´´! "
{
¨¨ 
stats
≠≠ 
.
≠≠ 

TotalVotes
≠≠ $
=
≠≠% &
Convert
≠≠' .
.
≠≠. /
ToInt32
≠≠/ 6
(
≠≠6 7
reader
≠≠7 =
[
≠≠= >
$str
≠≠> L
]
≠≠L M
)
≠≠M N
;
≠≠N O
stats
ÆÆ 
.
ÆÆ 
AverageRating
ÆÆ '
=
ÆÆ( )
Convert
ÆÆ* 1
.
ÆÆ1 2
ToInt32
ÆÆ2 9
(
ÆÆ9 :
reader
ÆÆ: @
[
ÆÆ@ A
$str
ÆÆA P
]
ÆÆP Q
)
ÆÆQ R
;
ÆÆR S
}
ØØ 
}
∞∞ 
return
≤≤ 
stats
≤≤ 
;
≤≤ 
}
¥¥ 	
public
ææ 
static
ææ 
int
ææ #
CompareByEmailAddress
ææ /
(
ææ/ 0
ContentRating
ææ0 =
contentRating1
ææ> L
,
ææL M
ContentRating
ææN [
contentRating2
ææ\ j
)
ææj k
{
øø 	
return
¿¿ 
contentRating1
¿¿ !
.
¿¿! "
EmailAddress
¿¿" .
.
¿¿. /
	CompareTo
¿¿/ 8
(
¿¿8 9
contentRating2
¿¿9 G
.
¿¿G H
EmailAddress
¿¿H T
)
¿¿T U
;
¿¿U V
}
¡¡ 	
public
≈≈ 
static
≈≈ 
int
≈≈ 
CompareByRating
≈≈ )
(
≈≈) *
ContentRating
≈≈* 7
contentRating1
≈≈8 F
,
≈≈F G
ContentRating
≈≈H U
contentRating2
≈≈V d
)
≈≈d e
{
∆∆ 	
return
«« 
contentRating1
«« !
.
««! "
Rating
««" (
.
««( )
	CompareTo
««) 2
(
««2 3
contentRating2
««3 A
.
««A B
Rating
««B H
)
««H I
;
««I J
}
»» 	
public
ÃÃ 
static
ÃÃ 
int
ÃÃ 
CompareByComments
ÃÃ +
(
ÃÃ+ ,
ContentRating
ÃÃ, 9
contentRating1
ÃÃ: H
,
ÃÃH I
ContentRating
ÃÃJ W
contentRating2
ÃÃX f
)
ÃÃf g
{
ÕÕ 	
return
ŒŒ 
contentRating1
ŒŒ !
.
ŒŒ! "
Comments
ŒŒ" *
.
ŒŒ* +
	CompareTo
ŒŒ+ 4
(
ŒŒ4 5
contentRating2
ŒŒ5 C
.
ŒŒC D
Comments
ŒŒD L
)
ŒŒL M
;
ŒŒM N
}
œœ 	
public
”” 
static
”” 
int
””  
CompareByIpAddress
”” ,
(
””, -
ContentRating
””- :
contentRating1
””; I
,
””I J
ContentRating
””K X
contentRating2
””Y g
)
””g h
{
‘‘ 	
return
’’ 
contentRating1
’’ !
.
’’! "
	IpAddress
’’" +
.
’’+ ,
	CompareTo
’’, 5
(
’’5 6
contentRating2
’’6 D
.
’’D E
	IpAddress
’’E N
)
’’N O
;
’’O P
}
÷÷ 	
public
⁄⁄ 
static
⁄⁄ 
int
⁄⁄ !
CompareByCreatedUtc
⁄⁄ -
(
⁄⁄- .
ContentRating
⁄⁄. ;
contentRating1
⁄⁄< J
,
⁄⁄J K
ContentRating
⁄⁄L Y
contentRating2
⁄⁄Z h
)
⁄⁄h i
{
€€ 	
return
‹‹ 
contentRating1
‹‹ !
.
‹‹! "

CreatedUtc
‹‹" ,
.
‹‹, -
	CompareTo
‹‹- 6
(
‹‹6 7
contentRating2
‹‹7 E
.
‹‹E F

CreatedUtc
‹‹F P
)
‹‹P Q
;
‹‹Q R
}
›› 	
public
·· 
static
·· 
int
·· !
CompareByLastModUtc
·· -
(
··- .
ContentRating
··. ;
contentRating1
··< J
,
··J K
ContentRating
··L Y
contentRating2
··Z h
)
··h i
{
‚‚ 	
return
„„ 
contentRating1
„„ !
.
„„! "

LastModUtc
„„" ,
.
„„, -
	CompareTo
„„- 6
(
„„6 7
contentRating2
„„7 E
.
„„E F

LastModUtc
„„F P
)
„„P Q
;
„„Q R
}
‰‰ 	
public
ÊÊ 
static
ÊÊ 
void
ÊÊ 
RateContent
ÊÊ &
(
ÊÊ& '
Guid
ÁÁ 
siteGuid
ÁÁ 
,
ÁÁ 
Guid
ËË 
contentGuid
ËË 
,
ËË 
Guid
ÈÈ 
userGuid
ÈÈ 
,
ÈÈ 
int
ÍÍ 
rating
ÍÍ 
,
ÍÍ 
string
ÎÎ 
emailAddress
ÎÎ 
,
ÎÎ  
string
ÏÏ 
comments
ÏÏ 
,
ÏÏ 
string
ÌÌ 
	ipAddress
ÌÌ 
,
ÌÌ 
int
ÓÓ *
minutesBetweenAnonymousVotes
ÓÓ ,
)
ÔÔ 
{
 	
bool
ÒÒ 
userHasRated
ÒÒ 
=
ÒÒ 
false
ÒÒ  %
;
ÒÒ% &
if
ÛÛ 
(
ÛÛ 
userGuid
ÛÛ 
!=
ÛÛ 
Guid
ÛÛ  
.
ÛÛ  !
Empty
ÛÛ! &
)
ÛÛ& '
{
ÙÙ 
userHasRated
ıı 
=
ıı 
(
ıı 
DBContentRating
ıı .
.
ıı. /&
GetCountByContentAndUser
ıı/ G
(
ııG H
contentGuid
ııH S
,
ııS T
userGuid
ııU ]
)
ıı] ^
>
ıı_ `
$num
ııa b
)
ııb c
;
ııc d
}
ˆˆ 
if
¯¯ 
(
¯¯ 
userHasRated
¯¯ 
)
¯¯ 
{
˘˘ 
ContentRating
˙˙ 
contentRating
˙˙ +
=
˙˙, -
new
˙˙. 1
ContentRating
˙˙2 ?
(
˙˙? @
contentGuid
˙˙@ K
,
˙˙K L
userGuid
˙˙M U
)
˙˙U V
;
˙˙V W
contentRating
˚˚ 
.
˚˚ 
Rating
˚˚ $
=
˚˚% &
rating
˚˚' -
;
˚˚- .
if
¸¸ 
(
¸¸ 
(
¸¸ 
!
¸¸ 
string
¸¸ 
.
¸¸ 
IsNullOrEmpty
¸¸ *
(
¸¸* +
emailAddress
¸¸+ 7
)
¸¸7 8
)
¸¸8 9
&&
¸¸9 ;
(
¸¸; <
contentRating
¸¸< I
.
¸¸I J
EmailAddress
¸¸J V
.
¸¸V W
Length
¸¸W ]
==
¸¸^ `
$num
¸¸a b
)
¸¸b c
)
¸¸c d
{
˝˝ 
contentRating
˛˛ !
.
˛˛! "
EmailAddress
˛˛" .
=
˛˛/ 0
emailAddress
˛˛1 =
;
˛˛= >
}
ˇˇ 
if
ÅÅ 
(
ÅÅ 
(
ÅÅ 
!
ÅÅ 
string
ÅÅ 
.
ÅÅ 
IsNullOrEmpty
ÅÅ *
(
ÅÅ* +
comments
ÅÅ+ 3
)
ÅÅ3 4
)
ÅÅ4 5
&&
ÅÅ6 8
(
ÅÅ9 :
contentRating
ÅÅ: G
.
ÅÅG H
Comments
ÅÅH P
.
ÅÅP Q
Length
ÅÅQ W
==
ÅÅX Z
$num
ÅÅ[ \
)
ÅÅ\ ]
)
ÅÅ] ^
{
ÇÇ 
contentRating
ÉÉ !
.
ÉÉ! "
Comments
ÉÉ" *
=
ÉÉ+ ,
comments
ÉÉ- 5
;
ÉÉ5 6
}
ÑÑ 
contentRating
ÜÜ 
.
ÜÜ 
	IpAddress
ÜÜ '
=
ÜÜ( )
	ipAddress
ÜÜ* 3
;
ÜÜ3 4
contentRating
áá 
.
áá 
Save
áá "
(
áá" #
)
áá# $
;
áá$ %
}
ãã 
else
åå 
{
çç 
bool
éé 
doRating
éé 
=
éé 
true
éé  $
;
éé$ %
if
êê 
(
êê 
userGuid
êê 
==
êê 
Guid
êê  $
.
êê$ %
Empty
êê% *
)
êê* +
{
ëë 
int
îî 
countOfRatings
îî &
=
îî' (
DBContentRating
îî) 8
.
îî8 9$
GetCountOfRatingsSince
îî9 O
(
îîO P
contentGuid
ïï #
,
ïï# $
	ipAddress
ññ !
,
ññ! "
DateTime
óó  
.
óó  !
UtcNow
óó! '
.
óó' (

AddMinutes
óó( 2
(
óó2 3
-
óó3 4*
minutesBetweenAnonymousVotes
óó4 P
)
óóP Q
)
óóQ R
;
óóR S
doRating
öö 
=
öö 
(
öö  
countOfRatings
öö  .
==
öö/ 1
$num
öö2 3
)
öö3 4
;
öö4 5
}
úú 
if
ûû 
(
ûû 
doRating
ûû 
)
ûû 
{
üü 
DBContentRating
†† #
.
††# $
Create
††$ *
(
††* +
Guid
°° 
.
°° 
NewGuid
°° $
(
°°$ %
)
°°% &
,
°°& '
siteGuid
¢¢  
,
¢¢  !
contentGuid
££ #
,
££# $
userGuid
§§  
,
§§  !
emailAddress
•• $
,
••$ %
rating
¶¶ 
,
¶¶ 
comments
ßß  
,
ßß  !
	ipAddress
®® !
,
®®! "
DateTime
©©  
.
©©  !
UtcNow
©©! '
)
©©' (
;
©©( )
}
™™ 
}
´´ 
}
ÆÆ 	
}
≥≥ 
}µµ •	
pD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ContentRatingStats.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
ContentRatingStats #
{ 
private 
int 
averageRating !
=" #
$num$ %
;% &
private 
int 

totalVotes 
=  
$num! "
;" #
public 
int 
AverageRating  
{ 	
get 
{ 
return 
averageRating &
;& '
}( )
set 
{ 
averageRating 
=  !
value" '
;' (
}) *
} 	
public 
int 

TotalVotes 
{ 	
get   
{   
return   

totalVotes   #
;  # $
}  % &
set!! 
{!! 

totalVotes!! 
=!! 
value!! $
;!!$ %
}!!& '
}"" 	
}$$ 
}%% ù‰
jD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ContentStyle.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
ContentStyle 
{ 
private 
ContentStyle 
( 
) 
{ 	
}
 
private 
ContentStyle 
( 
Guid !
guid" &
)& '
{   	
GetContentStyle!! 
(!! 
guid!!  
)!!  !
;!!! "
}"" 	
private(( 
Guid(( 
guid(( 
=(( 
Guid((  
.((  !
Empty((! &
;((& '
private)) 
Guid)) 
siteGuid)) 
=)) 
Guid))  $
.))$ %
Empty))% *
;))* +
private** 
string** 
name** 
=** 
string** $
.**$ %
Empty**% *
;*** +
private++ 
string++ 
element++ 
=++  
string++! '
.++' (
Empty++( -
;++- .
private,, 
string,, 
cssClass,, 
=,,  !
string,," (
.,,( )
Empty,,) .
;,,. /
private-- 
string-- 
skinName-- 
=--  !
string--" (
.--( )
Empty--) .
;--. /
private.. 
bool.. 
isActive.. 
=.. 
true..  $
;..$ %
private// 
DateTime// 

createdUtc// #
=//$ %
DateTime//& .
.//. /
UtcNow/// 5
;//5 6
private00 
DateTime00 

lastModUtc00 #
=00$ %
DateTime00& .
.00. /
UtcNow00/ 5
;005 6
private11 
Guid11 
	createdBy11 
=11  
Guid11! %
.11% &
Empty11& +
;11+ ,
private22 
Guid22 
	lastModBy22 
=22  
Guid22! %
.22% &
Empty22& +
;22+ ,
public88 
Guid88 
Guid88 
{99 	
get:: 
{:: 
return:: 
guid:: 
;:: 
}::  
set;; 
{;; 
guid;; 
=;; 
value;; 
;;; 
};;  !
}<< 	
public== 
Guid== 
SiteGuid== 
{>> 	
get?? 
{?? 
return?? 
siteGuid?? !
;??! "
}??# $
set@@ 
{@@ 
siteGuid@@ 
=@@ 
value@@ "
;@@" #
}@@$ %
}AA 	
publicBB 
stringBB 
NameBB 
{CC 	
getDD 
{DD 
returnDD 
nameDD 
;DD 
}DD  
setEE 
{EE 
nameEE 
=EE 
valueEE 
;EE 
}EE  !
}FF 	
publicGG 
stringGG 
ElementGG 
{HH 	
getII 
{II 
returnII 
elementII  
;II  !
}II" #
setJJ 
{JJ 
elementJJ 
=JJ 
valueJJ !
;JJ! "
}JJ# $
}KK 	
publicLL 
stringLL 
CssClassLL 
{MM 	
getNN 
{NN 
returnNN 
cssClassNN !
;NN! "
}NN# $
setOO 
{OO 
cssClassOO 
=OO 
valueOO "
;OO" #
}OO$ %
}PP 	
publicQQ 
stringQQ 
SkinNameQQ 
{RR 	
getSS 
{SS 
returnSS 
skinNameSS !
;SS! "
}SS# $
setTT 
{TT 
skinNameTT 
=TT 
valueTT "
;TT" #
}TT$ %
}UU 	
publicVV 
boolVV 
IsActiveVV 
{WW 	
getXX 
{XX 
returnXX 
isActiveXX !
;XX! "
}XX# $
setYY 
{YY 
isActiveYY 
=YY 
valueYY "
;YY" #
}YY$ %
}ZZ 	
public[[ 
DateTime[[ 

CreatedUtc[[ "
{\\ 	
get]] 
{]] 
return]] 

createdUtc]] #
;]]# $
}]]% &
set^^ 
{^^ 

createdUtc^^ 
=^^ 
value^^ $
;^^$ %
}^^& '
}__ 	
public`` 
DateTime`` 

LastModUtc`` "
{aa 	
getbb 
{bb 
returnbb 

lastModUtcbb #
;bb# $
}bb% &
setcc 
{cc 

lastModUtccc 
=cc 
valuecc $
;cc$ %
}cc& '
}dd 	
publicee 
Guidee 
	CreatedByee 
{ff 	
getgg 
{gg 
returngg 
	createdBygg "
;gg" #
}gg$ %
sethh 
{hh 
	createdByhh 
=hh 
valuehh #
;hh# $
}hh% &
}ii 	
publicjj 
Guidjj 
	LastModByjj 
{kk 	
getll 
{ll 
returnll 
	lastModByll "
;ll" #
}ll$ %
setmm 
{mm 
	lastModBymm 
=mm 
valuemm #
;mm# $
}mm% &
}nn 	
privatexx 
voidxx 
GetContentStylexx $
(xx$ %
Guidxx% )
guidxx* .
)xx. /
{yy 	
usingzz 
(zz 
IDataReaderzz 
readerzz %
=zz& '
DBContentStylezz( 6
.zz6 7
GetOnezz7 =
(zz= >
guidzz> B
)zzB C
)zzC D
{{{ 
PopulateFromReader|| "
(||" #
reader||# )
)||) *
;||* +
}}} 
} 	
private
ÇÇ 
void
ÇÇ  
PopulateFromReader
ÇÇ '
(
ÇÇ' (
IDataReader
ÇÇ( 3
reader
ÇÇ4 :
)
ÇÇ: ;
{
ÉÉ 	
if
ÑÑ 
(
ÑÑ 
reader
ÑÑ 
.
ÑÑ 
Read
ÑÑ 
(
ÑÑ 
)
ÑÑ 
)
ÑÑ 
{
ÖÖ 
this
ÜÜ 
.
ÜÜ 
guid
ÜÜ 
=
ÜÜ 
new
ÜÜ 
Guid
ÜÜ  $
(
ÜÜ$ %
reader
ÜÜ% +
[
ÜÜ+ ,
$str
ÜÜ, 2
]
ÜÜ2 3
.
ÜÜ3 4
ToString
ÜÜ4 <
(
ÜÜ< =
)
ÜÜ= >
)
ÜÜ> ?
;
ÜÜ? @
this
áá 
.
áá 
siteGuid
áá 
=
áá 
new
áá  #
Guid
áá$ (
(
áá( )
reader
áá) /
[
áá/ 0
$str
áá0 :
]
áá: ;
.
áá; <
ToString
áá< D
(
ááD E
)
ááE F
)
ááF G
;
ááG H
this
àà 
.
àà 
name
àà 
=
àà 
reader
àà "
[
àà" #
$str
àà# )
]
àà) *
.
àà* +
ToString
àà+ 3
(
àà3 4
)
àà4 5
;
àà5 6
this
ââ 
.
ââ 
element
ââ 
=
ââ 
reader
ââ %
[
ââ% &
$str
ââ& /
]
ââ/ 0
.
ââ0 1
ToString
ââ1 9
(
ââ9 :
)
ââ: ;
;
ââ; <
this
ää 
.
ää 
cssClass
ää 
=
ää 
reader
ää  &
[
ää& '
$str
ää' 1
]
ää1 2
.
ää2 3
ToString
ää3 ;
(
ää; <
)
ää< =
;
ää= >
this
ãã 
.
ãã 
skinName
ãã 
=
ãã 
reader
ãã  &
[
ãã& '
$str
ãã' 1
]
ãã1 2
.
ãã2 3
ToString
ãã3 ;
(
ãã; <
)
ãã< =
;
ãã= >
this
åå 
.
åå 
isActive
åå 
=
åå 
Convert
åå  '
.
åå' (
	ToBoolean
åå( 1
(
åå1 2
reader
åå2 8
[
åå8 9
$str
åå9 C
]
ååC D
)
ååD E
;
ååE F
this
çç 
.
çç 

createdUtc
çç 
=
çç  !
Convert
çç" )
.
çç) *

ToDateTime
çç* 4
(
çç4 5
reader
çç5 ;
[
çç; <
$str
çç< H
]
ççH I
)
ççI J
;
ççJ K
this
éé 
.
éé 

lastModUtc
éé 
=
éé  !
Convert
éé" )
.
éé) *

ToDateTime
éé* 4
(
éé4 5
reader
éé5 ;
[
éé; <
$str
éé< H
]
ééH I
)
ééI J
;
ééJ K
this
èè 
.
èè 
	createdBy
èè 
=
èè  
new
èè! $
Guid
èè% )
(
èè) *
reader
èè* 0
[
èè0 1
$str
èè1 <
]
èè< =
.
èè= >
ToString
èè> F
(
èèF G
)
èèG H
)
èèH I
;
èèI J
this
êê 
.
êê 
	lastModBy
êê 
=
êê  
new
êê! $
Guid
êê% )
(
êê) *
reader
êê* 0
[
êê0 1
$str
êê1 <
]
êê< =
.
êê= >
ToString
êê> F
(
êêF G
)
êêG H
)
êêH I
;
êêI J
}
íí 
}
îî 	
private
öö 
bool
öö 
Create
öö 
(
öö 
)
öö 
{
õõ 	
this
úú 
.
úú 
guid
úú 
=
úú 
Guid
úú 
.
úú 
NewGuid
úú $
(
úú$ %
)
úú% &
;
úú& '
int
ûû 
rowsAffected
ûû 
=
ûû 
DBContentStyle
ûû -
.
ûû- .
Create
ûû. 4
(
ûû4 5
this
üü 
.
üü 
guid
üü 
,
üü 
this
†† 
.
†† 
siteGuid
†† 
,
†† 
this
°° 
.
°° 
name
°° 
,
°° 
this
¢¢ 
.
¢¢ 
element
¢¢ 
,
¢¢ 
this
££ 
.
££ 
cssClass
££ 
,
££ 
this
§§ 
.
§§ 
skinName
§§ 
,
§§ 
this
•• 
.
•• 
isActive
•• 
,
•• 
DateTime
¶¶ 
.
¶¶ 
UtcNow
¶¶ 
,
¶¶  
this
ßß 
.
ßß 
	createdBy
ßß 
)
ßß 
;
ßß  
return
©© 
(
©© 
rowsAffected
©©  
>
©©! "
$num
©©# $
)
©©$ %
;
©©% &
}
´´ 	
private
≤≤ 
bool
≤≤ 
Update
≤≤ 
(
≤≤ 
)
≤≤ 
{
≥≥ 	
return
µµ 
DBContentStyle
µµ !
.
µµ! "
Update
µµ" (
(
µµ( )
this
∂∂ 
.
∂∂ 
guid
∂∂ 
,
∂∂ 
this
∑∑ 
.
∑∑ 
siteGuid
∑∑ 
,
∑∑ 
this
∏∏ 
.
∏∏ 
name
∏∏ 
,
∏∏ 
this
ππ 
.
ππ 
element
ππ 
,
ππ 
this
∫∫ 
.
∫∫ 
cssClass
∫∫ 
,
∫∫ 
this
ªª 
.
ªª 
skinName
ªª 
,
ªª 
this
ºº 
.
ºº 
isActive
ºº 
,
ºº 
DateTime
ΩΩ 
.
ΩΩ 
UtcNow
ΩΩ 
,
ΩΩ  
this
ææ 
.
ææ 
	lastModBy
ææ 
)
ææ 
;
ææ  
}
¿¿ 	
public
ÀÀ 
bool
ÀÀ 
Save
ÀÀ 
(
ÀÀ 
)
ÀÀ 
{
ÃÃ 	
if
ÕÕ 
(
ÕÕ 
this
ÕÕ 
.
ÕÕ 
guid
ÕÕ 
!=
ÕÕ 
Guid
ÕÕ !
.
ÕÕ! "
Empty
ÕÕ" '
)
ÕÕ' (
{
ŒŒ 
return
œœ 
Update
œœ 
(
œœ 
)
œœ 
;
œœ  
}
–– 
else
—— 
{
““ 
return
”” 
Create
”” 
(
”” 
)
”” 
;
””  
}
‘‘ 
}
’’ 	
public
„„ 
static
„„ 
ContentStyle
„„ "
Get
„„# &
(
„„& '
Guid
„„' +
guid
„„, 0
)
„„0 1
{
‰‰ 	
ContentStyle
ÂÂ 
style
ÂÂ 
=
ÂÂ  
new
ÂÂ! $
ContentStyle
ÂÂ% 1
(
ÂÂ1 2
guid
ÂÂ2 6
)
ÂÂ6 7
;
ÂÂ7 8
if
ÊÊ 
(
ÊÊ 
style
ÊÊ 
.
ÊÊ 
Guid
ÊÊ 
==
ÊÊ 
Guid
ÊÊ "
.
ÊÊ" #
Empty
ÊÊ# (
)
ÊÊ( )
{
ÊÊ* +
return
ÊÊ, 2
null
ÊÊ3 7
;
ÊÊ7 8
}
ÊÊ9 :
return
ÁÁ 
style
ÁÁ 
;
ÁÁ 
}
ËË 	
public
ÍÍ 
static
ÍÍ 
ContentStyle
ÍÍ "
GetNew
ÍÍ# )
(
ÍÍ) *
Guid
ÍÍ* .
siteGuid
ÍÍ/ 7
)
ÍÍ7 8
{
ÎÎ 	
ContentStyle
ÏÏ 
style
ÏÏ 
=
ÏÏ  
new
ÏÏ! $
ContentStyle
ÏÏ% 1
(
ÏÏ1 2
)
ÏÏ2 3
;
ÏÏ3 4
style
ÌÌ 
.
ÌÌ 
siteGuid
ÌÌ 
=
ÌÌ 
siteGuid
ÌÌ %
;
ÌÌ% &
return
ÓÓ 
style
ÓÓ 
;
ÓÓ 
}
ÔÔ 	
public
ˆˆ 
static
ˆˆ 
bool
ˆˆ 
Delete
ˆˆ !
(
ˆˆ! "
Guid
ˆˆ" &
guid
ˆˆ' +
)
ˆˆ+ ,
{
˜˜ 	
return
¯¯ 
DBContentStyle
¯¯ !
.
¯¯! "
Delete
¯¯" (
(
¯¯( )
guid
¯¯) -
)
¯¯- .
;
¯¯. /
}
˘˘ 	
public
ÄÄ 
static
ÄÄ 
bool
ÄÄ 
DeleteBySite
ÄÄ '
(
ÄÄ' (
Guid
ÄÄ( ,
siteGuid
ÄÄ- 5
)
ÄÄ5 6
{
ÅÅ 	
return
ÇÇ 
DBContentStyle
ÇÇ !
.
ÇÇ! "
DeleteBySite
ÇÇ" .
(
ÇÇ. /
siteGuid
ÇÇ/ 7
)
ÇÇ7 8
;
ÇÇ8 9
}
ÉÉ 	
public
àà 
static
àà 
bool
àà 
DeleteBySkin
àà '
(
àà' (
Guid
àà( ,
siteGuid
àà- 5
,
àà5 6
string
àà7 =
skinName
àà> F
)
ààF G
{
ââ 	
return
ää 
DBContentStyle
ää !
.
ää! "
DeleteBySkin
ää" .
(
ää. /
siteGuid
ää/ 7
,
ää7 8
skinName
ää9 A
)
ääA B
;
ääB C
}
åå 	
public
îî 
static
îî 
bool
îî 
MakeActiveBySkin
îî +
(
îî+ ,
Guid
îî, 0
siteGuid
îî1 9
,
îî9 :
string
îî; A
skinName
îîB J
)
îîJ K
{
ïï 	
bool
ññ 
isActive
ññ 
=
ññ 
true
ññ  
;
ññ  !
return
óó 
DBContentStyle
óó !
.
óó! "!
SetActivationBySkin
óó" 5
(
óó5 6
siteGuid
óó6 >
,
óó> ?
skinName
óó@ H
,
óóH I
isActive
óóJ R
)
óóR S
;
óóS T
}
òò 	
public
†† 
static
†† 
bool
††  
MakeInActiveBySkin
†† -
(
††- .
Guid
††. 2
siteGuid
††3 ;
,
††; <
string
††= C
skinName
††D L
)
††L M
{
°° 	
bool
¢¢ 
isActive
¢¢ 
=
¢¢ 
false
¢¢ !
;
¢¢! "
return
££ 
DBContentStyle
££ !
.
££! "!
SetActivationBySkin
££" 5
(
££5 6
siteGuid
££6 >
,
££> ?
skinName
££@ H
,
££H I
isActive
££J R
)
££R S
;
££S T
}
§§ 	
public
™™ 
static
™™ 
int
™™ 
GetCount
™™ "
(
™™" #
Guid
™™# '
siteGuid
™™( 0
)
™™0 1
{
´´ 	
return
¨¨ 
DBContentStyle
¨¨ !
.
¨¨! "
GetCount
¨¨" *
(
¨¨* +
siteGuid
¨¨+ 3
)
¨¨3 4
;
¨¨4 5
}
≠≠ 	
public
≤≤ 
static
≤≤ 
int
≤≤ 
GetCount
≤≤ "
(
≤≤" #
Guid
≤≤# '
siteGuid
≤≤( 0
,
≤≤0 1
string
≤≤2 8
skinName
≤≤9 A
)
≤≤A B
{
≥≥ 	
return
¥¥ 
DBContentStyle
¥¥ !
.
¥¥! "
GetCount
¥¥" *
(
¥¥* +
siteGuid
¥¥+ 3
,
¥¥3 4
skinName
¥¥5 =
)
¥¥= >
;
¥¥> ?
}
µµ 	
private
∑∑ 
static
∑∑ 
List
∑∑ 
<
∑∑ 
ContentStyle
∑∑ (
>
∑∑( ) 
LoadListFromReader
∑∑* <
(
∑∑< =
IDataReader
∑∑= H
reader
∑∑I O
)
∑∑O P
{
∏∏ 	
List
ππ 
<
ππ 
ContentStyle
ππ 
>
ππ 
contentStyleList
ππ /
=
ππ0 1
new
ππ2 5
List
ππ6 :
<
ππ: ;
ContentStyle
ππ; G
>
ππG H
(
ππH I
)
ππI J
;
ππJ K
try
∫∫ 
{
ªª 
while
ºº 
(
ºº 
reader
ºº 
.
ºº 
Read
ºº "
(
ºº" #
)
ºº# $
)
ºº$ %
{
ΩΩ 
ContentStyle
ææ  
contentStyle
ææ! -
=
ææ. /
new
ææ0 3
ContentStyle
ææ4 @
(
ææ@ A
)
ææA B
;
ææB C
contentStyle
øø  
.
øø  !
guid
øø! %
=
øø& '
new
øø( +
Guid
øø, 0
(
øø0 1
reader
øø1 7
[
øø7 8
$str
øø8 >
]
øø> ?
.
øø? @
ToString
øø@ H
(
øøH I
)
øøI J
)
øøJ K
;
øøK L
contentStyle
¿¿  
.
¿¿  !
siteGuid
¿¿! )
=
¿¿* +
new
¿¿, /
Guid
¿¿0 4
(
¿¿4 5
reader
¿¿5 ;
[
¿¿; <
$str
¿¿< F
]
¿¿F G
.
¿¿G H
ToString
¿¿H P
(
¿¿P Q
)
¿¿Q R
)
¿¿R S
;
¿¿S T
contentStyle
¡¡  
.
¡¡  !
name
¡¡! %
=
¡¡& '
reader
¡¡( .
[
¡¡. /
$str
¡¡/ 5
]
¡¡5 6
.
¡¡6 7
ToString
¡¡7 ?
(
¡¡? @
)
¡¡@ A
;
¡¡A B
contentStyle
¬¬  
.
¬¬  !
element
¬¬! (
=
¬¬) *
reader
¬¬+ 1
[
¬¬1 2
$str
¬¬2 ;
]
¬¬; <
.
¬¬< =
ToString
¬¬= E
(
¬¬E F
)
¬¬F G
;
¬¬G H
contentStyle
√√  
.
√√  !
cssClass
√√! )
=
√√* +
reader
√√, 2
[
√√2 3
$str
√√3 =
]
√√= >
.
√√> ?
ToString
√√? G
(
√√G H
)
√√H I
;
√√I J
contentStyle
ƒƒ  
.
ƒƒ  !
skinName
ƒƒ! )
=
ƒƒ* +
reader
ƒƒ, 2
[
ƒƒ2 3
$str
ƒƒ3 =
]
ƒƒ= >
.
ƒƒ> ?
ToString
ƒƒ? G
(
ƒƒG H
)
ƒƒH I
;
ƒƒI J
contentStyle
≈≈  
.
≈≈  !
isActive
≈≈! )
=
≈≈* +
Convert
≈≈, 3
.
≈≈3 4
	ToBoolean
≈≈4 =
(
≈≈= >
reader
≈≈> D
[
≈≈D E
$str
≈≈E O
]
≈≈O P
)
≈≈P Q
;
≈≈Q R
contentStyle
∆∆  
.
∆∆  !

createdUtc
∆∆! +
=
∆∆, -
Convert
∆∆. 5
.
∆∆5 6

ToDateTime
∆∆6 @
(
∆∆@ A
reader
∆∆A G
[
∆∆G H
$str
∆∆H T
]
∆∆T U
)
∆∆U V
;
∆∆V W
contentStyle
««  
.
««  !

lastModUtc
««! +
=
««, -
Convert
««. 5
.
««5 6

ToDateTime
««6 @
(
««@ A
reader
««A G
[
««G H
$str
««H T
]
««T U
)
««U V
;
««V W
contentStyle
»»  
.
»»  !
	createdBy
»»! *
=
»»+ ,
new
»»- 0
Guid
»»1 5
(
»»5 6
reader
»»6 <
[
»»< =
$str
»»= H
]
»»H I
.
»»I J
ToString
»»J R
(
»»R S
)
»»S T
)
»»T U
;
»»U V
contentStyle
……  
.
……  !
	lastModBy
……! *
=
……+ ,
new
……- 0
Guid
……1 5
(
……5 6
reader
……6 <
[
……< =
$str
……= H
]
……H I
.
……I J
ToString
……J R
(
……R S
)
……S T
)
……T U
;
……U V
contentStyleList
   $
.
  $ %
Add
  % (
(
  ( )
contentStyle
  ) 5
)
  5 6
;
  6 7
}
ÃÃ 
}
ÕÕ 
finally
ŒŒ 
{
œœ 
reader
–– 
.
–– 
Close
–– 
(
–– 
)
–– 
;
–– 
}
—— 
return
”” 
contentStyleList
”” #
;
””# $
}
’’ 	
public
⁄⁄ 
static
⁄⁄ 
List
⁄⁄ 
<
⁄⁄ 
ContentStyle
⁄⁄ '
>
⁄⁄' (
GetAll
⁄⁄) /
(
⁄⁄/ 0
Guid
⁄⁄0 4
siteGuid
⁄⁄5 =
)
⁄⁄= >
{
€€ 	
IDataReader
‹‹ 
reader
‹‹ 
=
‹‹  
DBContentStyle
‹‹! /
.
‹‹/ 0
GetAll
‹‹0 6
(
‹‹6 7
siteGuid
‹‹7 ?
)
‹‹? @
;
‹‹@ A
return
››  
LoadListFromReader
›› %
(
››% &
reader
››& ,
)
››, -
;
››- .
}
ﬂﬂ 	
public
‰‰ 
static
‰‰ 
List
‰‰ 
<
‰‰ 
ContentStyle
‰‰ '
>
‰‰' (
GetAll
‰‰) /
(
‰‰/ 0
Guid
‰‰0 4
siteGuid
‰‰5 =
,
‰‰= >
string
‰‰? E
skinName
‰‰F N
)
‰‰N O
{
ÂÂ 	
IDataReader
ÊÊ 
reader
ÊÊ 
=
ÊÊ  
DBContentStyle
ÊÊ! /
.
ÊÊ/ 0
GetAll
ÊÊ0 6
(
ÊÊ6 7
siteGuid
ÊÊ7 ?
,
ÊÊ? @
skinName
ÊÊA I
)
ÊÊI J
;
ÊÊJ K
return
ÁÁ  
LoadListFromReader
ÁÁ %
(
ÁÁ% &
reader
ÁÁ& ,
)
ÁÁ, -
;
ÁÁ- .
}
ÈÈ 	
public
ÓÓ 
static
ÓÓ 
IDataReader
ÓÓ !
GetAllActive
ÓÓ" .
(
ÓÓ. /
Guid
ÓÓ/ 3
siteGuid
ÓÓ4 <
)
ÓÓ< =
{
ÔÔ 	
return
 
DBContentStyle
 !
.
! "
GetAllActive
" .
(
. /
siteGuid
/ 7
)
7 8
;
8 9
}
ÚÚ 	
public
˜˜ 
static
˜˜ 
IDataReader
˜˜ !
GetAllActive
˜˜" .
(
˜˜. /
Guid
˜˜/ 3
siteGuid
˜˜4 <
,
˜˜< =
string
˜˜> D
skinName
˜˜E M
)
˜˜M N
{
¯¯ 	
return
˘˘ 
DBContentStyle
˘˘ !
.
˘˘! "
GetAllActive
˘˘" .
(
˘˘. /
siteGuid
˘˘/ 7
,
˘˘7 8
skinName
˘˘9 A
)
˘˘A B
;
˘˘B C
}
˚˚ 	
public
ÄÄ 
static
ÄÄ 
List
ÄÄ 
<
ÄÄ 
ContentStyle
ÄÄ '
>
ÄÄ' (
GetPage
ÄÄ) 0
(
ÄÄ0 1
Guid
ÅÅ 
siteGuid
ÅÅ 
,
ÅÅ 
int
ÇÇ 

pageNumber
ÇÇ 
,
ÇÇ 
int
ÉÉ 
pageSize
ÉÉ 
,
ÉÉ 
out
ÑÑ 
int
ÑÑ 

totalPages
ÑÑ 
)
ÑÑ 
{
ÖÖ 	

totalPages
ÜÜ 
=
ÜÜ 
$num
ÜÜ 
;
ÜÜ 
IDataReader
áá 
reader
áá 
=
áá  
DBContentStyle
áá! /
.
áá/ 0
GetPage
áá0 7
(
áá7 8
siteGuid
áá8 @
,
áá@ A

pageNumber
ááB L
,
ááL M
pageSize
ááN V
,
ááV W
out
ááX [

totalPages
áá\ f
)
ááf g
;
áág h
return
àà  
LoadListFromReader
àà %
(
àà% &
reader
àà& ,
)
àà, -
;
àà- .
}
ââ 	
public
éé 
static
éé 
List
éé 
<
éé 
ContentStyle
éé '
>
éé' (
GetPage
éé) 0
(
éé0 1
Guid
èè 
siteGuid
èè 
,
èè 
string
êê 
skinName
êê 
,
êê 
int
ëë 

pageNumber
ëë 
,
ëë 
int
íí 
pageSize
íí 
,
íí 
out
ìì 
int
ìì 

totalPages
ìì 
)
ìì 
{
îî 	

totalPages
ïï 
=
ïï 
$num
ïï 
;
ïï 
IDataReader
ññ 
reader
ññ 
=
ññ  
DBContentStyle
ññ! /
.
ññ/ 0
GetPage
ññ0 7
(
ññ7 8
siteGuid
ññ8 @
,
ññ@ A
skinName
ññB J
,
ññJ K

pageNumber
ññL V
,
ññV W
pageSize
ññX `
,
ññ` a
out
ññb e

totalPages
ññf p
)
ññp q
;
ññq r
return
óó  
LoadListFromReader
óó %
(
óó% &
reader
óó& ,
)
óó, -
;
óó- .
}
òò 	
public
££ 
static
££ 
int
££ 
CompareByName
££ '
(
££' (
ContentStyle
££( 4
contentStyle1
££5 B
,
££B C
ContentStyle
££D P
contentStyle2
££Q ^
)
££^ _
{
§§ 	
return
•• 
contentStyle1
••  
.
••  !
Name
••! %
.
••% &
	CompareTo
••& /
(
••/ 0
contentStyle2
••0 =
.
••= >
Name
••> B
)
••B C
;
••C D
}
¶¶ 	
public
™™ 
static
™™ 
int
™™ 
CompareByElement
™™ *
(
™™* +
ContentStyle
™™+ 7
contentStyle1
™™8 E
,
™™E F
ContentStyle
™™G S
contentStyle2
™™T a
)
™™a b
{
´´ 	
return
¨¨ 
contentStyle1
¨¨  
.
¨¨  !
Element
¨¨! (
.
¨¨( )
	CompareTo
¨¨) 2
(
¨¨2 3
contentStyle2
¨¨3 @
.
¨¨@ A
Element
¨¨A H
)
¨¨H I
;
¨¨I J
}
≠≠ 	
public
±± 
static
±± 
int
±± 
CompareByCssClass
±± +
(
±±+ ,
ContentStyle
±±, 8
contentStyle1
±±9 F
,
±±F G
ContentStyle
±±H T
contentStyle2
±±U b
)
±±b c
{
≤≤ 	
return
≥≥ 
contentStyle1
≥≥  
.
≥≥  !
CssClass
≥≥! )
.
≥≥) *
	CompareTo
≥≥* 3
(
≥≥3 4
contentStyle2
≥≥4 A
.
≥≥A B
CssClass
≥≥B J
)
≥≥J K
;
≥≥K L
}
¥¥ 	
public
∏∏ 
static
∏∏ 
int
∏∏ 
CompareBySkinName
∏∏ +
(
∏∏+ ,
ContentStyle
∏∏, 8
contentStyle1
∏∏9 F
,
∏∏F G
ContentStyle
∏∏H T
contentStyle2
∏∏U b
)
∏∏b c
{
ππ 	
return
∫∫ 
contentStyle1
∫∫  
.
∫∫  !
SkinName
∫∫! )
.
∫∫) *
	CompareTo
∫∫* 3
(
∫∫3 4
contentStyle2
∫∫4 A
.
∫∫A B
SkinName
∫∫B J
)
∫∫J K
;
∫∫K L
}
ªª 	
public
øø 
static
øø 
int
øø !
CompareByCreatedUtc
øø -
(
øø- .
ContentStyle
øø. :
contentStyle1
øø; H
,
øøH I
ContentStyle
øøJ V
contentStyle2
øøW d
)
øød e
{
¿¿ 	
return
¡¡ 
contentStyle1
¡¡  
.
¡¡  !

CreatedUtc
¡¡! +
.
¡¡+ ,
	CompareTo
¡¡, 5
(
¡¡5 6
contentStyle2
¡¡6 C
.
¡¡C D

CreatedUtc
¡¡D N
)
¡¡N O
;
¡¡O P
}
¬¬ 	
public
∆∆ 
static
∆∆ 
int
∆∆ !
CompareByLastModUtc
∆∆ -
(
∆∆- .
ContentStyle
∆∆. :
contentStyle1
∆∆; H
,
∆∆H I
ContentStyle
∆∆J V
contentStyle2
∆∆W d
)
∆∆d e
{
«« 	
return
»» 
contentStyle1
»»  
.
»»  !

LastModUtc
»»! +
.
»»+ ,
	CompareTo
»», 5
(
»»5 6
contentStyle2
»»6 C
.
»»C D

LastModUtc
»»D N
)
»»N O
;
»»O P
}
…… 	
}
ŒŒ 
}–– §«
mD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ContentTemplate.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
ContentTemplate  
{ 
private 
ContentTemplate 
(  
)  !
{ 	
}
 
private 
ContentTemplate 
(  
Guid  $
guid% )
)) *
{ 	
GetContentTemplate   
(   
guid   #
)  # $
;  $ %
}!! 	
private'' 
Guid'' 
guid'' 
='' 
Guid''  
.''  !
Empty''! &
;''& '
private(( 
Guid(( 
siteGuid(( 
=(( 
Guid((  $
.(($ %
Empty((% *
;((* +
private)) 
string)) 
title)) 
=)) 
string)) %
.))% &
Empty))& +
;))+ ,
private** 
string** 
imageFileName** $
=**% &
$str**' 2
;**2 3
private++ 
string++ 
description++ "
=++# $
string++% +
.+++ ,
Empty++, 1
;++1 2
private,, 
string,, 
body,, 
=,, 
string,, $
.,,$ %
Empty,,% *
;,,* +
private-- 
string-- 
allowedRoles-- #
=--$ %
string--& ,
.--, -
Empty--- 2
;--2 3
private.. 
Guid.. 
createdByUser.. "
=..# $
Guid..% )
...) *
Empty..* /
;../ 0
private// 
Guid// 
lastModUser//  
=//! "
Guid//# '
.//' (
Empty//( -
;//- .
private00 
DateTime00 

createdUtc00 #
=00$ %
DateTime00& .
.00. /
UtcNow00/ 5
;005 6
private11 
DateTime11 

lastModUtc11 #
=11$ %
DateTime11& .
.11. /
UtcNow11/ 5
;115 6
public77 
Guid77 
Guid77 
{88 	
get99 
{99 
return99 
guid99 
;99 
}99  
set:: 
{:: 
guid:: 
=:: 
value:: 
;:: 
}::  !
};; 	
public<< 
Guid<< 
SiteGuid<< 
{== 	
get>> 
{>> 
return>> 
siteGuid>> !
;>>! "
}>># $
set?? 
{?? 
siteGuid?? 
=?? 
value?? "
;??" #
}??$ %
}@@ 	
publicAA 
stringAA 
TitleAA 
{BB 	
getCC 
{CC 
returnCC 
titleCC 
;CC 
}CC  !
setDD 
{DD 
titleDD 
=DD 
valueDD 
;DD  
}DD! "
}EE 	
publicFF 
stringFF 
ImageFileNameFF #
{GG 	
getHH 
{HH 
returnHH 
imageFileNameHH &
;HH& '
}HH( )
setII 
{II 
imageFileNameII 
=II  !
valueII" '
;II' (
}II) *
}JJ 	
publicKK 
stringKK 
DescriptionKK !
{LL 	
getMM 
{MM 
returnMM 
descriptionMM $
;MM$ %
}MM& '
setNN 
{NN 
descriptionNN 
=NN 
valueNN  %
;NN% &
}NN' (
}OO 	
publicPP 
stringPP 
BodyPP 
{QQ 	
getRR 
{RR 
returnRR 
bodyRR 
;RR 
}RR  
setSS 
{SS 
bodySS 
=SS 
valueSS 
;SS 
}SS  !
}TT 	
publicUU 
stringUU 
AllowedRolesUU "
{VV 	
getWW 
{WW 
returnWW 
allowedRolesWW %
;WW% &
}WW' (
setXX 
{XX 
allowedRolesXX 
=XX  
valueXX! &
;XX& '
}XX( )
}YY 	
publicZZ 
GuidZZ 
CreatedByUserZZ !
{[[ 	
get\\ 
{\\ 
return\\ 
createdByUser\\ &
;\\& '
}\\( )
set]] 
{]] 
createdByUser]] 
=]]  !
value]]" '
;]]' (
}]]) *
}^^ 	
public__ 
Guid__ 
LastModUser__ 
{`` 	
getaa 
{aa 
returnaa 
lastModUseraa $
;aa$ %
}aa& '
setbb 
{cc 
lastModUserdd 
=dd 
valuedd #
;dd# $
ifee 
(ee 
createdByUseree !
==ee" $
Guidee% )
.ee) *
Emptyee* /
)ee/ 0
{ee1 2
createdByUseree3 @
=eeA B
valueeeC H
;eeH I
}eeJ K
}ff 
}gg 	
publichh 
DateTimehh 

CreatedUtchh "
{ii 	
getjj 
{jj 
returnjj 

createdUtcjj #
;jj# $
}jj% &
setkk 
{kk 

createdUtckk 
=kk 
valuekk $
;kk$ %
}kk& '
}ll 	
publicmm 
DateTimemm 

LastModUtcmm "
{nn 	
getoo 
{oo 
returnoo 

lastModUtcoo #
;oo# $
}oo% &
setpp 
{pp 

lastModUtcpp 
=pp 
valuepp $
;pp$ %
}pp& '
}qq 	
private{{ 
void{{ 
GetContentTemplate{{ '
({{' (
Guid|| 
guid|| 
)|| 
{}} 	
using~~ 
(~~ 
IDataReader~~ 
reader~~ %
=~~& '
DBContentTemplate~~( 9
.~~9 :
GetOne~~: @
(~~@ A
guid~~A E
)~~E F
)~~F G
{  
PopulateFromReader
ÄÄ "
(
ÄÄ" #
reader
ÄÄ# )
)
ÄÄ) *
;
ÄÄ* +
}
ÅÅ 
}
ÉÉ 	
private
ÜÜ 
void
ÜÜ  
PopulateFromReader
ÜÜ '
(
ÜÜ' (
IDataReader
ÜÜ( 3
reader
ÜÜ4 :
)
ÜÜ: ;
{
áá 	
if
àà 
(
àà 
reader
àà 
.
àà 
Read
àà 
(
àà 
)
àà 
)
àà 
{
ââ 
this
ää 
.
ää 
guid
ää 
=
ää 
new
ää 
Guid
ää  $
(
ää$ %
reader
ää% +
[
ää+ ,
$str
ää, 2
]
ää2 3
.
ää3 4
ToString
ää4 <
(
ää< =
)
ää= >
)
ää> ?
;
ää? @
this
ãã 
.
ãã 
siteGuid
ãã 
=
ãã 
new
ãã  #
Guid
ãã$ (
(
ãã( )
reader
ãã) /
[
ãã/ 0
$str
ãã0 :
]
ãã: ;
.
ãã; <
ToString
ãã< D
(
ããD E
)
ããE F
)
ããF G
;
ããG H
this
åå 
.
åå 
title
åå 
=
åå 
reader
åå #
[
åå# $
$str
åå$ +
]
åå+ ,
.
åå, -
ToString
åå- 5
(
åå5 6
)
åå6 7
;
åå7 8
this
çç 
.
çç 
imageFileName
çç "
=
çç# $
reader
çç% +
[
çç+ ,
$str
çç, ;
]
çç; <
.
çç< =
ToString
çç= E
(
ççE F
)
ççF G
;
ççG H
this
éé 
.
éé 
description
éé  
=
éé! "
reader
éé# )
[
éé) *
$str
éé* 7
]
éé7 8
.
éé8 9
ToString
éé9 A
(
ééA B
)
ééB C
;
ééC D
this
èè 
.
èè 
body
èè 
=
èè 
reader
èè "
[
èè" #
$str
èè# )
]
èè) *
.
èè* +
ToString
èè+ 3
(
èè3 4
)
èè4 5
;
èè5 6
this
êê 
.
êê 
allowedRoles
êê !
=
êê" #
reader
êê$ *
[
êê* +
$str
êê+ 9
]
êê9 :
.
êê: ;
ToString
êê; C
(
êêC D
)
êêD E
;
êêE F
this
ëë 
.
ëë 
createdByUser
ëë "
=
ëë# $
new
ëë% (
Guid
ëë) -
(
ëë- .
reader
ëë. 4
[
ëë4 5
$str
ëë5 D
]
ëëD E
.
ëëE F
ToString
ëëF N
(
ëëN O
)
ëëO P
)
ëëP Q
;
ëëQ R
this
íí 
.
íí 
lastModUser
íí  
=
íí! "
new
íí# &
Guid
íí' +
(
íí+ ,
reader
íí, 2
[
íí2 3
$str
íí3 @
]
íí@ A
.
ííA B
ToString
ííB J
(
ííJ K
)
ííK L
)
ííL M
;
ííM N
this
ìì 
.
ìì 

createdUtc
ìì 
=
ìì  !
Convert
ìì" )
.
ìì) *

ToDateTime
ìì* 4
(
ìì4 5
reader
ìì5 ;
[
ìì; <
$str
ìì< H
]
ììH I
)
ììI J
;
ììJ K
this
îî 
.
îî 

lastModUtc
îî 
=
îî  !
Convert
îî" )
.
îî) *

ToDateTime
îî* 4
(
îî4 5
reader
îî5 ;
[
îî; <
$str
îî< H
]
îîH I
)
îîI J
;
îîJ K
}
ññ 
}
òò 	
private
ûû 
bool
ûû 
Create
ûû 
(
ûû 
)
ûû 
{
üü 	
this
†† 
.
†† 
guid
†† 
=
†† 
Guid
†† 
.
†† 
NewGuid
†† $
(
††$ %
)
††% &
;
††& '
int
¢¢ 
rowsAffected
¢¢ 
=
¢¢ 
DBContentTemplate
¢¢ 0
.
¢¢0 1
Create
¢¢1 7
(
¢¢7 8
this
££ 
.
££ 
guid
££ 
,
££ 
this
§§ 
.
§§ 
siteGuid
§§ 
,
§§ 
this
•• 
.
•• 
title
•• 
,
•• 
this
¶¶ 
.
¶¶ 
imageFileName
¶¶ "
,
¶¶" #
this
ßß 
.
ßß 
description
ßß  
,
ßß  !
this
®® 
.
®® 
body
®® 
,
®® 
this
©© 
.
©© 
allowedRoles
©© !
,
©©! "
this
™™ 
.
™™ 
createdByUser
™™ "
,
™™" #
this
´´ 
.
´´ 

createdUtc
´´ 
)
´´  
;
´´  !
return
≠≠ 
(
≠≠ 
rowsAffected
≠≠  
>
≠≠! "
$num
≠≠# $
)
≠≠$ %
;
≠≠% &
}
ØØ 	
private
∂∂ 
bool
∂∂ 
Update
∂∂ 
(
∂∂ 
)
∂∂ 
{
∑∑ 	
return
ππ 
DBContentTemplate
ππ $
.
ππ$ %
Update
ππ% +
(
ππ+ ,
this
∫∫ 
.
∫∫ 
guid
∫∫ 
,
∫∫ 
this
ªª 
.
ªª 
siteGuid
ªª 
,
ªª 
this
ºº 
.
ºº 
title
ºº 
,
ºº 
this
ΩΩ 
.
ΩΩ 
imageFileName
ΩΩ "
,
ΩΩ" #
this
ææ 
.
ææ 
description
ææ  
,
ææ  !
this
øø 
.
øø 
body
øø 
,
øø 
this
¿¿ 
.
¿¿ 
allowedRoles
¿¿ !
,
¿¿! "
this
¡¡ 
.
¡¡ 
lastModUser
¡¡  
,
¡¡  !
this
¬¬ 
.
¬¬ 

lastModUtc
¬¬ 
)
¬¬  
;
¬¬  !
}
ƒƒ 	
public
““ 
bool
““ 
Save
““ 
(
““ 
)
““ 
{
”” 	
if
‘‘ 
(
‘‘ 
this
‘‘ 
.
‘‘ 
guid
‘‘ 
!=
‘‘ 
Guid
‘‘ !
.
‘‘! "
Empty
‘‘" '
)
‘‘' (
{
’’ 
return
÷÷ 
Update
÷÷ 
(
÷÷ 
)
÷÷ 
;
÷÷  
}
◊◊ 
else
ÿÿ 
{
ŸŸ 
return
⁄⁄ 
Create
⁄⁄ 
(
⁄⁄ 
)
⁄⁄ 
;
⁄⁄  
}
€€ 
}
‹‹ 	
public
ÍÍ 
static
ÍÍ 
ContentTemplate
ÍÍ %
Get
ÍÍ& )
(
ÍÍ) *
Guid
ÍÍ* .
guid
ÍÍ/ 3
)
ÍÍ3 4
{
ÎÎ 	
ContentTemplate
ÏÏ 
template
ÏÏ $
=
ÏÏ% &
new
ÏÏ' *
ContentTemplate
ÏÏ+ :
(
ÏÏ: ;
guid
ÏÏ; ?
)
ÏÏ? @
;
ÏÏ@ A
if
ÌÌ 
(
ÌÌ 
template
ÌÌ 
.
ÌÌ 
Guid
ÌÌ 
==
ÌÌ  
Guid
ÌÌ! %
.
ÌÌ% &
Empty
ÌÌ& +
)
ÌÌ+ ,
{
ÌÌ- .
return
ÌÌ/ 5
null
ÌÌ6 :
;
ÌÌ: ;
}
ÌÌ< =
return
ÓÓ 
template
ÓÓ 
;
ÓÓ 
}
ÔÔ 	
public
ÒÒ 
static
ÒÒ 
ContentTemplate
ÒÒ %
GetNew
ÒÒ& ,
(
ÒÒ, -
Guid
ÒÒ- 1
siteGuid
ÒÒ2 :
)
ÒÒ: ;
{
ÚÚ 	
ContentTemplate
ÛÛ 
template
ÛÛ $
=
ÛÛ% &
new
ÛÛ' *
ContentTemplate
ÛÛ+ :
(
ÛÛ: ;
)
ÛÛ; <
;
ÛÛ< =
template
ÙÙ 
.
ÙÙ 
siteGuid
ÙÙ 
=
ÙÙ 
siteGuid
ÙÙ  (
;
ÙÙ( )
return
ıı 
template
ıı 
;
ıı 
}
ˆˆ 	
public
¯¯ 
static
¯¯ 
ContentTemplate
¯¯ %
GetEmpty
¯¯& .
(
¯¯. /
)
¯¯/ 0
{
˘˘ 	
ContentTemplate
˙˙ 
template
˙˙ $
=
˙˙% &
new
˙˙' *
ContentTemplate
˙˙+ :
(
˙˙: ;
)
˙˙; <
;
˙˙< =
return
¸¸ 
template
¸¸ 
;
¸¸ 
}
˝˝ 	
public
ÑÑ 
static
ÑÑ 
bool
ÑÑ 
Delete
ÑÑ !
(
ÑÑ! "
Guid
ÑÑ" &
guid
ÑÑ' +
)
ÑÑ+ ,
{
ÖÖ 	
return
ÜÜ 
DBContentTemplate
ÜÜ $
.
ÜÜ$ %
Delete
ÜÜ% +
(
ÜÜ+ ,
guid
ÜÜ, 0
)
ÜÜ0 1
;
ÜÜ1 2
}
áá 	
public
çç 
static
çç 
int
çç 
GetCount
çç "
(
çç" #
Guid
çç# '
siteGuid
çç( 0
)
çç0 1
{
éé 	
return
èè 
DBContentTemplate
èè $
.
èè$ %
GetCount
èè% -
(
èè- .
siteGuid
èè. 6
)
èè6 7
;
èè7 8
}
êê 	
private
íí 
static
íí 
List
íí 
<
íí 
ContentTemplate
íí +
>
íí+ , 
LoadListFromReader
íí- ?
(
íí? @
IDataReader
íí@ K
reader
ííL R
)
ííR S
{
ìì 	
List
îî 
<
îî 
ContentTemplate
îî  
>
îî  !!
contentTemplateList
îî" 5
=
îî6 7
new
îî8 ;
List
îî< @
<
îî@ A
ContentTemplate
îîA P
>
îîP Q
(
îîQ R
)
îîR S
;
îîS T
try
ïï 
{
ññ 
while
óó 
(
óó 
reader
óó 
.
óó 
Read
óó "
(
óó" #
)
óó# $
)
óó$ %
{
òò 
ContentTemplate
ôô #
contentTemplate
ôô$ 3
=
ôô4 5
new
ôô6 9
ContentTemplate
ôô: I
(
ôôI J
)
ôôJ K
;
ôôK L
contentTemplate
öö #
.
öö# $
guid
öö$ (
=
öö) *
new
öö+ .
Guid
öö/ 3
(
öö3 4
reader
öö4 :
[
öö: ;
$str
öö; A
]
ööA B
.
ööB C
ToString
ööC K
(
ööK L
)
ööL M
)
ööM N
;
ööN O
contentTemplate
õõ #
.
õõ# $
siteGuid
õõ$ ,
=
õõ- .
new
õõ/ 2
Guid
õõ3 7
(
õõ7 8
reader
õõ8 >
[
õõ> ?
$str
õõ? I
]
õõI J
.
õõJ K
ToString
õõK S
(
õõS T
)
õõT U
)
õõU V
;
õõV W
contentTemplate
úú #
.
úú# $
title
úú$ )
=
úú* +
reader
úú, 2
[
úú2 3
$str
úú3 :
]
úú: ;
.
úú; <
ToString
úú< D
(
úúD E
)
úúE F
;
úúF G
contentTemplate
ùù #
.
ùù# $
imageFileName
ùù$ 1
=
ùù2 3
reader
ùù4 :
[
ùù: ;
$str
ùù; J
]
ùùJ K
.
ùùK L
ToString
ùùL T
(
ùùT U
)
ùùU V
;
ùùV W
contentTemplate
ûû #
.
ûû# $
description
ûû$ /
=
ûû0 1
reader
ûû2 8
[
ûû8 9
$str
ûû9 F
]
ûûF G
.
ûûG H
ToString
ûûH P
(
ûûP Q
)
ûûQ R
;
ûûR S
contentTemplate
üü #
.
üü# $
body
üü$ (
=
üü) *
reader
üü+ 1
[
üü1 2
$str
üü2 8
]
üü8 9
.
üü9 :
ToString
üü: B
(
üüB C
)
üüC D
;
üüD E
contentTemplate
†† #
.
††# $
allowedRoles
††$ 0
=
††1 2
reader
††3 9
[
††9 :
$str
††: H
]
††H I
.
††I J
ToString
††J R
(
††R S
)
††S T
;
††T U
contentTemplate
°° #
.
°°# $
createdByUser
°°$ 1
=
°°2 3
new
°°4 7
Guid
°°8 <
(
°°< =
reader
°°= C
[
°°C D
$str
°°D S
]
°°S T
.
°°T U
ToString
°°U ]
(
°°] ^
)
°°^ _
)
°°_ `
;
°°` a
contentTemplate
¢¢ #
.
¢¢# $
lastModUser
¢¢$ /
=
¢¢0 1
new
¢¢2 5
Guid
¢¢6 :
(
¢¢: ;
reader
¢¢; A
[
¢¢A B
$str
¢¢B O
]
¢¢O P
.
¢¢P Q
ToString
¢¢Q Y
(
¢¢Y Z
)
¢¢Z [
)
¢¢[ \
;
¢¢\ ]
contentTemplate
££ #
.
££# $

createdUtc
££$ .
=
££/ 0
Convert
££1 8
.
££8 9

ToDateTime
££9 C
(
££C D
reader
££D J
[
££J K
$str
££K W
]
££W X
)
££X Y
;
££Y Z
contentTemplate
§§ #
.
§§# $

lastModUtc
§§$ .
=
§§/ 0
Convert
§§1 8
.
§§8 9

ToDateTime
§§9 C
(
§§C D
reader
§§D J
[
§§J K
$str
§§K W
]
§§W X
)
§§X Y
;
§§Y Z!
contentTemplateList
•• '
.
••' (
Add
••( +
(
••+ ,
contentTemplate
••, ;
)
••; <
;
••< =
}
ßß 
}
®® 
finally
©© 
{
™™ 
reader
´´ 
.
´´ 
Close
´´ 
(
´´ 
)
´´ 
;
´´ 
}
¨¨ 
return
ÆÆ !
contentTemplateList
ÆÆ &
;
ÆÆ& '
}
∞∞ 	
public
µµ 
static
µµ 
List
µµ 
<
µµ 
ContentTemplate
µµ *
>
µµ* +
GetAll
µµ, 2
(
µµ2 3
Guid
µµ3 7
siteGuid
µµ8 @
)
µµ@ A
{
∂∂ 	
IDataReader
∑∑ 
reader
∑∑ 
=
∑∑  
DBContentTemplate
∑∑! 2
.
∑∑2 3
GetAll
∑∑3 9
(
∑∑9 :
siteGuid
∑∑: B
)
∑∑B C
;
∑∑C D
return
∏∏  
LoadListFromReader
∏∏ %
(
∏∏% &
reader
∏∏& ,
)
∏∏, -
;
∏∏- .
}
∫∫ 	
public
øø 
static
øø 
List
øø 
<
øø 
ContentTemplate
øø *
>
øø* +
GetPage
øø, 3
(
øø3 4
Guid
øø4 8
siteGuid
øø9 A
,
øøA B
int
øøC F

pageNumber
øøG Q
,
øøQ R
int
øøS V
pageSize
øøW _
,
øø_ `
out
øøa d
int
øøe h

totalPages
øøi s
)
øøs t
{
¿¿ 	

totalPages
¡¡ 
=
¡¡ 
$num
¡¡ 
;
¡¡ 
IDataReader
¬¬ 
reader
¬¬ 
=
¬¬  
DBContentTemplate
¬¬! 2
.
¬¬2 3
GetPage
¬¬3 :
(
¬¬: ;
siteGuid
¬¬; C
,
¬¬C D

pageNumber
¬¬E O
,
¬¬O P
pageSize
¬¬Q Y
,
¬¬Y Z
out
¬¬[ ^

totalPages
¬¬_ i
)
¬¬i j
;
¬¬j k
return
√√  
LoadListFromReader
√√ %
(
√√% &
reader
√√& ,
)
√√, -
;
√√- .
}
ƒƒ 	
public
œœ 
static
œœ 
int
œœ 
CompareByTitle
œœ (
(
œœ( )
ContentTemplate
œœ) 8
contentTemplate1
œœ9 I
,
œœI J
ContentTemplate
œœK Z
contentTemplate2
œœ[ k
)
œœk l
{
–– 	
return
—— 
contentTemplate1
—— #
.
——# $
Title
——$ )
.
——) *
	CompareTo
——* 3
(
——3 4
contentTemplate2
——4 D
.
——D E
Title
——E J
)
——J K
;
——K L
}
““ 	
public
÷÷ 
static
÷÷ 
int
÷÷ $
CompareByImageFileName
÷÷ 0
(
÷÷0 1
ContentTemplate
÷÷1 @
contentTemplate1
÷÷A Q
,
÷÷Q R
ContentTemplate
÷÷S b
contentTemplate2
÷÷c s
)
÷÷s t
{
◊◊ 	
return
ÿÿ 
contentTemplate1
ÿÿ #
.
ÿÿ# $
ImageFileName
ÿÿ$ 1
.
ÿÿ1 2
	CompareTo
ÿÿ2 ;
(
ÿÿ; <
contentTemplate2
ÿÿ< L
.
ÿÿL M
ImageFileName
ÿÿM Z
)
ÿÿZ [
;
ÿÿ[ \
}
ŸŸ 	
public
›› 
static
›› 
int
›› "
CompareByDescription
›› .
(
››. /
ContentTemplate
››/ >
contentTemplate1
››? O
,
››O P
ContentTemplate
››Q `
contentTemplate2
››a q
)
››q r
{
ﬁﬁ 	
return
ﬂﬂ 
contentTemplate1
ﬂﬂ #
.
ﬂﬂ# $
Description
ﬂﬂ$ /
.
ﬂﬂ/ 0
	CompareTo
ﬂﬂ0 9
(
ﬂﬂ9 :
contentTemplate2
ﬂﬂ: J
.
ﬂﬂJ K
Description
ﬂﬂK V
)
ﬂﬂV W
;
ﬂﬂW X
}
‡‡ 	
public
‰‰ 
static
‰‰ 
int
‰‰ 
CompareByBody
‰‰ '
(
‰‰' (
ContentTemplate
‰‰( 7
contentTemplate1
‰‰8 H
,
‰‰H I
ContentTemplate
‰‰J Y
contentTemplate2
‰‰Z j
)
‰‰j k
{
ÂÂ 	
return
ÊÊ 
contentTemplate1
ÊÊ #
.
ÊÊ# $
Body
ÊÊ$ (
.
ÊÊ( )
	CompareTo
ÊÊ) 2
(
ÊÊ2 3
contentTemplate2
ÊÊ3 C
.
ÊÊC D
Body
ÊÊD H
)
ÊÊH I
;
ÊÊI J
}
ÁÁ 	
public
ÎÎ 
static
ÎÎ 
int
ÎÎ #
CompareByAllowedRoles
ÎÎ /
(
ÎÎ/ 0
ContentTemplate
ÎÎ0 ?
contentTemplate1
ÎÎ@ P
,
ÎÎP Q
ContentTemplate
ÎÎR a
contentTemplate2
ÎÎb r
)
ÎÎr s
{
ÏÏ 	
return
ÌÌ 
contentTemplate1
ÌÌ #
.
ÌÌ# $
AllowedRoles
ÌÌ$ 0
.
ÌÌ0 1
	CompareTo
ÌÌ1 :
(
ÌÌ: ;
contentTemplate2
ÌÌ; K
.
ÌÌK L
AllowedRoles
ÌÌL X
)
ÌÌX Y
;
ÌÌY Z
}
ÓÓ 	
public
ÚÚ 
static
ÚÚ 
int
ÚÚ !
CompareByCreatedUtc
ÚÚ -
(
ÚÚ- .
ContentTemplate
ÚÚ. =
contentTemplate1
ÚÚ> N
,
ÚÚN O
ContentTemplate
ÚÚP _
contentTemplate2
ÚÚ` p
)
ÚÚp q
{
ÛÛ 	
return
ÙÙ 
contentTemplate1
ÙÙ #
.
ÙÙ# $

CreatedUtc
ÙÙ$ .
.
ÙÙ. /
	CompareTo
ÙÙ/ 8
(
ÙÙ8 9
contentTemplate2
ÙÙ9 I
.
ÙÙI J

CreatedUtc
ÙÙJ T
)
ÙÙT U
;
ÙÙU V
}
ıı 	
public
˘˘ 
static
˘˘ 
int
˘˘ !
CompareByLastModUtc
˘˘ -
(
˘˘- .
ContentTemplate
˘˘. =
contentTemplate1
˘˘> N
,
˘˘N O
ContentTemplate
˘˘P _
contentTemplate2
˘˘` p
)
˘˘p q
{
˙˙ 	
return
˚˚ 
contentTemplate1
˚˚ #
.
˚˚# $

LastModUtc
˚˚$ .
.
˚˚. /
	CompareTo
˚˚/ 8
(
˚˚8 9
contentTemplate2
˚˚9 I
.
˚˚I J

LastModUtc
˚˚J T
)
˚˚T U
;
˚˚U V
}
¸¸ 	
}
ÅÅ 
}ÉÉ Ûö
mD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ContentWorkflow.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
ContentWorkflow  
{ 
private 
Guid 
guid 
= 
Guid  
.  !
Empty! &
;& '
private 
Guid 
siteGuid 
= 
Guid  $
.$ %
Empty% *
;* +
private 
Guid 

moduleGuid 
=  !
Guid" &
.& '
Empty' ,
;, -
private 
DateTime 
createdDateUtc '
=( )
DateTime* 2
.2 3
UtcNow3 9
;9 :
private   
Guid   
userGuid   
=   
Guid    $
.  $ %
Empty  % *
;  * +
private!! 
Guid!! 
lastModUserGuid!! $
=!!% &
Guid!!' +
.!!+ ,
Empty!!, 1
;!!1 2
private"" 
DateTime"" 

lastModUtc"" #
=""$ %
DateTime""& .
."". /
UtcNow""/ 5
;""5 6
private## !
ContentWorkflowStatus## %
status##& ,
=##- .!
ContentWorkflowStatus##/ D
.##D E
None##E I
;##I J
private$$ !
ContentWorkflowStatus$$ %
originalStatus$$& 4
=$$5 6!
ContentWorkflowStatus$$7 L
.$$L M
None$$M Q
;$$Q R
private%% 
string%% 
contentText%% "
=%%# $
string%%% +
.%%+ ,
Empty%%, 1
;%%1 2
private&& 
string&& 

customData&& !
=&&" #
string&&$ *
.&&* +
Empty&&+ 0
;&&0 1
private'' 
int'' !
customReferenceNumber'' )
=''* +
-'', -
$num''- .
;''. /
private(( 
Guid(( 
customReferenceGuid(( (
=(() *
Guid((+ /
.((/ 0
Empty((0 5
;((5 6
private)) 
string)) 
createdByUserName)) (
=))) *
string))+ 1
.))1 2
Empty))2 7
;))7 8
private** 
string** 
createdByUserLogin** )
=*** +
string**, 2
.**2 3
Empty**3 8
;**8 9
private++ 
string++ #
recentActionByUserLogin++ .
=++/ 0
string++1 7
.++7 8
Empty++8 =
;++= >
private,, 
string,, "
recentActionByUserName,, -
=,,. /
string,,0 6
.,,6 7
Empty,,7 <
;,,< =
private-- 
string-- #
recentActionByUserEmail-- .
=--/ 0
string--1 7
.--7 8
Empty--8 =
;--= >
private.. 
string.. 
notes.. 
=.. 
string.. %
...% &
Empty..& +
;..+ ,
private// 
DateTime// 
recentActionOn// '
=//( )
DateTime//* 2
.//2 3
UtcNow//3 9
;//9 :
private00 
string00 
moduleTitle00 "
=00# $
string00% +
.00+ ,
Empty00, 1
;001 2
private11 
int11 
moduleId11 
=11 
-11  
$num11  !
;11! "
public<< 
Guid<< 
Guid<< 
{== 	
get>> 
{>> 
return>> 
guid>> 
;>> 
}>>  
set?? 
{?? 
guid?? 
=?? 
value?? 
;?? 
}??  !
}@@ 	
publicAA 
GuidAA 
SiteGuidAA 
{BB 	
getCC 
{CC 
returnCC 
siteGuidCC !
;CC! "
}CC# $
setDD 
{DD 
siteGuidDD 
=DD 
valueDD "
;DD" #
}DD$ %
}EE 	
publicFF 
GuidFF 
UserGuidFF 
{GG 	
getHH 
{HH 
returnHH 
userGuidHH !
;HH! "
}HH# $
setII 
{II 
userGuidII 
=II 
valueII "
;II" #
}II$ %
}JJ 	
publicKK 
GuidKK 

ModuleGuidKK 
{LL 	
getMM 
{MM 
returnMM 

moduleGuidMM #
;MM# $
}MM% &
setNN 
{NN 

moduleGuidNN 
=NN 
valueNN $
;NN$ %
}NN& '
}OO 	
publicQQ 
stringQQ 
ContentTextQQ !
{RR 	
getSS 
{SS 
returnSS 
contentTextSS $
;SS$ %
}SS& '
setTT 
{TT 
contentTextTT 
=TT 
valueTT  %
;TT% &
}TT' (
}UU 	
publicVV 
stringVV 

CustomDataVV  
{WW 	
getXX 
{XX 
returnXX 

customDataXX #
;XX# $
}XX% &
setYY 
{YY 

customDataYY 
=YY 
valueYY $
;YY$ %
}YY& '
}ZZ 	
public\\ 
Guid\\ 
LastModUserGuid\\ #
{]] 	
get^^ 
{^^ 
return^^ 
lastModUserGuid^^ (
;^^( )
}^^* +
set__ 
{__ 
lastModUserGuid__ !
=__" #
value__$ )
;__) *
}__+ ,
}`` 	
publicbb 
DateTimebb 

LastModUtcbb "
{cc 	
getdd 
{dd 
returndd 

lastModUtcdd #
;dd# $
}dd% &
setee 
{ee 

lastModUtcee 
=ee 
valueee $
;ee$ %
}ee& '
}ff 	
publichh 
DateTimehh 
CreatedDateUtchh &
{ii 	
getjj 
{jj 
returnjj 
createdDateUtcjj '
;jj' (
}jj) *
setkk 
{kk 
createdDateUtckk  
=kk! "
valuekk# (
;kk( )
}kk* +
}ll 	
publicnn 
intnn !
CustomReferenceNumbernn (
{oo 	
getpp 
{pp 
returnpp !
customReferenceNumberpp .
;pp. /
}pp0 1
setqq 
{qq !
customReferenceNumberqq '
=qq( )
valueqq* /
;qq/ 0
}qq1 2
}rr 	
publictt 
Guidtt 
CustomReferenceGuidtt '
{uu 	
getvv 
{vv 
returnvv 
customReferenceGuidvv ,
;vv, -
}vv. /
setww 
{ww 
customReferenceGuidww %
=ww& '
valueww( -
;ww- .
}ww/ 0
}xx 	
publiczz !
ContentWorkflowStatuszz $
Statuszz% +
{{{ 	
get|| 
{|| 
return|| 
status|| 
;||  
}||! "
set}} 
{}} 
status}} 
=}} 
value}}  
;}}  !
}}}" #
}~~ 	
public
ÄÄ 
string
ÄÄ 
CreatedByUserName
ÄÄ '
{
ÅÅ 	
get
ÇÇ 
{
ÇÇ 
return
ÇÇ 
createdByUserName
ÇÇ *
;
ÇÇ* +
}
ÇÇ, -
}
ÉÉ 	
private
ÖÖ 
string
ÖÖ $
createdByUserFirstName
ÖÖ -
=
ÖÖ. /
string
ÖÖ0 6
.
ÖÖ6 7
Empty
ÖÖ7 <
;
ÖÖ< =
public
áá 
string
áá $
CreatedByUserFirstName
áá ,
{
àà 	
get
ââ 
{
ââ 
return
ââ $
createdByUserFirstName
ââ /
;
ââ/ 0
}
ââ1 2
}
ää 	
private
åå 
string
åå #
createdByUserLastName
åå ,
=
åå- .
string
åå/ 5
.
åå5 6
Empty
åå6 ;
;
åå; <
public
éé 
string
éé #
CreatedByUserLastName
éé +
{
èè 	
get
êê 
{
êê 
return
êê #
createdByUserLastName
êê .
;
êê. /
}
êê0 1
}
ëë 	
public
ìì 
string
ìì  
CreatedByUserLogin
ìì (
{
îî 	
get
ïï 
{
ïï 
return
ïï  
createdByUserLogin
ïï +
;
ïï+ ,
}
ïï- .
}
ññ 	
private
òò 
string
òò 
authorEmail
òò "
=
òò# $
string
òò% +
.
òò+ ,
Empty
òò, 1
;
òò1 2
public
öö 
string
öö 
AuthorEmail
öö !
{
õõ 	
get
úú 
{
úú 
return
úú 
authorEmail
úú $
;
úú$ %
}
úú& '
}
ùù 	
private
üü 
string
üü 
	authorBio
üü  
=
üü! "
string
üü# )
.
üü) *
Empty
üü* /
;
üü/ 0
public
°° 
string
°° 
	AuthorBio
°° 
{
¢¢ 	
get
££ 
{
££ 
return
££ 
	authorBio
££ "
;
££" #
}
££$ %
}
§§ 	
private
¶¶ 
string
¶¶ 
authorAvatar
¶¶ #
=
¶¶$ %
string
¶¶& ,
.
¶¶, -
Empty
¶¶- 2
;
¶¶2 3
public
®® 
string
®® 
AuthorAvatar
®® "
{
©© 	
get
™™ 
{
™™ 
return
™™ 
authorAvatar
™™ %
;
™™% &
}
™™' (
}
¨¨ 	
private
ÆÆ 
int
ÆÆ 
authorUserId
ÆÆ  
=
ÆÆ! "
-
ÆÆ# $
$num
ÆÆ$ %
;
ÆÆ% &
public
∞∞ 
int
∞∞ 
AuthorUserId
∞∞ 
{
±± 	
get
≤≤ 
{
≤≤ 
return
≤≤ 
authorUserId
≤≤ %
;
≤≤% &
}
≤≤' (
}
≥≥ 	
private
µµ 
string
µµ 
lastModByUserName
µµ (
=
µµ) *
string
µµ+ 1
.
µµ1 2
Empty
µµ2 7
;
µµ7 8
public
∑∑ 
string
∑∑ 
LastModByUserName
∑∑ '
{
∏∏ 	
get
ππ 
{
ππ 
return
ππ 
lastModByUserName
ππ *
;
ππ* +
}
ππ, -
}
∫∫ 	
private
ΩΩ 
string
ΩΩ $
lastModByUserFirstName
ΩΩ -
=
ΩΩ. /
string
ΩΩ0 6
.
ΩΩ6 7
Empty
ΩΩ7 <
;
ΩΩ< =
public
øø 
string
øø $
LastModByUserFirstName
øø ,
{
¿¿ 	
get
¡¡ 
{
¡¡ 
return
¡¡ $
lastModByUserFirstName
¡¡ /
;
¡¡/ 0
}
¡¡1 2
}
¬¬ 	
private
ƒƒ 
string
ƒƒ #
lastModByUserLastName
ƒƒ ,
=
ƒƒ- .
string
ƒƒ/ 5
.
ƒƒ5 6
Empty
ƒƒ6 ;
;
ƒƒ; <
public
∆∆ 
string
∆∆ #
LastModByUserLastName
∆∆ +
{
«« 	
get
»» 
{
»» 
return
»» #
lastModByUserLastName
»» .
;
»». /
}
»»0 1
}
…… 	
public
ÀÀ 
string
ÀÀ %
RecentActionByUserLogin
ÀÀ -
{
ÃÃ 	
get
ÕÕ 
{
ÕÕ 
return
ÕÕ %
recentActionByUserLogin
ÕÕ 0
;
ÕÕ0 1
}
ÕÕ2 3
}
ŒŒ 	
public
–– 
string
–– $
RecentActionByUserName
–– ,
{
—— 	
get
““ 
{
““ 
return
““ $
recentActionByUserName
““ /
;
““/ 0
}
““1 2
}
”” 	
public
’’ 
string
’’ %
RecentActionByUserEmail
’’ -
{
÷÷ 	
get
◊◊ 
{
◊◊ 
return
◊◊ %
recentActionByUserEmail
◊◊ 0
;
◊◊0 1
}
◊◊2 3
}
ÿÿ 	
public
⁄⁄ 
int
⁄⁄ 
ModuleId
⁄⁄ 
{
€€ 	
get
‹‹ 
{
‹‹ 
return
‹‹ 
moduleId
‹‹ !
;
‹‹! "
}
‹‹# $
}
›› 	
public
ﬂﬂ 
string
ﬂﬂ 
ModuleTitle
ﬂﬂ !
{
‡‡ 	
get
·· 
{
·· 
return
·· 
moduleTitle
·· $
;
··$ %
}
··& '
}
‚‚ 	
public
 
string
 
Notes
 
{
ÒÒ 	
get
ÚÚ 
{
ÚÚ 
return
ÚÚ 
notes
ÚÚ 
;
ÚÚ 
}
ÚÚ  !
}
ÛÛ 	
public
ıı 
DateTime
ıı 
RecentActionOn
ıı &
{
ˆˆ 	
get
˜˜ 
{
˜˜ 
return
˜˜ 
recentActionOn
˜˜ '
;
˜˜' (
}
˜˜) *
}
¯¯ 	
private
ÅÅ 
static
ÅÅ 
List
ÅÅ 
<
ÅÅ 
ContentWorkflow
ÅÅ +
>
ÅÅ+ , 
LoadListFromReader
ÅÅ- ?
(
ÅÅ? @
IDataReader
ÅÅ@ K
reader
ÅÅL R
)
ÅÅR S
{
ÇÇ 	
List
ÉÉ 
<
ÉÉ 
ContentWorkflow
ÉÉ  
>
ÉÉ  !!
contentWorkflowList
ÉÉ" 5
=
ÉÉ6 7
new
ÉÉ8 ;
List
ÉÉ< @
<
ÉÉ@ A
ContentWorkflow
ÉÉA P
>
ÉÉP Q
(
ÉÉQ R
)
ÉÉR S
;
ÉÉS T
try
ÑÑ 
{
ÖÖ 
while
ÜÜ 
(
ÜÜ 
reader
ÜÜ 
.
ÜÜ 
Read
ÜÜ "
(
ÜÜ" #
)
ÜÜ# $
)
ÜÜ$ %
{
áá 
ContentWorkflow
àà #
contentWorkflow
àà$ 3
=
àà4 5
new
àà6 9
ContentWorkflow
àà: I
(
ààI J
)
ààJ K
;
ààK L
contentWorkflow
ää #
.
ää# $
guid
ää$ (
=
ää) *
new
ää+ .
Guid
ää/ 3
(
ää3 4
reader
ää4 :
[
ää: ;
$str
ää; A
]
ääA B
.
ääB C
ToString
ääC K
(
ääK L
)
ääL M
)
ääM N
;
ääN O
contentWorkflow
ãã #
.
ãã# $
siteGuid
ãã$ ,
=
ãã- .
new
ãã/ 2
Guid
ãã3 7
(
ãã7 8
reader
ãã8 >
[
ãã> ?
$str
ãã? I
]
ããI J
.
ããJ K
ToString
ããK S
(
ããS T
)
ããT U
)
ããU V
;
ããV W
contentWorkflow
åå #
.
åå# $
userGuid
åå$ ,
=
åå- .
new
åå/ 2
Guid
åå3 7
(
åå7 8
reader
åå8 >
[
åå> ?
$str
åå? I
]
ååI J
.
ååJ K
ToString
ååK S
(
ååS T
)
ååT U
)
ååU V
;
ååV W
contentWorkflow
çç #
.
çç# $

moduleGuid
çç$ .
=
çç/ 0
new
çç1 4
Guid
çç5 9
(
çç9 :
reader
çç: @
[
çç@ A
$str
ççA M
]
ççM N
.
ççN O
ToString
ççO W
(
ççW X
)
ççX Y
)
ççY Z
;
ççZ [
contentWorkflow
éé #
.
éé# $
contentText
éé$ /
=
éé0 1
reader
éé2 8
[
éé8 9
$str
éé9 F
]
ééF G
.
ééG H
ToString
ééH P
(
ééP Q
)
ééQ R
;
ééR S
contentWorkflow
èè #
.
èè# $

customData
èè$ .
=
èè/ 0
reader
èè1 7
[
èè7 8
$str
èè8 D
]
èèD E
.
èèE F
ToString
èèF N
(
èèN O
)
èèO P
;
èèP Q
object
ëë 
val
ëë 
=
ëë  
reader
ëë! '
[
ëë' (
$str
ëë( ?
]
ëë? @
;
ëë@ A
contentWorkflow
íí #
.
íí# $#
customReferenceNumber
íí$ 9
=
íí: ;
val
íí< ?
==
íí@ B
DBNull
ííC I
.
ííI J
Value
ííJ O
?
ííP Q
-
ííR S
$num
ííS T
:
ííU V
Convert
ííW ^
.
íí^ _
ToInt32
íí_ f
(
ííf g
val
ííg j
)
ííj k
;
íík l
val
îî 
=
îî 
reader
îî  
[
îî  !
$str
îî! 6
]
îî6 7
;
îî7 8
contentWorkflow
ïï #
.
ïï# $!
customReferenceGuid
ïï$ 7
=
ïï8 9
val
ïï: =
==
ïï> @
DBNull
ïïA G
.
ïïG H
Value
ïïH M
?
ïïN O
Guid
ïïP T
.
ïïT U
Empty
ïïU Z
:
ïï[ \
new
ïï] `
Guid
ïïa e
(
ïïe f
val
ïïf i
.
ïïi j
ToString
ïïj r
(
ïïr s
)
ïïs t
)
ïït u
;
ïïu v
contentWorkflow
óó #
.
óó# $
createdDateUtc
óó$ 2
=
óó3 4
Convert
óó5 <
.
óó< =

ToDateTime
óó= G
(
óóG H
reader
óóH N
[
óóN O
$str
óóO _
]
óó_ `
)
óó` a
;
óóa b
contentWorkflow
õõ #
.
õõ# $
lastModUserGuid
õõ$ 3
=
õõ4 5
new
õõ6 9
Guid
õõ: >
(
õõ> ?
reader
õõ? E
[
õõE F
$str
õõF W
]
õõW X
.
õõX Y
ToString
õõY a
(
õõa b
)
õõb c
)
õõc d
;
õõd e
contentWorkflow
†† #
.
††# $

lastModUtc
††$ .
=
††/ 0
Convert
††1 8
.
††8 9

ToDateTime
††9 C
(
††C D
reader
††D J
[
††J K
$str
††K W
]
††W X
)
††X Y
;
††Y Z
contentWorkflow
¢¢ #
.
¢¢# $ 
createdByUserLogin
¢¢$ 6
=
¢¢7 8
reader
¢¢9 ?
[
¢¢? @
$str
¢¢@ T
]
¢¢T U
.
¢¢U V
ToString
¢¢V ^
(
¢¢^ _
)
¢¢_ `
;
¢¢` a
contentWorkflow
££ #
.
££# $
createdByUserName
££$ 5
=
££6 7
reader
££8 >
[
££> ?
$str
££? R
]
££R S
.
££S T
ToString
££T \
(
££\ ]
)
££] ^
;
££^ _
contentWorkflow
•• #
.
••# $%
recentActionByUserLogin
••$ ;
=
••< =
reader
••> D
[
••D E
$str
••E ^
]
••^ _
.
••_ `
ToString
••` h
(
••h i
)
••i j
;
••j k
contentWorkflow
¶¶ #
.
¶¶# $$
recentActionByUserName
¶¶$ :
=
¶¶; <
reader
¶¶= C
[
¶¶C D
$str
¶¶D \
]
¶¶\ ]
.
¶¶] ^
ToString
¶¶^ f
(
¶¶f g
)
¶¶g h
;
¶¶h i
contentWorkflow
ßß #
.
ßß# $%
recentActionByUserEmail
ßß$ ;
=
ßß< =
reader
ßß> D
[
ßßD E
$str
ßßE ^
]
ßß^ _
.
ßß_ `
ToString
ßß` h
(
ßßh i
)
ßßi j
;
ßßj k
string
©© 
	statusVal
©© $
=
©©% &
reader
©©' -
[
©©- .
$str
©©. 6
]
©©6 7
.
©©7 8
ToString
©©8 @
(
©©@ A
)
©©A B
;
©©B C
contentWorkflow
™™ #
.
™™# $
status
™™$ *
=
™™+ ,
String
™™- 3
.
™™3 4
IsNullOrEmpty
™™4 A
(
™™A B
	statusVal
™™B K
)
™™K L
?
´´ #
ContentWorkflowStatus
´´ /
.
´´/ 0
None
´´0 4
:
¨¨ 
(
¨¨ #
ContentWorkflowStatus
¨¨ 0
)
¨¨0 1
Enum
¨¨1 5
.
¨¨5 6
Parse
¨¨6 ;
(
¨¨; <
typeof
¨¨< B
(
¨¨B C#
ContentWorkflowStatus
¨¨C X
)
¨¨X Y
,
¨¨Y Z
	statusVal
¨¨[ d
)
¨¨d e
;
¨¨e f
contentWorkflow
ÆÆ #
.
ÆÆ# $
originalStatus
ÆÆ$ 2
=
ÆÆ3 4
contentWorkflow
ÆÆ5 D
.
ÆÆD E
status
ÆÆE K
;
ÆÆK L
contentWorkflow
∞∞ #
.
∞∞# $
notes
∞∞$ )
=
∞∞* +
reader
∞∞, 2
[
∞∞2 3
$str
∞∞3 :
]
∞∞: ;
.
∞∞; <
ToString
∞∞< D
(
∞∞D E
)
∞∞E F
;
∞∞F G
if
¥¥ 
(
¥¥ 
reader
¥¥ 
[
¥¥ 
$str
¥¥ /
]
¥¥/ 0
!=
¥¥1 3
DBNull
¥¥4 :
.
¥¥: ;
Value
¥¥; @
)
¥¥@ A
{
µµ 
contentWorkflow
∂∂ '
.
∂∂' (
recentActionOn
∂∂( 6
=
∂∂7 8
Convert
∂∂9 @
.
∂∂@ A

ToDateTime
∂∂A K
(
∂∂K L
reader
∂∂L R
[
∂∂R S
$str
∂∂S c
]
∂∂c d
)
∂∂d e
;
∂∂e f
}
∑∑ 
contentWorkflow
ππ #
.
ππ# $
moduleTitle
ππ$ /
=
ππ0 1
reader
ππ2 8
[
ππ8 9
$str
ππ9 F
]
ππF G
.
ππG H
ToString
ππH P
(
ππP Q
)
ππQ R
;
ππR S
contentWorkflow
∫∫ #
.
∫∫# $
moduleId
∫∫$ ,
=
∫∫- .
Convert
∫∫/ 6
.
∫∫6 7
ToInt32
∫∫7 >
(
∫∫> ?
reader
∫∫? E
[
∫∫E F
$str
∫∫F P
]
∫∫P Q
)
∫∫Q R
;
∫∫R S
contentWorkflow
ºº #
.
ºº# $$
createdByUserFirstName
ºº$ :
=
ºº; <
reader
ºº= C
[
ººC D
$str
ººD X
]
ººX Y
.
ººY Z
ToString
ººZ b
(
ººb c
)
ººc d
;
ººd e
contentWorkflow
ΩΩ #
.
ΩΩ# $#
createdByUserLastName
ΩΩ$ 9
=
ΩΩ: ;
reader
ΩΩ< B
[
ΩΩB C
$str
ΩΩC V
]
ΩΩV W
.
ΩΩW X
ToString
ΩΩX `
(
ΩΩ` a
)
ΩΩa b
;
ΩΩb c
contentWorkflow
øø #
.
øø# $
authorEmail
øø$ /
=
øø0 1
reader
øø2 8
[
øø8 9
$str
øø9 M
]
øøM N
.
øøN O
ToString
øøO W
(
øøW X
)
øøX Y
;
øøY Z
contentWorkflow
¿¿ #
.
¿¿# $
authorAvatar
¿¿$ 0
=
¿¿1 2
reader
¿¿3 9
[
¿¿9 :
$str
¿¿: K
]
¿¿K L
.
¿¿L M
ToString
¿¿M U
(
¿¿U V
)
¿¿V W
;
¿¿W X
contentWorkflow
¡¡ #
.
¡¡# $
	authorBio
¡¡$ -
=
¡¡. /
reader
¡¡0 6
[
¡¡6 7
$str
¡¡7 K
]
¡¡K L
.
¡¡L M
ToString
¡¡M U
(
¡¡U V
)
¡¡V W
;
¡¡W X
contentWorkflow
¬¬ #
.
¬¬# $
authorUserId
¬¬$ 0
=
¬¬1 2
Convert
¬¬3 :
.
¬¬: ;
ToInt32
¬¬; B
(
¬¬B C
reader
¬¬C I
[
¬¬I J
$str
¬¬J [
]
¬¬[ \
)
¬¬\ ]
;
¬¬] ^
contentWorkflow
ƒƒ #
.
ƒƒ# $#
lastModByUserLastName
ƒƒ$ 9
=
ƒƒ: ;
reader
ƒƒ< B
[
ƒƒB C
$str
ƒƒC W
]
ƒƒW X
.
ƒƒX Y
ToString
ƒƒY a
(
ƒƒa b
)
ƒƒb c
;
ƒƒc d
contentWorkflow
≈≈ #
.
≈≈# $$
lastModByUserFirstName
≈≈$ :
=
≈≈; <
reader
≈≈= C
[
≈≈C D
$str
≈≈D Y
]
≈≈Y Z
.
≈≈Z [
ToString
≈≈[ c
(
≈≈c d
)
≈≈d e
;
≈≈e f
contentWorkflow
∆∆ #
.
∆∆# $#
lastModByUserLastName
∆∆$ 9
=
∆∆: ;
reader
∆∆< B
[
∆∆B C
$str
∆∆C W
]
∆∆W X
.
∆∆X Y
ToString
∆∆Y a
(
∆∆a b
)
∆∆b c
;
∆∆c d!
contentWorkflowList
»» '
.
»»' (
Add
»»( +
(
»»+ ,
contentWorkflow
»», ;
)
»»; <
;
»»< =
}
…… 
}
   
finally
ÀÀ 
{
ÃÃ 
reader
ÕÕ 
.
ÕÕ 
Close
ÕÕ 
(
ÕÕ 
)
ÕÕ 
;
ÕÕ 
}
ŒŒ 
return
–– !
contentWorkflowList
–– &
;
––& '
}
““ 	
internal
÷÷ 
bool
÷÷  
PopulateFromReader
÷÷ (
(
÷÷( )
IDataReader
÷÷) 4
reader
÷÷5 ;
)
÷÷; <
{
◊◊ 	
if
ÿÿ 
(
ÿÿ 
reader
ÿÿ 
.
ÿÿ 
Read
ÿÿ 
(
ÿÿ 
)
ÿÿ 
)
ÿÿ 
{
ŸŸ 
this
⁄⁄ 
.
⁄⁄ 
guid
⁄⁄ 
=
⁄⁄ 
new
⁄⁄ 
Guid
⁄⁄  $
(
⁄⁄$ %
reader
⁄⁄% +
[
⁄⁄+ ,
$str
⁄⁄, 2
]
⁄⁄2 3
.
⁄⁄3 4
ToString
⁄⁄4 <
(
⁄⁄< =
)
⁄⁄= >
)
⁄⁄> ?
;
⁄⁄? @
this
€€ 
.
€€ 
siteGuid
€€ 
=
€€ 
new
€€  #
Guid
€€$ (
(
€€( )
reader
€€) /
[
€€/ 0
$str
€€0 :
]
€€: ;
.
€€; <
ToString
€€< D
(
€€D E
)
€€E F
)
€€F G
;
€€G H
this
‹‹ 
.
‹‹ 
userGuid
‹‹ 
=
‹‹ 
new
‹‹  #
Guid
‹‹$ (
(
‹‹( )
reader
‹‹) /
[
‹‹/ 0
$str
‹‹0 :
]
‹‹: ;
.
‹‹; <
ToString
‹‹< D
(
‹‹D E
)
‹‹E F
)
‹‹F G
;
‹‹G H
this
›› 
.
›› 

moduleGuid
›› 
=
››  !
new
››" %
Guid
››& *
(
››* +
reader
››+ 1
[
››1 2
$str
››2 >
]
››> ?
.
››? @
ToString
››@ H
(
››H I
)
››I J
)
››J K
;
››K L
this
ﬁﬁ 
.
ﬁﬁ 
contentText
ﬁﬁ  
=
ﬁﬁ! "
reader
ﬁﬁ# )
[
ﬁﬁ) *
$str
ﬁﬁ* 7
]
ﬁﬁ7 8
.
ﬁﬁ8 9
ToString
ﬁﬁ9 A
(
ﬁﬁA B
)
ﬁﬁB C
;
ﬁﬁC D
this
ﬂﬂ 
.
ﬂﬂ 

customData
ﬂﬂ 
=
ﬂﬂ  !
reader
ﬂﬂ" (
[
ﬂﬂ( )
$str
ﬂﬂ) 5
]
ﬂﬂ5 6
.
ﬂﬂ6 7
ToString
ﬂﬂ7 ?
(
ﬂﬂ? @
)
ﬂﬂ@ A
;
ﬂﬂA B
object
·· 
val
·· 
=
·· 
reader
·· #
[
··# $
$str
··$ ;
]
··; <
;
··< =
this
‚‚ 
.
‚‚ #
customReferenceNumber
‚‚ *
=
‚‚+ ,
val
‚‚- 0
==
‚‚1 3
DBNull
‚‚4 :
.
‚‚: ;
Value
‚‚; @
?
‚‚A B
-
‚‚C D
$num
‚‚D E
:
‚‚F G
Convert
‚‚H O
.
‚‚O P
ToInt32
‚‚P W
(
‚‚W X
val
‚‚X [
)
‚‚[ \
;
‚‚\ ]
val
‰‰ 
=
‰‰ 
reader
‰‰ 
[
‰‰ 
$str
‰‰ 2
]
‰‰2 3
;
‰‰3 4
this
ÂÂ 
.
ÂÂ !
customReferenceGuid
ÂÂ (
=
ÂÂ) *
val
ÂÂ+ .
==
ÂÂ/ 1
DBNull
ÂÂ2 8
.
ÂÂ8 9
Value
ÂÂ9 >
?
ÂÂ? @
Guid
ÂÂA E
.
ÂÂE F
Empty
ÂÂF K
:
ÂÂL M
new
ÂÂN Q
Guid
ÂÂR V
(
ÂÂV W
val
ÂÂW Z
.
ÂÂZ [
ToString
ÂÂ[ c
(
ÂÂc d
)
ÂÂd e
)
ÂÂe f
;
ÂÂf g
this
ÁÁ 
.
ÁÁ 
createdDateUtc
ÁÁ #
=
ÁÁ$ %
Convert
ÁÁ& -
.
ÁÁ- .

ToDateTime
ÁÁ. 8
(
ÁÁ8 9
reader
ÁÁ9 ?
[
ÁÁ? @
$str
ÁÁ@ P
]
ÁÁP Q
)
ÁÁQ R
;
ÁÁR S
this
ÎÎ 
.
ÎÎ 
lastModUserGuid
ÎÎ $
=
ÎÎ% &
new
ÎÎ' *
Guid
ÎÎ+ /
(
ÎÎ/ 0
reader
ÎÎ0 6
[
ÎÎ6 7
$str
ÎÎ7 H
]
ÎÎH I
.
ÎÎI J
ToString
ÎÎJ R
(
ÎÎR S
)
ÎÎS T
)
ÎÎT U
;
ÎÎU V
this
 
.
 

lastModUtc
 
=
  !
Convert
" )
.
) *

ToDateTime
* 4
(
4 5
reader
5 ;
[
; <
$str
< H
]
H I
)
I J
;
J K
this
ÚÚ 
.
ÚÚ  
createdByUserLogin
ÚÚ '
=
ÚÚ( )
reader
ÚÚ* 0
[
ÚÚ0 1
$str
ÚÚ1 E
]
ÚÚE F
.
ÚÚF G
ToString
ÚÚG O
(
ÚÚO P
)
ÚÚP Q
;
ÚÚQ R
this
ÛÛ 
.
ÛÛ 
createdByUserName
ÛÛ &
=
ÛÛ' (
reader
ÛÛ) /
[
ÛÛ/ 0
$str
ÛÛ0 C
]
ÛÛC D
.
ÛÛD E
ToString
ÛÛE M
(
ÛÛM N
)
ÛÛN O
;
ÛÛO P
this
ıı 
.
ıı $
createdByUserFirstName
ıı +
=
ıı, -
reader
ıı. 4
[
ıı4 5
$str
ıı5 I
]
ııI J
.
ııJ K
ToString
ııK S
(
ııS T
)
ııT U
;
ııU V
this
ˆˆ 
.
ˆˆ #
createdByUserLastName
ˆˆ *
=
ˆˆ+ ,
reader
ˆˆ- 3
[
ˆˆ3 4
$str
ˆˆ4 G
]
ˆˆG H
.
ˆˆH I
ToString
ˆˆI Q
(
ˆˆQ R
)
ˆˆR S
;
ˆˆS T
this
˜˜ 
.
˜˜ 
authorEmail
˜˜  
=
˜˜! "
reader
˜˜# )
[
˜˜) *
$str
˜˜* >
]
˜˜> ?
.
˜˜? @
ToString
˜˜@ H
(
˜˜H I
)
˜˜I J
;
˜˜J K
this
¯¯ 
.
¯¯ 
authorAvatar
¯¯ !
=
¯¯" #
reader
¯¯$ *
[
¯¯* +
$str
¯¯+ <
]
¯¯< =
.
¯¯= >
ToString
¯¯> F
(
¯¯F G
)
¯¯G H
;
¯¯H I
this
˘˘ 
.
˘˘ 
	authorBio
˘˘ 
=
˘˘  
reader
˘˘! '
[
˘˘' (
$str
˘˘( <
]
˘˘< =
.
˘˘= >
ToString
˘˘> F
(
˘˘F G
)
˘˘G H
;
˘˘H I
this
˙˙ 
.
˙˙ 
authorUserId
˙˙ !
=
˙˙" #
Convert
˙˙$ +
.
˙˙+ ,
ToInt32
˙˙, 3
(
˙˙3 4
reader
˙˙4 :
[
˙˙: ;
$str
˙˙; L
]
˙˙L M
)
˙˙M N
;
˙˙N O
this
¸¸ 
.
¸¸ #
lastModByUserLastName
¸¸ *
=
¸¸+ ,
reader
¸¸- 3
[
¸¸3 4
$str
¸¸4 H
]
¸¸H I
.
¸¸I J
ToString
¸¸J R
(
¸¸R S
)
¸¸S T
;
¸¸T U
this
˝˝ 
.
˝˝ $
lastModByUserFirstName
˝˝ +
=
˝˝, -
reader
˝˝. 4
[
˝˝4 5
$str
˝˝5 J
]
˝˝J K
.
˝˝K L
ToString
˝˝L T
(
˝˝T U
)
˝˝U V
;
˝˝V W
this
˛˛ 
.
˛˛ #
lastModByUserLastName
˛˛ *
=
˛˛+ ,
reader
˛˛- 3
[
˛˛3 4
$str
˛˛4 H
]
˛˛H I
.
˛˛I J
ToString
˛˛J R
(
˛˛R S
)
˛˛S T
;
˛˛T U
this
ÄÄ 
.
ÄÄ %
recentActionByUserLogin
ÄÄ ,
=
ÄÄ- .
reader
ÄÄ/ 5
[
ÄÄ5 6
$str
ÄÄ6 O
]
ÄÄO P
.
ÄÄP Q
ToString
ÄÄQ Y
(
ÄÄY Z
)
ÄÄZ [
;
ÄÄ[ \
this
ÅÅ 
.
ÅÅ $
recentActionByUserName
ÅÅ +
=
ÅÅ, -
reader
ÅÅ. 4
[
ÅÅ4 5
$str
ÅÅ5 M
]
ÅÅM N
.
ÅÅN O
ToString
ÅÅO W
(
ÅÅW X
)
ÅÅX Y
;
ÅÅY Z
this
ÇÇ 
.
ÇÇ %
recentActionByUserEmail
ÇÇ ,
=
ÇÇ- .
reader
ÇÇ/ 5
[
ÇÇ5 6
$str
ÇÇ6 O
]
ÇÇO P
.
ÇÇP Q
ToString
ÇÇQ Y
(
ÇÇY Z
)
ÇÇZ [
;
ÇÇ[ \
string
ÑÑ 
	statusVal
ÑÑ  
=
ÑÑ! "
reader
ÑÑ# )
[
ÑÑ) *
$str
ÑÑ* 2
]
ÑÑ2 3
.
ÑÑ3 4
ToString
ÑÑ4 <
(
ÑÑ< =
)
ÑÑ= >
;
ÑÑ> ?
this
ÖÖ 
.
ÖÖ 
status
ÖÖ 
=
ÖÖ 
String
ÖÖ $
.
ÖÖ$ %
IsNullOrEmpty
ÖÖ% 2
(
ÖÖ2 3
	statusVal
ÖÖ3 <
)
ÖÖ< =
?
ÜÜ #
ContentWorkflowStatus
ÜÜ +
.
ÜÜ+ ,
None
ÜÜ, 0
:
áá 
(
áá #
ContentWorkflowStatus
áá ,
)
áá, -
Enum
áá- 1
.
áá1 2
Parse
áá2 7
(
áá7 8
typeof
áá8 >
(
áá> ?#
ContentWorkflowStatus
áá? T
)
ááT U
,
ááU V
	statusVal
ááW `
)
áá` a
;
ááa b
this
ââ 
.
ââ 
originalStatus
ââ #
=
ââ$ %
status
ââ& ,
;
ââ, -
this
ãã 
.
ãã 
notes
ãã 
=
ãã 
reader
ãã #
[
ãã# $
$str
ãã$ +
]
ãã+ ,
.
ãã, -
ToString
ãã- 5
(
ãã5 6
)
ãã6 7
;
ãã7 8
if
èè 
(
èè 
reader
èè 
[
èè 
$str
èè +
]
èè+ ,
!=
èè- /
DBNull
èè0 6
.
èè6 7
Value
èè7 <
)
èè< =
{
êê 
this
ëë 
.
ëë 
recentActionOn
ëë '
=
ëë( )
Convert
ëë* 1
.
ëë1 2

ToDateTime
ëë2 <
(
ëë< =
reader
ëë= C
[
ëëC D
$str
ëëD T
]
ëëT U
)
ëëU V
;
ëëV W
}
íí 
this
îî 
.
îî 
moduleTitle
îî  
=
îî! "
reader
îî# )
[
îî) *
$str
îî* 7
]
îî7 8
.
îî8 9
ToString
îî9 A
(
îîA B
)
îîB C
;
îîC D
return
ññ 
true
ññ 
;
ññ 
}
óó 
return
ôô 
false
ôô 
;
ôô 
}
õõ 	
public
°° 
bool
°° 
Save
°° 
(
°° 
)
°° 
{
¢¢ 	
if
££ 
(
££ 
(
££ 
lastModUserGuid
££  
==
££! #
Guid
££$ (
.
££( )
Empty
££) .
)
££. /
&&
££0 2
(
££3 4
userGuid
££4 <
!=
££= ?
Guid
££@ D
.
££D E
Empty
££E J
)
££J K
)
££K L
{
§§ 
lastModUserGuid
§§ 
=
§§ 
userGuid
§§  (
;
§§( )
}
§§* +
if
¶¶ 
(
¶¶ 
(
¶¶ 
userGuid
¶¶ 
==
¶¶ 
Guid
¶¶ !
.
¶¶! "
Empty
¶¶" '
)
¶¶' (
&&
¶¶) +
(
¶¶, -
lastModUserGuid
¶¶- <
!=
¶¶= ?
Guid
¶¶@ D
.
¶¶D E
Empty
¶¶E J
)
¶¶J K
)
¶¶K L
{
ßß 
userGuid
ßß 
=
ßß 
lastModUserGuid
ßß (
;
ßß( )
}
ßß* +
if
©© 
(
©© 
this
©© 
.
©© 
Guid
©© 
!=
©© 
Guid
©© !
.
©©! "
Empty
©©" '
)
©©' (
return
™™ 
Update
™™ 
(
™™ 
)
™™ 
;
™™  
else
´´ 
return
¨¨ 
Create
¨¨ 
(
¨¨ 
)
¨¨ 
;
¨¨  
}
≠≠ 	
public
ØØ 
bool
ØØ "
RejectContentChanges
ØØ (
(
ØØ( )
Guid
ØØ) -
rejectorGuid
ØØ. :
,
ØØ: ;
string
ØØ< B
rejectionReason
ØØC R
)
ØØR S
{
∞∞ 	
this
±± 
.
±± 
status
±± 
=
±± #
ContentWorkflowStatus
±± /
.
±±/ 0
ApprovalRejected
±±0 @
;
±±@ A
this
≤≤ 
.
≤≤ 
lastModUserGuid
≤≤  
=
≤≤! "
rejectorGuid
≤≤# /
;
≤≤/ 0
this
≥≥ 
.
≥≥ 

lastModUtc
≥≥ 
=
≥≥ 
DateTime
≥≥ &
.
≥≥& '
UtcNow
≥≥' -
;
≥≥- .
this
¥¥ 
.
¥¥ 
notes
¥¥ 
=
¥¥ 
rejectionReason
¥¥ (
;
¥¥( )
return
µµ 
Save
µµ 
(
µµ 
)
µµ 
;
µµ 
}
ππ 	
private
ΩΩ 
bool
ΩΩ 
Create
ΩΩ 
(
ΩΩ 
)
ΩΩ 
{
ææ 	
this
øø 
.
øø 
guid
øø 
=
øø 
Guid
øø 
.
øø 
NewGuid
øø $
(
øø$ %
)
øø% &
;
øø& '
int
¡¡ 
rowsAffected
¡¡ 
=
¡¡ 
DBContentWorkflow
¡¡ 0
.
¡¡0 1
Create
¡¡1 7
(
¡¡7 8
this
¬¬ 
.
¬¬ 
guid
¬¬ 
,
¬¬ 
this
√√ 
.
√√ 
siteGuid
√√ 
,
√√ 
this
ƒƒ 
.
ƒƒ 

moduleGuid
ƒƒ 
,
ƒƒ  
this
≈≈ 
.
≈≈ 
userGuid
≈≈ 
,
≈≈ 
this
∆∆ 
.
∆∆ 
createdDateUtc
∆∆ #
,
∆∆# $
this
«« 
.
«« 
contentText
««  
,
««  !
this
»» 
.
»» 

customData
»» 
,
»»  
this
…… 
.
…… #
customReferenceNumber
…… *
,
……* +
this
   
.
   !
customReferenceGuid
   (
,
  ( )
this
ÀÀ 
.
ÀÀ 
status
ÀÀ 
.
ÀÀ 
ToString
ÀÀ $
(
ÀÀ$ %
)
ÀÀ% &
)
ÀÀ& '
;
ÀÀ' (
DBContentWorkflow
ŒŒ 
.
ŒŒ 
DeactivateAudit
ŒŒ -
(
ŒŒ- .

moduleGuid
ŒŒ. 8
)
ŒŒ8 9
;
ŒŒ9 :
DBContentWorkflow
œœ 
.
œœ  
CreateAuditHistory
œœ 0
(
œœ0 1
Guid
–– 
.
–– 
NewGuid
–– 
(
–– 
)
–– 
,
–– 
this
—— 
.
—— 
guid
—— 
,
—— 
this
““ 
.
““ 

moduleGuid
““ 
,
““  
this
”” 
.
”” 
lastModUserGuid
”” $
,
””$ %
this
‘‘ 
.
‘‘ 

lastModUtc
‘‘ 
,
‘‘  
this
’’ 
.
’’ 
status
’’ 
.
’’ 
ToString
’’ $
(
’’$ %
)
’’% &
,
’’& '
this
÷÷ 
.
÷÷ 
notes
÷÷ 
,
÷÷ 
true
◊◊ 
)
◊◊ 
;
◊◊ 
return
€€ 
(
€€ 
rowsAffected
€€  
>
€€! "
$num
€€# $
)
€€$ %
;
€€% &
}
›› 	
private
„„ 
bool
„„ 
Update
„„ 
(
„„ 
)
„„ 
{
‰‰ 	
int
ÂÂ 
rowsAffected
ÂÂ 
=
ÂÂ 
DBContentWorkflow
ÂÂ 0
.
ÂÂ0 1
Update
ÂÂ1 7
(
ÂÂ7 8
this
ÊÊ 
.
ÊÊ 
guid
ÊÊ 
,
ÊÊ 
this
ÁÁ 
.
ÁÁ 
lastModUserGuid
ÁÁ $
,
ÁÁ$ %
this
ËË 
.
ËË 

lastModUtc
ËË 
,
ËË  
this
ÈÈ 
.
ÈÈ 
contentText
ÈÈ  
,
ÈÈ  !
this
ÍÍ 
.
ÍÍ 

customData
ÍÍ 
,
ÍÍ  
this
ÎÎ 
.
ÎÎ #
customReferenceNumber
ÎÎ *
,
ÎÎ* +
this
ÏÏ 
.
ÏÏ !
customReferenceGuid
ÏÏ (
,
ÏÏ( )
this
ÌÌ 
.
ÌÌ 
status
ÌÌ 
.
ÌÌ 
ToString
ÌÌ $
(
ÌÌ$ %
)
ÌÌ% &
)
ÌÌ& '
;
ÌÌ' (
if
ÔÔ 
(
ÔÔ 
status
ÔÔ 
==
ÔÔ #
ContentWorkflowStatus
ÔÔ /
.
ÔÔ/ 0
Approved
ÔÔ0 8
)
ÔÔ8 9
{
 
DBContentWorkflow
ÚÚ !
.
ÚÚ! " 
CreateAuditHistory
ÚÚ" 4
(
ÚÚ4 5
Guid
ÛÛ 
.
ÛÛ 
NewGuid
ÛÛ  
(
ÛÛ  !
)
ÛÛ! "
,
ÛÛ" #
this
ÙÙ 
.
ÙÙ 
guid
ÙÙ 
,
ÙÙ 
this
ıı 
.
ıı 

moduleGuid
ıı #
,
ıı# $
this
ˆˆ 
.
ˆˆ 
lastModUserGuid
ˆˆ (
,
ˆˆ( )
this
˜˜ 
.
˜˜ 

lastModUtc
˜˜ #
,
˜˜# $
this
¯¯ 
.
¯¯ 
status
¯¯ 
.
¯¯  
ToString
¯¯  (
(
¯¯( )
)
¯¯) *
,
¯¯* +
this
˘˘ 
.
˘˘ 
notes
˘˘ 
,
˘˘ 
false
˙˙ 
)
˙˙ 
;
˙˙ 
DBContentWorkflow
¸¸ !
.
¸¸! "
DeactivateAudit
¸¸" 1
(
¸¸1 2

moduleGuid
¸¸2 <
)
¸¸< =
;
¸¸= >
}
˛˛ 
else
ˇˇ 
if
ˇˇ 
(
ˇˇ 
status
ˇˇ 
!=
ˇˇ 
originalStatus
ˇˇ ,
)
ˇˇ, -
{
ÄÄ 
DBContentWorkflow
ÅÅ !
.
ÅÅ! "
DeactivateAudit
ÅÅ" 1
(
ÅÅ1 2

moduleGuid
ÅÅ2 <
)
ÅÅ< =
;
ÅÅ= >
DBContentWorkflow
ÇÇ !
.
ÇÇ! " 
CreateAuditHistory
ÇÇ" 4
(
ÇÇ4 5
Guid
ÉÉ 
.
ÉÉ 
NewGuid
ÉÉ  
(
ÉÉ  !
)
ÉÉ! "
,
ÉÉ" #
this
ÑÑ 
.
ÑÑ 
guid
ÑÑ 
,
ÑÑ 
this
ÖÖ 
.
ÖÖ 

moduleGuid
ÖÖ #
,
ÖÖ# $
this
ÜÜ 
.
ÜÜ 
lastModUserGuid
ÜÜ (
,
ÜÜ( )
this
áá 
.
áá 

lastModUtc
áá #
,
áá# $
this
àà 
.
àà 
status
àà 
.
àà  
ToString
àà  (
(
àà( )
)
àà) *
,
àà* +
this
ââ 
.
ââ 
notes
ââ 
,
ââ 
true
ää 
)
ää 
;
ää 
}
åå 
return
éé 
(
éé 
rowsAffected
éé  
>
éé! "
$num
éé# $
)
éé$ %
;
éé% &
}
êê 	
public
ùù 
static
ùù 
ContentWorkflow
ùù %
GetWorkInProgress
ùù& 7
(
ùù7 8
Guid
ùù8 <

moduleGuid
ùù= G
)
ùùG H
{
ûû 	
using
üü 
(
üü 
IDataReader
üü 
reader
üü %
=
üü& '
DBContentWorkflow
üü( 9
.
üü9 :
GetWorkInProgress
üü: K
(
üüK L

moduleGuid
üüL V
)
üüV W
)
üüW X
{
†† 
ContentWorkflow
°° 
wip
°°  #
=
°°$ %
new
°°& )
ContentWorkflow
°°* 9
(
°°9 :
)
°°: ;
;
°°; <
if
££ 
(
££ 
wip
££ 
.
££  
PopulateFromReader
££ *
(
££* +
reader
££+ 1
)
££1 2
)
££2 3
return
§§ 
wip
§§ 
;
§§ 
else
•• 
return
¶¶ 
null
¶¶ 
;
¶¶  
}
ßß 
}
®® 	
public
™™ 
static
™™ 
ContentWorkflow
™™ %
GetWorkInProgress
™™& 7
(
™™7 8
Guid
™™8 <

moduleGuid
™™= G
,
™™G H
string
™™I O
status
™™P V
)
™™V W
{
´´ 	
using
¨¨ 
(
¨¨ 
IDataReader
¨¨ 
reader
¨¨ %
=
¨¨& '
DBContentWorkflow
¨¨( 9
.
¨¨9 :
GetWorkInProgress
¨¨: K
(
¨¨K L

moduleGuid
¨¨L V
,
¨¨V W
status
¨¨X ^
)
¨¨^ _
)
¨¨_ `
{
≠≠ 
ContentWorkflow
ÆÆ 
wip
ÆÆ  #
=
ÆÆ$ %
new
ÆÆ& )
ContentWorkflow
ÆÆ* 9
(
ÆÆ9 :
)
ÆÆ: ;
;
ÆÆ; <
if
∞∞ 
(
∞∞ 
wip
∞∞ 
.
∞∞  
PopulateFromReader
∞∞ *
(
∞∞* +
reader
∞∞+ 1
)
∞∞1 2
)
∞∞2 3
return
±± 
wip
±± 
;
±± 
else
≤≤ 
return
≥≥ 
null
≥≥ 
;
≥≥  
}
¥¥ 
}
µµ 	
public
∑∑ 
static
∑∑ 
ContentWorkflow
∑∑ % 
CreateDraftVersion
∑∑& 8
(
∑∑8 9
Guid
∏∏ 
siteGuid
∏∏ 
,
∏∏ 
string
ππ 
contentText
ππ 
,
ππ 
string
∫∫ 

customData
∫∫ 
,
∫∫ 
int
ªª #
customReferenceNumber
ªª %
,
ªª% &
Guid
ºº !
customReferenceGuid
ºº $
,
ºº$ %
Guid
ΩΩ 

moduleGuid
ΩΩ 
,
ΩΩ 
Guid
ææ 
userGuid
ææ 
)
ææ 
{
øø 	
ContentWorkflow
¿¿ 
draftVersion
¿¿ (
=
¿¿) *
new
¿¿+ .
ContentWorkflow
¿¿/ >
(
¿¿> ?
)
¿¿? @
;
¿¿@ A
draftVersion
¡¡ 
.
¡¡ 

moduleGuid
¡¡ #
=
¡¡$ %

moduleGuid
¡¡& 0
;
¡¡0 1
draftVersion
¬¬ 
.
¬¬ 
contentText
¬¬ $
=
¬¬% &
contentText
¬¬' 2
;
¬¬2 3
draftVersion
√√ 
.
√√ 

customData
√√ #
=
√√$ %

customData
√√& 0
;
√√0 1
draftVersion
ƒƒ 
.
ƒƒ #
customReferenceNumber
ƒƒ .
=
ƒƒ/ 0#
customReferenceNumber
ƒƒ1 F
;
ƒƒF G
draftVersion
≈≈ 
.
≈≈ !
customReferenceGuid
≈≈ ,
=
≈≈- .!
customReferenceGuid
≈≈/ B
;
≈≈B C
draftVersion
∆∆ 
.
∆∆ 
siteGuid
∆∆ !
=
∆∆" #
siteGuid
∆∆$ ,
;
∆∆, -
draftVersion
«« 
.
«« 
userGuid
«« !
=
««" #
userGuid
««$ ,
;
««, -
draftVersion
»» 
.
»» 
lastModUserGuid
»» (
=
»») *
userGuid
»»+ 3
;
»»3 4
draftVersion
…… 
.
…… 
createdDateUtc
…… '
=
……( )
DateTime
……* 2
.
……2 3
UtcNow
……3 9
;
……9 :
draftVersion
   
.
   
status
   
=
    !#
ContentWorkflowStatus
  " 7
.
  7 8
Draft
  8 =
;
  = >
draftVersion
ÀÀ 
.
ÀÀ 
Save
ÀÀ 
(
ÀÀ 
)
ÀÀ 
;
ÀÀ  
return
ÕÕ 
draftVersion
ÕÕ 
;
ÕÕ  
}
ŒŒ 	
public
–– 
static
–– 
bool
–– 
DeleteByModule
–– )
(
––) *
Guid
––* .

moduleGuid
––/ 9
)
––9 :
{
—— 	
return
““ 
DBContentWorkflow
““ $
.
““$ %
DeleteByModule
““% 3
(
““3 4

moduleGuid
““4 >
)
““> ?
;
““? @
}
”” 	
public
’’ 
static
’’ 
bool
’’ 
DeleteBySite
’’ '
(
’’' (
Guid
’’( ,
siteGuid
’’- 5
)
’’5 6
{
÷÷ 	
return
◊◊ 
DBContentWorkflow
◊◊ $
.
◊◊$ %
DeleteBySite
◊◊% 1
(
◊◊1 2
siteGuid
◊◊2 :
)
◊◊: ;
;
◊◊; <
}
ÿÿ 	
public
⁄⁄ 
static
⁄⁄ 
int
⁄⁄ *
GetWorkInProgressCountByPage
⁄⁄ 6
(
⁄⁄6 7
Guid
⁄⁄7 ;
pageGuid
⁄⁄< D
)
⁄⁄D E
{
€€ 	
return
‹‹ 
DBContentWorkflow
‹‹ $
.
‹‹$ %*
GetWorkInProgressCountByPage
‹‹% A
(
‹‹A B
pageGuid
‹‹B J
)
‹‹J K
;
‹‹K L
}
›› 	
public
ﬂﬂ 
static
ﬂﬂ 
Guid
ﬂﬂ 
GetDraftSubmitter
ﬂﬂ ,
(
ﬂﬂ, -
Guid
ﬂﬂ- 1
workflowGuid
ﬂﬂ2 >
)
ﬂﬂ> ?
{
‡‡ 	
return
·· 
DBContentWorkflow
·· $
.
··$ %
GetDraftSubmitter
··% 6
(
··6 7
workflowGuid
··7 C
)
··C D
;
··D E
}
‚‚ 	
private
ˆˆ 
static
ˆˆ 
	DataTable
ˆˆ  
GetEmptyTable
ˆˆ! .
(
ˆˆ. /
)
ˆˆ/ 0
{
˜˜ 	
	DataTable
¯¯ 
	dataTable
¯¯ 
=
¯¯  !
new
¯¯" %
	DataTable
¯¯& /
(
¯¯/ 0
)
¯¯0 1
;
¯¯1 2
	dataTable
˙˙ 
.
˙˙ 
Columns
˙˙ 
.
˙˙ 
Add
˙˙ !
(
˙˙! "
$str
˙˙" (
,
˙˙( )
typeof
˙˙* 0
(
˙˙0 1
Guid
˙˙1 5
)
˙˙5 6
)
˙˙6 7
;
˙˙7 8
	dataTable
˚˚ 
.
˚˚ 
Columns
˚˚ 
.
˚˚ 
Add
˚˚ !
(
˚˚! "
$str
˚˚" ,
,
˚˚, -
typeof
˚˚. 4
(
˚˚4 5
Guid
˚˚5 9
)
˚˚9 :
)
˚˚: ;
;
˚˚; <
	dataTable
¸¸ 
.
¸¸ 
Columns
¸¸ 
.
¸¸ 
Add
¸¸ !
(
¸¸! "
$str
¸¸" ,
,
¸¸, -
typeof
¸¸. 4
(
¸¸4 5
Guid
¸¸5 9
)
¸¸9 :
)
¸¸: ;
;
¸¸; <
	dataTable
˝˝ 
.
˝˝ 
Columns
˝˝ 
.
˝˝ 
Add
˝˝ !
(
˝˝! "
$str
˝˝" 3
,
˝˝3 4
typeof
˝˝5 ;
(
˝˝; <
Guid
˝˝< @
)
˝˝@ A
)
˝˝A B
;
˝˝B C
	dataTable
˛˛ 
.
˛˛ 
Columns
˛˛ 
.
˛˛ 
Add
˛˛ !
(
˛˛! "
$str
˛˛" .
,
˛˛. /
typeof
˛˛0 6
(
˛˛6 7
Guid
˛˛7 ;
)
˛˛; <
)
˛˛< =
;
˛˛= >
	dataTable
ˇˇ 
.
ˇˇ 
Columns
ˇˇ 
.
ˇˇ 
Add
ˇˇ !
(
ˇˇ! "
$str
ˇˇ" 7
,
ˇˇ7 8
typeof
ˇˇ9 ?
(
ˇˇ? @
Guid
ˇˇ@ D
)
ˇˇD E
)
ˇˇE F
;
ˇˇF G
	dataTable
ÄÄ 
.
ÄÄ 
Columns
ÄÄ 
.
ÄÄ 
Add
ÄÄ !
(
ÄÄ! "
$str
ÄÄ" ,
,
ÄÄ, -
typeof
ÄÄ. 4
(
ÄÄ4 5
int
ÄÄ5 8
)
ÄÄ8 9
)
ÄÄ9 :
;
ÄÄ: ;
	dataTable
ÅÅ 
.
ÅÅ 
Columns
ÅÅ 
.
ÅÅ 
Add
ÅÅ !
(
ÅÅ! "
$str
ÅÅ" /
,
ÅÅ/ 0
typeof
ÅÅ1 7
(
ÅÅ7 8
string
ÅÅ8 >
)
ÅÅ> ?
)
ÅÅ? @
;
ÅÅ@ A
	dataTable
ÇÇ 
.
ÇÇ 
Columns
ÇÇ 
.
ÇÇ 
Add
ÇÇ !
(
ÇÇ! "
$str
ÇÇ" /
,
ÇÇ/ 0
typeof
ÇÇ1 7
(
ÇÇ7 8
string
ÇÇ8 >
)
ÇÇ> ?
)
ÇÇ? @
;
ÇÇ@ A
	dataTable
ÉÉ 
.
ÉÉ 
Columns
ÉÉ 
.
ÉÉ 
Add
ÉÉ !
(
ÉÉ! "
$str
ÉÉ" .
,
ÉÉ. /
typeof
ÉÉ0 6
(
ÉÉ6 7
string
ÉÉ7 =
)
ÉÉ= >
)
ÉÉ> ?
;
ÉÉ? @
	dataTable
ÑÑ 
.
ÑÑ 
Columns
ÑÑ 
.
ÑÑ 
Add
ÑÑ !
(
ÑÑ! "
$str
ÑÑ" 9
,
ÑÑ9 :
typeof
ÑÑ; A
(
ÑÑA B
int
ÑÑB E
)
ÑÑE F
)
ÑÑF G
;
ÑÑG H
	dataTable
ÖÖ 
.
ÖÖ 
Columns
ÖÖ 
.
ÖÖ 
Add
ÖÖ !
(
ÖÖ! "
$str
ÖÖ" 2
,
ÖÖ2 3
typeof
ÖÖ4 :
(
ÖÖ: ;
DateTime
ÖÖ; C
)
ÖÖC D
)
ÖÖD E
;
ÖÖE F
	dataTable
ÜÜ 
.
ÜÜ 
Columns
ÜÜ 
.
ÜÜ 
Add
ÜÜ !
(
ÜÜ! "
$str
ÜÜ" .
,
ÜÜ. /
typeof
ÜÜ0 6
(
ÜÜ6 7
DateTime
ÜÜ7 ?
)
ÜÜ? @
)
ÜÜ@ A
;
ÜÜA B
	dataTable
áá 
.
áá 
Columns
áá 
.
áá 
Add
áá !
(
áá! "
$str
áá" 6
,
áá6 7
typeof
áá8 >
(
áá> ?
string
áá? E
)
ááE F
)
ááF G
;
ááG H
	dataTable
àà 
.
àà 
Columns
àà 
.
àà 
Add
àà !
(
àà! "
$str
àà" 5
,
àà5 6
typeof
àà7 =
(
àà= >
string
àà> D
)
ààD E
)
ààE F
;
ààF G
	dataTable
ââ 
.
ââ 
Columns
ââ 
.
ââ 
Add
ââ !
(
ââ! "
$str
ââ" ;
,
ââ; <
typeof
ââ= C
(
ââC D
string
ââD J
)
ââJ K
)
ââK L
;
ââL M
	dataTable
ää 
.
ää 
Columns
ää 
.
ää 
Add
ää !
(
ää! "
$str
ää" :
,
ää: ;
typeof
ää< B
(
ääB C
string
ääC I
)
ääI J
)
ääJ K
;
ääK L
	dataTable
ãã 
.
ãã 
Columns
ãã 
.
ãã 
Add
ãã !
(
ãã! "
$str
ãã" ;
,
ãã; <
typeof
ãã= C
(
ããC D
string
ããD J
)
ããJ K
)
ããK L
;
ããL M
	dataTable
åå 
.
åå 
Columns
åå 
.
åå 
Add
åå !
(
åå! "
$str
åå" *
,
åå* +
typeof
åå, 2
(
åå2 3
string
åå3 9
)
åå9 :
)
åå: ;
;
åå; <
	dataTable
çç 
.
çç 
Columns
çç 
.
çç 
Add
çç !
(
çç! "
$str
çç" )
,
çç) *
typeof
çç+ 1
(
çç1 2
string
çç2 8
)
çç8 9
)
çç9 :
;
çç: ;
	dataTable
éé 
.
éé 
Columns
éé 
.
éé 
Add
éé !
(
éé! "
$str
éé" 2
,
éé2 3
typeof
éé4 :
(
éé: ;
DateTime
éé; C
)
ééC D
)
ééD E
;
ééE F
return
ëë 
	dataTable
ëë 
;
ëë 
}
ìì 	
private
ïï 
static
ïï 
	DataTable
ïï  #
GetEmptyPageInfoTable
ïï! 6
(
ïï6 7
)
ïï7 8
{
ññ 	
	DataTable
óó 
	dataTable
óó 
=
óó  !
new
óó" %
	DataTable
óó& /
(
óó/ 0
)
óó0 1
;
óó1 2
	dataTable
ôô 
.
ôô 
Columns
ôô 
.
ôô 
Add
ôô !
(
ôô! "
$str
ôô" *
,
ôô* +
typeof
ôô, 2
(
ôô2 3
int
ôô3 6
)
ôô6 7
)
ôô7 8
;
ôô8 9
	dataTable
öö 
.
öö 
Columns
öö 
.
öö 
Add
öö !
(
öö! "
$str
öö" ,
,
öö, -
typeof
öö. 4
(
öö4 5
Guid
öö5 9
)
öö9 :
)
öö: ;
;
öö; <
	dataTable
õõ 
.
õõ 
Columns
õõ 
.
õõ 
Add
õõ !
(
õõ! "
$str
õõ" 0
,
õõ0 1
typeof
õõ2 8
(
õõ8 9
Guid
õõ9 =
)
õõ= >
)
õõ> ?
;
õõ? @
	dataTable
úú 
.
úú 
Columns
úú 
.
úú 
Add
úú !
(
úú! "
$str
úú" +
,
úú+ ,
typeof
úú- 3
(
úú3 4
string
úú4 :
)
úú: ;
)
úú; <
;
úú< =
	dataTable
ùù 
.
ùù 
Columns
ùù 
.
ùù 
Add
ùù !
(
ùù! "
$str
ùù" ,
,
ùù, -
typeof
ùù. 4
(
ùù4 5
string
ùù5 ;
)
ùù; <
)
ùù< =
;
ùù= >
return
°° 
	dataTable
°° 
;
°° 
}
££ 	
public
ÆÆ 
static
ÆÆ 
DataSet
ÆÆ ,
GetPageOfWorkflowsWithPageInfo
ÆÆ <
(
ÆÆ< =
Guid
ÆÆ= A
siteGuid
ÆÆB J
,
ÆÆJ K#
ContentWorkflowStatus
ÆÆL a
status
ÆÆb h
,
ÆÆh i
int
ÆÆj m

pageNumber
ÆÆn x
,
ÆÆx y
int
ÆÆz }
pageSizeÆÆ~ Ü
,ÆÆÜ á
outÆÆà ã
intÆÆå è

totalPagesÆÆê ö
)ÆÆö õ
{
ØØ 	
DataSet
∞∞ 
dataSet
∞∞ 
=
∞∞ 
new
∞∞ !
DataSet
∞∞" )
(
∞∞) *
)
∞∞* +
;
∞∞+ ,
	DataTable
≤≤ 
workFlowsTable
≤≤ $
=
≤≤% &
GetEmptyTable
≤≤' 4
(
≤≤4 5
)
≤≤5 6
;
≤≤6 7
using
≥≥ 
(
≥≥ 
IDataReader
≥≥ 
reader
≥≥ %
=
≥≥& '
DBContentWorkflow
≥≥( 9
.
≥≥9 :
GetPage
≥≥: A
(
≥≥A B
siteGuid
¥¥$ ,
,
¥¥, -
status
µµ$ *
.
µµ* +
ToString
µµ+ 3
(
µµ3 4
)
µµ4 5
,
µµ5 6

pageNumber
∂∂$ .
,
∂∂. /
pageSize
∑∑$ ,
,
∑∑, -
out
∏∏$ '

totalPages
∏∏( 2
)
∏∏2 3
)
∏∏3 4
{
ππ 
while
∫∫ 
(
∫∫ 
reader
∫∫ 
.
∫∫ 
Read
∫∫ "
(
∫∫" #
)
∫∫# $
)
∫∫$ %
{
ªª 
DataRow
ºº 
row
ºº 
=
ºº  !
workFlowsTable
ºº" 0
.
ºº0 1
NewRow
ºº1 7
(
ºº7 8
)
ºº8 9
;
ºº9 :
row
ææ 
[
ææ 
$str
ææ 
]
ææ 
=
ææ  !
new
ææ" %
Guid
ææ& *
(
ææ* +
reader
ææ+ 1
[
ææ1 2
$str
ææ2 8
]
ææ8 9
.
ææ9 :
ToString
ææ: B
(
ææB C
)
ææC D
)
ææD E
;
ææE F
row
øø 
[
øø 
$str
øø "
]
øø" #
=
øø$ %
new
øø& )
Guid
øø* .
(
øø. /
reader
øø/ 5
[
øø5 6
$str
øø6 @
]
øø@ A
.
øøA B
ToString
øøB J
(
øøJ K
)
øøK L
)
øøL M
;
øøM N
row
¿¿ 
[
¿¿ 
$str
¿¿ "
]
¿¿" #
=
¿¿$ %
new
¿¿& )
Guid
¿¿* .
(
¿¿. /
reader
¿¿/ 5
[
¿¿5 6
$str
¿¿6 @
]
¿¿@ A
.
¿¿A B
ToString
¿¿B J
(
¿¿J K
)
¿¿K L
)
¿¿L M
;
¿¿M N
row
¡¡ 
[
¡¡ 
$str
¡¡ )
]
¡¡) *
=
¡¡+ ,
new
¡¡- 0
Guid
¡¡1 5
(
¡¡5 6
reader
¡¡6 <
[
¡¡< =
$str
¡¡= N
]
¡¡N O
.
¡¡O P
ToString
¡¡P X
(
¡¡X Y
)
¡¡Y Z
)
¡¡Z [
;
¡¡[ \
row
¬¬ 
[
¬¬ 
$str
¬¬ $
]
¬¬$ %
=
¬¬& '
new
¬¬( +
Guid
¬¬, 0
(
¬¬0 1
reader
¬¬1 7
[
¬¬7 8
$str
¬¬8 D
]
¬¬D E
.
¬¬E F
ToString
¬¬F N
(
¬¬N O
)
¬¬O P
)
¬¬P Q
;
¬¬Q R
row
√√ 
[
√√ 
$str
√√ -
]
√√- .
=
√√/ 0
new
√√1 4
Guid
√√5 9
(
√√9 :
reader
√√: @
[
√√@ A
$str
√√A V
]
√√V W
.
√√W X
ToString
√√X `
(
√√` a
)
√√a b
)
√√b c
;
√√c d
row
ƒƒ 
[
ƒƒ 
$str
ƒƒ "
]
ƒƒ" #
=
ƒƒ$ %
Convert
ƒƒ& -
.
ƒƒ- .
ToInt32
ƒƒ. 5
(
ƒƒ5 6
reader
ƒƒ6 <
[
ƒƒ< =
$str
ƒƒ= G
]
ƒƒG H
)
ƒƒH I
;
ƒƒI J
row
≈≈ 
[
≈≈ 
$str
≈≈ %
]
≈≈% &
=
≈≈' (
reader
≈≈) /
[
≈≈/ 0
$str
≈≈0 =
]
≈≈= >
;
≈≈> ?
row
«« 
[
«« 
$str
«« %
]
««% &
=
««' (
reader
««) /
[
««/ 0
$str
««0 =
]
««= >
;
««> ?
row
»» 
[
»» 
$str
»» $
]
»»$ %
=
»»& '
reader
»»( .
[
»». /
$str
»»/ ;
]
»»; <
;
»»< =
row
…… 
[
…… 
$str
…… /
]
……/ 0
=
……1 2
Convert
……3 :
.
……: ;
ToInt32
……; B
(
……B C
reader
……C I
[
……I J
$str
……J a
]
……a b
)
……b c
;
……c d
row
   
[
   
$str
   (
]
  ( )
=
  * +
Convert
  , 3
.
  3 4

ToDateTime
  4 >
(
  > ?
reader
  ? E
[
  E F
$str
  F V
]
  V W
)
  W X
;
  X Y
row
ÀÀ 
[
ÀÀ 
$str
ÀÀ $
]
ÀÀ$ %
=
ÀÀ& '
Convert
ÀÀ( /
.
ÀÀ/ 0

ToDateTime
ÀÀ0 :
(
ÀÀ: ;
reader
ÀÀ; A
[
ÀÀA B
$str
ÀÀB N
]
ÀÀN O
)
ÀÀO P
;
ÀÀP Q
row
ÃÃ 
[
ÃÃ 
$str
ÃÃ ,
]
ÃÃ, -
=
ÃÃ. /
reader
ÃÃ0 6
[
ÃÃ6 7
$str
ÃÃ7 K
]
ÃÃK L
;
ÃÃL M
row
ÕÕ 
[
ÕÕ 
$str
ÕÕ +
]
ÕÕ+ ,
=
ÕÕ- .
reader
ÕÕ/ 5
[
ÕÕ5 6
$str
ÕÕ6 I
]
ÕÕI J
;
ÕÕJ K
row
ŒŒ 
[
ŒŒ 
$str
ŒŒ 1
]
ŒŒ1 2
=
ŒŒ3 4
reader
ŒŒ5 ;
[
ŒŒ; <
$str
ŒŒ< U
]
ŒŒU V
;
ŒŒV W
row
œœ 
[
œœ 
$str
œœ 0
]
œœ0 1
=
œœ2 3
reader
œœ4 :
[
œœ: ;
$str
œœ; S
]
œœS T
;
œœT U
row
–– 
[
–– 
$str
–– 1
]
––1 2
=
––3 4
reader
––5 ;
[
––; <
$str
––< U
]
––U V
;
––V W
row
—— 
[
—— 
$str
——  
]
——  !
=
——" #
reader
——$ *
[
——* +
$str
——+ 3
]
——3 4
;
——4 5
row
““ 
[
““ 
$str
““ 
]
““  
=
““! "
reader
““# )
[
““) *
$str
““* 1
]
““1 2
;
““2 3
if
”” 
(
”” 
reader
”” 
[
”” 
$str
”” /
]
””/ 0
!=
””1 3
DBNull
””4 :
.
””: ;
Value
””; @
)
””@ A
{
‘‘ 
row
’’ 
[
’’ 
$str
’’ ,
]
’’, -
=
’’. /
Convert
’’0 7
.
’’7 8

ToDateTime
’’8 B
(
’’B C
reader
’’C I
[
’’I J
$str
’’J Z
]
’’Z [
)
’’[ \
;
’’\ ]
}
÷÷ 
else
◊◊ 
{
ÿÿ 
row
ŸŸ 
[
ŸŸ 
$str
ŸŸ ,
]
ŸŸ, -
=
ŸŸ. /
DateTime
ŸŸ0 8
.
ŸŸ8 9
UtcNow
ŸŸ9 ?
;
ŸŸ? @
}
⁄⁄ 
workFlowsTable
‹‹ "
.
‹‹" #
Rows
‹‹# '
.
‹‹' (
Add
‹‹( +
(
‹‹+ ,
row
‹‹, /
)
‹‹/ 0
;
‹‹0 1
}
ﬁﬁ 
}
‡‡ 
	DataTable
‚‚ 
pageInfoTable
‚‚ #
=
‚‚$ %#
GetEmptyPageInfoTable
‚‚& ;
(
‚‚; <
)
‚‚< =
;
‚‚= >
using
‰‰ 
(
‰‰ 
IDataReader
‰‰ 
reader
‰‰ %
=
‰‰& '
DBContentWorkflow
‰‰( 9
.
‰‰9 : 
GetPageInfoForPage
‰‰: L
(
‰‰L M
siteGuid
ÂÂ$ ,
,
ÂÂ, -
status
ÊÊ$ *
.
ÊÊ* +
ToString
ÊÊ+ 3
(
ÊÊ3 4
)
ÊÊ4 5
,
ÊÊ5 6

pageNumber
ÁÁ$ .
,
ÁÁ. /
pageSize
ËË$ ,
)
ËË, -
)
ËË- .
{
ÈÈ 
while
ÍÍ 
(
ÍÍ 
reader
ÍÍ 
.
ÍÍ 
Read
ÍÍ "
(
ÍÍ" #
)
ÍÍ# $
)
ÍÍ$ %
{
ÎÎ 
DataRow
ÏÏ 
row
ÏÏ 
=
ÏÏ  !
pageInfoTable
ÏÏ" /
.
ÏÏ/ 0
NewRow
ÏÏ0 6
(
ÏÏ6 7
)
ÏÏ7 8
;
ÏÏ8 9
int
ÌÌ 
pageId
ÌÌ 
=
ÌÌ  
Convert
ÌÌ! (
.
ÌÌ( )
ToInt32
ÌÌ) 0
(
ÌÌ0 1
reader
ÌÌ1 7
[
ÌÌ7 8
$str
ÌÌ8 @
]
ÌÌ@ A
)
ÌÌA B
;
ÌÌB C
row
ÓÓ 
[
ÓÓ 
$str
ÓÓ  
]
ÓÓ  !
=
ÓÓ" #
pageId
ÓÓ$ *
;
ÓÓ* +
row
ÔÔ 
[
ÔÔ 
$str
ÔÔ "
]
ÔÔ" #
=
ÔÔ$ %
new
ÔÔ& )
Guid
ÔÔ* .
(
ÔÔ. /
reader
ÔÔ/ 5
[
ÔÔ5 6
$str
ÔÔ6 @
]
ÔÔ@ A
.
ÔÔA B
ToString
ÔÔB J
(
ÔÔJ K
)
ÔÔK L
)
ÔÔL M
;
ÔÔM N
row
 
[
 
$str
 &
]
& '
=
( )
new
* -
Guid
. 2
(
2 3
reader
3 9
[
9 :
$str
: H
]
H I
.
I J
ToString
J R
(
R S
)
S T
)
T U
;
U V
row
ÒÒ 
[
ÒÒ 
$str
ÒÒ "
]
ÒÒ" #
=
ÒÒ$ %
reader
ÒÒ& ,
[
ÒÒ, -
$str
ÒÒ- 7
]
ÒÒ7 8
;
ÒÒ8 9
bool
ÚÚ 
useUrl
ÚÚ 
=
ÚÚ  !
Convert
ÚÚ" )
.
ÚÚ) *
	ToBoolean
ÚÚ* 3
(
ÚÚ3 4
reader
ÚÚ4 :
[
ÚÚ: ;
$str
ÚÚ; C
]
ÚÚC D
)
ÚÚD E
;
ÚÚE F
if
ÙÙ 
(
ÙÙ 
useUrl
ÙÙ 
)
ÙÙ 
{
ıı 
row
ˆˆ 
[
ˆˆ 
$str
ˆˆ %
]
ˆˆ% &
=
ˆˆ' (
reader
ˆˆ) /
[
ˆˆ/ 0
$str
ˆˆ0 9
]
ˆˆ9 :
;
ˆˆ: ;
}
˜˜ 
else
¯¯ 
{
˘˘ 
row
˙˙ 
[
˙˙ 
$str
˙˙ %
]
˙˙% &
=
˙˙' (
$str
˙˙) A
+
˙˙B C
pageId
˙˙D J
.
˙˙J K
ToString
˙˙K S
(
˙˙S T
CultureInfo
˙˙T _
.
˙˙_ `
InvariantCulture
˙˙` p
)
˙˙p q
;
˙˙q r
}
˚˚ 
pageInfoTable
˝˝ !
.
˝˝! "
Rows
˝˝" &
.
˝˝& '
Add
˝˝' *
(
˝˝* +
row
˝˝+ .
)
˝˝. /
;
˝˝/ 0
}
ˇˇ 
}
ÅÅ 
workFlowsTable
ÉÉ 
.
ÉÉ 
	TableName
ÉÉ $
=
ÉÉ% &
$str
ÉÉ' 2
;
ÉÉ2 3
dataSet
ÑÑ 
.
ÑÑ 
Tables
ÑÑ 
.
ÑÑ 
Add
ÑÑ 
(
ÑÑ 
workFlowsTable
ÑÑ -
)
ÑÑ- .
;
ÑÑ. /
pageInfoTable
ÜÜ 
.
ÜÜ 
	TableName
ÜÜ #
=
ÜÜ$ %
$str
ÜÜ& 0
;
ÜÜ0 1
dataSet
áá 
.
áá 
Tables
áá 
.
áá 
Add
áá 
(
áá 
pageInfoTable
áá ,
)
áá, -
;
áá- .
dataSet
ää 
.
ää 
	Relations
ää 
.
ää 
Add
ää !
(
ää! "
$str
ää" 1
,
ää1 2
dataSet
ãã 
.
ãã 
Tables
ãã 
[
ãã 
$str
ãã *
]
ãã* +
.
ãã+ ,
Columns
ãã, 3
[
ãã3 4
$str
ãã4 :
]
ãã: ;
,
ãã; <
dataSet
åå 
.
åå 
Tables
åå 
[
åå 
$str
åå )
]
åå) *
.
åå* +
Columns
åå+ 2
[
åå2 3
$str
åå3 A
]
ååA B
)
ååB C
;
ååC D
return
êê 
dataSet
êê 
;
êê 
}
ëë 	
}
´´ 
}¨¨ –
sD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ContentWorkflowStatus.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

enum !
ContentWorkflowStatus %
{ 
None 
, 
Draft 
, 
AwaitingApproval 
, 
ApprovalRejected		 
,		 
Approved

 
,

 
AwaitingPublishing 
, 
	Cancelled 
} 
} «
nD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\CRMCore\Customer.cs
	namespace 	

mojoPortal
 
. 
Business 
. 
CRMCore %
{ 
class 	
Customer
 
{ 
} 
} πë
fD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Currency.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
Currency 
{ 
public 
Currency 
( 
) 
{ 	
}
 
public 
Currency 
( 
Guid 
guid !
)! "
{   	
GetCurrency!! 
(!! 
guid!! 
)!! 
;!! 
}"" 	
private(( 
Guid(( 
guid(( 
=(( 
Guid((  
.((  !
Empty((! &
;((& '
private)) 
string)) 
title)) 
=)) 
string)) %
.))% &
Empty))& +
;))+ ,
private** 
string** 
code** 
=** 
$str** #
;**# $
private++ 
string++ 

symbolLeft++ !
=++" #
$str++$ '
;++' (
private,, 
string,, 
symbolRight,, "
=,,# $
string,,% +
.,,+ ,
Empty,,, 1
;,,1 2
private-- 
string-- 
decimalPointChar-- '
=--( )
$str--* -
;--- .
private.. 
string.. 
thousandsPointChar.. )
=..* +
$str.., /
;../ 0
private// 
string// 
decimalPlaces// $
=//% &
string//' -
.//- .
Empty//. 3
;//3 4
private00 
decimal00 
value00 
=00 
$num00  !
;00! "
private11 
DateTime11 
lastModified11 %
=11& '
DateTime11( 0
.110 1
UtcNow111 7
;117 8
private22 
DateTime22 
created22  
=22! "
DateTime22# +
.22+ ,
UtcNow22, 2
;222 3
public88 
Guid88 
Guid88 
{99 	
get:: 
{:: 
return:: 
guid:: 
;:: 
}::  
set;; 
{;; 
guid;; 
=;; 
value;; 
;;; 
};;  !
}<< 	
public== 
string== 
Title== 
{>> 	
get?? 
{?? 
return?? 
title?? 
;?? 
}??  !
set@@ 
{@@ 
title@@ 
=@@ 
value@@ 
;@@  
}@@! "
}AA 	
publicBB 
stringBB 
CodeBB 
{CC 	
getDD 
{DD 
returnDD 
codeDD 
;DD 
}DD  
setEE 
{EE 
codeEE 
=EE 
valueEE 
;EE 
}EE  !
}FF 	
publicGG 
stringGG 

SymbolLeftGG  
{HH 	
getII 
{II 
returnII 

symbolLeftII #
;II# $
}II% &
setJJ 
{JJ 

symbolLeftJJ 
=JJ 
valueJJ $
;JJ$ %
}JJ& '
}KK 	
publicLL 
stringLL 
SymbolRightLL !
{MM 	
getNN 
{NN 
returnNN 
symbolRightNN $
;NN$ %
}NN& '
setOO 
{OO 
symbolRightOO 
=OO 
valueOO  %
;OO% &
}OO' (
}PP 	
publicQQ 
stringQQ 
DecimalPointCharQQ &
{RR 	
getSS 
{SS 
returnSS 
decimalPointCharSS )
;SS) *
}SS+ ,
setTT 
{TT 
decimalPointCharTT "
=TT# $
valueTT% *
;TT* +
}TT, -
}UU 	
publicVV 
stringVV 
ThousandsPointCharVV (
{WW 	
getXX 
{XX 
returnXX 
thousandsPointCharXX +
;XX+ ,
}XX- .
setYY 
{YY 
thousandsPointCharYY $
=YY% &
valueYY' ,
;YY, -
}YY. /
}ZZ 	
public[[ 
string[[ 
DecimalPlaces[[ #
{\\ 	
get]] 
{]] 
return]] 
decimalPlaces]] &
;]]& '
}]]( )
set^^ 
{^^ 
decimalPlaces^^ 
=^^  !
value^^" '
;^^' (
}^^) *
}__ 	
public`` 
decimal`` 
Value`` 
{aa 	
getbb 
{bb 
returnbb 
valuebb 
;bb 
}bb  !
setcc 
{cc 
thiscc 
.cc 
valuecc 
=cc 
valuecc $
;cc$ %
}cc& '
}dd 	
publicee 
DateTimeee 
LastModifiedee $
{ff 	
getgg 
{gg 
returngg 
lastModifiedgg %
;gg% &
}gg' (
sethh 
{hh 
lastModifiedhh 
=hh  
valuehh! &
;hh& '
}hh( )
}ii 	
publicjj 
DateTimejj 
Createdjj 
{kk 	
getll 
{ll 
returnll 
createdll  
;ll  !
}ll" #
setmm 
{mm 
createdmm 
=mm 
valuemm !
;mm! "
}mm# $
}nn 	
privatett 
voidtt 
GetCurrencytt  
(tt  !
Guidtt! %
guidtt& *
)tt* +
{uu 	
usingvv 
(vv 
IDataReadervv 
readervv %
=vv& '

DBCurrencyvv( 2
.vv2 3
GetOnevv3 9
(vv9 :
guidvv: >
)vv> ?
)vv? @
{ww 
ifxx 
(xx 
readerxx 
.xx 
Readxx 
(xx  
)xx  !
)xx! "
{yy 
thiszz 
.zz 
guidzz 
=zz 
newzz  #
Guidzz$ (
(zz( )
readerzz) /
[zz/ 0
$strzz0 6
]zz6 7
.zz7 8
ToStringzz8 @
(zz@ A
)zzA B
)zzB C
;zzC D
this{{ 
.{{ 
title{{ 
={{  
reader{{! '
[{{' (
$str{{( /
]{{/ 0
.{{0 1
ToString{{1 9
({{9 :
){{: ;
;{{; <
this|| 
.|| 
code|| 
=|| 
reader||  &
[||& '
$str||' -
]||- .
.||. /
ToString||/ 7
(||7 8
)||8 9
;||9 :
this}} 
.}} 

symbolLeft}} #
=}}$ %
reader}}& ,
[}}, -
$str}}- 9
]}}9 :
.}}: ;
ToString}}; C
(}}C D
)}}D E
;}}E F
this~~ 
.~~ 
symbolRight~~ $
=~~% &
reader~~' -
[~~- .
$str~~. ;
]~~; <
.~~< =
ToString~~= E
(~~E F
)~~F G
;~~G H
this 
. 
decimalPointChar )
=* +
reader, 2
[2 3
$str3 E
]E F
.F G
ToStringG O
(O P
)P Q
;Q R
this
ÄÄ 
.
ÄÄ  
thousandsPointChar
ÄÄ +
=
ÄÄ, -
reader
ÄÄ. 4
[
ÄÄ4 5
$str
ÄÄ5 I
]
ÄÄI J
.
ÄÄJ K
ToString
ÄÄK S
(
ÄÄS T
)
ÄÄT U
;
ÄÄU V
this
ÅÅ 
.
ÅÅ 
decimalPlaces
ÅÅ &
=
ÅÅ' (
reader
ÅÅ) /
[
ÅÅ/ 0
$str
ÅÅ0 ?
]
ÅÅ? @
.
ÅÅ@ A
ToString
ÅÅA I
(
ÅÅI J
)
ÅÅJ K
;
ÅÅK L
this
ÇÇ 
.
ÇÇ 
value
ÇÇ 
=
ÇÇ  
Convert
ÇÇ! (
.
ÇÇ( )
	ToDecimal
ÇÇ) 2
(
ÇÇ2 3
reader
ÇÇ3 9
[
ÇÇ9 :
$str
ÇÇ: A
]
ÇÇA B
)
ÇÇB C
;
ÇÇC D
this
ÉÉ 
.
ÉÉ 
lastModified
ÉÉ %
=
ÉÉ& '
Convert
ÉÉ( /
.
ÉÉ/ 0

ToDateTime
ÉÉ0 :
(
ÉÉ: ;
reader
ÉÉ; A
[
ÉÉA B
$str
ÉÉB P
]
ÉÉP Q
)
ÉÉQ R
;
ÉÉR S
this
ÑÑ 
.
ÑÑ 
created
ÑÑ  
=
ÑÑ! "
Convert
ÑÑ# *
.
ÑÑ* +

ToDateTime
ÑÑ+ 5
(
ÑÑ5 6
reader
ÑÑ6 <
[
ÑÑ< =
$str
ÑÑ= F
]
ÑÑF G
)
ÑÑG H
;
ÑÑH I
}
ÜÜ 
}
àà 
}
ää 	
private
åå 
bool
åå 
Create
åå 
(
åå 
)
åå 
{
çç 	
Guid
éé 
newID
éé 
=
éé 
Guid
éé 
.
éé 
NewGuid
éé %
(
éé% &
)
éé& '
;
éé' (
this
êê 
.
êê 
guid
êê 
=
êê 
newID
êê 
;
êê 
int
íí 
rowsAffected
íí 
=
íí 

DBCurrency
íí )
.
íí) *
Create
íí* 0
(
íí0 1
this
ìì 
.
ìì 
guid
ìì 
,
ìì 
this
îî 
.
îî 
title
îî 
,
îî 
this
ïï 
.
ïï 
code
ïï 
,
ïï 
this
ññ 
.
ññ 

symbolLeft
ññ 
,
ññ  
this
óó 
.
óó 
symbolRight
óó  
,
óó  !
this
òò 
.
òò 
decimalPointChar
òò %
,
òò% &
this
ôô 
.
ôô  
thousandsPointChar
ôô '
,
ôô' (
this
öö 
.
öö 
decimalPlaces
öö "
,
öö" #
this
õõ 
.
õõ 
value
õõ 
,
õõ 
this
úú 
.
úú 
lastModified
úú !
,
úú! "
this
ùù 
.
ùù 
created
ùù 
)
ùù 
;
ùù 
return
üü 
(
üü 
rowsAffected
üü  
>
üü! "
$num
üü# $
)
üü$ %
;
üü% &
}
°° 	
private
•• 
bool
•• 
Update
•• 
(
•• 
)
•• 
{
¶¶ 	
return
®® 

DBCurrency
®® 
.
®® 
Update
®® $
(
®®$ %
this
©© 
.
©© 
guid
©© 
,
©© 
this
™™ 
.
™™ 
title
™™ 
,
™™ 
this
´´ 
.
´´ 
code
´´ 
,
´´ 
this
¨¨ 
.
¨¨ 

symbolLeft
¨¨ 
,
¨¨  
this
≠≠ 
.
≠≠ 
symbolRight
≠≠  
,
≠≠  !
this
ÆÆ 
.
ÆÆ 
decimalPointChar
ÆÆ %
,
ÆÆ% &
this
ØØ 
.
ØØ  
thousandsPointChar
ØØ '
,
ØØ' (
this
∞∞ 
.
∞∞ 
decimalPlaces
∞∞ "
,
∞∞" #
this
±± 
.
±± 
value
±± 
,
±± 
this
≤≤ 
.
≤≤ 
lastModified
≤≤ !
)
≤≤! "
;
≤≤" #
}
¥¥ 	
public
ºº 
bool
ºº 
Save
ºº 
(
ºº 
)
ºº 
{
ΩΩ 	
if
ææ 
(
ææ 
this
ææ 
.
ææ 
guid
ææ 
!=
ææ 
Guid
ææ !
.
ææ! "
Empty
ææ" '
)
ææ' (
{
øø 
return
¿¿ 
Update
¿¿ 
(
¿¿ 
)
¿¿ 
;
¿¿  
}
¡¡ 
else
¬¬ 
{
√√ 
return
ƒƒ 
Create
ƒƒ 
(
ƒƒ 
)
ƒƒ 
;
ƒƒ  
}
≈≈ 
}
∆∆ 	
public
œœ 
static
œœ 
bool
œœ 
Delete
œœ !
(
œœ! "
Guid
œœ" &
guid
œœ' +
)
œœ+ ,
{
–– 	
return
—— 

DBCurrency
—— 
.
—— 
Delete
—— $
(
——$ %
guid
——% )
)
——) *
;
——* +
}
““ 	
public
’’ 
static
’’ 
	DataTable
’’ 
GetAll
’’  &
(
’’& '
)
’’' (
{
÷÷ 	
	DataTable
◊◊ 
	dataTable
◊◊ 
=
◊◊  !
new
◊◊" %
	DataTable
◊◊& /
(
◊◊/ 0
)
◊◊0 1
;
◊◊1 2
	dataTable
ÿÿ 
.
ÿÿ 
Columns
ÿÿ 
.
ÿÿ 
Add
ÿÿ !
(
ÿÿ! "
$str
ÿÿ" (
,
ÿÿ( )
typeof
ÿÿ* 0
(
ÿÿ0 1
Guid
ÿÿ1 5
)
ÿÿ5 6
)
ÿÿ6 7
;
ÿÿ7 8
	dataTable
ŸŸ 
.
ŸŸ 
Columns
ŸŸ 
.
ŸŸ 
Add
ŸŸ !
(
ŸŸ! "
$str
ŸŸ" )
,
ŸŸ) *
typeof
ŸŸ+ 1
(
ŸŸ1 2
string
ŸŸ2 8
)
ŸŸ8 9
)
ŸŸ9 :
;
ŸŸ: ;
	dataTable
⁄⁄ 
.
⁄⁄ 
Columns
⁄⁄ 
.
⁄⁄ 
Add
⁄⁄ !
(
⁄⁄! "
$str
⁄⁄" (
,
⁄⁄( )
typeof
⁄⁄* 0
(
⁄⁄0 1
string
⁄⁄1 7
)
⁄⁄7 8
)
⁄⁄8 9
;
⁄⁄9 :
	dataTable
€€ 
.
€€ 
Columns
€€ 
.
€€ 
Add
€€ !
(
€€! "
$str
€€" .
,
€€. /
typeof
€€0 6
(
€€6 7
string
€€7 =
)
€€= >
)
€€> ?
;
€€? @
	dataTable
‹‹ 
.
‹‹ 
Columns
‹‹ 
.
‹‹ 
Add
‹‹ !
(
‹‹! "
$str
‹‹" /
,
‹‹/ 0
typeof
‹‹1 7
(
‹‹7 8
string
‹‹8 >
)
‹‹> ?
)
‹‹? @
;
‹‹@ A
	dataTable
›› 
.
›› 
Columns
›› 
.
›› 
Add
›› !
(
››! "
$str
››" 4
,
››4 5
typeof
››6 <
(
››< =
string
››= C
)
››C D
)
››D E
;
››E F
	dataTable
ﬁﬁ 
.
ﬁﬁ 
Columns
ﬁﬁ 
.
ﬁﬁ 
Add
ﬁﬁ !
(
ﬁﬁ! "
$str
ﬁﬁ" 6
,
ﬁﬁ6 7
typeof
ﬁﬁ8 >
(
ﬁﬁ> ?
string
ﬁﬁ? E
)
ﬁﬁE F
)
ﬁﬁF G
;
ﬁﬁG H
	dataTable
ﬂﬂ 
.
ﬂﬂ 
Columns
ﬂﬂ 
.
ﬂﬂ 
Add
ﬂﬂ !
(
ﬂﬂ! "
$str
ﬂﬂ" 1
,
ﬂﬂ1 2
typeof
ﬂﬂ3 9
(
ﬂﬂ9 :
string
ﬂﬂ: @
)
ﬂﬂ@ A
)
ﬂﬂA B
;
ﬂﬂB C
	dataTable
‡‡ 
.
‡‡ 
Columns
‡‡ 
.
‡‡ 
Add
‡‡ !
(
‡‡! "
$str
‡‡" )
,
‡‡) *
typeof
‡‡+ 1
(
‡‡1 2
decimal
‡‡2 9
)
‡‡9 :
)
‡‡: ;
;
‡‡; <
	dataTable
·· 
.
·· 
Columns
·· 
.
·· 
Add
·· !
(
··! "
$str
··" 0
,
··0 1
typeof
··2 8
(
··8 9
DateTime
··9 A
)
··A B
)
··B C
;
··C D
	dataTable
‚‚ 
.
‚‚ 
Columns
‚‚ 
.
‚‚ 
Add
‚‚ !
(
‚‚! "
$str
‚‚" +
,
‚‚+ ,
typeof
‚‚- 3
(
‚‚3 4
DateTime
‚‚4 <
)
‚‚< =
)
‚‚= >
;
‚‚> ?
using
‰‰ 
(
‰‰ 
IDataReader
‰‰ 
reader
‰‰ %
=
‰‰& '

DBCurrency
‰‰( 2
.
‰‰2 3
GetAll
‰‰3 9
(
‰‰9 :
)
‰‰: ;
)
‰‰; <
{
ÂÂ 
while
ÊÊ 
(
ÊÊ 
reader
ÊÊ 
.
ÊÊ 
Read
ÊÊ "
(
ÊÊ" #
)
ÊÊ# $
)
ÊÊ$ %
{
ÁÁ 
DataRow
ËË 
row
ËË 
=
ËË  !
	dataTable
ËË" +
.
ËË+ ,
NewRow
ËË, 2
(
ËË2 3
)
ËË3 4
;
ËË4 5
row
ÈÈ 
[
ÈÈ 
$str
ÈÈ 
]
ÈÈ 
=
ÈÈ  !
reader
ÈÈ" (
[
ÈÈ( )
$str
ÈÈ) /
]
ÈÈ/ 0
;
ÈÈ0 1
row
ÍÍ 
[
ÍÍ 
$str
ÍÍ 
]
ÍÍ  
=
ÍÍ! "
reader
ÍÍ# )
[
ÍÍ) *
$str
ÍÍ* 1
]
ÍÍ1 2
;
ÍÍ2 3
row
ÎÎ 
[
ÎÎ 
$str
ÎÎ 
]
ÎÎ 
=
ÎÎ  !
reader
ÎÎ" (
[
ÎÎ( )
$str
ÎÎ) /
]
ÎÎ/ 0
;
ÎÎ0 1
row
ÏÏ 
[
ÏÏ 
$str
ÏÏ $
]
ÏÏ$ %
=
ÏÏ& '
reader
ÏÏ( .
[
ÏÏ. /
$str
ÏÏ/ ;
]
ÏÏ; <
;
ÏÏ< =
row
ÌÌ 
[
ÌÌ 
$str
ÌÌ %
]
ÌÌ% &
=
ÌÌ' (
reader
ÌÌ) /
[
ÌÌ/ 0
$str
ÌÌ0 =
]
ÌÌ= >
;
ÌÌ> ?
row
ÓÓ 
[
ÓÓ 
$str
ÓÓ *
]
ÓÓ* +
=
ÓÓ, -
reader
ÓÓ. 4
[
ÓÓ4 5
$str
ÓÓ5 G
]
ÓÓG H
;
ÓÓH I
row
ÔÔ 
[
ÔÔ 
$str
ÔÔ ,
]
ÔÔ, -
=
ÔÔ. /
reader
ÔÔ0 6
[
ÔÔ6 7
$str
ÔÔ7 K
]
ÔÔK L
;
ÔÔL M
row
 
[
 
$str
 '
]
' (
=
) *
reader
+ 1
[
1 2
$str
2 A
]
A B
;
B C
row
ÒÒ 
[
ÒÒ 
$str
ÒÒ 
]
ÒÒ  
=
ÒÒ! "
reader
ÒÒ# )
[
ÒÒ) *
$str
ÒÒ* 1
]
ÒÒ1 2
;
ÒÒ2 3
row
ÚÚ 
[
ÚÚ 
$str
ÚÚ &
]
ÚÚ& '
=
ÚÚ( )
reader
ÚÚ* 0
[
ÚÚ0 1
$str
ÚÚ1 ?
]
ÚÚ? @
;
ÚÚ@ A
row
ÛÛ 
[
ÛÛ 
$str
ÛÛ !
]
ÛÛ! "
=
ÛÛ# $
reader
ÛÛ% +
[
ÛÛ+ ,
$str
ÛÛ, 5
]
ÛÛ5 6
;
ÛÛ6 7
	dataTable
ıı 
.
ıı 
Rows
ıı "
.
ıı" #
Add
ıı# &
(
ıı& '
row
ıı' *
)
ıı* +
;
ıı+ ,
}
ˆˆ 
}
¯¯ 
return
˙˙ 
	dataTable
˙˙ 
;
˙˙ 
}
˚˚ 	
}
≠≠ 
}ØØ ÿÁ
lD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ELetter\Letter.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
Letter 
{ 
public 
const 
string 
UnsubscribeToken ,
=- .
$str/ >
;> ?
public 
const 
string 
UserNameToken )
=* +
$str, 8
;8 9
public 
const 
string 
UserEmailToken *
=+ ,
$str- 6
;6 7
public 
const 
string 
WebPageLinkToken ,
=- .
$str/ @
;@ A
public 
const 
string  
UserDisplayNameToken 0
=1 2
$str3 B
;B C
public 
const 
string 
UserFirstNameToken .
=/ 0
$str1 >
;> ?
public 
const 
string 
UserLastNameToken -
=. /
$str0 <
;< =
public 
Letter 
( 
) 
{ 
} 
public   
Letter   
(   
Guid   

letterGuid   %
)  % &
{!! 	
	GetLetter"" 
("" 

letterGuid""  
)""  !
;""! "
}## 	
public)) 
Guid))	 

LetterGuid)) 
{)) 
get)) 
;)) 
set))  #
;))# $
}))% &
=))' (
Guid))) -
.))- .
Empty)). 3
;))3 4
public** 
Guid**	 
LetterInfoGuid** 
{** 
get** "
;**" #
set**$ '
;**' (
}**) *
=**+ ,
Guid**- 1
.**1 2
Empty**2 7
;**7 8
public++ 
string++	 
Subject++ 
{++ 
get++ 
;++ 
set++ "
;++" #
}++$ %
=++& '
string++( .
.++. /
Empty++/ 4
;++4 5
public,, 
string,,	 
HtmlBody,, 
{,, 
get,, 
;,, 
set,,  #
;,,# $
},,% &
=,,' (
string,,) /
.,,/ 0
Empty,,0 5
;,,5 6
public-- 
string--	 
TextBody-- 
{-- 
get-- 
;-- 
set--  #
;--# $
}--% &
=--' (
string--) /
.--/ 0
Empty--0 5
;--5 6
public.. 
Guid..	 
	CreatedBy.. 
{.. 
get.. 
;.. 
set.. "
;.." #
}..$ %
=..& '
Guid..( ,
..., -
Empty..- 2
;..2 3
public// 
DateTime//	 

CreatedUtc// 
{// 
get// "
;//" #
set//$ '
;//' (
}//) *
public00 
Guid00	 
	LastModBy00 
{00 
get00 
;00 
set00 "
;00" #
}00$ %
=00& '
Guid00( ,
.00, -
Empty00- 2
;002 3
public11 
DateTime11	 

LastModUtc11 
{11 
get11 "
;11" #
set11$ '
;11' (
}11) *
public22 
bool22	 

IsApproved22 
{22 
get22 
;22 
set22  #
;22# $
}22% &
public33 
Guid33	 

ApprovedBy33 
{33 
get33 
;33 
set33  #
;33# $
}33% &
=33' (
Guid33) -
.33- .
Empty33. 3
;333 4
public44 
DateTime44	 
SendClickedUtc44  
{44! "
get44# &
;44& '
set44( +
;44+ ,
}44- .
=44/ 0
DateTime441 9
.449 :
MinValue44: B
;44B C
public55 
DateTime55	 
SendStartedUtc55  
{55! "
get55# &
;55& '
set55( +
;55+ ,
}55- .
=55/ 0
DateTime551 9
.559 :
MinValue55: B
;55B C
public66 
DateTime66	 
SendCompleteUtc66 !
{66" #
get66$ '
;66' (
set66) ,
;66, -
}66. /
=660 1
DateTime662 :
.66: ;
MinValue66; C
;66C D
public77 
int77	 
	SendCount77 
{77 
get77 
;77 
set77 !
;77! "
}77# $
=77% &
$num77' (
;77( )
privateAA 	
voidAA
 
	GetLetterAA 
(AA 
GuidAA 

letterGuidAA (
)AA( )
{BB 	
usingCC 
(CC 
IDataReaderCC 
readerCC %
=CC& '
DBLetterCC( 0
.CC0 1
GetOneCC1 7
(CC7 8

letterGuidCC8 B
)CCB C
)CCC D
{DD 
ifEE 
(EE 
readerEE 
.EE 
ReadEE 
(EE  
)EE  !
)EE! "
{FF 
thisGG 
.GG 

LetterGuidGG #
=GG$ %
newGG& )
GuidGG* .
(GG. /
readerGG/ 5
[GG5 6
$strGG6 B
]GGB C
.GGC D
ToStringGGD L
(GGL M
)GGM N
)GGN O
;GGO P
thisHH 
.HH 
LetterInfoGuidHH '
=HH( )
newHH* -
GuidHH. 2
(HH2 3
readerHH3 9
[HH9 :
$strHH: J
]HHJ K
.HHK L
ToStringHHL T
(HHT U
)HHU V
)HHV W
;HHW X
thisII 
.II 
SubjectII  
=II! "
readerII# )
[II) *
$strII* 3
]II3 4
.II4 5
ToStringII5 =
(II= >
)II> ?
;II? @
thisJJ 
.JJ 
HtmlBodyJJ !
=JJ" #
readerJJ$ *
[JJ* +
$strJJ+ 5
]JJ5 6
.JJ6 7
ToStringJJ7 ?
(JJ? @
)JJ@ A
;JJA B
thisKK 
.KK 
TextBodyKK !
=KK" #
readerKK$ *
[KK* +
$strKK+ 5
]KK5 6
.KK6 7
ToStringKK7 ?
(KK? @
)KK@ A
;KKA B
thisLL 
.LL 
	CreatedByLL "
=LL# $
newLL% (
GuidLL) -
(LL- .
readerLL. 4
[LL4 5
$strLL5 @
]LL@ A
.LLA B
ToStringLLB J
(LLJ K
)LLK L
)LLL M
;LLM N
thisMM 
.MM 

CreatedUtcMM #
=MM$ %
ConvertMM& -
.MM- .

ToDateTimeMM. 8
(MM8 9
readerMM9 ?
[MM? @
$strMM@ L
]MML M
)MMM N
;MMN O
thisNN 
.NN 
	LastModByNN "
=NN# $
newNN% (
GuidNN) -
(NN- .
readerNN. 4
[NN4 5
$strNN5 @
]NN@ A
.NNA B
ToStringNNB J
(NNJ K
)NNK L
)NNL M
;NNM N
thisOO 
.OO 

LastModUtcOO #
=OO$ %
ConvertOO& -
.OO- .

ToDateTimeOO. 8
(OO8 9
readerOO9 ?
[OO? @
$strOO@ L
]OOL M
)OOM N
;OON O
thisPP 
.PP 

IsApprovedPP #
=PP$ %
ConvertPP& -
.PP- .
	ToBooleanPP. 7
(PP7 8
readerPP8 >
[PP> ?
$strPP? K
]PPK L
)PPL M
;PPM N
thisQQ 
.QQ 

ApprovedByQQ #
=QQ$ %
newQQ& )
GuidQQ* .
(QQ. /
readerQQ/ 5
[QQ5 6
$strQQ6 B
]QQB C
.QQC D
ToStringQQD L
(QQL M
)QQM N
)QQN O
;QQO P
ifSS 
(SS 
readerSS 
[SS 
$strSS /
]SS/ 0
!=SS1 3
DBNullSS4 :
.SS: ;
ValueSS; @
)SS@ A
thisTT 
.TT 
SendClickedUtcTT +
=TT, -
ConvertTT. 5
.TT5 6

ToDateTimeTT6 @
(TT@ A
readerTTA G
[TTG H
$strTTH X
]TTX Y
)TTY Z
;TTZ [
ifVV 
(VV 
readerVV 
[VV 
$strVV /
]VV/ 0
!=VV1 3
DBNullVV4 :
.VV: ;
ValueVV; @
)VV@ A
thisWW 
.WW 
SendStartedUtcWW +
=WW, -
ConvertWW. 5
.WW5 6

ToDateTimeWW6 @
(WW@ A
readerWWA G
[WWG H
$strWWH X
]WWX Y
)WWY Z
;WWZ [
ifYY 
(YY 
readerYY 
[YY 
$strYY 0
]YY0 1
!=YY2 4
DBNullYY5 ;
.YY; <
ValueYY< A
)YYA B
thisZZ 
.ZZ 
SendCompleteUtcZZ ,
=ZZ- .
ConvertZZ/ 6
.ZZ6 7

ToDateTimeZZ7 A
(ZZA B
readerZZB H
[ZZH I
$strZZI Z
]ZZZ [
)ZZ[ \
;ZZ\ ]
this\\ 
.\\ 
	SendCount\\ "
=\\# $
Convert\\% ,
.\\, -
ToInt32\\- 4
(\\4 5
reader\\5 ;
[\\; <
$str\\< G
]\\G H
)\\H I
;\\I J
}^^ 
}`` 
}bb 	
privatejj 
booljj 
Createjj 
(jj 
)jj 
{kk 	
Guidll 
newIDll 
=ll 
Guidll 
.ll 
NewGuidll %
(ll% &
)ll& '
;ll' (
thisnn 
.nn 

LetterGuidnn 
=nn 
newIDnn #
;nn# $
thisoo 
.oo 

CreatedUtcoo 
=oo 
DateTimeoo &
.oo& '
UtcNowoo' -
;oo- .
thispp 
.pp 

LastModUtcpp 
=pp 
DateTimepp &
.pp& '
UtcNowpp' -
;pp- .
intrr 
rowsAffectedrr 
=rr 
DBLetterrr '
.rr' (
Createrr( .
(rr. /
thisss 
.ss 

LetterGuidss 
,ss  
thistt 
.tt 
LetterInfoGuidtt #
,tt# $
thisuu 
.uu 
Subjectuu 
,uu 
thisvv 
.vv 
HtmlBodyvv 
,vv 
thisww 
.ww 
TextBodyww 
,ww 
thisxx 
.xx 
	CreatedByxx 
,xx 
thisyy 
.yy 

CreatedUtcyy 
,yy  
thiszz 
.zz 
	LastModByzz 
,zz 
this{{ 
.{{ 

LastModUtc{{ 
,{{  
this|| 
.|| 

IsApproved|| 
,||  
this}} 
.}} 

ApprovedBy}} 
)}}  
;}}  !
return 
( 
rowsAffected  
>! "
$num# $
)$ %
;% &
}
ÅÅ 	
private
àà 
bool
àà 
Update
àà 
(
àà 
)
àà 
{
ââ 	
this
ää 
.
ää 

LastModUtc
ää 
=
ää 
DateTime
ää &
.
ää& '
UtcNow
ää' -
;
ää- .
return
åå 
DBLetter
åå 
.
åå 
Update
åå "
(
åå" #
this
çç 
.
çç 

LetterGuid
çç 
,
çç  
this
éé 
.
éé 
LetterInfoGuid
éé #
,
éé# $
this
èè 
.
èè 
Subject
èè 
,
èè 
this
êê 
.
êê 
HtmlBody
êê 
,
êê 
this
ëë 
.
ëë 
TextBody
ëë 
,
ëë 
this
íí 
.
íí 
	LastModBy
íí 
,
íí 
this
ìì 
.
ìì 

LastModUtc
ìì 
,
ìì  
this
îî 
.
îî 

IsApproved
îî 
,
îî  
this
ïï 
.
ïï 

ApprovedBy
ïï 
)
ïï  
;
ïï  !
}
óó 	
public
ûû 
bool
ûû 
TrackSendClicked
ûû $
(
ûû$ %
)
ûû% &
{
üü 	
return
†† 
DBLetter
†† 
.
†† 
SendClicked
†† '
(
††' (
this
††( ,
.
††, -

LetterGuid
††- 7
,
††7 8
DateTime
††9 A
.
††A B
UtcNow
††B H
)
††H I
;
††I J
}
¢¢ 	
public
®® 
bool
®® 
TrackSendStarted
®® $
(
®®$ %
)
®®% &
{
©© 	
return
™™ 
DBLetter
™™ 
.
™™ 
SendStarted
™™ '
(
™™' (
this
™™( ,
.
™™, -

LetterGuid
™™- 7
,
™™7 8
DateTime
™™9 A
.
™™A B
UtcNow
™™B H
)
™™H I
;
™™I J
}
¨¨ 	
public
≥≥ 
bool
≥≥ 
TrackSendComplete
≥≥ %
(
≥≥% &
int
≥≥& )
	sendCount
≥≥* 3
)
≥≥3 4
{
¥¥ 	
return
µµ 
DBLetter
µµ 
.
µµ 
SendComplete
µµ (
(
µµ( )
this
µµ) -
.
µµ- .

LetterGuid
µµ. 8
,
µµ8 9
DateTime
µµ: B
.
µµB C
UtcNow
µµC I
,
µµI J
	sendCount
µµK T
)
µµT U
;
µµU V
}
∑∑ 	
public
¬¬ 
bool
¬¬ 
Save
¬¬ 
(
¬¬ 
)
¬¬ 
{
√√ 	
if
ƒƒ 
(
ƒƒ 
this
ƒƒ 
.
ƒƒ 

LetterGuid
ƒƒ 
!=
ƒƒ  "
Guid
ƒƒ# '
.
ƒƒ' (
Empty
ƒƒ( -
)
ƒƒ- .
{
≈≈ 
return
∆∆ 
Update
∆∆ 
(
∆∆ 
)
∆∆ 
;
∆∆  
}
«« 
else
»» 
{
…… 
return
   
Create
   
(
   
)
   
;
    
}
ÀÀ 
}
ÃÃ 	
public
⁄⁄ 
static
⁄⁄ 
bool
⁄⁄ 
Delete
⁄⁄ !
(
⁄⁄! "
Guid
⁄⁄" &

letterGuid
⁄⁄' 1
)
⁄⁄1 2
{
€€ 	
LetterSendLog
‹‹ 
.
‹‹ 
DeleteByLetter
‹‹ (
(
‹‹( )

letterGuid
‹‹) 3
)
‹‹3 4
;
‹‹4 5
return
›› 
DBLetter
›› 
.
›› 
Delete
›› "
(
››" #

letterGuid
››# -
)
››- .
;
››. /
}
ﬁﬁ 	
public
ÂÂ 
static
ÂÂ 
bool
ÂÂ  
DeleteByLetterInfo
ÂÂ -
(
ÂÂ- .
Guid
ÂÂ. 2
letterInfoGuid
ÂÂ3 A
)
ÂÂA B
{
ÊÊ 	
return
ÁÁ 
DBLetter
ÁÁ 
.
ÁÁ  
DeleteByLetterInfo
ÁÁ .
(
ÁÁ. /
letterInfoGuid
ÁÁ/ =
)
ÁÁ= >
;
ÁÁ> ?
}
ËË 	
private
ÍÍ 
static
ÍÍ 
List
ÍÍ 
<
ÍÍ 
Letter
ÍÍ "
>
ÍÍ" # 
PopulateFromReader
ÍÍ$ 6
(
ÍÍ6 7
IDataReader
ÍÍ7 B
reader
ÍÍC I
)
ÍÍI J
{
ÎÎ 	
List
ÏÏ 
<
ÏÏ 
Letter
ÏÏ 
>
ÏÏ 

letterList
ÏÏ #
=
ÏÏ$ %
new
ÏÏ& )
List
ÏÏ* .
<
ÏÏ. /
Letter
ÏÏ/ 5
>
ÏÏ5 6
(
ÏÏ6 7
)
ÏÏ7 8
;
ÏÏ8 9
try
ÌÌ 
{
ÓÓ 
while
ÔÔ 
(
ÔÔ 
reader
ÔÔ 
.
ÔÔ 
Read
ÔÔ "
(
ÔÔ" #
)
ÔÔ# $
)
ÔÔ$ %
{
 
Letter
ÒÒ 
letter
ÒÒ !
=
ÒÒ" #
new
ÒÒ$ '
Letter
ÒÒ( .
(
ÒÒ. /
)
ÒÒ/ 0
;
ÒÒ0 1
letter
ÚÚ 
.
ÚÚ 

LetterGuid
ÚÚ %
=
ÚÚ& '
new
ÚÚ( +
Guid
ÚÚ, 0
(
ÚÚ0 1
reader
ÚÚ1 7
[
ÚÚ7 8
$str
ÚÚ8 D
]
ÚÚD E
.
ÚÚE F
ToString
ÚÚF N
(
ÚÚN O
)
ÚÚO P
)
ÚÚP Q
;
ÚÚQ R
letter
ÛÛ 
.
ÛÛ 
LetterInfoGuid
ÛÛ )
=
ÛÛ* +
new
ÛÛ, /
Guid
ÛÛ0 4
(
ÛÛ4 5
reader
ÛÛ5 ;
[
ÛÛ; <
$str
ÛÛ< L
]
ÛÛL M
.
ÛÛM N
ToString
ÛÛN V
(
ÛÛV W
)
ÛÛW X
)
ÛÛX Y
;
ÛÛY Z
letter
ÙÙ 
.
ÙÙ 
Subject
ÙÙ "
=
ÙÙ# $
reader
ÙÙ% +
[
ÙÙ+ ,
$str
ÙÙ, 5
]
ÙÙ5 6
.
ÙÙ6 7
ToString
ÙÙ7 ?
(
ÙÙ? @
)
ÙÙ@ A
;
ÙÙA B
letter
ıı 
.
ıı 
HtmlBody
ıı #
=
ıı$ %
reader
ıı& ,
[
ıı, -
$str
ıı- 7
]
ıı7 8
.
ıı8 9
ToString
ıı9 A
(
ııA B
)
ııB C
;
ııC D
letter
ˆˆ 
.
ˆˆ 
TextBody
ˆˆ #
=
ˆˆ$ %
reader
ˆˆ& ,
[
ˆˆ, -
$str
ˆˆ- 7
]
ˆˆ7 8
.
ˆˆ8 9
ToString
ˆˆ9 A
(
ˆˆA B
)
ˆˆB C
;
ˆˆC D
letter
˜˜ 
.
˜˜ 
	CreatedBy
˜˜ $
=
˜˜% &
new
˜˜' *
Guid
˜˜+ /
(
˜˜/ 0
reader
˜˜0 6
[
˜˜6 7
$str
˜˜7 B
]
˜˜B C
.
˜˜C D
ToString
˜˜D L
(
˜˜L M
)
˜˜M N
)
˜˜N O
;
˜˜O P
letter
¯¯ 
.
¯¯ 

CreatedUtc
¯¯ %
=
¯¯& '
Convert
¯¯( /
.
¯¯/ 0

ToDateTime
¯¯0 :
(
¯¯: ;
reader
¯¯; A
[
¯¯A B
$str
¯¯B N
]
¯¯N O
)
¯¯O P
;
¯¯P Q
letter
˘˘ 
.
˘˘ 
	LastModBy
˘˘ $
=
˘˘% &
new
˘˘' *
Guid
˘˘+ /
(
˘˘/ 0
reader
˘˘0 6
[
˘˘6 7
$str
˘˘7 B
]
˘˘B C
.
˘˘C D
ToString
˘˘D L
(
˘˘L M
)
˘˘M N
)
˘˘N O
;
˘˘O P
letter
˙˙ 
.
˙˙ 

LastModUtc
˙˙ %
=
˙˙& '
Convert
˙˙( /
.
˙˙/ 0

ToDateTime
˙˙0 :
(
˙˙: ;
reader
˙˙; A
[
˙˙A B
$str
˙˙B N
]
˙˙N O
)
˙˙O P
;
˙˙P Q
letter
˚˚ 
.
˚˚ 

IsApproved
˚˚ %
=
˚˚& '
Convert
˚˚( /
.
˚˚/ 0
	ToBoolean
˚˚0 9
(
˚˚9 :
reader
˚˚: @
[
˚˚@ A
$str
˚˚A M
]
˚˚M N
)
˚˚N O
;
˚˚O P
letter
¸¸ 
.
¸¸ 

ApprovedBy
¸¸ %
=
¸¸& '
new
¸¸( +
Guid
¸¸, 0
(
¸¸0 1
reader
¸¸1 7
[
¸¸7 8
$str
¸¸8 D
]
¸¸D E
.
¸¸E F
ToString
¸¸F N
(
¸¸N O
)
¸¸O P
)
¸¸P Q
;
¸¸Q R
if
˛˛ 
(
˛˛ 
reader
˛˛ 
[
˛˛ 
$str
˛˛ /
]
˛˛/ 0
!=
˛˛1 3
DBNull
˛˛4 :
.
˛˛: ;
Value
˛˛; @
)
˛˛@ A
letter
ˇˇ 
.
ˇˇ 
SendClickedUtc
ˇˇ -
=
ˇˇ. /
Convert
ˇˇ0 7
.
ˇˇ7 8

ToDateTime
ˇˇ8 B
(
ˇˇB C
reader
ˇˇC I
[
ˇˇI J
$str
ˇˇJ Z
]
ˇˇZ [
)
ˇˇ[ \
;
ˇˇ\ ]
if
ÅÅ 
(
ÅÅ 
reader
ÅÅ 
[
ÅÅ 
$str
ÅÅ /
]
ÅÅ/ 0
!=
ÅÅ1 3
DBNull
ÅÅ4 :
.
ÅÅ: ;
Value
ÅÅ; @
)
ÅÅ@ A
letter
ÇÇ 
.
ÇÇ 
SendStartedUtc
ÇÇ -
=
ÇÇ. /
Convert
ÇÇ0 7
.
ÇÇ7 8

ToDateTime
ÇÇ8 B
(
ÇÇB C
reader
ÇÇC I
[
ÇÇI J
$str
ÇÇJ Z
]
ÇÇZ [
)
ÇÇ[ \
;
ÇÇ\ ]
if
ÑÑ 
(
ÑÑ 
reader
ÑÑ 
[
ÑÑ 
$str
ÑÑ 0
]
ÑÑ0 1
!=
ÑÑ2 4
DBNull
ÑÑ5 ;
.
ÑÑ; <
Value
ÑÑ< A
)
ÑÑA B
letter
ÖÖ 
.
ÖÖ 
SendCompleteUtc
ÖÖ .
=
ÖÖ/ 0
Convert
ÖÖ1 8
.
ÖÖ8 9

ToDateTime
ÖÖ9 C
(
ÖÖC D
reader
ÖÖD J
[
ÖÖJ K
$str
ÖÖK \
]
ÖÖ\ ]
)
ÖÖ] ^
;
ÖÖ^ _
if
áá 
(
áá 
reader
áá 
[
áá 
$str
áá *
]
áá* +
!=
áá, .
DBNull
áá/ 5
.
áá5 6
Value
áá6 ;
)
áá; <
letter
àà 
.
àà 
	SendCount
àà (
=
àà) *
Convert
àà+ 2
.
àà2 3
ToInt32
àà3 :
(
àà: ;
reader
àà; A
[
ààA B
$str
ààB M
]
ààM N
)
ààN O
;
ààO P

letterList
ää 
.
ää 
Add
ää "
(
ää" #
letter
ää# )
)
ää) *
;
ää* +
}
ãã 
}
åå 
finally
çç 
{
éé 
reader
èè 
.
èè 
Close
èè 
(
èè 
)
èè 
;
èè 
}
êê 
return
íí 

letterList
íí 
;
íí 
}
ïï 	
public
öö 
static
öö 
List
öö 
<
öö 
Letter
öö !
>
öö! "
GetAll
öö# )
(
öö) *
Guid
öö* .
letterInfoGuid
öö/ =
)
öö= >
{
õõ 	
List
úú 
<
úú 
Letter
úú 
>
úú 

letterList
úú #
=
ùù 
new
ùù 
List
ùù 
<
ùù 
Letter
ùù !
>
ùù! "
(
ùù" #
)
ùù# $
;
ùù$ %
IDataReader
üü 
reader
üü 
=
üü  
DBLetter
üü! )
.
üü) *
GetAll
üü* 0
(
üü0 1
letterInfoGuid
üü1 ?
)
üü? @
;
üü@ A
return
°°  
PopulateFromReader
°° %
(
°°% &
reader
°°& ,
)
°°, -
;
°°- .
}
££ 	
public
®® 
static
®® 
List
®® 
<
®® 
Letter
®® !
>
®®! "
GetPage
®®# *
(
®®* +
Guid
©© 
letterInfoGuid
©© 
,
©©  
int
™™ 

pageNumber
™™ 
,
™™ 
int
´´ 
pageSize
´´ 
,
´´ 
out
¨¨ 
int
¨¨ 

totalPages
¨¨ 
)
¨¨ 
{
≠≠ 	

totalPages
ÆÆ 
=
ÆÆ 
$num
ÆÆ 
;
ÆÆ 
IDataReader
∞∞ 
reader
∞∞ 
=
∞∞  
DBLetter
∞∞! )
.
∞∞) *
GetPage
∞∞* 1
(
∞∞1 2
letterInfoGuid
±± 
,
±± 

pageNumber
≤≤ 
,
≤≤ 
pageSize
≥≥ 
,
≥≥ 
out
¥¥ 

totalPages
¥¥ 
)
¥¥ 
;
¥¥  
return
∂∂  
PopulateFromReader
∂∂ %
(
∂∂% &
reader
∂∂& ,
)
∂∂, -
;
∂∂- .
}
ππ 	
public
ææ 
static
ææ 
List
ææ 
<
ææ 
Letter
ææ !
>
ææ! "
	GetDrafts
ææ# ,
(
ææ, -
Guid
øø 
letterInfoGuid
øø 
,
øø  
int
¿¿ 

pageNumber
¿¿ 
,
¿¿ 
int
¡¡ 
pageSize
¡¡ 
,
¡¡ 
out
¬¬ 
int
¬¬ 

totalPages
¬¬ 
)
¬¬ 
{
√√ 	

totalPages
ƒƒ 
=
ƒƒ 
$num
ƒƒ 
;
ƒƒ 
IDataReader
∆∆ 
reader
∆∆ 
=
∆∆  
DBLetter
∆∆! )
.
∆∆) *
	GetDrafts
∆∆* 3
(
∆∆3 4
letterInfoGuid
«« 
,
«« 

pageNumber
»» 
,
»» 
pageSize
…… 
,
…… 
out
   

totalPages
   
)
   
;
    
return
ÃÃ  
PopulateFromReader
ÃÃ %
(
ÃÃ% &
reader
ÃÃ& ,
)
ÃÃ, -
;
ÃÃ- .
}
œœ 	
public
⁄⁄ 
static
⁄⁄ 
int
⁄⁄ 
CompareBySubject
⁄⁄ *
(
⁄⁄* +
Letter
⁄⁄+ 1
letter1
⁄⁄2 9
,
⁄⁄9 :
Letter
⁄⁄; A
letter2
⁄⁄B I
)
⁄⁄I J
{
€€ 	
return
‹‹ 
letter1
‹‹ 
.
‹‹ 
Subject
‹‹ "
.
‹‹" #
	CompareTo
‹‹# ,
(
‹‹, -
letter2
‹‹- 4
.
‹‹4 5
Subject
‹‹5 <
)
‹‹< =
;
‹‹= >
}
›› 	
public
·· 
static
·· 
int
·· 
CompareByHtmlBody
·· +
(
··+ ,
Letter
··, 2
letter1
··3 :
,
··: ;
Letter
··< B
letter2
··C J
)
··J K
{
‚‚ 	
return
„„ 
letter1
„„ 
.
„„ 
HtmlBody
„„ #
.
„„# $
	CompareTo
„„$ -
(
„„- .
letter2
„„. 5
.
„„5 6
HtmlBody
„„6 >
)
„„> ?
;
„„? @
}
‰‰ 	
public
ËË 
static
ËË 
int
ËË 
CompareByTextBody
ËË +
(
ËË+ ,
Letter
ËË, 2
letter1
ËË3 :
,
ËË: ;
Letter
ËË< B
letter2
ËËC J
)
ËËJ K
{
ÈÈ 	
return
ÍÍ 
letter1
ÍÍ 
.
ÍÍ 
TextBody
ÍÍ #
.
ÍÍ# $
	CompareTo
ÍÍ$ -
(
ÍÍ- .
letter2
ÍÍ. 5
.
ÍÍ5 6
TextBody
ÍÍ6 >
)
ÍÍ> ?
;
ÍÍ? @
}
ÎÎ 	
public
ÔÔ 
static
ÔÔ 
int
ÔÔ !
CompareByCreatedUtc
ÔÔ -
(
ÔÔ- .
Letter
ÔÔ. 4
letter1
ÔÔ5 <
,
ÔÔ< =
Letter
ÔÔ> D
letter2
ÔÔE L
)
ÔÔL M
{
 	
return
ÒÒ 
letter1
ÒÒ 
.
ÒÒ 

CreatedUtc
ÒÒ %
.
ÒÒ% &
	CompareTo
ÒÒ& /
(
ÒÒ/ 0
letter2
ÒÒ0 7
.
ÒÒ7 8

CreatedUtc
ÒÒ8 B
)
ÒÒB C
;
ÒÒC D
}
ÚÚ 	
public
ˆˆ 
static
ˆˆ 
int
ˆˆ !
CompareByLastModUtc
ˆˆ -
(
ˆˆ- .
Letter
ˆˆ. 4
letter1
ˆˆ5 <
,
ˆˆ< =
Letter
ˆˆ> D
letter2
ˆˆE L
)
ˆˆL M
{
˜˜ 	
return
¯¯ 
letter1
¯¯ 
.
¯¯ 

LastModUtc
¯¯ %
.
¯¯% &
	CompareTo
¯¯& /
(
¯¯/ 0
letter2
¯¯0 7
.
¯¯7 8

LastModUtc
¯¯8 B
)
¯¯B C
;
¯¯C D
}
˘˘ 	
public
˝˝ 
static
˝˝ 
int
˝˝ %
CompareBySendClickedUtc
˝˝ 1
(
˝˝1 2
Letter
˝˝2 8
letter1
˝˝9 @
,
˝˝@ A
Letter
˝˝B H
letter2
˝˝I P
)
˝˝P Q
{
˛˛ 	
return
ˇˇ 
letter1
ˇˇ 
.
ˇˇ 
SendClickedUtc
ˇˇ )
.
ˇˇ) *
	CompareTo
ˇˇ* 3
(
ˇˇ3 4
letter2
ˇˇ4 ;
.
ˇˇ; <
SendClickedUtc
ˇˇ< J
)
ˇˇJ K
;
ˇˇK L
}
ÄÄ 	
public
ÑÑ 
static
ÑÑ 
int
ÑÑ %
CompareBySendStartedUtc
ÑÑ 1
(
ÑÑ1 2
Letter
ÑÑ2 8
letter1
ÑÑ9 @
,
ÑÑ@ A
Letter
ÑÑB H
letter2
ÑÑI P
)
ÑÑP Q
{
ÖÖ 	
return
ÜÜ 
letter1
ÜÜ 
.
ÜÜ 
SendStartedUtc
ÜÜ )
.
ÜÜ) *
	CompareTo
ÜÜ* 3
(
ÜÜ3 4
letter2
ÜÜ4 ;
.
ÜÜ; <
SendStartedUtc
ÜÜ< J
)
ÜÜJ K
;
ÜÜK L
}
áá 	
public
ãã 
static
ãã 
int
ãã &
CompareBySendCompleteUtc
ãã 2
(
ãã2 3
Letter
ãã3 9
letter1
ãã: A
,
ããA B
Letter
ããC I
letter2
ããJ Q
)
ããQ R
{
åå 	
return
çç 
letter1
çç 
.
çç 
SendCompleteUtc
çç *
.
çç* +
	CompareTo
çç+ 4
(
çç4 5
letter2
çç5 <
.
çç< =
SendCompleteUtc
çç= L
)
ççL M
;
ççM N
}
éé 	
public
íí 
static
íí 
int
íí  
CompareBySendCount
íí ,
(
íí, -
Letter
íí- 3
letter1
íí4 ;
,
íí; <
Letter
íí= C
letter2
ííD K
)
ííK L
{
ìì 	
return
îî 
letter1
îî 
.
îî 
	SendCount
îî $
.
îî$ %
	CompareTo
îî% .
(
îî. /
letter2
îî/ 6
.
îî6 7
	SendCount
îî7 @
)
îî@ A
;
îîA B
}
ïï 	
}
öö 
}úú ˙x
xD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ELetter\LetterHtmlTemplate.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
LetterHtmlTemplate #
{ 
public 
LetterHtmlTemplate !
(! "
)" #
{ 	
}
 
public   
LetterHtmlTemplate   !
(  ! "
Guid!! 
guid!! 
)!! 
{"" 	!
GetLetterHtmlTemplate## !
(##! "
guid$$ 
)$$ 
;$$ 
}%% 	
private++ 
Guid++ 
guid++ 
=++ 
Guid++  
.++  !
Empty++! &
;++& '
private,, 
Guid,, 
siteGuid,, 
=,, 
Guid,,  $
.,,$ %
Empty,,% *
;,,* +
private-- 
string-- 
title-- 
=-- 
string-- %
.--% &
Empty--& +
;--+ ,
private.. 
string.. 
html.. 
=.. 
string.. $
...$ %
Empty..% *
;..* +
private// 
DateTime// 

lastModUTC// #
=//$ %
DateTime//& .
.//. /
UtcNow/// 5
;//5 6
public55 
Guid55 
Guid55 
{66 	
get77 
{77 
return77 
guid77 
;77 
}77  
set88 
{88 
guid88 
=88 
value88 
;88 
}88  !
}99 	
public:: 
Guid:: 
SiteGuid:: 
{;; 	
get<< 
{<< 
return<< 
siteGuid<< !
;<<! "
}<<# $
set== 
{== 
siteGuid== 
=== 
value== "
;==" #
}==$ %
}>> 	
public?? 
string?? 
Title?? 
{@@ 	
getAA 
{AA 
returnAA 
titleAA 
;AA 
}AA  !
setBB 
{BB 
titleBB 
=BB 
valueBB 
;BB  
}BB! "
}CC 	
publicDD 
stringDD 
HtmlDD 
{EE 	
getFF 
{FF 
returnFF 
htmlFF 
;FF 
}FF  
setGG 
{GG 
htmlGG 
=GG 
valueGG 
;GG 
}GG  !
}HH 	
publicII 
DateTimeII 

LastModUTCII "
{JJ 	
getKK 
{KK 
returnKK 

lastModUTCKK #
;KK# $
}KK% &
setLL 
{LL 

lastModUTCLL 
=LL 
valueLL $
;LL$ %
}LL& '
}MM 	
privateWW 
voidWW !
GetLetterHtmlTemplateWW *
(WW* +
GuidWW+ /
guidWW0 4
)WW4 5
{XX 	
usingYY 
(YY 
IDataReaderYY 
readerYY %
=YY& ' 
DBLetterHtmlTemplateYY( <
.YY< =
GetOneYY= C
(YYC D
guidYYD H
)YYH I
)YYI J
{ZZ 
if[[ 
([[ 
reader[[ 
.[[ 
Read[[ 
([[  
)[[  !
)[[! "
{\\ 
this]] 
.]] 
guid]] 
=]] 
new]]  #
Guid]]$ (
(]]( )
reader]]) /
[]]/ 0
$str]]0 6
]]]6 7
.]]7 8
ToString]]8 @
(]]@ A
)]]A B
)]]B C
;]]C D
this^^ 
.^^ 
siteGuid^^ !
=^^" #
new^^$ '
Guid^^( ,
(^^, -
reader^^- 3
[^^3 4
$str^^4 >
]^^> ?
.^^? @
ToString^^@ H
(^^H I
)^^I J
)^^J K
;^^K L
this__ 
.__ 
title__ 
=__  
reader__! '
[__' (
$str__( /
]__/ 0
.__0 1
ToString__1 9
(__9 :
)__: ;
;__; <
this`` 
.`` 
html`` 
=`` 
reader``  &
[``& '
$str``' -
]``- .
.``. /
ToString``/ 7
(``7 8
)``8 9
;``9 :
thisaa 
.aa 

lastModUTCaa #
=aa$ %
Convertaa& -
.aa- .

ToDateTimeaa. 8
(aa8 9
readeraa9 ?
[aa? @
$straa@ L
]aaL M
)aaM N
;aaN O
}cc 
}ee 
}gg 	
privatemm 
boolmm 
Createmm 
(mm 
)mm 
{nn 	
Guidoo 
newIDoo 
=oo 
Guidoo 
.oo 
NewGuidoo %
(oo% &
)oo& '
;oo' (
thisqq 
.qq 
guidqq 
=qq 
newIDqq 
;qq 
intss 
rowsAffectedss 
=ss  
DBLetterHtmlTemplatess 3
.ss3 4
Createss4 :
(ss: ;
thistt 
.tt 
guidtt 
,tt 
thisuu 
.uu 
siteGuiduu 
,uu 
thisvv 
.vv 
titlevv 
,vv 
thisww 
.ww 
htmlww 
,ww 
thisxx 
.xx 

lastModUTCxx 
)xx  
;xx  !
returnzz 
(zz 
rowsAffectedzz  
>zz! "
$numzz# $
)zz$ %
;zz% &
}|| 	
private
ÉÉ 
bool
ÉÉ 
Update
ÉÉ 
(
ÉÉ 
)
ÉÉ 
{
ÑÑ 	
this
ÖÖ 
.
ÖÖ 

lastModUTC
ÖÖ 
=
ÖÖ 
DateTime
ÖÖ &
.
ÖÖ& '
UtcNow
ÖÖ' -
;
ÖÖ- .
return
áá "
DBLetterHtmlTemplate
áá '
.
áá' (
Update
áá( .
(
áá. /
this
àà 
.
àà 
guid
àà 
,
àà 
this
ââ 
.
ââ 
title
ââ 
,
ââ 
this
ää 
.
ää 
html
ää 
,
ää 
this
ãã 
.
ãã 

lastModUTC
ãã 
)
ãã  
;
ãã  !
}
çç 	
public
òò 
bool
òò 
Save
òò 
(
òò 
)
òò 
{
ôô 	
if
öö 
(
öö 
this
öö 
.
öö 
guid
öö 
!=
öö 
Guid
öö !
.
öö! "
Empty
öö" '
)
öö' (
{
õõ 
return
úú 
Update
úú 
(
úú 
)
úú 
;
úú  
}
ùù 
else
ûû 
{
üü 
return
†† 
Create
†† 
(
†† 
)
†† 
;
††  
}
°° 
}
¢¢ 	
public
∞∞ 
static
∞∞ 
bool
∞∞ 
Delete
∞∞ !
(
∞∞! "
Guid
∞∞" &
guid
∞∞' +
)
∞∞+ ,
{
±± 	
return
≤≤ "
DBLetterHtmlTemplate
≤≤ '
.
≤≤' (
Delete
≤≤( .
(
≤≤. /
guid
≤≤/ 3
)
≤≤3 4
;
≤≤4 5
}
≥≥ 	
public
∏∏ 
static
∏∏ 
List
∏∏ 
<
∏∏  
LetterHtmlTemplate
∏∏ -
>
∏∏- .
GetAll
∏∏/ 5
(
∏∏5 6
Guid
∏∏6 :
siteGuid
∏∏; C
)
∏∏C D
{
ππ 	
List
∫∫ 
<
∫∫  
LetterHtmlTemplate
∫∫ #
>
∫∫# $$
letterHtmlTemplateList
∫∫% ;
=
ªª 
new
ªª 
List
ªª 
<
ªª  
LetterHtmlTemplate
ªª -
>
ªª- .
(
ªª. /
)
ªª/ 0
;
ªª0 1
using
ΩΩ 
(
ΩΩ 
IDataReader
ΩΩ 
reader
ΩΩ %
=
ΩΩ& '"
DBLetterHtmlTemplate
ΩΩ( <
.
ΩΩ< =
GetAll
ΩΩ= C
(
ΩΩC D
siteGuid
ΩΩD L
)
ΩΩL M
)
ΩΩM N
{
ææ 
while
øø 
(
øø 
reader
øø 
.
øø 
Read
øø "
(
øø" #
)
øø# $
)
øø$ %
{
¿¿  
LetterHtmlTemplate
¡¡ & 
letterHtmlTemplate
¡¡' 9
=
¡¡: ;
new
¡¡< ? 
LetterHtmlTemplate
¡¡@ R
(
¡¡R S
)
¡¡S T
;
¡¡T U 
letterHtmlTemplate
¬¬ &
.
¬¬& '
guid
¬¬' +
=
¬¬, -
new
¬¬. 1
Guid
¬¬2 6
(
¬¬6 7
reader
¬¬7 =
[
¬¬= >
$str
¬¬> D
]
¬¬D E
.
¬¬E F
ToString
¬¬F N
(
¬¬N O
)
¬¬O P
)
¬¬P Q
;
¬¬Q R 
letterHtmlTemplate
√√ &
.
√√& '
siteGuid
√√' /
=
√√0 1
new
√√2 5
Guid
√√6 :
(
√√: ;
reader
√√; A
[
√√A B
$str
√√B L
]
√√L M
.
√√M N
ToString
√√N V
(
√√V W
)
√√W X
)
√√X Y
;
√√Y Z 
letterHtmlTemplate
ƒƒ &
.
ƒƒ& '
title
ƒƒ' ,
=
ƒƒ- .
reader
ƒƒ/ 5
[
ƒƒ5 6
$str
ƒƒ6 =
]
ƒƒ= >
.
ƒƒ> ?
ToString
ƒƒ? G
(
ƒƒG H
)
ƒƒH I
;
ƒƒI J 
letterHtmlTemplate
≈≈ &
.
≈≈& '
html
≈≈' +
=
≈≈, -
reader
≈≈. 4
[
≈≈4 5
$str
≈≈5 ;
]
≈≈; <
.
≈≈< =
ToString
≈≈= E
(
≈≈E F
)
≈≈F G
;
≈≈G H 
letterHtmlTemplate
∆∆ &
.
∆∆& '

lastModUTC
∆∆' 1
=
∆∆2 3
Convert
∆∆4 ;
.
∆∆; <

ToDateTime
∆∆< F
(
∆∆F G
reader
∆∆G M
[
∆∆M N
$str
∆∆N Z
]
∆∆Z [
)
∆∆[ \
;
∆∆\ ]$
letterHtmlTemplateList
«« *
.
««* +
Add
««+ .
(
««. / 
letterHtmlTemplate
««/ A
)
««A B
;
««B C
}
»» 
}
…… 
return
ÀÀ $
letterHtmlTemplateList
ÀÀ )
;
ÀÀ) *
}
ÕÕ 	
public
““ 
static
““ 
List
““ 
<
““  
LetterHtmlTemplate
““ -
>
““- .
GetPage
““/ 6
(
““6 7
Guid
”” 
siteGuid
”” 
,
”” 
int
‘‘ 

pageNumber
‘‘ 
,
‘‘ 
int
’’ 
pageSize
’’ 
,
’’ 
out
÷÷ 
int
÷÷ 

totalPages
÷÷ 
)
÷÷ 
{
◊◊ 	

totalPages
ÿÿ 
=
ÿÿ 
$num
ÿÿ 
;
ÿÿ 
List
⁄⁄ 
<
⁄⁄  
LetterHtmlTemplate
⁄⁄ #
>
⁄⁄# $$
letterHtmlTemplateList
⁄⁄% ;
=
⁄⁄< =
new
⁄⁄> A
List
⁄⁄B F
<
⁄⁄F G 
LetterHtmlTemplate
⁄⁄G Y
>
⁄⁄Y Z
(
⁄⁄Z [
)
⁄⁄[ \
;
⁄⁄\ ]
using
‹‹ 
(
‹‹ 
IDataReader
‹‹ 
reader
‹‹ %
=
‹‹& '"
DBLetterHtmlTemplate
‹‹( <
.
‹‹< =
GetPage
‹‹= D
(
‹‹D E
siteGuid
‹‹E M
,
‹‹M N

pageNumber
‹‹O Y
,
‹‹Y Z
pageSize
‹‹[ c
,
‹‹c d
out
‹‹e h

totalPages
‹‹i s
)
‹‹s t
)
‹‹t u
{
›› 
while
ﬁﬁ 
(
ﬁﬁ 
reader
ﬁﬁ 
.
ﬁﬁ 
Read
ﬁﬁ "
(
ﬁﬁ" #
)
ﬁﬁ# $
)
ﬁﬁ$ %
{
ﬂﬂ  
LetterHtmlTemplate
‡‡ & 
letterHtmlTemplate
‡‡' 9
=
‡‡: ;
new
‡‡< ? 
LetterHtmlTemplate
‡‡@ R
(
‡‡R S
)
‡‡S T
;
‡‡T U 
letterHtmlTemplate
·· &
.
··& '
guid
··' +
=
··, -
new
··. 1
Guid
··2 6
(
··6 7
reader
··7 =
[
··= >
$str
··> D
]
··D E
.
··E F
ToString
··F N
(
··N O
)
··O P
)
··P Q
;
··Q R 
letterHtmlTemplate
‚‚ &
.
‚‚& '
siteGuid
‚‚' /
=
‚‚0 1
new
‚‚2 5
Guid
‚‚6 :
(
‚‚: ;
reader
‚‚; A
[
‚‚A B
$str
‚‚B L
]
‚‚L M
.
‚‚M N
ToString
‚‚N V
(
‚‚V W
)
‚‚W X
)
‚‚X Y
;
‚‚Y Z 
letterHtmlTemplate
„„ &
.
„„& '
title
„„' ,
=
„„- .
reader
„„/ 5
[
„„5 6
$str
„„6 =
]
„„= >
.
„„> ?
ToString
„„? G
(
„„G H
)
„„H I
;
„„I J 
letterHtmlTemplate
‰‰ &
.
‰‰& '
html
‰‰' +
=
‰‰, -
reader
‰‰. 4
[
‰‰4 5
$str
‰‰5 ;
]
‰‰; <
.
‰‰< =
ToString
‰‰= E
(
‰‰E F
)
‰‰F G
;
‰‰G H 
letterHtmlTemplate
ÂÂ &
.
ÂÂ& '

lastModUTC
ÂÂ' 1
=
ÂÂ2 3
Convert
ÂÂ4 ;
.
ÂÂ; <

ToDateTime
ÂÂ< F
(
ÂÂF G
reader
ÂÂG M
[
ÂÂM N
$str
ÂÂN Z
]
ÂÂZ [
)
ÂÂ[ \
;
ÂÂ\ ]$
letterHtmlTemplateList
ÊÊ *
.
ÊÊ* +
Add
ÊÊ+ .
(
ÊÊ. / 
letterHtmlTemplate
ÊÊ/ A
)
ÊÊA B
;
ÊÊB C
}
ËË 
}
ÈÈ 
return
ÎÎ $
letterHtmlTemplateList
ÎÎ )
;
ÎÎ) *
}
ÌÌ 	
public
¯¯ 
static
¯¯ 
int
¯¯ 
CompareByTitle
¯¯ (
(
¯¯( ) 
LetterHtmlTemplate
¯¯) ;!
letterHtmlTemplate1
¯¯< O
,
¯¯O P 
LetterHtmlTemplate
¯¯Q c!
letterHtmlTemplate2
¯¯d w
)
¯¯w x
{
˘˘ 	
return
˙˙ !
letterHtmlTemplate1
˙˙ &
.
˙˙& '
Title
˙˙' ,
.
˙˙, -
	CompareTo
˙˙- 6
(
˙˙6 7!
letterHtmlTemplate2
˙˙7 J
.
˙˙J K
Title
˙˙K P
)
˙˙P Q
;
˙˙Q R
}
˚˚ 	
public
ˇˇ 
static
ˇˇ 
int
ˇˇ 
CompareByHtml
ˇˇ '
(
ˇˇ' ( 
LetterHtmlTemplate
ˇˇ( :!
letterHtmlTemplate1
ˇˇ; N
,
ˇˇN O 
LetterHtmlTemplate
ˇˇP b!
letterHtmlTemplate2
ˇˇc v
)
ˇˇv w
{
ÄÄ 	
return
ÅÅ !
letterHtmlTemplate1
ÅÅ &
.
ÅÅ& '
Html
ÅÅ' +
.
ÅÅ+ ,
	CompareTo
ÅÅ, 5
(
ÅÅ5 6!
letterHtmlTemplate2
ÅÅ6 I
.
ÅÅI J
Html
ÅÅJ N
)
ÅÅN O
;
ÅÅO P
}
ÇÇ 	
public
ÜÜ 
static
ÜÜ 
int
ÜÜ !
CompareByLastModUTC
ÜÜ -
(
ÜÜ- . 
LetterHtmlTemplate
ÜÜ. @!
letterHtmlTemplate1
ÜÜA T
,
ÜÜT U 
LetterHtmlTemplate
ÜÜV h!
letterHtmlTemplate2
ÜÜi |
)
ÜÜ| }
{
áá 	
return
àà !
letterHtmlTemplate1
àà &
.
àà& '

LastModUTC
àà' 1
.
àà1 2
	CompareTo
àà2 ;
(
àà; <!
letterHtmlTemplate2
àà< O
.
ààO P

LastModUTC
ààP Z
)
ààZ [
;
àà[ \
}
ââ 	
}
éé 
}êê …º
pD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ELetter\LetterInfo.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 

LetterInfo 
{ 
public 

LetterInfo 
( 
) 
{ 
} 
public 

LetterInfo 
( 
Guid 
letterInfoGuid -
)- .
{ 	
GetLetterInfo 
( 
letterInfoGuid (
)( )
;) *
} 	
public   
Guid  	 
LetterInfoGuid   
{   
get   "
;  " #
set  $ '
;  ' (
}  ) *
=  + ,
Guid  - 1
.  1 2
Empty  2 7
;  7 8
public!! 
Guid!!	 
SiteGuid!! 
{!! 
get!! 
;!! 
set!! !
;!!! "
}!!# $
=!!% &
Guid!!' +
.!!+ ,
Empty!!, 1
;!!1 2
public"" 
string""	 
Title"" 
{"" 
get"" 
;"" 
set""  
;""  !
}""" #
=""$ %
string""& ,
."", -
Empty""- 2
;""2 3
public## 
string##	 
Description## 
{## 
get## !
;##! "
set### &
;##& '
}##( )
=##* +
string##, 2
.##2 3
Empty##3 8
;##8 9
public$$ 
string$$	 
AvailableToRoles$$  
{$$! "
get$$# &
;$$& '
set$$( +
;$$+ ,
}$$- .
=$$/ 0
string$$1 7
.$$7 8
Empty$$8 =
;$$= >
public%% 
bool%%	 
Enabled%% 
{%% 
get%% 
;%% 
set%%  
;%%  !
}%%" #
=%%$ %
false%%& +
;%%+ ,
public&& 
bool&&	 
AllowUserFeedback&& 
{&&  !
get&&" %
;&&% &
set&&' *
;&&* +
}&&, -
=&&. /
false&&0 5
;&&5 6
public'' 
bool''	 
AllowAnonFeedback'' 
{''  !
get''" %
;''% &
set''' *
;''* +
}'', -
=''. /
false''0 5
;''5 6
public(( 
string((	 
FromAddress(( 
{(( 
get(( !
;((! "
set((# &
;((& '
}((( )
=((* +
string((, 2
.((2 3
Empty((3 8
;((8 9
public)) 
string))	 
FromName)) 
{)) 
get)) 
;)) 
set))  #
;))# $
}))% &
=))' (
string))) /
.))/ 0
Empty))0 5
;))5 6
public** 
string**	 
ReplyToAddress** 
{**  
get**! $
;**$ %
set**& )
;**) *
}**+ ,
=**- .
string**/ 5
.**5 6
Empty**6 ;
;**; <
public++ 
int++	 
SendMode++ 
{++ 
get++ 
;++ 
set++  
;++  !
}++" #
=++$ %
$num++& '
;++' (
public,, 
bool,,	 
EnableViewAsWebPage,, !
{,," #
get,,$ '
;,,' (
set,,) ,
;,,, -
},,. /
=,,0 1
false,,2 7
;,,7 8
public-- 
bool--	 
EnableSendLog-- 
{-- 
get-- !
;--! "
set--# &
;--& '
}--( )
=--* +
false--, 1
;--1 2
public.. 
string..	 
RolesThatCanEdit..  
{..! "
get..# &
;..& '
set..( +
;..+ ,
}..- .
=../ 0
string..1 7
...7 8
Empty..8 =
;..= >
public// 
string//	 
RolesThatCanApprove// #
{//$ %
get//& )
;//) *
set//+ .
;//. /
}//0 1
=//2 3
string//4 :
.//: ;
Empty//; @
;//@ A
public00 
string00	 
RolesThatCanSend00  
{00! "
get00# &
;00& '
set00( +
;00+ ,
}00- .
=00/ 0
string001 7
.007 8
Empty008 =
;00= >
public11 
DateTime11	 

CreatedUtc11 
{11 
get11 "
;11" #
set11$ '
;11' (
}11) *
=11+ ,
DateTime11- 5
.115 6
UtcNow116 <
;11< =
public22 
Guid22	 
	CreatedBy22 
{22 
get22 
;22 
set22 "
;22" #
}22$ %
=22& '
Guid22( ,
.22, -
Empty22- 2
;222 3
public33 
DateTime33	 

LastModUtc33 
{33 
get33 "
;33" #
set33$ '
;33' (
}33) *
=33+ ,
DateTime33- 5
.335 6
UtcNow336 <
;33< =
public44 
Guid44	 
	LastModBy44 
{44 
get44 
;44 
set44 "
;44" #
}44$ %
=44& '
Guid44( ,
.44, -
Empty44- 2
;442 3
public55 
DateTime55	 
LastSentUtc55 
{55 
get55  #
;55# $
set55% (
;55( )
}55* +
=55, -
DateTime55. 6
.556 7
MaxValue557 ?
;55? @
public66 
int66	 
SubscriberCount66 
{66 
get66 "
;66" #
private66$ +
set66, /
;66/ 0
}661 2
=663 4
$num665 6
;666 7
public77 
int77	 
UnVerifiedCount77 
{77 
get77 "
;77" #
private77$ +
set77, /
;77/ 0
}771 2
=773 4
$num775 6
;776 7
public88 
bool88	 
AllowArchiveView88 
{88  
get88! $
;88$ %
set88& )
;88) *
}88+ ,
=88- .
true88/ 3
;883 4
public99 
bool99	 
ProfileOptIn99 
{99 
get99  
;99  !
set99" %
;99% &
}99' (
=99) *
false99+ 0
;990 1
public:: 
int::	 
SortRank:: 
{:: 
get:: 
;:: 
set::  
;::  !
}::" #
=::$ %
$num::& )
;::) *
public;; 
string;;	 
DisplayNameDefault;; "
{;;# $
get;;% (
;;;( )
set;;* -
;;;- .
};;/ 0
=;;1 2
string;;3 9
.;;9 :
Empty;;: ?
;;;? @
public<< 
string<<	 
FirstNameDefault<<  
{<<! "
get<<# &
;<<& '
set<<( +
;<<+ ,
}<<- .
=<</ 0
string<<1 7
.<<7 8
Empty<<8 =
;<<= >
public== 
string==	 
LastNameDefault== 
{==  !
get==" %
;==% &
set==' *
;==* +
}==, -
===. /
string==0 6
.==6 7
Empty==7 <
;==< =
privateGG 	
voidGG
 
GetLetterInfoGG 
(GG 
GuidGG !
letterInfoGuidGG" 0
)GG0 1
{HH 	
usingII 
(II 
IDataReaderII 
readerII %
=II& '
DBLetterInfoII( 4
.II4 5
GetOneII5 ;
(II; <
letterInfoGuidII< J
)IIJ K
)IIK L
{JJ 
ifKK 
(KK 
readerKK 
.KK 
ReadKK 
(KK  
)KK  !
)KK! "
{LL 
thisMM 
.MM 
LetterInfoGuidMM '
=MM( )
newMM* -
GuidMM. 2
(MM2 3
readerMM3 9
[MM9 :
$strMM: J
]MMJ K
.MMK L
ToStringMML T
(MMT U
)MMU V
)MMV W
;MMW X
thisNN 
.NN 
SiteGuidNN !
=NN" #
newNN$ '
GuidNN( ,
(NN, -
readerNN- 3
[NN3 4
$strNN4 >
]NN> ?
.NN? @
ToStringNN@ H
(NNH I
)NNI J
)NNJ K
;NNK L
thisOO 
.OO 
TitleOO 
=OO  
readerOO! '
[OO' (
$strOO( /
]OO/ 0
.OO0 1
ToStringOO1 9
(OO9 :
)OO: ;
;OO; <
thisPP 
.PP 
DescriptionPP $
=PP% &
readerPP' -
[PP- .
$strPP. ;
]PP; <
.PP< =
ToStringPP= E
(PPE F
)PPF G
;PPG H
thisQQ 
.QQ 
AvailableToRolesQQ )
=QQ* +
readerQQ, 2
[QQ2 3
$strQQ3 E
]QQE F
.QQF G
ToStringQQG O
(QQO P
)QQP Q
;QQQ R
thisRR 
.RR 
EnabledRR  
=RR! "
ConvertRR# *
.RR* +
	ToBooleanRR+ 4
(RR4 5
readerRR5 ;
[RR; <
$strRR< E
]RRE F
)RRF G
;RRG H
thisSS 
.SS 
AllowUserFeedbackSS *
=SS+ ,
ConvertSS- 4
.SS4 5
	ToBooleanSS5 >
(SS> ?
readerSS? E
[SSE F
$strSSF Y
]SSY Z
)SSZ [
;SS[ \
thisTT 
.TT 
AllowAnonFeedbackTT *
=TT+ ,
ConvertTT- 4
.TT4 5
	ToBooleanTT5 >
(TT> ?
readerTT? E
[TTE F
$strTTF Y
]TTY Z
)TTZ [
;TT[ \
thisUU 
.UU 
FromAddressUU $
=UU% &
readerUU' -
[UU- .
$strUU. ;
]UU; <
.UU< =
ToStringUU= E
(UUE F
)UUF G
;UUG H
thisVV 
.VV 
FromNameVV !
=VV" #
readerVV$ *
[VV* +
$strVV+ 5
]VV5 6
.VV6 7
ToStringVV7 ?
(VV? @
)VV@ A
;VVA B
thisWW 
.WW 
ReplyToAddressWW '
=WW( )
readerWW* 0
[WW0 1
$strWW1 A
]WWA B
.WWB C
ToStringWWC K
(WWK L
)WWL M
;WWM N
thisXX 
.XX 
SendModeXX !
=XX" #
ConvertXX$ +
.XX+ ,
ToInt32XX, 3
(XX3 4
readerXX4 :
[XX: ;
$strXX; E
]XXE F
)XXF G
;XXG H
thisYY 
.YY 
EnableViewAsWebPageYY ,
=YY- .
ConvertYY/ 6
.YY6 7
	ToBooleanYY7 @
(YY@ A
readerYYA G
[YYG H
$strYYH ]
]YY] ^
)YY^ _
;YY_ `
thisZZ 
.ZZ 
EnableSendLogZZ &
=ZZ' (
ConvertZZ) 0
.ZZ0 1
	ToBooleanZZ1 :
(ZZ: ;
readerZZ; A
[ZZA B
$strZZB Q
]ZZQ R
)ZZR S
;ZZS T
this[[ 
.[[ 
RolesThatCanEdit[[ )
=[[* +
reader[[, 2
[[[2 3
$str[[3 E
][[E F
.[[F G
ToString[[G O
([[O P
)[[P Q
;[[Q R
this\\ 
.\\ 
RolesThatCanApprove\\ ,
=\\- .
reader\\/ 5
[\\5 6
$str\\6 K
]\\K L
.\\L M
ToString\\M U
(\\U V
)\\V W
;\\W X
this]] 
.]] 
RolesThatCanSend]] )
=]]* +
reader]], 2
[]]2 3
$str]]3 E
]]]E F
.]]F G
ToString]]G O
(]]O P
)]]P Q
;]]Q R
this^^ 
.^^ 
SubscriberCount^^ (
=^^) *
Convert^^+ 2
.^^2 3
ToInt32^^3 :
(^^: ;
reader^^; A
[^^A B
$str^^B S
]^^S T
)^^T U
;^^U V
this__ 
.__ 
UnVerifiedCount__ (
=__) *
Convert__+ 2
.__2 3
ToInt32__3 :
(__: ;
reader__; A
[__A B
$str__B S
]__S T
)__T U
;__U V
this`` 
.`` 

CreatedUtc`` #
=``$ %
Convert``& -
.``- .

ToDateTime``. 8
(``8 9
reader``9 ?
[``? @
$str``@ L
]``L M
)``M N
;``N O
thisaa 
.aa 
	CreatedByaa "
=aa# $
newaa% (
Guidaa) -
(aa- .
readeraa. 4
[aa4 5
$straa5 @
]aa@ A
.aaA B
ToStringaaB J
(aaJ K
)aaK L
)aaL M
;aaM N
thisbb 
.bb 

LastModUtcbb #
=bb$ %
Convertbb& -
.bb- .

ToDateTimebb. 8
(bb8 9
readerbb9 ?
[bb? @
$strbb@ L
]bbL M
)bbM N
;bbN O
thiscc 
.cc 
	LastModBycc "
=cc# $
newcc% (
Guidcc) -
(cc- .
readercc. 4
[cc4 5
$strcc5 @
]cc@ A
.ccA B
ToStringccB J
(ccJ K
)ccK L
)ccL M
;ccM N
thisee 
.ee 
AllowArchiveViewee )
=ee* +
Convertee, 3
.ee3 4
	ToBooleanee4 =
(ee= >
readeree> D
[eeD E
$streeE W
]eeW X
)eeX Y
;eeY Z
thisff 
.ff 
ProfileOptInff %
=ff& '
Convertff( /
.ff/ 0
	ToBooleanff0 9
(ff9 :
readerff: @
[ff@ A
$strffA O
]ffO P
)ffP Q
;ffQ R
thisgg 
.gg 
SortRankgg !
=gg" #
Convertgg$ +
.gg+ ,
ToInt32gg, 3
(gg3 4
readergg4 :
[gg: ;
$strgg; E
]ggE F
)ggF G
;ggG H
thisii 
.ii 
DisplayNameDefaultii +
=ii, -
readerii. 4
[ii4 5
$strii5 I
]iiI J
.iiJ K
ToStringiiK S
(iiS T
)iiT U
;iiU V
thisjj 
.jj 
FirstNameDefaultjj )
=jj* +
readerjj, 2
[jj2 3
$strjj3 E
]jjE F
.jjF G
ToStringjjG O
(jjO P
)jjP Q
;jjQ R
thiskk 
.kk 
LastNameDefaultkk (
=kk) *
readerkk+ 1
[kk1 2
$strkk2 C
]kkC D
.kkD E
ToStringkkE M
(kkM N
)kkN O
;kkO P
}mm 
}oo 
}qq 	
privateww 
boolww 
Createww 
(ww 
)ww 
{xx 	
Guidyy 
newIDyy 
=yy 
Guidyy 
.yy 
NewGuidyy %
(yy% &
)yy& '
;yy' (
this{{ 
.{{ 
LetterInfoGuid{{ 
={{  !
newID{{" '
;{{' (
int}} 
rowsAffected}} 
=}} 
DBLetterInfo}} +
.}}+ ,
Create}}, 2
(}}2 3
this~~ 
.~~ 
LetterInfoGuid~~ #
,~~# $
this 
. 
SiteGuid 
, 
this
ÄÄ 
.
ÄÄ 
Title
ÄÄ 
,
ÄÄ 
this
ÅÅ 
.
ÅÅ 
Description
ÅÅ  
,
ÅÅ  !
this
ÇÇ 
.
ÇÇ 
AvailableToRoles
ÇÇ %
,
ÇÇ% &
this
ÉÉ 
.
ÉÉ 
Enabled
ÉÉ 
,
ÉÉ 
this
ÑÑ 
.
ÑÑ 
AllowUserFeedback
ÑÑ &
,
ÑÑ& '
this
ÖÖ 
.
ÖÖ 
AllowAnonFeedback
ÖÖ &
,
ÖÖ& '
this
ÜÜ 
.
ÜÜ 
FromAddress
ÜÜ  
,
ÜÜ  !
this
áá 
.
áá 
FromName
áá 
,
áá 
this
àà 
.
àà 
ReplyToAddress
àà #
,
àà# $
this
ââ 
.
ââ 
SendMode
ââ 
,
ââ 
this
ää 
.
ää !
EnableViewAsWebPage
ää (
,
ää( )
this
ãã 
.
ãã 
EnableSendLog
ãã "
,
ãã" #
this
åå 
.
åå 
RolesThatCanEdit
åå %
,
åå% &
this
çç 
.
çç !
RolesThatCanApprove
çç (
,
çç( )
this
éé 
.
éé 
RolesThatCanSend
éé %
,
éé% &
this
èè 
.
èè 

CreatedUtc
èè 
,
èè  
this
êê 
.
êê 
	CreatedBy
êê 
,
êê 
this
ëë 
.
ëë 

LastModUtc
ëë 
,
ëë  
this
íí 
.
íí 
	LastModBy
íí 
,
íí 
this
ìì 
.
ìì 
AllowArchiveView
ìì %
,
ìì% &
this
îî 
.
îî 
ProfileOptIn
îî !
,
îî! "
this
ïï 
.
ïï 
SortRank
ïï 
,
ïï 
this
ññ 
.
ññ  
DisplayNameDefault
ññ '
,
ññ' (
this
óó 
.
óó 
FirstNameDefault
óó %
,
óó% &
this
òò 
.
òò 
LastNameDefault
òò $
)
òò$ %
;
òò% &
return
öö 
(
öö 
rowsAffected
öö  
>
öö! "
$num
öö# $
)
öö$ %
;
öö% &
}
úú 	
private
££ 
bool
££ 
Update
££ 
(
££ 
)
££ 
{
§§ 	
return
¶¶ 
DBLetterInfo
¶¶ 
.
¶¶  
Update
¶¶  &
(
¶¶& '
this
ßß 
.
ßß 
LetterInfoGuid
ßß #
,
ßß# $
this
®® 
.
®® 
SiteGuid
®® 
,
®® 
this
©© 
.
©© 
Title
©© 
,
©© 
this
™™ 
.
™™ 
Description
™™  
,
™™  !
this
´´ 
.
´´ 
AvailableToRoles
´´ %
,
´´% &
this
¨¨ 
.
¨¨ 
Enabled
¨¨ 
,
¨¨ 
this
≠≠ 
.
≠≠ 
AllowUserFeedback
≠≠ &
,
≠≠& '
this
ÆÆ 
.
ÆÆ 
AllowAnonFeedback
ÆÆ &
,
ÆÆ& '
this
ØØ 
.
ØØ 
FromAddress
ØØ  
,
ØØ  !
this
∞∞ 
.
∞∞ 
FromName
∞∞ 
,
∞∞ 
this
±± 
.
±± 
ReplyToAddress
±± #
,
±±# $
this
≤≤ 
.
≤≤ 
SendMode
≤≤ 
,
≤≤ 
this
≥≥ 
.
≥≥ !
EnableViewAsWebPage
≥≥ (
,
≥≥( )
this
¥¥ 
.
¥¥ 
EnableSendLog
¥¥ "
,
¥¥" #
this
µµ 
.
µµ 
RolesThatCanEdit
µµ %
,
µµ% &
this
∂∂ 
.
∂∂ !
RolesThatCanApprove
∂∂ (
,
∂∂( )
this
∑∑ 
.
∑∑ 
RolesThatCanSend
∑∑ %
,
∑∑% &
this
∏∏ 
.
∏∏ 

CreatedUtc
∏∏ 
,
∏∏  
this
ππ 
.
ππ 
	CreatedBy
ππ 
,
ππ 
this
∫∫ 
.
∫∫ 

LastModUtc
∫∫ 
,
∫∫  
this
ªª 
.
ªª 
	LastModBy
ªª 
,
ªª 
this
ºº 
.
ºº 
AllowArchiveView
ºº %
,
ºº% &
this
ΩΩ 
.
ΩΩ 
ProfileOptIn
ΩΩ !
,
ΩΩ! "
this
ææ 
.
ææ 
SortRank
ææ 
,
ææ 
this
øø 
.
øø  
DisplayNameDefault
øø '
,
øø' (
this
¿¿ 
.
¿¿ 
FirstNameDefault
¿¿ %
,
¿¿% &
this
¡¡ 
.
¡¡ 
LastNameDefault
¡¡ $
)
¡¡$ %
;
¡¡% &
}
√√ 	
public
ŒŒ 
bool
ŒŒ 
Save
ŒŒ 
(
ŒŒ 
)
ŒŒ 
{
œœ 	
if
–– 
(
–– 
this
–– 
.
–– 
LetterInfoGuid
–– #
!=
––$ &
Guid
––' +
.
––+ ,
Empty
––, 1
)
––1 2
{
—— 
return
““ 
Update
““ 
(
““ 
)
““ 
;
““  
}
”” 
else
‘‘ 
{
’’ 
return
÷÷ 
Create
÷÷ 
(
÷÷ 
)
÷÷ 
;
÷÷  
}
◊◊ 
}
ÿÿ 	
public
‰‰ 
static
‰‰ 
int
‰‰ 
GetCount
‰‰ "
(
‰‰" #
Guid
‰‰# '
siteGuid
‰‰( 0
)
‰‰0 1
{
ÂÂ 	
return
ÊÊ 
DBLetterInfo
ÊÊ 
.
ÊÊ  
GetCount
ÊÊ  (
(
ÊÊ( )
siteGuid
ÊÊ) 1
)
ÊÊ1 2
;
ÊÊ2 3
}
ÁÁ 	
public
ÓÓ 
static
ÓÓ 
bool
ÓÓ 
Delete
ÓÓ !
(
ÓÓ! "
Guid
ÓÓ" &
letterInfoGuid
ÓÓ' 5
)
ÓÓ5 6
{
ÔÔ 	
return
 
DBLetterInfo
 
.
  
Delete
  &
(
& '
letterInfoGuid
' 5
)
5 6
;
6 7
}
ÒÒ 	
public
¯¯ 
static
¯¯ 
bool
¯¯ #
UpdateSubscriberCount
¯¯ 0
(
¯¯0 1
Guid
¯¯1 5
letterInfoGuid
¯¯6 D
)
¯¯D E
{
˘˘ 	
return
˙˙ 
DBLetterInfo
˙˙ 
.
˙˙  #
UpdateSubscriberCount
˙˙  5
(
˙˙5 6
letterInfoGuid
˙˙6 D
)
˙˙D E
;
˙˙E F
}
˚˚ 	
public
ÄÄ 
static
ÄÄ 
List
ÄÄ 
<
ÄÄ 

LetterInfo
ÄÄ %
>
ÄÄ% &
GetAll
ÄÄ' -
(
ÄÄ- .
Guid
ÄÄ. 2
siteGuid
ÄÄ3 ;
)
ÄÄ; <
{
ÅÅ 	
IDataReader
ÇÇ 
reader
ÇÇ 
=
ÇÇ  
DBLetterInfo
ÇÇ! -
.
ÇÇ- .
GetAll
ÇÇ. 4
(
ÇÇ4 5
siteGuid
ÇÇ5 =
)
ÇÇ= >
;
ÇÇ> ?
return
ÉÉ 
LoadFromReader
ÉÉ !
(
ÉÉ! "
reader
ÉÉ" (
)
ÉÉ( )
;
ÉÉ) *
}
ÖÖ 	
private
áá 
static
áá 
List
áá 
<
áá 

LetterInfo
áá &
>
áá& '
LoadFromReader
áá( 6
(
áá6 7
IDataReader
áá7 B
reader
ááC I
)
ááI J
{
àà 	
List
ââ 
<
ââ 

LetterInfo
ââ 
>
ââ 
letterInfoList
ââ +
=
ââ, -
new
ââ. 1
List
ââ2 6
<
ââ6 7

LetterInfo
ââ7 A
>
ââA B
(
ââB C
)
ââC D
;
ââD E
try
ää 
{
ãã 
while
åå 
(
åå 
reader
åå 
.
åå 
Read
åå "
(
åå" #
)
åå# $
)
åå$ %
{
çç 

LetterInfo
éé 

letterInfo
éé )
=
éé* +
new
éé, /

LetterInfo
éé0 :
(
éé: ;
)
éé; <
;
éé< =

letterInfo
èè 
.
èè 
LetterInfoGuid
èè -
=
èè. /
new
èè0 3
Guid
èè4 8
(
èè8 9
reader
èè9 ?
[
èè? @
$str
èè@ P
]
èèP Q
.
èèQ R
ToString
èèR Z
(
èèZ [
)
èè[ \
)
èè\ ]
;
èè] ^

letterInfo
êê 
.
êê 
SiteGuid
êê '
=
êê( )
new
êê* -
Guid
êê. 2
(
êê2 3
reader
êê3 9
[
êê9 :
$str
êê: D
]
êêD E
.
êêE F
ToString
êêF N
(
êêN O
)
êêO P
)
êêP Q
;
êêQ R

letterInfo
ëë 
.
ëë 
Title
ëë $
=
ëë% &
reader
ëë' -
[
ëë- .
$str
ëë. 5
]
ëë5 6
.
ëë6 7
ToString
ëë7 ?
(
ëë? @
)
ëë@ A
;
ëëA B

letterInfo
íí 
.
íí 
Description
íí *
=
íí+ ,
reader
íí- 3
[
íí3 4
$str
íí4 A
]
ííA B
.
ííB C
ToString
ííC K
(
ííK L
)
ííL M
;
ííM N

letterInfo
ìì 
.
ìì 
AvailableToRoles
ìì /
=
ìì0 1
reader
ìì2 8
[
ìì8 9
$str
ìì9 K
]
ììK L
.
ììL M
ToString
ììM U
(
ììU V
)
ììV W
;
ììW X

letterInfo
îî 
.
îî 
Enabled
îî &
=
îî' (
Convert
îî) 0
.
îî0 1
	ToBoolean
îî1 :
(
îî: ;
reader
îî; A
[
îîA B
$str
îîB K
]
îîK L
)
îîL M
;
îîM N

letterInfo
ïï 
.
ïï 
AllowUserFeedback
ïï 0
=
ïï1 2
Convert
ïï3 :
.
ïï: ;
	ToBoolean
ïï; D
(
ïïD E
reader
ïïE K
[
ïïK L
$str
ïïL _
]
ïï_ `
)
ïï` a
;
ïïa b

letterInfo
ññ 
.
ññ 
AllowAnonFeedback
ññ 0
=
ññ1 2
Convert
ññ3 :
.
ññ: ;
	ToBoolean
ññ; D
(
ññD E
reader
ññE K
[
ññK L
$str
ññL _
]
ññ_ `
)
ññ` a
;
ñña b

letterInfo
óó 
.
óó 
FromAddress
óó *
=
óó+ ,
reader
óó- 3
[
óó3 4
$str
óó4 A
]
óóA B
.
óóB C
ToString
óóC K
(
óóK L
)
óóL M
;
óóM N

letterInfo
òò 
.
òò 
FromName
òò '
=
òò( )
reader
òò* 0
[
òò0 1
$str
òò1 ;
]
òò; <
.
òò< =
ToString
òò= E
(
òòE F
)
òòF G
;
òòG H

letterInfo
ôô 
.
ôô 
ReplyToAddress
ôô -
=
ôô. /
reader
ôô0 6
[
ôô6 7
$str
ôô7 G
]
ôôG H
.
ôôH I
ToString
ôôI Q
(
ôôQ R
)
ôôR S
;
ôôS T

letterInfo
öö 
.
öö 
SendMode
öö '
=
öö( )
Convert
öö* 1
.
öö1 2
ToInt32
öö2 9
(
öö9 :
reader
öö: @
[
öö@ A
$str
ööA K
]
ööK L
)
ööL M
;
ööM N

letterInfo
õõ 
.
õõ !
EnableViewAsWebPage
õõ 2
=
õõ3 4
Convert
õõ5 <
.
õõ< =
	ToBoolean
õõ= F
(
õõF G
reader
õõG M
[
õõM N
$str
õõN c
]
õõc d
)
õõd e
;
õõe f

letterInfo
úú 
.
úú 
EnableSendLog
úú ,
=
úú- .
Convert
úú/ 6
.
úú6 7
	ToBoolean
úú7 @
(
úú@ A
reader
úúA G
[
úúG H
$str
úúH W
]
úúW X
)
úúX Y
;
úúY Z

letterInfo
ùù 
.
ùù 
RolesThatCanEdit
ùù /
=
ùù0 1
reader
ùù2 8
[
ùù8 9
$str
ùù9 K
]
ùùK L
.
ùùL M
ToString
ùùM U
(
ùùU V
)
ùùV W
;
ùùW X

letterInfo
ûû 
.
ûû !
RolesThatCanApprove
ûû 2
=
ûû3 4
reader
ûû5 ;
[
ûû; <
$str
ûû< Q
]
ûûQ R
.
ûûR S
ToString
ûûS [
(
ûû[ \
)
ûû\ ]
;
ûû] ^

letterInfo
üü 
.
üü 
RolesThatCanSend
üü /
=
üü0 1
reader
üü2 8
[
üü8 9
$str
üü9 K
]
üüK L
.
üüL M
ToString
üüM U
(
üüU V
)
üüV W
;
üüW X

letterInfo
†† 
.
†† 

CreatedUtc
†† )
=
††* +
Convert
††, 3
.
††3 4

ToDateTime
††4 >
(
††> ?
reader
††? E
[
††E F
$str
††F R
]
††R S
)
††S T
;
††T U

letterInfo
°° 
.
°° 
	CreatedBy
°° (
=
°°) *
new
°°+ .
Guid
°°/ 3
(
°°3 4
reader
°°4 :
[
°°: ;
$str
°°; F
]
°°F G
.
°°G H
ToString
°°H P
(
°°P Q
)
°°Q R
)
°°R S
;
°°S T

letterInfo
¢¢ 
.
¢¢ 

LastModUtc
¢¢ )
=
¢¢* +
Convert
¢¢, 3
.
¢¢3 4

ToDateTime
¢¢4 >
(
¢¢> ?
reader
¢¢? E
[
¢¢E F
$str
¢¢F R
]
¢¢R S
)
¢¢S T
;
¢¢T U

letterInfo
££ 
.
££ 
	LastModBy
££ (
=
££) *
new
££+ .
Guid
££/ 3
(
££3 4
reader
££4 :
[
££: ;
$str
££; F
]
££F G
.
££G H
ToString
££H P
(
££P Q
)
££Q R
)
££R S
;
££S T

letterInfo
§§ 
.
§§ 
SubscriberCount
§§ .
=
§§/ 0
Convert
§§1 8
.
§§8 9
ToInt32
§§9 @
(
§§@ A
reader
§§A G
[
§§G H
$str
§§H Y
]
§§Y Z
)
§§Z [
;
§§[ \

letterInfo
•• 
.
•• 
UnVerifiedCount
•• .
=
••/ 0
Convert
••1 8
.
••8 9
ToInt32
••9 @
(
••@ A
reader
••A G
[
••G H
$str
••H Y
]
••Y Z
)
••Z [
;
••[ \

letterInfo
¶¶ 
.
¶¶ 
AllowArchiveView
¶¶ /
=
¶¶0 1
Convert
¶¶2 9
.
¶¶9 :
	ToBoolean
¶¶: C
(
¶¶C D
reader
¶¶D J
[
¶¶J K
$str
¶¶K ]
]
¶¶] ^
)
¶¶^ _
;
¶¶_ `

letterInfo
ßß 
.
ßß 
ProfileOptIn
ßß +
=
ßß, -
Convert
ßß. 5
.
ßß5 6
	ToBoolean
ßß6 ?
(
ßß? @
reader
ßß@ F
[
ßßF G
$str
ßßG U
]
ßßU V
)
ßßV W
;
ßßW X

letterInfo
®® 
.
®® 
SortRank
®® '
=
®®( )
Convert
®®* 1
.
®®1 2
ToInt32
®®2 9
(
®®9 :
reader
®®: @
[
®®@ A
$str
®®A K
]
®®K L
)
®®L M
;
®®M N

letterInfo
™™ 
.
™™  
DisplayNameDefault
™™ 1
=
™™2 3
reader
™™4 :
[
™™: ;
$str
™™; O
]
™™O P
.
™™P Q
ToString
™™Q Y
(
™™Y Z
)
™™Z [
;
™™[ \

letterInfo
´´ 
.
´´ 
FirstNameDefault
´´ /
=
´´0 1
reader
´´2 8
[
´´8 9
$str
´´9 K
]
´´K L
.
´´L M
ToString
´´M U
(
´´U V
)
´´V W
;
´´W X

letterInfo
¨¨ 
.
¨¨ 
LastNameDefault
¨¨ .
=
¨¨/ 0
reader
¨¨1 7
[
¨¨7 8
$str
¨¨8 I
]
¨¨I J
.
¨¨J K
ToString
¨¨K S
(
¨¨S T
)
¨¨T U
;
¨¨U V
if
≠≠ 
(
≠≠ 	
reader
≠≠	 
[
≠≠ 
$str
≠≠  
]
≠≠  !
!=
≠≠" $
DBNull
≠≠% +
.
≠≠+ ,
Value
≠≠, 1
)
≠≠1 2
{
ÆÆ 

letterInfo
ØØ 
.
ØØ 
LastSentUtc
ØØ 
=
ØØ 
Convert
ØØ &
.
ØØ& '

ToDateTime
ØØ' 1
(
ØØ1 2
reader
ØØ2 8
[
ØØ8 9
$str
ØØ9 I
]
ØØI J
)
ØØJ K
;
ØØK L
}
∞∞ 
letterInfoList
±± "
.
±±" #
Add
±±# &
(
±±& '

letterInfo
±±' 1
)
±±1 2
;
±±2 3
}
≤≤ 
}
≥≥ 
finally
¥¥ 
{
µµ 
reader
∂∂ 
.
∂∂ 
Close
∂∂ 
(
∂∂ 
)
∂∂ 
;
∂∂ 
}
∑∑ 
return
ππ 
letterInfoList
ππ !
;
ππ! "
}
ªª 	
public
¿¿ 
static
¿¿ 
List
¿¿ 
<
¿¿ 

LetterInfo
¿¿ %
>
¿¿% &
GetPage
¿¿' .
(
¿¿. /
Guid
¡¡ 
siteGuid
¡¡ 
,
¡¡ 
int
¬¬ 

pageNumber
¬¬ 
,
¬¬ 
int
√√ 
pageSize
√√ 
,
√√ 
out
ƒƒ 
int
ƒƒ 

totalPages
ƒƒ 
)
ƒƒ 
{
≈≈ 	

totalPages
∆∆ 
=
∆∆ 
$num
∆∆ 
;
∆∆ 
IDataReader
»» 
reader
»» 
=
…… 
DBLetterInfo
…… 
.
…… 
GetPage
…… &
(
……& '
siteGuid
   
,
   

pageNumber
ÀÀ 
,
ÀÀ 
pageSize
ÃÃ 
,
ÃÃ 
out
ÕÕ 

totalPages
ÕÕ 
)
ÕÕ 
;
ÕÕ  
return
œœ 
LoadFromReader
œœ !
(
œœ! "
reader
œœ" (
)
œœ( )
;
œœ) *
}
”” 	
public
ﬁﬁ 
static
ﬁﬁ 
int
ﬁﬁ 
CompareByTitle
ﬁﬁ (
(
ﬁﬁ( )

LetterInfo
ﬁﬁ) 3
letterInfo1
ﬁﬁ4 ?
,
ﬁﬁ? @

LetterInfo
ﬁﬁA K
letterInfo2
ﬁﬁL W
)
ﬁﬁW X
{
ﬂﬂ 	
return
‡‡ 
letterInfo1
‡‡ 
.
‡‡ 
Title
‡‡ $
.
‡‡$ %
	CompareTo
‡‡% .
(
‡‡. /
letterInfo2
‡‡/ :
.
‡‡: ;
Title
‡‡; @
)
‡‡@ A
;
‡‡A B
}
·· 	
public
ÂÂ 
static
ÂÂ 
int
ÂÂ "
CompareByDescription
ÂÂ .
(
ÂÂ. /

LetterInfo
ÂÂ/ 9
letterInfo1
ÂÂ: E
,
ÂÂE F

LetterInfo
ÂÂG Q
letterInfo2
ÂÂR ]
)
ÂÂ] ^
{
ÊÊ 	
return
ÁÁ 
letterInfo1
ÁÁ 
.
ÁÁ 
Description
ÁÁ *
.
ÁÁ* +
	CompareTo
ÁÁ+ 4
(
ÁÁ4 5
letterInfo2
ÁÁ5 @
.
ÁÁ@ A
Description
ÁÁA L
)
ÁÁL M
;
ÁÁM N
}
ËË 	
public
ÏÏ 
static
ÏÏ 
int
ÏÏ '
CompareByAvailableToRoles
ÏÏ 3
(
ÏÏ3 4

LetterInfo
ÏÏ4 >
letterInfo1
ÏÏ? J
,
ÏÏJ K

LetterInfo
ÏÏL V
letterInfo2
ÏÏW b
)
ÏÏb c
{
ÌÌ 	
return
ÓÓ 
letterInfo1
ÓÓ 
.
ÓÓ 
AvailableToRoles
ÓÓ /
.
ÓÓ/ 0
	CompareTo
ÓÓ0 9
(
ÓÓ9 :
letterInfo2
ÓÓ: E
.
ÓÓE F
AvailableToRoles
ÓÓF V
)
ÓÓV W
;
ÓÓW X
}
ÔÔ 	
public
ÛÛ 
static
ÛÛ 
int
ÛÛ "
CompareByFromAddress
ÛÛ .
(
ÛÛ. /

LetterInfo
ÛÛ/ 9
letterInfo1
ÛÛ: E
,
ÛÛE F

LetterInfo
ÛÛG Q
letterInfo2
ÛÛR ]
)
ÛÛ] ^
{
ÙÙ 	
return
ıı 
letterInfo1
ıı 
.
ıı 
FromAddress
ıı *
.
ıı* +
	CompareTo
ıı+ 4
(
ıı4 5
letterInfo2
ıı5 @
.
ıı@ A
FromAddress
ııA L
)
ııL M
;
ııM N
}
ˆˆ 	
public
˙˙ 
static
˙˙ 
int
˙˙ 
CompareByFromName
˙˙ +
(
˙˙+ ,

LetterInfo
˙˙, 6
letterInfo1
˙˙7 B
,
˙˙B C

LetterInfo
˙˙D N
letterInfo2
˙˙O Z
)
˙˙Z [
{
˚˚ 	
return
¸¸ 
letterInfo1
¸¸ 
.
¸¸ 
FromName
¸¸ '
.
¸¸' (
	CompareTo
¸¸( 1
(
¸¸1 2
letterInfo2
¸¸2 =
.
¸¸= >
FromName
¸¸> F
)
¸¸F G
;
¸¸G H
}
˝˝ 	
public
ÅÅ 
static
ÅÅ 
int
ÅÅ %
CompareByReplyToAddress
ÅÅ 1
(
ÅÅ1 2

LetterInfo
ÅÅ2 <
letterInfo1
ÅÅ= H
,
ÅÅH I

LetterInfo
ÅÅJ T
letterInfo2
ÅÅU `
)
ÅÅ` a
{
ÇÇ 	
return
ÉÉ 
letterInfo1
ÉÉ 
.
ÉÉ 
ReplyToAddress
ÉÉ -
.
ÉÉ- .
	CompareTo
ÉÉ. 7
(
ÉÉ7 8
letterInfo2
ÉÉ8 C
.
ÉÉC D
ReplyToAddress
ÉÉD R
)
ÉÉR S
;
ÉÉS T
}
ÑÑ 	
public
àà 
static
àà 
int
àà 
CompareBySendMode
àà +
(
àà+ ,

LetterInfo
àà, 6
letterInfo1
àà7 B
,
ààB C

LetterInfo
ààD N
letterInfo2
ààO Z
)
ààZ [
{
ââ 	
return
ää 
letterInfo1
ää 
.
ää 
SendMode
ää '
.
ää' (
	CompareTo
ää( 1
(
ää1 2
letterInfo2
ää2 =
.
ää= >
SendMode
ää> F
)
ääF G
;
ääG H
}
ãã 	
public
èè 
static
èè 
int
èè '
CompareByRolesThatCanEdit
èè 3
(
èè3 4

LetterInfo
èè4 >
letterInfo1
èè? J
,
èèJ K

LetterInfo
èèL V
letterInfo2
èèW b
)
èèb c
{
êê 	
return
ëë 
letterInfo1
ëë 
.
ëë 
RolesThatCanEdit
ëë /
.
ëë/ 0
	CompareTo
ëë0 9
(
ëë9 :
letterInfo2
ëë: E
.
ëëE F
RolesThatCanEdit
ëëF V
)
ëëV W
;
ëëW X
}
íí 	
public
ññ 
static
ññ 
int
ññ *
CompareByRolesThatCanApprove
ññ 6
(
ññ6 7

LetterInfo
ññ7 A
letterInfo1
ññB M
,
ññM N

LetterInfo
ññO Y
letterInfo2
ññZ e
)
ññe f
{
óó 	
return
òò 
letterInfo1
òò 
.
òò !
RolesThatCanApprove
òò 2
.
òò2 3
	CompareTo
òò3 <
(
òò< =
letterInfo2
òò= H
.
òòH I!
RolesThatCanApprove
òòI \
)
òò\ ]
;
òò] ^
}
ôô 	
public
ùù 
static
ùù 
int
ùù '
CompareByRolesThatCanSend
ùù 3
(
ùù3 4

LetterInfo
ùù4 >
letterInfo1
ùù? J
,
ùùJ K

LetterInfo
ùùL V
letterInfo2
ùùW b
)
ùùb c
{
ûû 	
return
üü 
letterInfo1
üü 
.
üü 
RolesThatCanSend
üü /
.
üü/ 0
	CompareTo
üü0 9
(
üü9 :
letterInfo2
üü: E
.
üüE F
RolesThatCanSend
üüF V
)
üüV W
;
üüW X
}
†† 	
public
§§ 
static
§§ 
int
§§ !
CompareByCreatedUtc
§§ -
(
§§- .

LetterInfo
§§. 8
letterInfo1
§§9 D
,
§§D E

LetterInfo
§§F P
letterInfo2
§§Q \
)
§§\ ]
{
•• 	
return
¶¶ 
letterInfo1
¶¶ 
.
¶¶ 

CreatedUtc
¶¶ )
.
¶¶) *
	CompareTo
¶¶* 3
(
¶¶3 4
letterInfo2
¶¶4 ?
.
¶¶? @

CreatedUtc
¶¶@ J
)
¶¶J K
;
¶¶K L
}
ßß 	
public
´´ 
static
´´ 
int
´´ !
CompareByLastModUtc
´´ -
(
´´- .

LetterInfo
´´. 8
letterInfo1
´´9 D
,
´´D E

LetterInfo
´´F P
letterInfo2
´´Q \
)
´´\ ]
{
¨¨ 	
return
≠≠ 
letterInfo1
≠≠ 
.
≠≠ 

LastModUtc
≠≠ )
.
≠≠) *
	CompareTo
≠≠* 3
(
≠≠3 4
letterInfo2
≠≠4 ?
.
≠≠? @

LastModUtc
≠≠@ J
)
≠≠J K
;
≠≠K L
}
ÆÆ 	
}
≥≥ 
}µµ äá
sD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ELetter\LetterSendLog.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
LetterSendLog 
{ 
public 
LetterSendLog 
( 
) 
{ 	
}
 
public!! 
LetterSendLog!! 
(!! 
int"" 
rowId"" 
)"" 
{## 	
GetLetterSendLog$$ 
($$ 
rowId%% 
)%% 
;%% 
}&& 	
private,, 
int,, 
rowID,, 
=,, 
-,, 
$num,, 
;,, 
private-- 
Guid-- 

letterGuid-- 
=--  !
Guid--" &
.--& '
Empty--' ,
;--, -
private.. 
Guid.. 
userGuid.. 
=.. 
Guid..  $
...$ %
Empty..% *
;..* +
private// 
Guid// 
subscribeGuid// "
=//# $
Guid//% )
.//) *
Empty//* /
;/// 0
private00 
string00 
emailAddress00 #
;00# $
private11 
DateTime11 
uTC11 
=11 
DateTime11 '
.11' (
UtcNow11( .
;11. /
private22 
bool22 
errorOccurred22 "
;22" #
private33 
string33 
errorMessage33 #
;33# $
public99 
int99 
RowId99 
{:: 	
get;; 
{;; 
return;; 
rowID;; 
;;; 
};;  !
set<< 
{<< 
rowID<< 
=<< 
value<< 
;<<  
}<<! "
}== 	
public>> 
Guid>> 

LetterGuid>> 
{?? 	
get@@ 
{@@ 
return@@ 

letterGuid@@ #
;@@# $
}@@% &
setAA 
{AA 

letterGuidAA 
=AA 
valueAA $
;AA$ %
}AA& '
}BB 	
publicCC 
GuidCC 
UserGuidCC 
{DD 	
getEE 
{EE 
returnEE 
userGuidEE !
;EE! "
}EE# $
setFF 
{FF 
userGuidFF 
=FF 
valueFF "
;FF" #
}FF$ %
}GG 	
publicHH 
GuidHH 
SubscribeGuidHH !
{II 	
getJJ 
{JJ 
returnJJ 
subscribeGuidJJ &
;JJ& '
}JJ( )
setKK 
{KK 
subscribeGuidKK 
=KK  !
valueKK" '
;KK' (
}KK) *
}LL 	
publicMM 
stringMM 
EmailAddressMM "
{NN 	
getOO 
{OO 
returnOO 
emailAddressOO %
;OO% &
}OO' (
setPP 
{PP 
emailAddressPP 
=PP  
valuePP! &
;PP& '
}PP( )
}QQ 	
publicRR 
DateTimeRR 
UTCRR 
{SS 	
getTT 
{TT 
returnTT 
uTCTT 
;TT 
}TT 
setUU 
{UU 
uTCUU 
=UU 
valueUU 
;UU 
}UU  
}VV 	
publicWW 
boolWW 
ErrorOccurredWW !
{XX 	
getYY 
{YY 
returnYY 
errorOccurredYY &
;YY& '
}YY( )
setZZ 
{ZZ 
errorOccurredZZ 
=ZZ  !
valueZZ" '
;ZZ' (
}ZZ) *
}[[ 	
public\\ 
string\\ 
ErrorMessage\\ "
{]] 	
get^^ 
{^^ 
return^^ 
errorMessage^^ %
;^^% &
}^^' (
set__ 
{__ 
errorMessage__ 
=__  
value__! &
;__& '
}__( )
}`` 	
privatejj 
voidjj 
GetLetterSendLogjj %
(jj% &
intjj& )
rowIdjj* /
)jj/ 0
{kk 	
usingll 
(ll 
IDataReaderll 
readerll %
=ll& '
DBLetterSendLogll( 7
.ll7 8
GetOnell8 >
(ll> ?
rowIdll? D
)llD E
)llE F
{mm 
ifnn 
(nn 
readernn 
.nn 
Readnn 
(nn  
)nn  !
)nn! "
{oo 
thispp 
.pp 
rowIDpp 
=pp  
Convertpp! (
.pp( )
ToInt32pp) 0
(pp0 1
readerpp1 7
[pp7 8
$strpp8 ?
]pp? @
)pp@ A
;ppA B
thisqq 
.qq 

letterGuidqq #
=qq$ %
newqq& )
Guidqq* .
(qq. /
readerqq/ 5
[qq5 6
$strqq6 B
]qqB C
.qqC D
ToStringqqD L
(qqL M
)qqM N
)qqN O
;qqO P
thisrr 
.rr 
userGuidrr !
=rr" #
newrr$ '
Guidrr( ,
(rr, -
readerrr- 3
[rr3 4
$strrr4 >
]rr> ?
.rr? @
ToStringrr@ H
(rrH I
)rrI J
)rrJ K
;rrK L
thisss 
.ss 
subscribeGuidss &
=ss' (
newss) ,
Guidss- 1
(ss1 2
readerss2 8
[ss8 9
$strss9 H
]ssH I
.ssI J
ToStringssJ R
(ssR S
)ssS T
)ssT U
;ssU V
thistt 
.tt 
emailAddresstt %
=tt& '
readertt( .
[tt. /
$strtt/ =
]tt= >
.tt> ?
ToStringtt? G
(ttG H
)ttH I
;ttI J
thisuu 
.uu 
uTCuu 
=uu 
Convertuu &
.uu& '

ToDateTimeuu' 1
(uu1 2
readeruu2 8
[uu8 9
$struu9 >
]uu> ?
)uu? @
;uu@ A
thisvv 
.vv 
errorOccurredvv &
=vv' (
Convertvv) 0
.vv0 1
	ToBooleanvv1 :
(vv: ;
readervv; A
[vvA B
$strvvB Q
]vvQ R
)vvR S
;vvS T
thisww 
.ww 
errorMessageww %
=ww& '
readerww( .
[ww. /
$strww/ =
]ww= >
.ww> ?
ToStringww? G
(wwG H
)wwH I
;wwI J
}yy 
}{{ 
}}} 	
private
ÉÉ 
bool
ÉÉ 
Create
ÉÉ 
(
ÉÉ 
)
ÉÉ 
{
ÑÑ 	
int
ÖÖ 
newID
ÖÖ 
=
ÖÖ 
$num
ÖÖ 
;
ÖÖ 
newID
áá 
=
áá 
DBLetterSendLog
áá #
.
áá# $
Create
áá$ *
(
áá* +
this
àà 
.
àà 

letterGuid
àà 
,
àà  
this
ââ 
.
ââ 
userGuid
ââ 
,
ââ 
this
ää 
.
ää 
subscribeGuid
ää "
,
ää" #
this
ãã 
.
ãã 
emailAddress
ãã !
,
ãã! "
this
åå 
.
åå 
uTC
åå 
,
åå 
this
çç 
.
çç 
errorOccurred
çç "
,
çç" #
this
éé 
.
éé 
errorMessage
éé !
)
éé! "
;
éé" #
this
êê 
.
êê 
rowID
êê 
=
êê 
newID
êê 
;
êê 
return
íí 
(
íí 
newID
íí 
>
íí 
$num
íí 
)
íí 
;
íí 
}
îî 	
private
õõ 
bool
õõ 
Update
õõ 
(
õõ 
)
õõ 
{
úú 	
return
ûû 
DBLetterSendLog
ûû "
.
ûû" #
Update
ûû# )
(
ûû) *
this
üü 
.
üü 
rowID
üü 
,
üü 
this
†† 
.
†† 

letterGuid
†† 
,
††  
this
°° 
.
°° 
userGuid
°° 
,
°° 
this
¢¢ 
.
¢¢ 
emailAddress
¢¢ !
,
¢¢! "
this
££ 
.
££ 
uTC
££ 
,
££ 
this
§§ 
.
§§ 
errorOccurred
§§ "
,
§§" #
this
•• 
.
•• 
errorMessage
•• !
)
••! "
;
••" #
}
ßß 	
public
≤≤ 
bool
≤≤ 
Save
≤≤ 
(
≤≤ 
)
≤≤ 
{
≥≥ 	
if
¥¥ 
(
¥¥ 
this
¥¥ 
.
¥¥ 
rowID
¥¥ 
>
¥¥ 
-
¥¥ 
$num
¥¥ 
)
¥¥  
{
µµ 
return
∂∂ 
Update
∂∂ 
(
∂∂ 
)
∂∂ 
;
∂∂  
}
∑∑ 
else
∏∏ 
{
ππ 
return
∫∫ 
Create
∫∫ 
(
∫∫ 
)
∫∫ 
;
∫∫  
}
ªª 
}
ºº 	
public
   
static
   
bool
   
Delete
   !
(
  ! "
int
  " %
rowId
  & +
)
  + ,
{
ÀÀ 	
return
ÃÃ 
DBLetterSendLog
ÃÃ "
.
ÃÃ" #
Delete
ÃÃ# )
(
ÃÃ) *
rowId
ÃÃ* /
)
ÃÃ/ 0
;
ÃÃ0 1
}
ÕÕ 	
public
‘‘ 
static
‘‘ 
bool
‘‘ 
DeleteByLetter
‘‘ )
(
‘‘) *
Guid
‘‘* .

letterGuid
‘‘/ 9
)
‘‘9 :
{
’’ 	
return
÷÷ 
DBLetterSendLog
÷÷ "
.
÷÷" #
DeleteByLetter
÷÷# 1
(
÷÷1 2

letterGuid
÷÷2 <
)
÷÷< =
;
÷÷= >
}
◊◊ 	
public
ŸŸ 
static
ŸŸ 
bool
ŸŸ  
DeleteByLetterInfo
ŸŸ -
(
ŸŸ- .
Guid
ŸŸ. 2
letterInfoGuid
ŸŸ3 A
)
ŸŸA B
{
⁄⁄ 	
return
€€ 
DBLetterSendLog
€€ "
.
€€" # 
DeleteByLetterInfo
€€# 5
(
€€5 6
letterInfoGuid
€€6 D
)
€€D E
;
€€E F
}
‹‹ 	
public
ﬁﬁ 
static
ﬁﬁ 
bool
ﬁﬁ 
DeleteBySite
ﬁﬁ '
(
ﬁﬁ' (
Guid
ﬁﬁ( ,
siteGuid
ﬁﬁ- 5
)
ﬁﬁ5 6
{
ﬂﬂ 	
return
‡‡ 
DBLetterSendLog
‡‡ "
.
‡‡" #
DeleteBySite
‡‡# /
(
‡‡/ 0
siteGuid
‡‡0 8
)
‡‡8 9
;
‡‡9 :
}
·· 	
public
ÊÊ 
static
ÊÊ 
int
ÊÊ 
GetCount
ÊÊ "
(
ÊÊ" #
Guid
ÊÊ# '

letterGuid
ÊÊ( 2
)
ÊÊ2 3
{
ÁÁ 	
return
ËË 
DBLetterSendLog
ËË "
.
ËË" #
GetCount
ËË# +
(
ËË+ ,

letterGuid
ËË, 6
)
ËË6 7
;
ËË7 8
}
ÍÍ 	
public
åå 
static
åå 
List
åå 
<
åå 
LetterSendLog
åå (
>
åå( )
GetPage
åå* 1
(
åå1 2
Guid
çç 

letterGuid
çç 
,
çç 
int
éé 

pageNumber
éé 
,
éé 
int
èè 
pageSize
èè 
,
èè 
out
êê 
int
êê 

totalPages
êê 
)
êê 
{
ëë 	

totalPages
íí 
=
íí 
$num
íí 
;
íí 
List
îî 
<
îî 
LetterSendLog
îî 
>
îî 
letterSendLogList
îî  1
=
îî2 3
new
îî4 7
List
îî8 <
<
îî< =
LetterSendLog
îî= J
>
îîJ K
(
îîK L
)
îîL M
;
îîM N
using
ññ 
(
ññ 
IDataReader
ññ 
reader
ññ %
=
óó 
DBLetterSendLog
óó !
.
óó! "
GetPage
óó" )
(
óó) *

letterGuid
òò 
,
òò 

pageNumber
ôô 
,
ôô 
pageSize
öö 
,
öö 
out
õõ 

totalPages
õõ 
)
õõ 
)
õõ  
{
úú 
while
ùù 
(
ùù 
reader
ùù 
.
ùù 
Read
ùù "
(
ùù" #
)
ùù# $
)
ùù$ %
{
ûû 
LetterSendLog
üü !
letterSendLog
üü" /
=
üü0 1
new
üü2 5
LetterSendLog
üü6 C
(
üüC D
)
üüD E
;
üüE F
letterSendLog
†† !
.
††! "
rowID
††" '
=
††( )
Convert
††* 1
.
††1 2
ToInt32
††2 9
(
††9 :
reader
††: @
[
††@ A
$str
††A H
]
††H I
)
††I J
;
††J K
letterSendLog
°° !
.
°°! "

letterGuid
°°" ,
=
°°- .
new
°°/ 2
Guid
°°3 7
(
°°7 8
reader
°°8 >
[
°°> ?
$str
°°? K
]
°°K L
.
°°L M
ToString
°°M U
(
°°U V
)
°°V W
)
°°W X
;
°°X Y
letterSendLog
¢¢ !
.
¢¢! "
userGuid
¢¢" *
=
¢¢+ ,
new
¢¢- 0
Guid
¢¢1 5
(
¢¢5 6
reader
¢¢6 <
[
¢¢< =
$str
¢¢= G
]
¢¢G H
.
¢¢H I
ToString
¢¢I Q
(
¢¢Q R
)
¢¢R S
)
¢¢S T
;
¢¢T U
letterSendLog
££ !
.
££! "
emailAddress
££" .
=
££/ 0
reader
££1 7
[
££7 8
$str
££8 F
]
££F G
.
££G H
ToString
££H P
(
££P Q
)
££Q R
;
££R S
letterSendLog
§§ !
.
§§! "
uTC
§§" %
=
§§& '
Convert
§§( /
.
§§/ 0

ToDateTime
§§0 :
(
§§: ;
reader
§§; A
[
§§A B
$str
§§B G
]
§§G H
)
§§H I
;
§§I J
letterSendLog
•• !
.
••! "
errorOccurred
••" /
=
••0 1
Convert
••2 9
.
••9 :
	ToBoolean
••: C
(
••C D
reader
••D J
[
••J K
$str
••K Z
]
••Z [
)
••[ \
;
••\ ]
letterSendLog
¶¶ !
.
¶¶! "
errorMessage
¶¶" .
=
¶¶/ 0
reader
¶¶1 7
[
¶¶7 8
$str
¶¶8 F
]
¶¶F G
.
¶¶G H
ToString
¶¶H P
(
¶¶P Q
)
¶¶Q R
;
¶¶R S
letterSendLogList
ßß %
.
ßß% &
Add
ßß& )
(
ßß) *
letterSendLog
ßß* 7
)
ßß7 8
;
ßß8 9
}
©© 
}
™™ 
return
¨¨ 
letterSendLogList
¨¨ $
;
¨¨$ %
}
ÆÆ 	
public
ππ 
static
ππ 
int
ππ 
CompareByRowId
ππ (
(
ππ( )
LetterSendLog
ππ) 6
letterSendLog1
ππ7 E
,
ππE F
LetterSendLog
ππG T
letterSendLog2
ππU c
)
ππc d
{
∫∫ 	
return
ªª 
letterSendLog1
ªª !
.
ªª! "
RowId
ªª" '
.
ªª' (
	CompareTo
ªª( 1
(
ªª1 2
letterSendLog2
ªª2 @
.
ªª@ A
RowId
ªªA F
)
ªªF G
;
ªªG H
}
ºº 	
public
¿¿ 
static
¿¿ 
int
¿¿ #
CompareByEmailAddress
¿¿ /
(
¿¿/ 0
LetterSendLog
¿¿0 =
letterSendLog1
¿¿> L
,
¿¿L M
LetterSendLog
¿¿N [
letterSendLog2
¿¿\ j
)
¿¿j k
{
¡¡ 	
return
¬¬ 
letterSendLog1
¬¬ !
.
¬¬! "
EmailAddress
¬¬" .
.
¬¬. /
	CompareTo
¬¬/ 8
(
¬¬8 9
letterSendLog2
¬¬9 G
.
¬¬G H
EmailAddress
¬¬H T
)
¬¬T U
;
¬¬U V
}
√√ 	
public
«« 
static
«« 
int
«« 
CompareByUtc
«« &
(
««& '
LetterSendLog
««' 4
letterSendLog1
««5 C
,
««C D
LetterSendLog
««E R
letterSendLog2
««S a
)
««a b
{
»» 	
return
…… 
letterSendLog1
…… !
.
……! "
UTC
……" %
.
……% &
	CompareTo
……& /
(
……/ 0
letterSendLog2
……0 >
.
……> ?
UTC
……? B
)
……B C
;
……C D
}
   	
public
ŒŒ 
static
ŒŒ 
int
ŒŒ #
CompareByErrorMessage
ŒŒ /
(
ŒŒ/ 0
LetterSendLog
ŒŒ0 =
letterSendLog1
ŒŒ> L
,
ŒŒL M
LetterSendLog
ŒŒN [
letterSendLog2
ŒŒ\ j
)
ŒŒj k
{
œœ 	
return
–– 
letterSendLog1
–– !
.
––! "
ErrorMessage
––" .
.
––. /
	CompareTo
––/ 8
(
––8 9
letterSendLog2
––9 G
.
––G H
ErrorMessage
––H T
)
––T U
;
––U V
}
—— 	
}
÷÷ 
}ÿÿ †5
vD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ELetter\LetterSubscriber.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
LetterSubscriber !
{ 
public 
LetterSubscriber 
(  
)  !
{ 	
}
 
private++ 
Guid++ 
subscribeGuid++ "
=++# $
Guid++% )
.++) *
Empty++* /
;++/ 0
private,, 
Guid,, 
passedLetterGuid,, %
=,,& '
Guid,,( ,
.,,, -
Empty,,- 2
;,,2 3
private-- 
Guid-- 
passedUserGuid-- #
=--$ %
Guid--& *
.--* +
Empty--+ 0
;--0 1
private// 
Guid// 
siteGuid// 
=// 
Guid//  $
.//$ %
Empty//% *
;//* +
private00 
Guid00 
letterInfoGuid00 #
=00$ %
Guid00& *
.00* +
Empty00+ 0
;000 1
private11 
Guid11 
userGuid11 
=11 
Guid11  $
.11$ %
Empty11% *
;11* +
private22 
Guid22 

verifyGuid22 
=22  !
Guid22" &
.22& '
Empty22' ,
;22, -
private33 
bool33 
useHtml33 
=33 
true33 #
;33# $
private44 
DateTime44 
beginUTC44 !
=44" #
DateTime44$ ,
.44, -
UtcNow44- 3
;443 4
private55 
string55 
emailAddress55 #
=55$ %
string55& ,
.55, -
Empty55- 2
;552 3
private66 
string66 
name66 
=66 
string66 $
.66$ %
Empty66% *
;66* +
private77 
bool77 

isVerified77 
=77  !
false77" '
;77' (
private88 
string88 
	ipAddress88  
=88! "
string88# )
.88) *
Empty88* /
;88/ 0
publicAA 
GuidAA 
SubscribeGuidAA !
{BB 	
getCC 
{CC 
returnCC 
subscribeGuidCC &
;CC& '
}CC( )
setDD 
{DD 
subscribeGuidDD 
=DD  !
valueDD" '
;DD' (
}DD) *
}EE 	
publicGG 
GuidGG 
SiteGuidGG 
{HH 	
getII 
{II 
returnII 
siteGuidII !
;II! "
}II# $
setJJ 
{JJ 
siteGuidJJ 
=JJ 
valueJJ "
;JJ" #
}JJ$ %
}KK 	
publicMM 
GuidMM 
LetterInfoGuidMM "
{NN 	
getOO 
{OO 
returnOO 
letterInfoGuidOO '
;OO' (
}OO) *
setPP 
{PP 
letterInfoGuidPP  
=PP! "
valuePP# (
;PP( )
}PP* +
}QQ 	
publicRR 
GuidRR 
UserGuidRR 
{SS 	
getTT 
{TT 
returnTT 
userGuidTT !
;TT! "
}TT# $
setUU 
{UU 
userGuidUU 
=UU 
valueUU "
;UU" #
}UU$ %
}VV 	
publicXX 
GuidXX 

VerifyGuidXX 
{YY 	
getZZ 
{ZZ 
returnZZ 

verifyGuidZZ #
;ZZ# $
}ZZ% &
set[[ 
{[[ 

verifyGuid[[ 
=[[ 
value[[ $
;[[$ %
}[[& '
}\\ 	
public^^ 
bool^^ 
UseHtml^^ 
{__ 	
get`` 
{`` 
return`` 
useHtml``  
;``  !
}``" #
setaa 
{aa 
useHtmlaa 
=aa 
valueaa !
;aa! "
}aa# $
}bb 	
publicdd 
booldd 

IsVerifieddd 
{ee 	
getff 
{ff 
returnff 

isVerifiedff #
;ff# $
}ff% &
setgg 
{gg 

isVerifiedgg 
=gg 
valuegg $
;gg$ %
}gg& '
}hh 	
publicjj 
DateTimejj 
BeginUtcjj  
{kk 	
getll 
{ll 
returnll 
beginUTCll !
;ll! "
}ll# $
setmm 
{mm 
beginUTCmm 
=mm 
valuemm "
;mm" #
}mm$ %
}nn 	
publicqq 
stringqq 
EmailAddressqq "
{rr 	
getss 
{ss 
returnss 
emailAddressss %
;ss% &
}ss' (
settt 
{tt 
emailAddresstt 
=tt  
valuett! &
;tt& '
}tt( )
}uu 	
publicww 
stringww 
Nameww 
{xx 	
getyy 
{yy 
returnyy 
nameyy 
;yy 
}yy  
setzz 
{zz 
namezz 
=zz 
valuezz 
;zz 
}zz  !
}{{ 	
public}} 
string}} 
	IpAddress}} 
{~~ 	
get 
{ 
return 
	ipAddress "
;" #
}$ %
set
ÄÄ 
{
ÄÄ 
	ipAddress
ÄÄ 
=
ÄÄ 
value
ÄÄ #
;
ÄÄ# $
}
ÄÄ% &
}
ÅÅ 	
private
ÉÉ 
string
ÉÉ 
	firstName
ÉÉ  
=
ÉÉ! "
string
ÉÉ# )
.
ÉÉ) *
Empty
ÉÉ* /
;
ÉÉ/ 0
public
ÖÖ 
string
ÖÖ 
	FirstName
ÖÖ 
{
ÜÜ 	
get
áá 
{
áá 
return
áá 
	firstName
áá "
;
áá" #
}
áá$ %
set
àà 
{
àà 
	firstName
àà 
=
àà 
value
àà #
;
àà# $
}
àà% &
}
ââ 	
private
ãã 
string
ãã 
lastName
ãã 
=
ãã  !
string
ãã" (
.
ãã( )
Empty
ãã) .
;
ãã. /
public
çç 
string
çç 
LastName
çç 
{
éé 	
get
èè 
{
èè 
return
èè 
lastName
èè !
;
èè! "
}
èè# $
set
êê 
{
êê 
lastName
êê 
=
êê 
value
êê "
;
êê" #
}
êê$ %
}
ëë 	
}
ﬂﬂ 
}·· £ò
zD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ELetter\SubscriberRepository.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class  
SubscriberRepository %
{ 
public  
SubscriberRepository #
(# $
)$ %
{ 	
}
 
public 
void 
Save 
( 
LetterSubscriber )
subsciption* 5
)5 6
{ 	
if 
( 
subsciption 
== 
null #
)# $
{% &
return' -
;- .
}/ 0
if 
( 
subsciption 
. 
SubscribeGuid )
==* ,
Guid- 1
.1 2
Empty2 7
)7 8
{ 
subsciption 
. 
SubscribeGuid )
=* +
Guid, 0
.0 1
NewGuid1 8
(8 9
)9 :
;: ; 
DBLetterSubscription   $
.  $ %
Create  % +
(  + ,
subsciption!! 
.!!  
SubscribeGuid!!  -
,!!- .
subsciption"" 
.""  
SiteGuid""  (
,""( )
subsciption## 
.##  
LetterInfoGuid##  .
,##. /
subsciption$$ 
.$$  
UserGuid$$  (
,$$( )
subsciption%% 
.%%  
EmailAddress%%  ,
.%%, -
ToLower%%- 4
(%%4 5
)%%5 6
,%%6 7
subsciption&& 
.&&  

IsVerified&&  *
,&&* +
subsciption'' 
.''  

VerifyGuid''  *
,''* +
DateTime(( 
.(( 
UtcNow(( #
,((# $
subsciption)) 
.))  
UseHtml))  '
,))' (
subsciption** 
.**  
	IpAddress**  )
)**) *
;*** +
}++ 
else,, 
{--  
DBLetterSubscription.. $
...$ %
Update..% +
(..+ ,
subsciption// 
.//  
SubscribeGuid//  -
,//- .
subsciption00 
.00  
UserGuid00  (
,00( )
subsciption11 
.11  
UseHtml11  '
)11' (
;11( )
}33 
}44 	
public66 
LetterSubscriber66 
Fetch66  %
(66% &
Guid66& *
guid66+ /
)66/ 0
{77 	
using88 
(88 
IDataReader88 
reader88 %
=88& ' 
DBLetterSubscription88( <
.88< =
GetOne88= C
(88C D
guid88D H
)88H I
)88I J
{99 
if:: 
(:: 
reader:: 
.:: 
Read:: 
(::  
)::  !
)::! "
{;; 
LetterSubscriber<< $
letterSubscriber<<% 5
=<<6 7
new<<8 ;
LetterSubscriber<<< L
(<<L M
)<<M N
;<<N O
letterSubscriber== $
.==$ %
SubscribeGuid==% 2
===3 4
new==5 8
Guid==9 =
(=== >
reader==> D
[==D E
$str==E K
]==K L
.==L M
ToString==M U
(==U V
)==V W
)==W X
;==X Y
letterSubscriber>> $
.>>$ %
SiteGuid>>% -
=>>. /
new>>0 3
Guid>>4 8
(>>8 9
reader>>9 ?
[>>? @
$str>>@ J
]>>J K
.>>K L
ToString>>L T
(>>T U
)>>U V
)>>V W
;>>W X
letterSubscriber?? $
.??$ %
LetterInfoGuid??% 3
=??4 5
new??6 9
Guid??: >
(??> ?
reader??? E
[??E F
$str??F V
]??V W
.??W X
ToString??X `
(??` a
)??a b
)??b c
;??c d
letterSubscriber@@ $
.@@$ %

VerifyGuid@@% /
=@@0 1
new@@2 5
Guid@@6 :
(@@: ;
reader@@; A
[@@A B
$str@@B N
]@@N O
.@@O P
ToString@@P X
(@@X Y
)@@Y Z
)@@Z [
;@@[ \
letterSubscriberAA $
.AA$ %
UserGuidAA% -
=AA. /
newAA0 3
GuidAA4 8
(AA8 9
readerAA9 ?
[AA? @
$strAA@ J
]AAJ K
.AAK L
ToStringAAL T
(AAT U
)AAU V
)AAV W
;AAW X
letterSubscriberBB $
.BB$ %
UseHtmlBB% ,
=BB- .
ConvertBB/ 6
.BB6 7
	ToBooleanBB7 @
(BB@ A
readerBBA G
[BBG H
$strBBH Q
]BBQ R
)BBR S
;BBS T
letterSubscriberCC $
.CC$ %
BeginUtcCC% -
=CC. /
ConvertCC0 7
.CC7 8

ToDateTimeCC8 B
(CCB C
readerCCC I
[CCI J
$strCCJ T
]CCT U
)CCU V
;CCV W
letterSubscriberDD $
.DD$ %
EmailAddressDD% 1
=DD2 3
readerDD4 :
[DD: ;
$strDD; B
]DDB C
.DDC D
ToStringDDD L
(DDL M
)DDM N
;DDN O
letterSubscriberEE $
.EE$ %
NameEE% )
=EE* +
readerEE, 2
[EE2 3
$strEE3 9
]EE9 :
.EE: ;
ToStringEE; C
(EEC D
)EED E
;EEE F
letterSubscriberFF $
.FF$ %

IsVerifiedFF% /
=FF0 1
ConvertFF2 9
.FF9 :
	ToBooleanFF: C
(FFC D
readerFFD J
[FFJ K
$strFFK W
]FFW X
)FFX Y
;FFY Z
letterSubscriberGG $
.GG$ %
	IpAddressGG% .
=GG/ 0
readerGG1 7
[GG7 8
$strGG8 C
]GGC D
.GGD E
ToStringGGE M
(GGM N
)GGN O
;GGO P
letterSubscriberII $
.II$ %
	FirstNameII% .
=II/ 0
readerII1 7
[II7 8
$strII8 C
]IIC D
.IID E
ToStringIIE M
(IIM N
)IIN O
;IIO P
letterSubscriberJJ $
.JJ$ %
LastNameJJ% -
=JJ. /
readerJJ0 6
[JJ6 7
$strJJ7 A
]JJA B
.JJB C
ToStringJJC K
(JJK L
)JJL M
;JJM N
returnLL 
letterSubscriberLL +
;LL+ ,
}MM 
}NN 
returnPP 
nullPP 
;PP 
}QQ 	
publicSS 
LetterSubscriberSS 
FetchSS  %
(SS% &
GuidSS& *
siteGuidSS+ 3
,SS3 4
GuidSS5 9
letterInfoGuidSS: H
,SSH I
stringSSJ P
emailSSQ V
)SSV W
{TT 	
usingUU 
(UU 
IDataReaderUU 
readerUU %
=UU& ' 
DBLetterSubscriptionUU( <
.UU< =

GetByEmailUU= G
(UUG H
siteGuidUUH P
,UUP Q
letterInfoGuidUUR `
,UU` a
emailUUb g
.UUg h
ToLowerUUh o
(UUo p
)UUp q
)UUq r
)UUr s
{VV 
ifWW 
(WW 
readerWW 
.WW 
ReadWW 
(WW  
)WW  !
)WW! "
{XX 
LetterSubscriberYY $
letterSubscriberYY% 5
=YY6 7
newYY8 ;
LetterSubscriberYY< L
(YYL M
)YYM N
;YYN O
letterSubscriberZZ $
.ZZ$ %
SubscribeGuidZZ% 2
=ZZ3 4
newZZ5 8
GuidZZ9 =
(ZZ= >
readerZZ> D
[ZZD E
$strZZE K
]ZZK L
.ZZL M
ToStringZZM U
(ZZU V
)ZZV W
)ZZW X
;ZZX Y
letterSubscriber[[ $
.[[$ %
SiteGuid[[% -
=[[. /
new[[0 3
Guid[[4 8
([[8 9
reader[[9 ?
[[[? @
$str[[@ J
][[J K
.[[K L
ToString[[L T
([[T U
)[[U V
)[[V W
;[[W X
letterSubscriber\\ $
.\\$ %
LetterInfoGuid\\% 3
=\\4 5
new\\6 9
Guid\\: >
(\\> ?
reader\\? E
[\\E F
$str\\F V
]\\V W
.\\W X
ToString\\X `
(\\` a
)\\a b
)\\b c
;\\c d
letterSubscriber]] $
.]]$ %

VerifyGuid]]% /
=]]0 1
new]]2 5
Guid]]6 :
(]]: ;
reader]]; A
[]]A B
$str]]B N
]]]N O
.]]O P
ToString]]P X
(]]X Y
)]]Y Z
)]]Z [
;]][ \
letterSubscriber^^ $
.^^$ %
UserGuid^^% -
=^^. /
new^^0 3
Guid^^4 8
(^^8 9
reader^^9 ?
[^^? @
$str^^@ J
]^^J K
.^^K L
ToString^^L T
(^^T U
)^^U V
)^^V W
;^^W X
letterSubscriber__ $
.__$ %
UseHtml__% ,
=__- .
Convert__/ 6
.__6 7
	ToBoolean__7 @
(__@ A
reader__A G
[__G H
$str__H Q
]__Q R
)__R S
;__S T
letterSubscriber`` $
.``$ %
BeginUtc``% -
=``. /
Convert``0 7
.``7 8

ToDateTime``8 B
(``B C
reader``C I
[``I J
$str``J T
]``T U
)``U V
;``V W
letterSubscriberaa $
.aa$ %
EmailAddressaa% 1
=aa2 3
readeraa4 :
[aa: ;
$straa; B
]aaB C
.aaC D
ToStringaaD L
(aaL M
)aaM N
;aaN O
letterSubscriberbb $
.bb$ %
Namebb% )
=bb* +
readerbb, 2
[bb2 3
$strbb3 9
]bb9 :
.bb: ;
ToStringbb; C
(bbC D
)bbD E
;bbE F
letterSubscribercc $
.cc$ %

IsVerifiedcc% /
=cc0 1
Convertcc2 9
.cc9 :
	ToBooleancc: C
(ccC D
readerccD J
[ccJ K
$strccK W
]ccW X
)ccX Y
;ccY Z
letterSubscriberdd $
.dd$ %
	IpAddressdd% .
=dd/ 0
readerdd1 7
[dd7 8
$strdd8 C
]ddC D
.ddD E
ToStringddE M
(ddM N
)ddN O
;ddO P
letterSubscriberff $
.ff$ %
	FirstNameff% .
=ff/ 0
readerff1 7
[ff7 8
$strff8 C
]ffC D
.ffD E
ToStringffE M
(ffM N
)ffN O
;ffO P
letterSubscribergg $
.gg$ %
LastNamegg% -
=gg. /
readergg0 6
[gg6 7
$strgg7 A
]ggA B
.ggB C
ToStringggC K
(ggK L
)ggL M
;ggM N
returnii 
letterSubscriberii +
;ii+ ,
}jj 
}kk 
returnmm 
nullmm 
;mm 
}nn 	
publicrr 
boolrr 
Existsrr 
(rr 
Guidrr 
letterInfoGuidrr  .
,rr. /
stringrr0 6
emailrr7 <
)rr< =
{ss 	
returntt  
DBLetterSubscriptiontt '
.tt' (
Existstt( .
(tt. /
letterInfoGuidtt/ =
,tt= >
emailtt? D
.ttD E
ToLowerttE L
(ttL M
)ttM N
)ttN O
;ttO P
}uu 	
publicww 
boolww 
Verifyww 
(ww 
Guidxx 
guidxx 
,xx 
boolyy 

isVerifiedyy 
,yy 
Guidzz 

verifyGuidzz 
)zz 
{{{ 	
return||  
DBLetterSubscription|| '
.||' (
Verify||( .
(||. /
guid}} 
,}} 

isVerified~~ 
,~~ 

verifyGuid 
) 
; 
}
ÄÄ 	
public
ÇÇ 
bool
ÇÇ 
Delete
ÇÇ 
(
ÇÇ 
LetterSubscriber
ÇÇ +
subscription
ÇÇ, 8
)
ÇÇ8 9
{
ÉÉ 	
return
ÑÑ 
Delete
ÑÑ 
(
ÑÑ 
subscription
ÑÑ &
,
ÑÑ& '
true
ÑÑ( ,
)
ÑÑ, -
;
ÑÑ- .
}
ÖÖ 	
public
áá 
bool
áá 
Delete
áá 
(
áá 
LetterSubscriber
áá +
subscription
áá, 8
,
áá8 9
bool
áá: >
createHistory
áá? L
)
ááL M
{
àà 	
if
ââ 
(
ââ 
subscription
ââ 
==
ââ 
null
ââ  $
)
ââ$ %
{
ââ& '
return
ââ( .
false
ââ/ 4
;
ââ4 5
}
ââ6 7
if
ãã 
(
ãã 
createHistory
ãã 
)
ãã 
{
åå "
DBLetterSubscription
çç $
.
çç$ %
CreateHistory
çç% 2
(
çç2 3
Guid
éé 
.
éé 
NewGuid
éé  
(
éé  !
)
éé! "
,
éé" #
subscription
èè  
.
èè  !
SiteGuid
èè! )
,
èè) *
subscription
êê  
.
êê  !
SubscribeGuid
êê! .
,
êê. /
subscription
ëë  
.
ëë  !
LetterInfoGuid
ëë! /
,
ëë/ 0
subscription
íí  
.
íí  !
UserGuid
íí! )
,
íí) *
subscription
ìì  
.
ìì  !
EmailAddress
ìì! -
,
ìì- .
subscription
îî  
.
îî  !

IsVerified
îî! +
,
îî+ ,
subscription
ïï  
.
ïï  !
UseHtml
ïï! (
,
ïï( )
subscription
ññ  
.
ññ  !
BeginUtc
ññ! )
,
ññ) *
DateTime
óó 
.
óó 
UtcNow
óó #
,
óó# $
subscription
òò  
.
òò  !
	IpAddress
òò! *
)
òò* +
;
òò+ ,
}
ôô 
return
ùù "
DBLetterSubscription
ùù '
.
ùù' (
Delete
ùù( .
(
ùù. /
subscription
ùù/ ;
.
ùù; <
SubscribeGuid
ùù< I
)
ùùI J
;
ùùJ K
}
ûû 	
public
†† 
bool
†† 
DeleteByLetter
†† "
(
††" #
Guid
††# '
letterInfoGuid
††( 6
)
††6 7
{
°° 	
return
¢¢ "
DBLetterSubscription
¢¢ '
.
¢¢' (
DeleteByLetter
¢¢( 6
(
¢¢6 7
letterInfoGuid
¢¢7 E
)
¢¢E F
;
¢¢F G
}
££ 	
public
•• 
bool
•• 
DeleteUnverified
•• $
(
••$ %
Guid
••% )
letterInfoGuid
••* 8
,
••8 9
DateTime
••: B
olderThanUtc
••C O
)
••O P
{
¶¶ 	
return
ßß "
DBLetterSubscription
ßß '
.
ßß' (
DeleteUnverified
ßß( 8
(
ßß8 9
letterInfoGuid
ßß9 G
,
ßßG H
olderThanUtc
ßßI U
)
ßßU V
;
ßßV W
}
®® 	
public
™™ 
bool
™™ 
DeleteByUser
™™  
(
™™  !
Guid
™™! %
userGuid
™™& .
)
™™. /
{
´´ 	
return
≠≠ "
DBLetterSubscription
≠≠ '
.
≠≠' (
DeleteByUser
≠≠( 4
(
≠≠4 5
userGuid
≠≠5 =
)
≠≠= >
;
≠≠> ?
}
ÆÆ 	
public
∞∞ 
bool
∞∞ 
DeleteBySite
∞∞  
(
∞∞  !
Guid
∞∞! %
siteGuid
∞∞& .
)
∞∞. /
{
±± 	
return
≤≤ "
DBLetterSubscription
≤≤ '
.
≤≤' (
DeleteBySite
≤≤( 4
(
≤≤4 5
siteGuid
≤≤5 =
)
≤≤= >
;
≤≤> ?
}
≥≥ 	
public
µµ 
bool
µµ !
DeleteHistoryBySite
µµ '
(
µµ' (
Guid
µµ( ,
siteGuid
µµ- 5
)
µµ5 6
{
∂∂ 	
return
∑∑ "
DBLetterSubscription
∑∑ '
.
∑∑' (!
DeleteHistoryBySite
∑∑( ;
(
∑∑; <
siteGuid
∑∑< D
)
∑∑D E
;
∑∑E F
}
∏∏ 	
public
∫∫ 
bool
∫∫ '
DeleteHistoryByLetterInfo
∫∫ -
(
∫∫- .
Guid
∫∫. 2
letterInfoGuid
∫∫3 A
)
∫∫A B
{
ªª 	
return
ºº "
DBLetterSubscription
ºº '
.
ºº' ('
DeleteHistoryByLetterInfo
ºº( A
(
ººA B
letterInfoGuid
ººB P
)
ººP Q
;
ººQ R
}
ΩΩ 	
public
øø 
IDataReader
øø 
GetOne
øø !
(
øø! "
Guid
øø" &
guid
øø' +
)
øø+ ,
{
¿¿ 	
return
¡¡ "
DBLetterSubscription
¡¡ '
.
¡¡' (
GetOne
¡¡( .
(
¡¡. /
guid
¡¡/ 3
)
¡¡3 4
;
¡¡4 5
}
¬¬ 	
public
ƒƒ 
IDataReader
ƒƒ 
GetByLetter
ƒƒ &
(
ƒƒ& '
Guid
ƒƒ' +
letterInfoGuid
ƒƒ, :
)
ƒƒ: ;
{
≈≈ 	
return
∆∆ "
DBLetterSubscription
∆∆ '
.
∆∆' (
GetByLetter
∆∆( 3
(
∆∆3 4
letterInfoGuid
∆∆4 B
)
∆∆B C
;
∆∆C D
}
«« 	
public
…… 
	DataTable
…… -
GetVerifiedSubscribersForExport
…… 8
(
……8 9
Guid
……9 =
letterInfoGuid
……> L
)
……L M
{
   	
	DataTable
ÀÀ 
dt
ÀÀ 
=
ÀÀ 
new
ÀÀ 
	DataTable
ÀÀ (
(
ÀÀ( )
)
ÀÀ) *
;
ÀÀ* +
dt
ÃÃ 
.
ÃÃ 
Columns
ÃÃ 
.
ÃÃ 
Add
ÃÃ 
(
ÃÃ 
$str
ÃÃ "
,
ÃÃ" #
typeof
ÃÃ$ *
(
ÃÃ* +
string
ÃÃ+ 1
)
ÃÃ1 2
)
ÃÃ2 3
;
ÃÃ3 4
dt
ÕÕ 
.
ÕÕ 
Columns
ÕÕ 
.
ÕÕ 
Add
ÕÕ 
(
ÕÕ 
$str
ÕÕ !
,
ÕÕ! "
typeof
ÕÕ# )
(
ÕÕ) *
string
ÕÕ* 0
)
ÕÕ0 1
)
ÕÕ1 2
;
ÕÕ2 3
dt
ŒŒ 
.
ŒŒ 
Columns
ŒŒ 
.
ŒŒ 
Add
ŒŒ 
(
ŒŒ 
$str
ŒŒ $
,
ŒŒ$ %
typeof
ŒŒ& ,
(
ŒŒ, -
bool
ŒŒ- 1
)
ŒŒ1 2
)
ŒŒ2 3
;
ŒŒ3 4
dt
œœ 
.
œœ 
Columns
œœ 
.
œœ 
Add
œœ 
(
œœ 
$str
œœ %
,
œœ% &
typeof
œœ' -
(
œœ- .
DateTime
œœ. 6
)
œœ6 7
)
œœ7 8
;
œœ8 9
dt
–– 
.
–– 
Columns
–– 
.
–– 
Add
–– 
(
–– 
$str
–– '
,
––' (
typeof
––) /
(
––/ 0
bool
––0 4
)
––4 5
)
––5 6
;
––6 7
dt
—— 
.
—— 
Columns
—— 
.
—— 
Add
—— 
(
—— 
$str
—— %
,
——% &
typeof
——' -
(
——- .
string
——. 4
)
——4 5
)
——5 6
;
——6 7
using
”” 
(
”” 
IDataReader
”” 
reader
”” %
=
””& '
GetByLetter
””( 3
(
””3 4
letterInfoGuid
””4 B
)
””B C
)
””C D
{
‘‘ 
while
’’ 
(
’’ 
reader
’’ 
.
’’ 
Read
’’ "
(
’’" #
)
’’# $
)
’’$ %
{
÷÷ 
DataRow
ÿÿ 
row
ÿÿ 
=
ÿÿ  !
dt
ÿÿ" $
.
ÿÿ$ %
NewRow
ÿÿ% +
(
ÿÿ+ ,
)
ÿÿ, -
;
ÿÿ- .
bool
⁄⁄ 

isVerified
⁄⁄ #
=
⁄⁄$ %
Convert
⁄⁄& -
.
⁄⁄- .
	ToBoolean
⁄⁄. 7
(
⁄⁄7 8
reader
⁄⁄8 >
[
⁄⁄> ?
$str
⁄⁄? K
]
⁄⁄K L
)
⁄⁄L M
;
⁄⁄M N
row
‹‹ 
[
‹‹ 
$str
‹‹ 
]
‹‹  
=
‹‹! "
reader
‹‹# )
[
‹‹) *
$str
‹‹* 1
]
‹‹1 2
;
‹‹2 3
row
›› 
[
›› 
$str
›› 
]
›› 
=
››  !
reader
››" (
[
››( )
$str
››) /
]
››/ 0
;
››0 1
row
ﬁﬁ 
[
ﬁﬁ 
$str
ﬁﬁ !
]
ﬁﬁ! "
=
ﬁﬁ# $
Convert
ﬁﬁ% ,
.
ﬁﬁ, -
	ToBoolean
ﬁﬁ- 6
(
ﬁﬁ6 7
reader
ﬁﬁ7 =
[
ﬁﬁ= >
$str
ﬁﬁ> G
]
ﬁﬁG H
)
ﬁﬁH I
;
ﬁﬁI J
row
ﬂﬂ 
[
ﬂﬂ 
$str
ﬂﬂ "
]
ﬂﬂ" #
=
ﬂﬂ$ %
Convert
ﬂﬂ& -
.
ﬂﬂ- .

ToDateTime
ﬂﬂ. 8
(
ﬂﬂ8 9
reader
ﬂﬂ9 ?
[
ﬂﬂ? @
$str
ﬂﬂ@ J
]
ﬂﬂJ K
)
ﬂﬂK L
;
ﬂﬂL M
row
‡‡ 
[
‡‡ 
$str
‡‡ $
]
‡‡$ %
=
‡‡& '

isVerified
‡‡( 2
;
‡‡2 3
row
·· 
[
·· 
$str
·· "
]
··" #
=
··$ %
reader
··& ,
[
··, -
$str
··- 7
]
··7 8
.
··8 9
ToString
··9 A
(
··A B
)
··B C
;
··C D
if
‚‚ 
(
‚‚ 

isVerified
‚‚ "
)
‚‚" #
{
„„ 
dt
‰‰ 
.
‰‰ 
Rows
‰‰ 
.
‰‰  
Add
‰‰  #
(
‰‰# $
row
‰‰$ '
)
‰‰' (
;
‰‰( )
}
ÂÂ 
}
ÊÊ 
}
ÁÁ 
return
ÈÈ 
dt
ÈÈ 
;
ÈÈ 
}
ÍÍ 	
public
ÏÏ 
IDataReader
ÏÏ 
	GetByUser
ÏÏ $
(
ÏÏ$ %
Guid
ÏÏ% )
siteGuid
ÏÏ* 2
,
ÏÏ2 3
Guid
ÏÏ4 8
userGuid
ÏÏ9 A
)
ÏÏA B
{
ÌÌ 	
return
ÓÓ "
DBLetterSubscription
ÓÓ '
.
ÓÓ' (
	GetByUser
ÓÓ( 1
(
ÓÓ1 2
siteGuid
ÓÓ2 :
,
ÓÓ: ;
userGuid
ÓÓ< D
)
ÓÓD E
;
ÓÓE F
}
ÔÔ 	
public
ÒÒ 
IDataReader
ÒÒ 

GetByEmail
ÒÒ %
(
ÒÒ% &
Guid
ÒÒ& *
siteGuid
ÒÒ+ 3
,
ÒÒ3 4
string
ÒÒ5 ;
email
ÒÒ< A
)
ÒÒA B
{
ÚÚ 	
return
ÛÛ "
DBLetterSubscription
ÛÛ '
.
ÛÛ' (

GetByEmail
ÛÛ( 2
(
ÛÛ2 3
siteGuid
ÛÛ3 ;
,
ÛÛ; <
email
ÛÛ= B
.
ÛÛB C
ToLower
ÛÛC J
(
ÛÛJ K
)
ÛÛK L
)
ÛÛL M
;
ÛÛM N
}
ÙÙ 	
public
ˆˆ 
static
ˆˆ 
int
ˆˆ -
CountUsersNotSubscribedByLetter
ˆˆ 9
(
ˆˆ9 :
Guid
ˆˆ: >
siteGuid
ˆˆ? G
,
ˆˆG H
Guid
ˆˆI M
letterInfoGuid
ˆˆN \
,
ˆˆ\ ]
bool
ˆˆ^ b'
excludeIfAnyUnsubscribeHx
ˆˆc |
)
ˆˆ| }
{
˜˜ 	
return
¯¯ "
DBLetterSubscription
¯¯ '
.
¯¯' (-
CountUsersNotSubscribedByLetter
¯¯( G
(
¯¯G H
siteGuid
¯¯H P
,
¯¯P Q
letterInfoGuid
¯¯R `
,
¯¯` a'
excludeIfAnyUnsubscribeHx
¯¯b {
)
¯¯{ |
;
¯¯| }
}
˘˘ 	
public
˚˚ 
static
˚˚ 
	DataTable
˚˚ *
GetTop1000UsersNotSubscribed
˚˚  <
(
˚˚< =
Guid
˚˚= A
siteGuid
˚˚B J
,
˚˚J K
Guid
˚˚L P
letterInfoGuid
˚˚Q _
,
˚˚_ `
bool
˚˚a e'
excludeIfAnyUnsubscribeHx
˚˚f 
)˚˚ Ä
{
¸¸ 	
	DataTable
˝˝ 
	dataTable
˝˝ 
=
˝˝  !
new
˝˝" %
	DataTable
˝˝& /
(
˝˝/ 0
)
˝˝0 1
;
˝˝1 2
	dataTable
˛˛ 
.
˛˛ 
Columns
˛˛ 
.
˛˛ 
Add
˛˛ !
(
˛˛! "
$str
˛˛" *
,
˛˛* +
typeof
˛˛, 2
(
˛˛2 3
int
˛˛3 6
)
˛˛6 7
)
˛˛7 8
;
˛˛8 9
	dataTable
ˇˇ 
.
ˇˇ 
Columns
ˇˇ 
.
ˇˇ 
Add
ˇˇ !
(
ˇˇ! "
$str
ˇˇ" ,
,
ˇˇ, -
typeof
ˇˇ. 4
(
ˇˇ4 5
string
ˇˇ5 ;
)
ˇˇ; <
)
ˇˇ< =
;
ˇˇ= >
	dataTable
ÄÄ 
.
ÄÄ 
Columns
ÄÄ 
.
ÄÄ 
Add
ÄÄ !
(
ÄÄ! "
$str
ÄÄ" )
,
ÄÄ) *
typeof
ÄÄ+ 1
(
ÄÄ1 2
string
ÄÄ2 8
)
ÄÄ8 9
)
ÄÄ9 :
;
ÄÄ: ;
using
ÇÇ 
(
ÇÇ 
IDataReader
ÇÇ 
reader
ÇÇ %
=
ÇÇ& '"
DBLetterSubscription
ÇÇ( <
.
ÇÇ< =*
GetTop1000UsersNotSubscribed
ÇÇ= Y
(
ÇÇY Z
siteGuid
ÇÇZ b
,
ÇÇb c
letterInfoGuid
ÇÇd r
,
ÇÇr s(
excludeIfAnyUnsubscribeHxÇÇt ç
)ÇÇç é
)ÇÇé è
{
ÉÉ 
while
ÑÑ 
(
ÑÑ 
reader
ÑÑ 
.
ÑÑ 
Read
ÑÑ "
(
ÑÑ" #
)
ÑÑ# $
)
ÑÑ$ %
{
ÖÖ 
DataRow
ÜÜ 
row
ÜÜ 
=
ÜÜ  !
	dataTable
ÜÜ" +
.
ÜÜ+ ,
NewRow
ÜÜ, 2
(
ÜÜ2 3
)
ÜÜ3 4
;
ÜÜ4 5
row
áá 
[
áá 
$str
áá  
]
áá  !
=
áá" #
Convert
áá$ +
.
áá+ ,
ToInt32
áá, 3
(
áá3 4
reader
áá4 :
[
áá: ;
$str
áá; C
]
ááC D
)
ááD E
;
ááE F
row
àà 
[
àà 
$str
àà "
]
àà" #
=
àà$ %
reader
àà& ,
[
àà, -
$str
àà- 7
]
àà7 8
.
àà8 9
ToString
àà9 A
(
ààA B
)
ààB C
;
ààC D
row
ââ 
[
ââ 
$str
ââ 
]
ââ  
=
ââ! "
reader
ââ# )
[
ââ) *
$str
ââ* 1
]
ââ1 2
.
ââ2 3
ToString
ââ3 ;
(
ââ; <
)
ââ< =
;
ââ= >
	dataTable
ää 
.
ää 
Rows
ää "
.
ää" #
Add
ää# &
(
ää& '
row
ää' *
)
ää* +
;
ää+ ,
}
åå 
}
éé 
return
êê 
	dataTable
êê 
;
êê 
}
ëë 	
public
ìì 
List
ìì 
<
ìì 
LetterSubscriber
ìì $
>
ìì$ %
GetListByEmail
ìì& 4
(
ìì4 5
Guid
ìì5 9
siteGuid
ìì: B
,
ììB C
string
ììD J
email
ììK P
)
ììP Q
{
îî 	
IDataReader
ïï 
reader
ïï 
=
ïï  "
DBLetterSubscription
ïï! 5
.
ïï5 6

GetByEmail
ïï6 @
(
ïï@ A
siteGuid
ïïA I
,
ïïI J
email
ïïK P
.
ïïP Q
ToLower
ïïQ X
(
ïïX Y
)
ïïY Z
)
ïïZ [
;
ïï[ \
return
ññ 
LoadFromReader
ññ !
(
ññ! "
reader
ññ" (
)
ññ( )
;
ññ) *
}
óó 	
public
ôô 
List
ôô 
<
ôô 
LetterSubscriber
ôô $
>
ôô$ %
GetListByUser
ôô& 3
(
ôô3 4
Guid
ôô4 8
siteGuid
ôô9 A
,
ôôA B
Guid
ôôC G
userGuid
ôôH P
)
ôôP Q
{
öö 	
IDataReader
õõ 
reader
õõ 
=
õõ  "
DBLetterSubscription
õõ! 5
.
õõ5 6
	GetByUser
õõ6 ?
(
õõ? @
siteGuid
õõ@ H
,
õõH I
userGuid
õõJ R
)
õõR S
;
õõS T
return
úú 
LoadFromReader
úú !
(
úú! "
reader
úú" (
)
úú( )
;
úú) *
}
ùù 	
public
üü 
List
üü 
<
üü 
LetterSubscriber
üü $
>
üü$ %&
GetSubscribersNotSentYet
üü& >
(
üü> ?
Guid
†† 

letterGuid
†† 
,
†† 
Guid
°° 
letterInfoGuid
°° 
)
°°  
{
¢¢ 	
IDataReader
££ 
reader
££ 
=
££  "
DBLetterSubscription
££! 5
.
££5 6&
GetSubscribersNotSentYet
££6 N
(
££N O

letterGuid
££O Y
,
££Y Z
letterInfoGuid
££[ i
)
££i j
;
££j k
return
§§ 
LoadFromReader
§§ !
(
§§! "
reader
§§" (
)
§§( )
;
§§) *
}
•• 	
public
ßß 
IDataReader
ßß 
Search
ßß !
(
ßß! "
Guid
®® 
letterInfoGuid
®® 
,
®®  
string
©© 
emailOrIpAddress
©© #
)
©©# $
{
™™ 	
return
´´ "
DBLetterSubscription
´´ '
.
´´' (
Search
´´( .
(
´´. /
letterInfoGuid
´´/ =
,
´´= >
emailOrIpAddress
´´? O
)
´´O P
;
´´P Q
}
≠≠ 	
public
ØØ 
int
ØØ 
GetCountByLetter
ØØ #
(
ØØ# $
Guid
ØØ$ (
letterInfoGuid
ØØ) 7
)
ØØ7 8
{
∞∞ 	
return
±± "
DBLetterSubscription
±± '
.
±±' (
GetCountByLetter
±±( 8
(
±±8 9
letterInfoGuid
±±9 G
)
±±G H
;
±±H I
}
≤≤ 	
public
¥¥ 
IDataReader
¥¥ 
GetPage
¥¥ "
(
¥¥" #
Guid
µµ 
letterInfoGuid
µµ 
,
µµ  
int
∂∂ 

pageNumber
∂∂ 
,
∂∂ 
int
∑∑ 
pageSize
∑∑ 
,
∑∑ 
out
∏∏ 
int
∏∏ 

totalPages
∏∏ 
)
∏∏ 
{
ππ 	
return
∫∫ "
DBLetterSubscription
∫∫ '
.
∫∫' (
GetPage
∫∫( /
(
∫∫/ 0
letterInfoGuid
ªª 
,
ªª 

pageNumber
ºº 
,
ºº 
pageSize
ΩΩ 
,
ΩΩ 
out
ææ 

totalPages
ææ 
)
ææ 
;
ææ  
}
¿¿ 	
private
   
List
   
<
   
LetterSubscriber
   %
>
  % &
LoadFromReader
  ' 5
(
  5 6
IDataReader
  6 A
reader
  B H
)
  H I
{
ÀÀ 	
List
ÃÃ 
<
ÃÃ 
LetterSubscriber
ÃÃ !
>
ÃÃ! ""
letterSubscriberList
ÃÃ# 7
=
ÕÕ 
new
ÕÕ 
List
ÕÕ 
<
ÕÕ 
LetterSubscriber
ÕÕ +
>
ÕÕ+ ,
(
ÕÕ, -
)
ÕÕ- .
;
ÕÕ. /
try
ŒŒ 
{
œœ 
while
–– 
(
–– 
reader
–– 
.
–– 
Read
–– "
(
––" #
)
––# $
)
––$ %
{
—— 
LetterSubscriber
““ $
letterSubscriber
““% 5
=
““6 7
new
““8 ;
LetterSubscriber
““< L
(
““L M
)
““M N
;
““N O
letterSubscriber
”” $
.
””$ %
SubscribeGuid
””% 2
=
””3 4
new
””5 8
Guid
””9 =
(
””= >
reader
””> D
[
””D E
$str
””E K
]
””K L
.
””L M
ToString
””M U
(
””U V
)
””V W
)
””W X
;
””X Y
letterSubscriber
‘‘ $
.
‘‘$ %
SiteGuid
‘‘% -
=
‘‘. /
new
‘‘0 3
Guid
‘‘4 8
(
‘‘8 9
reader
‘‘9 ?
[
‘‘? @
$str
‘‘@ J
]
‘‘J K
.
‘‘K L
ToString
‘‘L T
(
‘‘T U
)
‘‘U V
)
‘‘V W
;
‘‘W X
letterSubscriber
’’ $
.
’’$ %
LetterInfoGuid
’’% 3
=
’’4 5
new
’’6 9
Guid
’’: >
(
’’> ?
reader
’’? E
[
’’E F
$str
’’F V
]
’’V W
.
’’W X
ToString
’’X `
(
’’` a
)
’’a b
)
’’b c
;
’’c d
letterSubscriber
÷÷ $
.
÷÷$ %

VerifyGuid
÷÷% /
=
÷÷0 1
new
÷÷2 5
Guid
÷÷6 :
(
÷÷: ;
reader
÷÷; A
[
÷÷A B
$str
÷÷B N
]
÷÷N O
.
÷÷O P
ToString
÷÷P X
(
÷÷X Y
)
÷÷Y Z
)
÷÷Z [
;
÷÷[ \
letterSubscriber
◊◊ $
.
◊◊$ %
UserGuid
◊◊% -
=
◊◊. /
new
◊◊0 3
Guid
◊◊4 8
(
◊◊8 9
reader
◊◊9 ?
[
◊◊? @
$str
◊◊@ J
]
◊◊J K
.
◊◊K L
ToString
◊◊L T
(
◊◊T U
)
◊◊U V
)
◊◊V W
;
◊◊W X
letterSubscriber
ÿÿ $
.
ÿÿ$ %
UseHtml
ÿÿ% ,
=
ÿÿ- .
Convert
ÿÿ/ 6
.
ÿÿ6 7
	ToBoolean
ÿÿ7 @
(
ÿÿ@ A
reader
ÿÿA G
[
ÿÿG H
$str
ÿÿH Q
]
ÿÿQ R
)
ÿÿR S
;
ÿÿS T
letterSubscriber
ŸŸ $
.
ŸŸ$ %
BeginUtc
ŸŸ% -
=
ŸŸ. /
Convert
ŸŸ0 7
.
ŸŸ7 8

ToDateTime
ŸŸ8 B
(
ŸŸB C
reader
ŸŸC I
[
ŸŸI J
$str
ŸŸJ T
]
ŸŸT U
)
ŸŸU V
;
ŸŸV W
letterSubscriber
⁄⁄ $
.
⁄⁄$ %
EmailAddress
⁄⁄% 1
=
⁄⁄2 3
reader
⁄⁄4 :
[
⁄⁄: ;
$str
⁄⁄; B
]
⁄⁄B C
.
⁄⁄C D
ToString
⁄⁄D L
(
⁄⁄L M
)
⁄⁄M N
;
⁄⁄N O
letterSubscriber
‹‹ $
.
‹‹$ %
Name
‹‹% )
=
‹‹* +
reader
‹‹, 2
[
‹‹2 3
$str
‹‹3 9
]
‹‹9 :
.
‹‹: ;
ToString
‹‹; C
(
‹‹C D
)
‹‹D E
;
‹‹E F
letterSubscriber
›› $
.
››$ %

IsVerified
››% /
=
››0 1
Convert
››2 9
.
››9 :
	ToBoolean
››: C
(
››C D
reader
››D J
[
››J K
$str
››K W
]
››W X
)
››X Y
;
››Y Z
letterSubscriber
ﬁﬁ $
.
ﬁﬁ$ %
	IpAddress
ﬁﬁ% .
=
ﬁﬁ/ 0
reader
ﬁﬁ1 7
[
ﬁﬁ7 8
$str
ﬁﬁ8 C
]
ﬁﬁC D
.
ﬁﬁD E
ToString
ﬁﬁE M
(
ﬁﬁM N
)
ﬁﬁN O
;
ﬁﬁO P
letterSubscriber
‡‡ $
.
‡‡$ %
	FirstName
‡‡% .
=
‡‡/ 0
reader
‡‡1 7
[
‡‡7 8
$str
‡‡8 C
]
‡‡C D
.
‡‡D E
ToString
‡‡E M
(
‡‡M N
)
‡‡N O
;
‡‡O P
letterSubscriber
·· $
.
··$ %
LastName
··% -
=
··. /
reader
··0 6
[
··6 7
$str
··7 A
]
··A B
.
··B C
ToString
··C K
(
··K L
)
··L M
;
··M N"
letterSubscriberList
„„ (
.
„„( )
Add
„„) ,
(
„„, -
letterSubscriber
„„- =
)
„„= >
;
„„> ?
}
‰‰ 
}
ÂÂ 
finally
ÊÊ 
{
ÁÁ 
reader
ËË 
.
ËË 
Close
ËË 
(
ËË 
)
ËË 
;
ËË 
}
ÈÈ 
return
ÎÎ "
letterSubscriberList
ÎÎ '
;
ÎÎ' (
}
ÌÌ 	
}
ÔÔ 
} ·
jD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\EmailSendLog.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
EmailSendLog 
{ 
public,, 
static,, 
void,, 
Create,, !
(,,! "
Guid-- 
guid-- 
,-- 
Guid.. 
siteGuid.. 
,.. 
Guid// 

moduleGuid// 
,// 
Guid00 
specialGuid100 
,00 
Guid11 
specialGuid211 
,11 
string22 
	toAddress22 
,22 
string33 
	ccAddress33 
,33 
string44 

bccAddress44 
,44 
string55 
subject55 
,55 
string66 
textBody66 
,66 
string77 
htmlBody77 
,77 
string88 
type88 
,88 
DateTime99 
sentUtc99 
,99 
string:: 
fromAddress:: 
,:: 
string;; 
replyTo;; 
,;; 
Guid<< 
userGuid<< 
)<< 
{== 	
DBEmailSendLog>> 
.>> 
Create>> !
(>>! "
guid?? 
,?? 
siteGuid@@ 
,@@ 

moduleGuidAA 
,AA 
specialGuid1BB 
,BB 
specialGuid2CC 
,CC 
	toAddressDD 
,DD 
	ccAddressEE 
,EE 

bccAddressFF 
,FF 
subjectGG 
,GG 
textBodyHH 
,HH 
htmlBodyII 
,II 
typeJJ 
,JJ 
sentUtcKK 
,KK 
fromAddressLL 
,LL 
replyToMM 
,MM 
userGuidNN 
)NN 
;NN 
}QQ 	
publicXX 
staticXX 
boolXX 
DeleteXX !
(XX! "
GuidXX" &
guidXX' +
)XX+ ,
{YY 	
returnZZ 
DBEmailSendLogZZ !
.ZZ! "
DeleteZZ" (
(ZZ( )
guidZZ) -
)ZZ- .
;ZZ. /
}\\ 	
publicaa 
staticaa 
boolaa 
DeleteBySiteaa '
(aa' (
Guidaa( ,
siteGuidaa- 5
)aa5 6
{bb 	
returncc 
DBEmailSendLogcc !
.cc! "
DeleteBySitecc" .
(cc. /
siteGuidcc/ 7
)cc7 8
;cc8 9
}dd 	
publicii 
staticii 
boolii 
DeleteByModuleii )
(ii) *
Guidii* .

moduleGuidii/ 9
)ii9 :
{jj 	
returnkk 
DBEmailSendLogkk !
.kk! "
DeleteByModulekk" 0
(kk0 1

moduleGuidkk1 ;
)kk; <
;kk< =
}ll 	
}oo 
}pp ®ã
lD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\EmailSendQueue.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
EmailSendQueue 
{ 
public 
EmailSendQueue 
( 
) 
{ 	
}
 
private(( 
Guid(( 
guid(( 
=(( 
Guid((  
.((  !
Empty((! &
;((& '
private)) 
Guid)) 
siteGuid)) 
=)) 
Guid))  $
.))$ %
Empty))% *
;))* +
private** 
Guid** 

moduleGuid** 
=**  !
Guid**" &
.**& '
Empty**' ,
;**, -
private++ 
Guid++ 
userGuid++ 
=++ 
Guid++  $
.++$ %
Empty++% *
;++* +
private,, 
Guid,, 
specialGuid1,, !
=,," #
Guid,,$ (
.,,( )
Empty,,) .
;,,. /
private-- 
Guid-- 
specialGuid2-- !
=--" #
Guid--$ (
.--( )
Empty--) .
;--. /
private.. 
string.. 
fromAddress.. "
=..# $
string..% +
...+ ,
Empty.., 1
;..1 2
private// 
string// 
replyTo// 
=//  
string//! '
.//' (
Empty//( -
;//- .
private00 
string00 
	toAddress00  
=00! "
string00# )
.00) *
Empty00* /
;00/ 0
private11 
string11 
	ccAddress11  
=11! "
string11# )
.11) *
Empty11* /
;11/ 0
private22 
string22 

bccAddress22 !
=22" #
string22$ *
.22* +
Empty22+ 0
;220 1
private33 
string33 
subject33 
=33  
string33! '
.33' (
Empty33( -
;33- .
private44 
string44 
textBody44 
=44  !
string44" (
.44( )
Empty44) .
;44. /
private55 
string55 
htmlBody55 
=55  !
string55" (
.55( )
Empty55) .
;55. /
private66 
string66 
type66 
=66 
string66 $
.66$ %
Empty66% *
;66* +
private77 
DateTime77 

dateToSend77 #
;77# $
private88 
DateTime88 

createdUtc88 #
;88# $
public>> 
Guid>> 
Guid>> 
{?? 	
get@@ 
{@@ 
return@@ 
guid@@ 
;@@ 
}@@  
setAA 
{AA 
guidAA 
=AA 
valueAA 
;AA 
}AA  !
}BB 	
publicCC 
GuidCC 
SiteGuidCC 
{DD 	
getEE 
{EE 
returnEE 
siteGuidEE !
;EE! "
}EE# $
setFF 
{FF 
siteGuidFF 
=FF 
valueFF "
;FF" #
}FF$ %
}GG 	
publicHH 
GuidHH 

ModuleGuidHH 
{II 	
getJJ 
{JJ 
returnJJ 

moduleGuidJJ #
;JJ# $
}JJ% &
setKK 
{KK 

moduleGuidKK 
=KK 
valueKK $
;KK$ %
}KK& '
}LL 	
publicMM 
GuidMM 
UserGuidMM 
{NN 	
getOO 
{OO 
returnOO 
userGuidOO !
;OO! "
}OO# $
setPP 
{PP 
userGuidPP 
=PP 
valuePP "
;PP" #
}PP$ %
}QQ 	
publicRR 
GuidRR 
SpecialGuid1RR  
{SS 	
getTT 
{TT 
returnTT 
specialGuid1TT %
;TT% &
}TT' (
setUU 
{UU 
specialGuid1UU 
=UU  
valueUU! &
;UU& '
}UU( )
}VV 	
publicWW 
GuidWW 
SpecialGuid2WW  
{XX 	
getYY 
{YY 
returnYY 
specialGuid2YY %
;YY% &
}YY' (
setZZ 
{ZZ 
specialGuid2ZZ 
=ZZ  
valueZZ! &
;ZZ& '
}ZZ( )
}[[ 	
public\\ 
string\\ 
FromAddress\\ !
{]] 	
get^^ 
{^^ 
return^^ 
fromAddress^^ $
;^^$ %
}^^& '
set__ 
{__ 
fromAddress__ 
=__ 
value__  %
;__% &
}__' (
}`` 	
publicaa 
stringaa 
ReplyToaa 
{bb 	
getcc 
{cc 
returncc 
replyTocc  
;cc  !
}cc" #
setdd 
{dd 
replyTodd 
=dd 
valuedd !
;dd! "
}dd# $
}ee 	
publicff 
stringff 
	ToAddressff 
{gg 	
gethh 
{hh 
returnhh 
	toAddresshh "
;hh" #
}hh$ %
setii 
{ii 
	toAddressii 
=ii 
valueii #
;ii# $
}ii% &
}jj 	
publickk 
stringkk 
	CcAddresskk 
{ll 	
getmm 
{mm 
returnmm 
	ccAddressmm "
;mm" #
}mm$ %
setnn 
{nn 
	ccAddressnn 
=nn 
valuenn #
;nn# $
}nn% &
}oo 	
publicpp 
stringpp 

BccAddresspp  
{qq 	
getrr 
{rr 
returnrr 

bccAddressrr #
;rr# $
}rr% &
setss 
{ss 

bccAddressss 
=ss 
valuess $
;ss$ %
}ss& '
}tt 	
publicuu 
stringuu 
Subjectuu 
{vv 	
getww 
{ww 
returnww 
subjectww  
;ww  !
}ww" #
setxx 
{xx 
subjectxx 
=xx 
valuexx !
;xx! "
}xx# $
}yy 	
publiczz 
stringzz 
TextBodyzz 
{{{ 	
get|| 
{|| 
return|| 
textBody|| !
;||! "
}||# $
set}} 
{}} 
textBody}} 
=}} 
value}} "
;}}" #
}}}$ %
}~~ 	
public 
string 
HtmlBody 
{
ÄÄ 	
get
ÅÅ 
{
ÅÅ 
return
ÅÅ 
htmlBody
ÅÅ !
;
ÅÅ! "
}
ÅÅ# $
set
ÇÇ 
{
ÇÇ 
htmlBody
ÇÇ 
=
ÇÇ 
value
ÇÇ "
;
ÇÇ" #
}
ÇÇ$ %
}
ÉÉ 	
public
ÑÑ 
string
ÑÑ 
Type
ÑÑ 
{
ÖÖ 	
get
ÜÜ 
{
ÜÜ 
return
ÜÜ 
type
ÜÜ 
;
ÜÜ 
}
ÜÜ  
set
áá 
{
áá 
type
áá 
=
áá 
value
áá 
;
áá 
}
áá  !
}
àà 	
public
ââ 
DateTime
ââ 

DateToSend
ââ "
{
ää 	
get
ãã 
{
ãã 
return
ãã 

dateToSend
ãã #
;
ãã# $
}
ãã% &
set
åå 
{
åå 

dateToSend
åå 
=
åå 
value
åå $
;
åå$ %
}
åå& '
}
çç 	
public
éé 
DateTime
éé 

CreatedUtc
éé "
{
èè 	
get
êê 
{
êê 
return
êê 

createdUtc
êê #
;
êê# $
}
êê% &
set
ëë 
{
ëë 

createdUtc
ëë 
=
ëë 
value
ëë $
;
ëë$ %
}
ëë& '
}
íí 	
private
∆∆ 
bool
∆∆ 
Create
∆∆ 
(
∆∆ 
)
∆∆ 
{
«« 	
this
»» 
.
»» 
guid
»» 
=
»» 
Guid
»» 
.
»» 
NewGuid
»» $
(
»»$ %
)
»»% &
;
»»& '
int
   
rowsAffected
   
=
   
DBEmailSendQueue
   /
.
  / 0
Create
  0 6
(
  6 7
this
ÀÀ 
.
ÀÀ 
guid
ÀÀ 
,
ÀÀ 
this
ÃÃ 
.
ÃÃ 
siteGuid
ÃÃ 
,
ÃÃ 
this
ÕÕ 
.
ÕÕ 

moduleGuid
ÕÕ 
,
ÕÕ  
this
ŒŒ 
.
ŒŒ 
userGuid
ŒŒ 
,
ŒŒ 
this
œœ 
.
œœ 
specialGuid1
œœ !
,
œœ! "
this
–– 
.
–– 
specialGuid2
–– !
,
––! "
this
—— 
.
—— 
fromAddress
——  
,
——  !
this
““ 
.
““ 
replyTo
““ 
,
““ 
this
”” 
.
”” 
	toAddress
”” 
,
”” 
this
‘‘ 
.
‘‘ 
	ccAddress
‘‘ 
,
‘‘ 
this
’’ 
.
’’ 

bccAddress
’’ 
,
’’  
this
÷÷ 
.
÷÷ 
subject
÷÷ 
,
÷÷ 
this
◊◊ 
.
◊◊ 
textBody
◊◊ 
,
◊◊ 
this
ÿÿ 
.
ÿÿ 
htmlBody
ÿÿ 
,
ÿÿ 
this
ŸŸ 
.
ŸŸ 
type
ŸŸ 
,
ŸŸ 
this
⁄⁄ 
.
⁄⁄ 

dateToSend
⁄⁄ 
,
⁄⁄  
this
€€ 
.
€€ 

createdUtc
€€ 
)
€€  
;
€€  !
return
›› 
(
›› 
rowsAffected
››  
>
››! "
$num
››# $
)
››$ %
;
››% &
}
ﬂﬂ 	
public
ää 
bool
ää 
Save
ää 
(
ää 
)
ää 
{
ãã 	
return
íí 
Create
íí 
(
íí 
)
íí 
;
íí  
}
îî 	
public
¢¢ 
static
¢¢ 
bool
¢¢ 
Delete
¢¢ !
(
¢¢! "
Guid
¢¢" &
guid
¢¢' +
)
¢¢+ ,
{
££ 	
return
§§ 
DBEmailSendQueue
§§ #
.
§§# $
Delete
§§$ *
(
§§* +
guid
§§+ /
)
§§/ 0
;
§§0 1
}
•• 	
public
ßß 
static
ßß 
IDataReader
ßß !
GetEmailToSend
ßß" 0
(
ßß0 1
)
ßß1 2
{
®® 	
return
©© 
DBEmailSendQueue
©© #
.
©©# $
GetEmailToSend
©©$ 2
(
©©2 3
DateTime
©©3 ;
.
©©; <
UtcNow
©©< B
)
©©B C
;
©©C D
}
™™ 	
public
∞∞ 
static
∞∞ 
IDataReader
∞∞ !
GetEmailToSend
∞∞" 0
(
∞∞0 1
DateTime
∞∞1 9
currentTime
∞∞: E
)
∞∞E F
{
±± 	
return
≤≤ 
DBEmailSendQueue
≤≤ #
.
≤≤# $
GetEmailToSend
≤≤$ 2
(
≤≤2 3
currentTime
≤≤3 >
)
≤≤> ?
;
≤≤? @
}
µµ 	
private
∫∫ 
static
∫∫ 
List
∫∫ 
<
∫∫ 
EmailSendQueue
∫∫ *
>
∫∫* + 
LoadListFromReader
∫∫, >
(
∫∫> ?
IDataReader
∫∫? J
reader
∫∫K Q
)
∫∫Q R
{
ªª 	
List
ºº 
<
ºº 
EmailSendQueue
ºº 
>
ºº   
emailSendQueueList
ºº! 3
=
ºº4 5
new
ºº6 9
List
ºº: >
<
ºº> ?
EmailSendQueue
ºº? M
>
ººM N
(
ººN O
)
ººO P
;
ººP Q
try
ΩΩ 
{
ææ 
while
øø 
(
øø 
reader
øø 
.
øø 
Read
øø "
(
øø" #
)
øø# $
)
øø$ %
{
¿¿ 
EmailSendQueue
¡¡ "
emailSendQueue
¡¡# 1
=
¡¡2 3
new
¡¡4 7
EmailSendQueue
¡¡8 F
(
¡¡F G
)
¡¡G H
;
¡¡H I
emailSendQueue
¬¬ "
.
¬¬" #
guid
¬¬# '
=
¬¬( )
new
¬¬* -
Guid
¬¬. 2
(
¬¬2 3
reader
¬¬3 9
[
¬¬9 :
$str
¬¬: @
]
¬¬@ A
.
¬¬A B
ToString
¬¬B J
(
¬¬J K
)
¬¬K L
)
¬¬L M
;
¬¬M N
emailSendQueue
√√ "
.
√√" #
siteGuid
√√# +
=
√√, -
new
√√. 1
Guid
√√2 6
(
√√6 7
reader
√√7 =
[
√√= >
$str
√√> H
]
√√H I
.
√√I J
ToString
√√J R
(
√√R S
)
√√S T
)
√√T U
;
√√U V
emailSendQueue
ƒƒ "
.
ƒƒ" #

moduleGuid
ƒƒ# -
=
ƒƒ. /
new
ƒƒ0 3
Guid
ƒƒ4 8
(
ƒƒ8 9
reader
ƒƒ9 ?
[
ƒƒ? @
$str
ƒƒ@ L
]
ƒƒL M
.
ƒƒM N
ToString
ƒƒN V
(
ƒƒV W
)
ƒƒW X
)
ƒƒX Y
;
ƒƒY Z
emailSendQueue
≈≈ "
.
≈≈" #
userGuid
≈≈# +
=
≈≈, -
new
≈≈. 1
Guid
≈≈2 6
(
≈≈6 7
reader
≈≈7 =
[
≈≈= >
$str
≈≈> H
]
≈≈H I
.
≈≈I J
ToString
≈≈J R
(
≈≈R S
)
≈≈S T
)
≈≈T U
;
≈≈U V
emailSendQueue
∆∆ "
.
∆∆" #
specialGuid1
∆∆# /
=
∆∆0 1
new
∆∆2 5
Guid
∆∆6 :
(
∆∆: ;
reader
∆∆; A
[
∆∆A B
$str
∆∆B P
]
∆∆P Q
.
∆∆Q R
ToString
∆∆R Z
(
∆∆Z [
)
∆∆[ \
)
∆∆\ ]
;
∆∆] ^
emailSendQueue
«« "
.
««" #
specialGuid2
««# /
=
««0 1
new
««2 5
Guid
««6 :
(
««: ;
reader
««; A
[
««A B
$str
««B P
]
««P Q
.
««Q R
ToString
««R Z
(
««Z [
)
««[ \
)
««\ ]
;
««] ^
emailSendQueue
»» "
.
»»" #
fromAddress
»»# .
=
»»/ 0
reader
»»1 7
[
»»7 8
$str
»»8 E
]
»»E F
.
»»F G
ToString
»»G O
(
»»O P
)
»»P Q
;
»»Q R
emailSendQueue
…… "
.
……" #
replyTo
……# *
=
……+ ,
reader
……- 3
[
……3 4
$str
……4 =
]
……= >
.
……> ?
ToString
……? G
(
……G H
)
……H I
;
……I J
emailSendQueue
   "
.
  " #
	toAddress
  # ,
=
  - .
reader
  / 5
[
  5 6
$str
  6 A
]
  A B
.
  B C
ToString
  C K
(
  K L
)
  L M
;
  M N
emailSendQueue
ÀÀ "
.
ÀÀ" #
	ccAddress
ÀÀ# ,
=
ÀÀ- .
reader
ÀÀ/ 5
[
ÀÀ5 6
$str
ÀÀ6 A
]
ÀÀA B
.
ÀÀB C
ToString
ÀÀC K
(
ÀÀK L
)
ÀÀL M
;
ÀÀM N
emailSendQueue
ÃÃ "
.
ÃÃ" #

bccAddress
ÃÃ# -
=
ÃÃ. /
reader
ÃÃ0 6
[
ÃÃ6 7
$str
ÃÃ7 C
]
ÃÃC D
.
ÃÃD E
ToString
ÃÃE M
(
ÃÃM N
)
ÃÃN O
;
ÃÃO P
emailSendQueue
ÕÕ "
.
ÕÕ" #
subject
ÕÕ# *
=
ÕÕ+ ,
reader
ÕÕ- 3
[
ÕÕ3 4
$str
ÕÕ4 =
]
ÕÕ= >
.
ÕÕ> ?
ToString
ÕÕ? G
(
ÕÕG H
)
ÕÕH I
;
ÕÕI J
emailSendQueue
ŒŒ "
.
ŒŒ" #
textBody
ŒŒ# +
=
ŒŒ, -
reader
ŒŒ. 4
[
ŒŒ4 5
$str
ŒŒ5 ?
]
ŒŒ? @
.
ŒŒ@ A
ToString
ŒŒA I
(
ŒŒI J
)
ŒŒJ K
;
ŒŒK L
emailSendQueue
œœ "
.
œœ" #
htmlBody
œœ# +
=
œœ, -
reader
œœ. 4
[
œœ4 5
$str
œœ5 ?
]
œœ? @
.
œœ@ A
ToString
œœA I
(
œœI J
)
œœJ K
;
œœK L
emailSendQueue
–– "
.
––" #
type
––# '
=
––( )
reader
––* 0
[
––0 1
$str
––1 7
]
––7 8
.
––8 9
ToString
––9 A
(
––A B
)
––B C
;
––C D
emailSendQueue
—— "
.
——" #

dateToSend
——# -
=
——. /
Convert
——0 7
.
——7 8

ToDateTime
——8 B
(
——B C
reader
——C I
[
——I J
$str
——J V
]
——V W
)
——W X
;
——X Y
emailSendQueue
““ "
.
““" #

createdUtc
““# -
=
““. /
Convert
““0 7
.
““7 8

ToDateTime
““8 B
(
““B C
reader
““C I
[
““I J
$str
““J V
]
““V W
)
““W X
;
““X Y 
emailSendQueueList
”” &
.
””& '
Add
””' *
(
””* +
emailSendQueue
””+ 9
)
””9 :
;
””: ;
}
’’ 
}
÷÷ 
finally
◊◊ 
{
ÿÿ 
reader
ŸŸ 
.
ŸŸ 
Close
ŸŸ 
(
ŸŸ 
)
ŸŸ 
;
ŸŸ 
}
⁄⁄ 
return
‹‹  
emailSendQueueList
‹‹ %
;
‹‹% &
}
ﬁﬁ 	
}
ËË 
}ÍÍ õÅ
kD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\EmailTemplate.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
EmailTemplate 
{ 
public 
EmailTemplate 
( 
) 
{ 	
}
 
public 
EmailTemplate 
( 
Guid   
guid   
)   
{!! 	
GetEmailTemplate"" 
("" 
guid## 
)## 
;## 
}$$ 	
private** 
Guid** 
guid** 
=** 
Guid**  
.**  !
Empty**! &
;**& '
private++ 
Guid++ 
siteGuid++ 
=++ 
Guid++  $
.++$ %
Empty++% *
;++* +
private,, 
Guid,, 
featureGuid,,  
=,,! "
Guid,,# '
.,,' (
Empty,,( -
;,,- .
private-- 
Guid-- 

moduleGuid-- 
=--  !
Guid--" &
.--& '
Empty--' ,
;--, -
private.. 
Guid.. 
specialGuid1.. !
=.." #
Guid..$ (
...( )
Empty..) .
;... /
private// 
Guid// 
specialGuid2// !
=//" #
Guid//$ (
.//( )
Empty//) .
;//. /
private00 
string00 
name00 
=00 
string00 $
.00$ %
Empty00% *
;00* +
private11 
string11 
subject11 
=11  
string11! '
.11' (
Empty11( -
;11- .
private22 
string22 
textBody22 
=22  !
string22" (
.22( )
Empty22) .
;22. /
private33 
string33 
htmlBody33 
=33  !
string33" (
.33( )
Empty33) .
;33. /
private44 
bool44 
hasHtml44 
;44 
private55 
bool55 

isEditable55 
;55  
private66 
DateTime66 

createdUtc66 #
=66$ %
DateTime66& .
.66. /
UtcNow66/ 5
;665 6
private77 
DateTime77 

lastModUtc77 #
=77$ %
DateTime77& .
.77. /
UtcNow77/ 5
;775 6
private88 
Guid88 
	lastModBy88 
=88  
Guid88! %
.88% &
Empty88& +
;88+ ,
public>> 
Guid>> 
Guid>> 
{?? 	
get@@ 
{@@ 
return@@ 
guid@@ 
;@@ 
}@@  
setAA 
{AA 
guidAA 
=AA 
valueAA 
;AA 
}AA  !
}BB 	
publicCC 
GuidCC 
SiteGuidCC 
{DD 	
getEE 
{EE 
returnEE 
siteGuidEE !
;EE! "
}EE# $
setFF 
{FF 
siteGuidFF 
=FF 
valueFF "
;FF" #
}FF$ %
}GG 	
publicHH 
GuidHH 
FeatureGuidHH 
{II 	
getJJ 
{JJ 
returnJJ 
featureGuidJJ $
;JJ$ %
}JJ& '
setKK 
{KK 
featureGuidKK 
=KK 
valueKK  %
;KK% &
}KK' (
}LL 	
publicMM 
GuidMM 

ModuleGuidMM 
{NN 	
getOO 
{OO 
returnOO 

moduleGuidOO #
;OO# $
}OO% &
setPP 
{PP 

moduleGuidPP 
=PP 
valuePP $
;PP$ %
}PP& '
}QQ 	
publicRR 
GuidRR 
SpecialGuid1RR  
{SS 	
getTT 
{TT 
returnTT 
specialGuid1TT %
;TT% &
}TT' (
setUU 
{UU 
specialGuid1UU 
=UU  
valueUU! &
;UU& '
}UU( )
}VV 	
publicWW 
GuidWW 
SpecialGuid2WW  
{XX 	
getYY 
{YY 
returnYY 
specialGuid2YY %
;YY% &
}YY' (
setZZ 
{ZZ 
specialGuid2ZZ 
=ZZ  
valueZZ! &
;ZZ& '
}ZZ( )
}[[ 	
public\\ 
string\\ 
Name\\ 
{]] 	
get^^ 
{^^ 
return^^ 
name^^ 
;^^ 
}^^  
set__ 
{__ 
name__ 
=__ 
value__ 
;__ 
}__  !
}`` 	
publicaa 
stringaa 
Subjectaa 
{bb 	
getcc 
{cc 
returncc 
subjectcc  
;cc  !
}cc" #
setdd 
{dd 
subjectdd 
=dd 
valuedd !
;dd! "
}dd# $
}ee 	
publicff 
stringff 
TextBodyff 
{gg 	
gethh 
{hh 
returnhh 
textBodyhh !
;hh! "
}hh# $
setii 
{ii 
textBodyii 
=ii 
valueii "
;ii" #
}ii$ %
}jj 	
publickk 
stringkk 
HtmlBodykk 
{ll 	
getmm 
{mm 
returnmm 
htmlBodymm !
;mm! "
}mm# $
setnn 
{nn 
htmlBodynn 
=nn 
valuenn "
;nn" #
}nn$ %
}oo 	
publicpp 
boolpp 
HasHtmlpp 
{qq 	
getrr 
{rr 
returnrr 
hasHtmlrr  
;rr  !
}rr" #
setss 
{ss 
hasHtmlss 
=ss 
valuess !
;ss! "
}ss# $
}tt 	
publicuu 
booluu 

IsEditableuu 
{vv 	
getww 
{ww 
returnww 

isEditableww #
;ww# $
}ww% &
setxx 
{xx 

isEditablexx 
=xx 
valuexx $
;xx$ %
}xx& '
}yy 	
publiczz 
DateTimezz 

CreatedUtczz "
{{{ 	
get|| 
{|| 
return|| 

createdUtc|| #
;||# $
}||% &
set}} 
{}} 

createdUtc}} 
=}} 
value}} $
;}}$ %
}}}& '
}~~ 	
public 
DateTime 

LastModUtc "
{
ÄÄ 	
get
ÅÅ 
{
ÅÅ 
return
ÅÅ 

lastModUtc
ÅÅ #
;
ÅÅ# $
}
ÅÅ% &
set
ÇÇ 
{
ÇÇ 

lastModUtc
ÇÇ 
=
ÇÇ 
value
ÇÇ $
;
ÇÇ$ %
}
ÇÇ& '
}
ÉÉ 	
public
ÑÑ 
Guid
ÑÑ 
	LastModBy
ÑÑ 
{
ÖÖ 	
get
ÜÜ 
{
ÜÜ 
return
ÜÜ 
	lastModBy
ÜÜ "
;
ÜÜ" #
}
ÜÜ$ %
set
áá 
{
áá 
	lastModBy
áá 
=
áá 
value
áá #
;
áá# $
}
áá% &
}
àà 	
private
íí 
void
íí 
GetEmailTemplate
íí %
(
íí% &
Guid
íí& *
guid
íí+ /
)
íí/ 0
{
ìì 	
using
îî 
(
îî 
IDataReader
îî 
reader
îî %
=
îî& '
DBEmailTemplate
îî( 7
.
îî7 8
GetOne
îî8 >
(
îî> ?
guid
îî? C
)
îîC D
)
îîD E
{
ïï  
PopulateFromReader
ññ "
(
ññ" #
reader
ññ# )
)
ññ) *
;
ññ* +
}
óó 
}
ôô 	
private
úú 
void
úú  
PopulateFromReader
úú '
(
úú' (
IDataReader
úú( 3
reader
úú4 :
)
úú: ;
{
ùù 	
if
ûû 
(
ûû 
reader
ûû 
.
ûû 
Read
ûû 
(
ûû 
)
ûû 
)
ûû 
{
üü 
this
†† 
.
†† 
guid
†† 
=
†† 
new
†† 
Guid
††  $
(
††$ %
reader
††% +
[
††+ ,
$str
††, 2
]
††2 3
.
††3 4
ToString
††4 <
(
††< =
)
††= >
)
††> ?
;
††? @
this
°° 
.
°° 
siteGuid
°° 
=
°° 
new
°°  #
Guid
°°$ (
(
°°( )
reader
°°) /
[
°°/ 0
$str
°°0 :
]
°°: ;
.
°°; <
ToString
°°< D
(
°°D E
)
°°E F
)
°°F G
;
°°G H
this
¢¢ 
.
¢¢ 
featureGuid
¢¢  
=
¢¢! "
new
¢¢# &
Guid
¢¢' +
(
¢¢+ ,
reader
¢¢, 2
[
¢¢2 3
$str
¢¢3 @
]
¢¢@ A
.
¢¢A B
ToString
¢¢B J
(
¢¢J K
)
¢¢K L
)
¢¢L M
;
¢¢M N
this
££ 
.
££ 

moduleGuid
££ 
=
££  !
new
££" %
Guid
££& *
(
££* +
reader
££+ 1
[
££1 2
$str
££2 >
]
££> ?
.
££? @
ToString
££@ H
(
££H I
)
££I J
)
££J K
;
££K L
this
§§ 
.
§§ 
specialGuid1
§§ !
=
§§" #
new
§§$ '
Guid
§§( ,
(
§§, -
reader
§§- 3
[
§§3 4
$str
§§4 B
]
§§B C
.
§§C D
ToString
§§D L
(
§§L M
)
§§M N
)
§§N O
;
§§O P
this
•• 
.
•• 
specialGuid2
•• !
=
••" #
new
••$ '
Guid
••( ,
(
••, -
reader
••- 3
[
••3 4
$str
••4 B
]
••B C
.
••C D
ToString
••D L
(
••L M
)
••M N
)
••N O
;
••O P
this
¶¶ 
.
¶¶ 
name
¶¶ 
=
¶¶ 
reader
¶¶ "
[
¶¶" #
$str
¶¶# )
]
¶¶) *
.
¶¶* +
ToString
¶¶+ 3
(
¶¶3 4
)
¶¶4 5
;
¶¶5 6
this
ßß 
.
ßß 
subject
ßß 
=
ßß 
reader
ßß %
[
ßß% &
$str
ßß& /
]
ßß/ 0
.
ßß0 1
ToString
ßß1 9
(
ßß9 :
)
ßß: ;
;
ßß; <
this
®® 
.
®® 
textBody
®® 
=
®® 
reader
®®  &
[
®®& '
$str
®®' 1
]
®®1 2
.
®®2 3
ToString
®®3 ;
(
®®; <
)
®®< =
;
®®= >
this
©© 
.
©© 
htmlBody
©© 
=
©© 
reader
©©  &
[
©©& '
$str
©©' 1
]
©©1 2
.
©©2 3
ToString
©©3 ;
(
©©; <
)
©©< =
;
©©= >
this
™™ 
.
™™ 
hasHtml
™™ 
=
™™ 
Convert
™™ &
.
™™& '
	ToBoolean
™™' 0
(
™™0 1
reader
™™1 7
[
™™7 8
$str
™™8 A
]
™™A B
)
™™B C
;
™™C D
this
´´ 
.
´´ 

isEditable
´´ 
=
´´  !
Convert
´´" )
.
´´) *
	ToBoolean
´´* 3
(
´´3 4
reader
´´4 :
[
´´: ;
$str
´´; G
]
´´G H
)
´´H I
;
´´I J
this
¨¨ 
.
¨¨ 

createdUtc
¨¨ 
=
¨¨  !
Convert
¨¨" )
.
¨¨) *

ToDateTime
¨¨* 4
(
¨¨4 5
reader
¨¨5 ;
[
¨¨; <
$str
¨¨< H
]
¨¨H I
)
¨¨I J
;
¨¨J K
this
≠≠ 
.
≠≠ 

lastModUtc
≠≠ 
=
≠≠  !
Convert
≠≠" )
.
≠≠) *

ToDateTime
≠≠* 4
(
≠≠4 5
reader
≠≠5 ;
[
≠≠; <
$str
≠≠< H
]
≠≠H I
)
≠≠I J
;
≠≠J K
this
ÆÆ 
.
ÆÆ 
	lastModBy
ÆÆ 
=
ÆÆ  
new
ÆÆ! $
Guid
ÆÆ% )
(
ÆÆ) *
reader
ÆÆ* 0
[
ÆÆ0 1
$str
ÆÆ1 <
]
ÆÆ< =
.
ÆÆ= >
ToString
ÆÆ> F
(
ÆÆF G
)
ÆÆG H
)
ÆÆH I
;
ÆÆI J
}
∞∞ 
}
≤≤ 	
private
∏∏ 
bool
∏∏ 
Create
∏∏ 
(
∏∏ 
)
∏∏ 
{
ππ 	
this
∫∫ 
.
∫∫ 
guid
∫∫ 
=
∫∫ 
Guid
∫∫ 
.
∫∫ 
NewGuid
∫∫ $
(
∫∫$ %
)
∫∫% &
;
∫∫& '
int
ºº 
rowsAffected
ºº 
=
ºº 
DBEmailTemplate
ºº .
.
ºº. /
Create
ºº/ 5
(
ºº5 6
this
ΩΩ 
.
ΩΩ 
guid
ΩΩ 
,
ΩΩ 
this
ææ 
.
ææ 
siteGuid
ææ 
,
ææ 
this
øø 
.
øø 
featureGuid
øø  
,
øø  !
this
¿¿ 
.
¿¿ 

moduleGuid
¿¿ 
,
¿¿  
this
¡¡ 
.
¡¡ 
specialGuid1
¡¡ !
,
¡¡! "
this
¬¬ 
.
¬¬ 
specialGuid2
¬¬ !
,
¬¬! "
this
√√ 
.
√√ 
name
√√ 
,
√√ 
this
ƒƒ 
.
ƒƒ 
subject
ƒƒ 
,
ƒƒ 
this
≈≈ 
.
≈≈ 
textBody
≈≈ 
,
≈≈ 
this
∆∆ 
.
∆∆ 
htmlBody
∆∆ 
,
∆∆ 
this
«« 
.
«« 
hasHtml
«« 
,
«« 
this
»» 
.
»» 

isEditable
»» 
,
»»  
this
…… 
.
…… 

createdUtc
…… 
,
……  
this
   
.
   
	lastModBy
   
)
   
;
    
return
ÃÃ 
(
ÃÃ 
rowsAffected
ÃÃ  
>
ÃÃ! "
$num
ÃÃ# $
)
ÃÃ$ %
;
ÃÃ% &
}
ŒŒ 	
private
’’ 
bool
’’ 
Update
’’ 
(
’’ 
)
’’ 
{
÷÷ 	
return
ÿÿ 
DBEmailTemplate
ÿÿ "
.
ÿÿ" #
Update
ÿÿ# )
(
ÿÿ) *
this
ŸŸ 
.
ŸŸ 
guid
ŸŸ 
,
ŸŸ 
this
⁄⁄ 
.
⁄⁄ 
name
⁄⁄ 
,
⁄⁄ 
this
€€ 
.
€€ 
subject
€€ 
,
€€ 
this
‹‹ 
.
‹‹ 
textBody
‹‹ 
,
‹‹ 
this
›› 
.
›› 
htmlBody
›› 
,
›› 
this
ﬁﬁ 
.
ﬁﬁ 
hasHtml
ﬁﬁ 
,
ﬁﬁ 
this
ﬂﬂ 
.
ﬂﬂ 

isEditable
ﬂﬂ 
,
ﬂﬂ  
this
‡‡ 
.
‡‡ 

lastModUtc
‡‡ 
,
‡‡  
this
·· 
.
·· 
	lastModBy
·· 
)
·· 
;
··  
}
„„ 	
public
ÒÒ 
bool
ÒÒ 
Save
ÒÒ 
(
ÒÒ 
)
ÒÒ 
{
ÚÚ 	
if
ÛÛ 
(
ÛÛ 
this
ÛÛ 
.
ÛÛ 
guid
ÛÛ 
!=
ÛÛ 
Guid
ÛÛ !
.
ÛÛ! "
Empty
ÛÛ" '
)
ÛÛ' (
{
ÙÙ 
return
ıı 
Update
ıı 
(
ıı 
)
ıı 
;
ıı  
}
ˆˆ 
else
˜˜ 
{
¯¯ 
return
˘˘ 
Create
˘˘ 
(
˘˘ 
)
˘˘ 
;
˘˘  
}
˙˙ 
}
˚˚ 	
public
ÑÑ 
static
ÑÑ 
bool
ÑÑ 
Exists
ÑÑ !
(
ÑÑ! "
Guid
ÑÑ" &

moduleGuid
ÑÑ' 1
,
ÑÑ1 2
string
ÑÑ3 9
name
ÑÑ: >
)
ÑÑ> ?
{
ÖÖ 	
int
ÜÜ 
count
ÜÜ 
=
ÜÜ 
DBEmailTemplate
ÜÜ '
.
ÜÜ' (%
GetCountByModuleAndName
ÜÜ( ?
(
ÜÜ? @

moduleGuid
ÜÜ@ J
,
ÜÜJ K
name
ÜÜL P
)
ÜÜP Q
;
ÜÜQ R
return
áá 
(
áá 
count
áá 
>
áá 
$num
áá 
)
áá 
;
áá 
}
àà 	
public
ää 
static
ää 
bool
ää 
Exists
ää !
(
ää! "
Guid
ää" &

moduleGuid
ää' 1
,
ää1 2
Guid
ää3 7
specialGuid1
ää8 D
,
ääD E
Guid
ääF J
specialGuid2
ääK W
,
ääW X
string
ääY _
name
ää` d
)
ääd e
{
ãã 	
int
åå 
count
åå 
=
åå 
DBEmailTemplate
åå '
.
åå' (,
GetCountByModuleSpecialAndName
åå( F
(
ååF G

moduleGuid
ååG Q
,
ååQ R
specialGuid1
ååS _
,
åå_ `
specialGuid2
ååa m
,
ååm n
name
ååo s
)
åås t
;
ååt u
return
çç 
(
çç 
count
çç 
>
çç 
$num
çç 
)
çç 
;
çç 
}
éé 	
public
êê 
static
êê 
int
êê 
GetCount
êê "
(
êê" #
Guid
êê# '
siteGuid
êê( 0
,
êê0 1
Guid
êê2 6
featureGuid
êê7 B
,
êêB C
Guid
êêD H

moduleGuid
êêI S
,
êêS T
Guid
êêU Y
specialGuid1
êêZ f
,
êêf g
Guid
êêh l
specialGuid2
êêm y
)
êêy z
{
ëë 	
return
íí 
DBEmailTemplate
íí "
.
íí" #
GetCount
íí# +
(
íí+ ,
siteGuid
íí, 4
,
íí4 5
featureGuid
íí6 A
,
ííA B

moduleGuid
ííC M
,
ííM N
specialGuid1
ííO [
,
íí[ \
specialGuid2
íí] i
)
ííi j
;
ííj k
}
ìì 	
public
öö 
static
öö 
bool
öö 
Delete
öö !
(
öö! "
Guid
öö" &
guid
öö' +
)
öö+ ,
{
õõ 	
return
úú 
DBEmailTemplate
úú "
.
úú" #
Delete
úú# )
(
úú) *
guid
úú* .
)
úú. /
;
úú/ 0
}
ùù 	
public
üü 
static
üü 
bool
üü 
DeleteBySite
üü '
(
üü' (
Guid
üü( ,
siteGuid
üü- 5
)
üü5 6
{
†† 	
return
°° 
DBEmailTemplate
°° "
.
°°" #
DeleteBySite
°°# /
(
°°/ 0
siteGuid
°°0 8
)
°°8 9
;
°°9 :
}
¢¢ 	
public
§§ 
static
§§ 
bool
§§ 
DeleteByFeature
§§ *
(
§§* +
Guid
§§+ /
featureGuid
§§0 ;
)
§§; <
{
•• 	
return
¶¶ 
DBEmailTemplate
¶¶ "
.
¶¶" #
DeleteByFeature
¶¶# 2
(
¶¶2 3
featureGuid
¶¶3 >
)
¶¶> ?
;
¶¶? @
}
ßß 	
public
©© 
static
©© 
bool
©© 
DeleteByModule
©© )
(
©©) *
Guid
©©* .

moduleGuid
©©/ 9
)
©©9 :
{
™™ 	
return
´´ 
DBEmailTemplate
´´ "
.
´´" #
DeleteByModule
´´# 1
(
´´1 2

moduleGuid
´´2 <
)
´´< =
;
´´= >
}
¨¨ 	
public
ÆÆ 
static
ÆÆ 
bool
ÆÆ 
DeleteBySpecial1
ÆÆ +
(
ÆÆ+ ,
Guid
ÆÆ, 0
specialGuid1
ÆÆ1 =
)
ÆÆ= >
{
ØØ 	
return
∞∞ 
DBEmailTemplate
∞∞ "
.
∞∞" #
DeleteBySpecial1
∞∞# 3
(
∞∞3 4
specialGuid1
∞∞4 @
)
∞∞@ A
;
∞∞A B
}
±± 	
public
≥≥ 
static
≥≥ 
bool
≥≥ 
DeleteBySpecial2
≥≥ +
(
≥≥+ ,
Guid
≥≥, 0
specialGuid2
≥≥1 =
)
≥≥= >
{
¥¥ 	
return
µµ 
DBEmailTemplate
µµ "
.
µµ" #
DeleteBySpecial2
µµ# 3
(
µµ3 4
specialGuid2
µµ4 @
)
µµ@ A
;
µµA B
}
∂∂ 	
public
∏∏ 
static
∏∏ 
IDataReader
∏∏ !
GetPageByFeature
∏∏" 2
(
∏∏2 3
Guid
ππ 
siteGuid
ππ 
,
ππ 
Guid
∫∫ 
featureGuid
∫∫ 
,
∫∫ 
int
ªª 

pageNumber
ªª 
,
ªª 
int
ºº 
pageSize
ºº 
,
ºº 
out
ΩΩ 
int
ΩΩ 

totalPages
ΩΩ 
)
ΩΩ 
{
ææ 	
return
øø 
DBEmailTemplate
øø "
.
øø" #
GetPageByFeature
øø# 3
(
øø3 4
siteGuid
¿¿ 
,
¿¿ 
featureGuid
¡¡ 
,
¡¡ 

pageNumber
¬¬ 
,
¬¬ 
pageSize
√√ 
,
√√ 
out
ƒƒ 

totalPages
ƒƒ 
)
ƒƒ 
;
ƒƒ  
}
∆∆ 	
private
…… 
static
…… 
List
…… 
<
…… 
EmailTemplate
…… )
>
……) * 
LoadListFromReader
……+ =
(
……= >
IDataReader
……> I
reader
……J P
)
……P Q
{
   	
List
ÀÀ 
<
ÀÀ 
EmailTemplate
ÀÀ 
>
ÀÀ 
emailTemplateList
ÀÀ  1
=
ÀÀ2 3
new
ÀÀ4 7
List
ÀÀ8 <
<
ÀÀ< =
EmailTemplate
ÀÀ= J
>
ÀÀJ K
(
ÀÀK L
)
ÀÀL M
;
ÀÀM N
try
ÃÃ 
{
ÕÕ 
while
ŒŒ 
(
ŒŒ 
reader
ŒŒ 
.
ŒŒ 
Read
ŒŒ "
(
ŒŒ" #
)
ŒŒ# $
)
ŒŒ$ %
{
œœ 
EmailTemplate
–– !
emailTemplate
––" /
=
––0 1
new
––2 5
EmailTemplate
––6 C
(
––C D
)
––D E
;
––E F
emailTemplate
—— !
.
——! "
guid
——" &
=
——' (
new
——) ,
Guid
——- 1
(
——1 2
reader
——2 8
[
——8 9
$str
——9 ?
]
——? @
.
——@ A
ToString
——A I
(
——I J
)
——J K
)
——K L
;
——L M
emailTemplate
““ !
.
““! "
siteGuid
““" *
=
““+ ,
new
““- 0
Guid
““1 5
(
““5 6
reader
““6 <
[
““< =
$str
““= G
]
““G H
.
““H I
ToString
““I Q
(
““Q R
)
““R S
)
““S T
;
““T U
emailTemplate
”” !
.
””! "
featureGuid
””" -
=
””. /
new
””0 3
Guid
””4 8
(
””8 9
reader
””9 ?
[
””? @
$str
””@ M
]
””M N
.
””N O
ToString
””O W
(
””W X
)
””X Y
)
””Y Z
;
””Z [
emailTemplate
‘‘ !
.
‘‘! "

moduleGuid
‘‘" ,
=
‘‘- .
new
‘‘/ 2
Guid
‘‘3 7
(
‘‘7 8
reader
‘‘8 >
[
‘‘> ?
$str
‘‘? K
]
‘‘K L
.
‘‘L M
ToString
‘‘M U
(
‘‘U V
)
‘‘V W
)
‘‘W X
;
‘‘X Y
emailTemplate
’’ !
.
’’! "
specialGuid1
’’" .
=
’’/ 0
new
’’1 4
Guid
’’5 9
(
’’9 :
reader
’’: @
[
’’@ A
$str
’’A O
]
’’O P
.
’’P Q
ToString
’’Q Y
(
’’Y Z
)
’’Z [
)
’’[ \
;
’’\ ]
emailTemplate
÷÷ !
.
÷÷! "
specialGuid2
÷÷" .
=
÷÷/ 0
new
÷÷1 4
Guid
÷÷5 9
(
÷÷9 :
reader
÷÷: @
[
÷÷@ A
$str
÷÷A O
]
÷÷O P
.
÷÷P Q
ToString
÷÷Q Y
(
÷÷Y Z
)
÷÷Z [
)
÷÷[ \
;
÷÷\ ]
emailTemplate
◊◊ !
.
◊◊! "
name
◊◊" &
=
◊◊' (
reader
◊◊) /
[
◊◊/ 0
$str
◊◊0 6
]
◊◊6 7
.
◊◊7 8
ToString
◊◊8 @
(
◊◊@ A
)
◊◊A B
;
◊◊B C
emailTemplate
ÿÿ !
.
ÿÿ! "
subject
ÿÿ" )
=
ÿÿ* +
reader
ÿÿ, 2
[
ÿÿ2 3
$str
ÿÿ3 <
]
ÿÿ< =
.
ÿÿ= >
ToString
ÿÿ> F
(
ÿÿF G
)
ÿÿG H
;
ÿÿH I
emailTemplate
ŸŸ !
.
ŸŸ! "
textBody
ŸŸ" *
=
ŸŸ+ ,
reader
ŸŸ- 3
[
ŸŸ3 4
$str
ŸŸ4 >
]
ŸŸ> ?
.
ŸŸ? @
ToString
ŸŸ@ H
(
ŸŸH I
)
ŸŸI J
;
ŸŸJ K
emailTemplate
⁄⁄ !
.
⁄⁄! "
htmlBody
⁄⁄" *
=
⁄⁄+ ,
reader
⁄⁄- 3
[
⁄⁄3 4
$str
⁄⁄4 >
]
⁄⁄> ?
.
⁄⁄? @
ToString
⁄⁄@ H
(
⁄⁄H I
)
⁄⁄I J
;
⁄⁄J K
emailTemplate
€€ !
.
€€! "
hasHtml
€€" )
=
€€* +
Convert
€€, 3
.
€€3 4
	ToBoolean
€€4 =
(
€€= >
reader
€€> D
[
€€D E
$str
€€E N
]
€€N O
)
€€O P
;
€€P Q
emailTemplate
‹‹ !
.
‹‹! "

isEditable
‹‹" ,
=
‹‹- .
Convert
‹‹/ 6
.
‹‹6 7
	ToBoolean
‹‹7 @
(
‹‹@ A
reader
‹‹A G
[
‹‹G H
$str
‹‹H T
]
‹‹T U
)
‹‹U V
;
‹‹V W
emailTemplate
›› !
.
››! "

createdUtc
››" ,
=
››- .
Convert
››/ 6
.
››6 7

ToDateTime
››7 A
(
››A B
reader
››B H
[
››H I
$str
››I U
]
››U V
)
››V W
;
››W X
emailTemplate
ﬁﬁ !
.
ﬁﬁ! "

lastModUtc
ﬁﬁ" ,
=
ﬁﬁ- .
Convert
ﬁﬁ/ 6
.
ﬁﬁ6 7

ToDateTime
ﬁﬁ7 A
(
ﬁﬁA B
reader
ﬁﬁB H
[
ﬁﬁH I
$str
ﬁﬁI U
]
ﬁﬁU V
)
ﬁﬁV W
;
ﬁﬁW X
emailTemplate
ﬂﬂ !
.
ﬂﬂ! "
	lastModBy
ﬂﬂ" +
=
ﬂﬂ, -
new
ﬂﬂ. 1
Guid
ﬂﬂ2 6
(
ﬂﬂ6 7
reader
ﬂﬂ7 =
[
ﬂﬂ= >
$str
ﬂﬂ> I
]
ﬂﬂI J
.
ﬂﬂJ K
ToString
ﬂﬂK S
(
ﬂﬂS T
)
ﬂﬂT U
)
ﬂﬂU V
;
ﬂﬂV W
emailTemplateList
‡‡ %
.
‡‡% &
Add
‡‡& )
(
‡‡) *
emailTemplate
‡‡* 7
)
‡‡7 8
;
‡‡8 9
}
‚‚ 
}
„„ 
finally
‰‰ 
{
ÂÂ 
reader
ÊÊ 
.
ÊÊ 
Close
ÊÊ 
(
ÊÊ 
)
ÊÊ 
;
ÊÊ 
}
ÁÁ 
return
ÈÈ 
emailTemplateList
ÈÈ $
;
ÈÈ$ %
}
ÎÎ 	
public
ÌÌ 
static
ÌÌ 
IDataReader
ÌÌ !
Get
ÌÌ" %
(
ÌÌ% &
Guid
ÌÌ& *
siteGuid
ÌÌ+ 3
,
ÌÌ3 4
Guid
ÌÌ5 9
featureGuid
ÌÌ: E
,
ÌÌE F
Guid
ÌÌG K

moduleGuid
ÌÌL V
,
ÌÌV W
Guid
ÌÌX \
specialGuid1
ÌÌ] i
,
ÌÌi j
Guid
ÌÌk o
specialGuid2
ÌÌp |
)
ÌÌ| }
{
ÓÓ 	
return
ÔÔ 
DBEmailTemplate
ÔÔ "
.
ÔÔ" #
Get
ÔÔ# &
(
ÔÔ& '
siteGuid
ÔÔ' /
,
ÔÔ/ 0
featureGuid
ÔÔ1 <
,
ÔÔ< =

moduleGuid
ÔÔ> H
,
ÔÔH I
specialGuid1
ÔÔJ V
,
ÔÔV W
specialGuid2
ÔÔX d
)
ÔÔd e
;
ÔÔe f
}
 	
public
ÚÚ 
static
ÚÚ 
IDataReader
ÚÚ !
GetByModule
ÚÚ" -
(
ÚÚ- .
Guid
ÚÚ. 2

moduleGuid
ÚÚ3 =
)
ÚÚ= >
{
ÛÛ 	
return
ÙÙ 
DBEmailTemplate
ÙÙ "
.
ÙÙ" #
GetByModule
ÙÙ# .
(
ÙÙ. /

moduleGuid
ÙÙ/ 9
)
ÙÙ9 :
;
ÙÙ: ;
}
ıı 	
public
˜˜ 
static
˜˜ 
IDataReader
˜˜ !
GetByModule
˜˜" -
(
˜˜- .
Guid
˜˜. 2

moduleGuid
˜˜3 =
,
˜˜= >
Guid
˜˜? C
specialGuid1
˜˜D P
,
˜˜P Q
Guid
˜˜R V
specialGuid2
˜˜W c
)
˜˜c d
{
¯¯ 	
return
˘˘ 
DBEmailTemplate
˘˘ "
.
˘˘" #
GetByModule
˘˘# .
(
˘˘. /

moduleGuid
˘˘/ 9
,
˘˘9 :
specialGuid1
˘˘; G
,
˘˘G H
specialGuid2
˘˘I U
)
˘˘U V
;
˘˘V W
}
˙˙ 	
public
¸¸ 
static
¸¸ 
IDataReader
¸¸ !
GetByFeature
¸¸" .
(
¸¸. /
Guid
¸¸/ 3
siteGuid
¸¸4 <
,
¸¸< =
Guid
¸¸> B
featureGuid
¸¸C N
)
¸¸N O
{
˝˝ 	
return
˛˛ 
DBEmailTemplate
˛˛ "
.
˛˛" #
GetByFeature
˛˛# /
(
˛˛/ 0
siteGuid
˛˛0 8
,
˛˛8 9
featureGuid
˛˛: E
)
˛˛E F
;
˛˛F G
}
ˇˇ 	
public
ää 
static
ää 
int
ää 
CompareByName
ää '
(
ää' (
EmailTemplate
ää( 5
emailTemplate1
ää6 D
,
ääD E
EmailTemplate
ääF S
emailTemplate2
ääT b
)
ääb c
{
ãã 	
return
åå 
emailTemplate1
åå !
.
åå! "
Name
åå" &
.
åå& '
	CompareTo
åå' 0
(
åå0 1
emailTemplate2
åå1 ?
.
åå? @
Name
åå@ D
)
ååD E
;
ååE F
}
çç 	
public
ëë 
static
ëë 
int
ëë 
CompareBySubject
ëë *
(
ëë* +
EmailTemplate
ëë+ 8
emailTemplate1
ëë9 G
,
ëëG H
EmailTemplate
ëëI V
emailTemplate2
ëëW e
)
ëëe f
{
íí 	
return
ìì 
emailTemplate1
ìì !
.
ìì! "
Subject
ìì" )
.
ìì) *
	CompareTo
ìì* 3
(
ìì3 4
emailTemplate2
ìì4 B
.
ììB C
Subject
ììC J
)
ììJ K
;
ììK L
}
îî 	
public
òò 
static
òò 
int
òò 
CompareByTextBody
òò +
(
òò+ ,
EmailTemplate
òò, 9
emailTemplate1
òò: H
,
òòH I
EmailTemplate
òòJ W
emailTemplate2
òòX f
)
òòf g
{
ôô 	
return
öö 
emailTemplate1
öö !
.
öö! "
TextBody
öö" *
.
öö* +
	CompareTo
öö+ 4
(
öö4 5
emailTemplate2
öö5 C
.
ööC D
TextBody
ööD L
)
ööL M
;
ööM N
}
õõ 	
public
üü 
static
üü 
int
üü 
CompareByHtmlBody
üü +
(
üü+ ,
EmailTemplate
üü, 9
emailTemplate1
üü: H
,
üüH I
EmailTemplate
üüJ W
emailTemplate2
üüX f
)
üüf g
{
†† 	
return
°° 
emailTemplate1
°° !
.
°°! "
HtmlBody
°°" *
.
°°* +
	CompareTo
°°+ 4
(
°°4 5
emailTemplate2
°°5 C
.
°°C D
HtmlBody
°°D L
)
°°L M
;
°°M N
}
¢¢ 	
public
¶¶ 
static
¶¶ 
int
¶¶ !
CompareByCreatedUtc
¶¶ -
(
¶¶- .
EmailTemplate
¶¶. ;
emailTemplate1
¶¶< J
,
¶¶J K
EmailTemplate
¶¶L Y
emailTemplate2
¶¶Z h
)
¶¶h i
{
ßß 	
return
®® 
emailTemplate1
®® !
.
®®! "

CreatedUtc
®®" ,
.
®®, -
	CompareTo
®®- 6
(
®®6 7
emailTemplate2
®®7 E
.
®®E F

CreatedUtc
®®F P
)
®®P Q
;
®®Q R
}
©© 	
public
≠≠ 
static
≠≠ 
int
≠≠ !
CompareByLastModUtc
≠≠ -
(
≠≠- .
EmailTemplate
≠≠. ;
emailTemplate1
≠≠< J
,
≠≠J K
EmailTemplate
≠≠L Y
emailTemplate2
≠≠Z h
)
≠≠h i
{
ÆÆ 	
return
ØØ 
emailTemplate1
ØØ !
.
ØØ! "

LastModUtc
ØØ" ,
.
ØØ, -
	CompareTo
ØØ- 6
(
ØØ6 7
emailTemplate2
ØØ7 E
.
ØØE F

LastModUtc
ØØF P
)
ØØP Q
;
ØØQ R
}
∞∞ 	
}
µµ 
}∑∑ ˘—
lD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\FileAttachment.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
FileAttachment 
{ 
public 
FileAttachment 
( 
) 
{ 	
}
 
public 
FileAttachment 
( 
Guid "
rowGuid# *
)* +
{ 	
GetFileAttachment   
(   
rowGuid   %
)  % &
;  & '
}!! 	
private'' 
Guid'' 
rowGuid'' 
='' 
Guid'' #
.''# $
Empty''$ )
;'') *
private(( 
Guid(( 
siteGuid(( 
=(( 
Guid((  $
.(($ %
Empty((% *
;((* +
private)) 
Guid)) 

moduleGuid)) 
=))  !
Guid))" &
.))& '
Empty))' ,
;)), -
private** 
Guid** 
itemGuid** 
=** 
Guid**  $
.**$ %
Empty**% *
;*** +
private++ 
Guid++ 
specialGuid1++ !
=++" #
Guid++$ (
.++( )
Empty++) .
;++. /
private,, 
Guid,, 
specialGuid2,, !
=,," #
Guid,,$ (
.,,( )
Empty,,) .
;,,. /
private-- 
string-- 
serverFileName-- %
=--& '
string--( .
.--. /
Empty--/ 4
;--4 5
private.. 
string.. 
fileName.. 
=..  !
string.." (
...( )
Empty..) .
;... /
private// 
string// 
contentTitle// #
=//$ %
string//& ,
.//, -
Empty//- 2
;//2 3
private00 
long00 
contentLength00 "
=00# $
$num00% &
;00& '
private11 
string11 
contentType11 "
=11# $
string11% +
.11+ ,
Empty11, 1
;111 2
private22 
DateTime22 

createdUtc22 #
=22$ %
DateTime22& .
.22. /
UtcNow22/ 5
;225 6
private33 
Guid33 
	createdBy33 
=33  
Guid33! %
.33% &
Empty33& +
;33+ ,
public:: 
Guid:: 
RowGuid:: 
{;; 	
get<< 
{<< 
return<< 
rowGuid<<  
;<<  !
}<<" #
set== 
{== 
rowGuid== 
=== 
value== !
;==! "
}==# $
}>> 	
public?? 
Guid?? 
SiteGuid?? 
{@@ 	
getAA 
{AA 
returnAA 
siteGuidAA !
;AA! "
}AA# $
setBB 
{BB 
siteGuidBB 
=BB 
valueBB "
;BB" #
}BB$ %
}CC 	
publicDD 
GuidDD 

ModuleGuidDD 
{EE 	
getFF 
{FF 
returnFF 

moduleGuidFF #
;FF# $
}FF% &
setGG 
{GG 

moduleGuidGG 
=GG 
valueGG $
;GG$ %
}GG& '
}HH 	
publicII 
GuidII 
ItemGuidII 
{JJ 	
getKK 
{KK 
returnKK 
itemGuidKK !
;KK! "
}KK# $
setLL 
{LL 
itemGuidLL 
=LL 
valueLL "
;LL" #
}LL$ %
}MM 	
publicNN 
GuidNN 
SpecialGuid1NN  
{OO 	
getPP 
{PP 
returnPP 
specialGuid1PP %
;PP% &
}PP' (
setQQ 
{QQ 
specialGuid1QQ 
=QQ  
valueQQ! &
;QQ& '
}QQ( )
}RR 	
publicSS 
GuidSS 
SpecialGuid2SS  
{TT 	
getUU 
{UU 
returnUU 
specialGuid2UU %
;UU% &
}UU' (
setVV 
{VV 
specialGuid2VV 
=VV  
valueVV! &
;VV& '
}VV( )
}WW 	
publicXX 
stringXX 
ServerFileNameXX $
{YY 	
getZZ 
{ZZ 
returnZZ 
serverFileNameZZ '
;ZZ' (
}ZZ) *
set[[ 
{[[ 
serverFileName[[  
=[[! "
value[[# (
;[[( )
}[[* +
}\\ 	
public]] 
string]] 
FileName]] 
{^^ 	
get__ 
{__ 
return__ 
fileName__ !
;__! "
}__# $
set`` 
{`` 
fileName`` 
=`` 
value`` "
;``" #
}``$ %
}aa 	
publicbb 
DateTimebb 

CreatedUtcbb "
{cc 	
getdd 
{dd 
returndd 

createdUtcdd #
;dd# $
}dd% &
setee 
{ee 

createdUtcee 
=ee 
valueee $
;ee$ %
}ee& '
}ff 	
publicgg 
Guidgg 
	CreatedBygg 
{hh 	
getii 
{ii 
returnii 
	createdByii "
;ii" #
}ii$ %
setjj 
{jj 
	createdByjj 
=jj 
valuejj #
;jj# $
}jj% &
}kk 	
publicmm 
longmm 
ContentLengthmm !
{nn 	
getoo 
{oo 
returnoo 
contentLengthoo &
;oo& '
}oo( )
setpp 
{pp 
contentLengthpp 
=pp  !
valuepp" '
;pp' (
}pp) *
}qq 	
publicss 
stringss 
ContentTypess !
{tt 	
getuu 
{uu 
returnuu 
contentTypeuu $
;uu$ %
}uu& '
setvv 
{vv 
contentTypevv 
=vv 
valuevv  %
;vv% &
}vv' (
}ww 	
publicyy 
stringyy 
ContentTitleyy "
{zz 	
get{{ 
{{{ 
return{{ 
contentTitle{{ %
;{{% &
}{{' (
set|| 
{|| 
contentTitle|| 
=||  
value||! &
;||& '
}||( )
}}} 	
private
àà 
void
àà 
GetFileAttachment
àà &
(
àà& '
Guid
àà' +
rowGuid
àà, 3
)
àà3 4
{
ââ 	
using
ää 
(
ää 
IDataReader
ää 
reader
ää %
=
ää& '
DBFileAttachment
ää( 8
.
ää8 9
GetOne
ää9 ?
(
ää? @
rowGuid
ää@ G
)
ääG H
)
ääH I
{
ãã  
PopulateFromReader
åå "
(
åå" #
reader
åå# )
)
åå) *
;
åå* +
}
çç 
}
èè 	
private
íí 
void
íí  
PopulateFromReader
íí '
(
íí' (
IDataReader
íí( 3
reader
íí4 :
)
íí: ;
{
ìì 	
if
îî 
(
îî 
reader
îî 
.
îî 
Read
îî 
(
îî 
)
îî 
)
îî 
{
ïï 
this
ññ 
.
ññ 
rowGuid
ññ 
=
ññ 
new
ññ "
Guid
ññ# '
(
ññ' (
reader
ññ( .
[
ññ. /
$str
ññ/ 8
]
ññ8 9
.
ññ9 :
ToString
ññ: B
(
ññB C
)
ññC D
)
ññD E
;
ññE F
this
óó 
.
óó 
siteGuid
óó 
=
óó 
new
óó  #
Guid
óó$ (
(
óó( )
reader
óó) /
[
óó/ 0
$str
óó0 :
]
óó: ;
.
óó; <
ToString
óó< D
(
óóD E
)
óóE F
)
óóF G
;
óóG H
this
òò 
.
òò 

moduleGuid
òò 
=
òò  !
new
òò" %
Guid
òò& *
(
òò* +
reader
òò+ 1
[
òò1 2
$str
òò2 >
]
òò> ?
.
òò? @
ToString
òò@ H
(
òòH I
)
òòI J
)
òòJ K
;
òòK L
this
ôô 
.
ôô 
itemGuid
ôô 
=
ôô 
new
ôô  #
Guid
ôô$ (
(
ôô( )
reader
ôô) /
[
ôô/ 0
$str
ôô0 :
]
ôô: ;
.
ôô; <
ToString
ôô< D
(
ôôD E
)
ôôE F
)
ôôF G
;
ôôG H
this
öö 
.
öö 
specialGuid1
öö !
=
öö" #
new
öö$ '
Guid
öö( ,
(
öö, -
reader
öö- 3
[
öö3 4
$str
öö4 B
]
ööB C
.
ööC D
ToString
ööD L
(
ööL M
)
ööM N
)
ööN O
;
ööO P
this
õõ 
.
õõ 
specialGuid2
õõ !
=
õõ" #
new
õõ$ '
Guid
õõ( ,
(
õõ, -
reader
õõ- 3
[
õõ3 4
$str
õõ4 B
]
õõB C
.
õõC D
ToString
õõD L
(
õõL M
)
õõM N
)
õõN O
;
õõO P
this
úú 
.
úú 
serverFileName
úú #
=
úú$ %
reader
úú& ,
[
úú, -
$str
úú- =
]
úú= >
.
úú> ?
ToString
úú? G
(
úúG H
)
úúH I
;
úúI J
this
ùù 
.
ùù 
fileName
ùù 
=
ùù 
reader
ùù  &
[
ùù& '
$str
ùù' 1
]
ùù1 2
.
ùù2 3
ToString
ùù3 ;
(
ùù; <
)
ùù< =
;
ùù= >
this
ûû 
.
ûû 

createdUtc
ûû 
=
ûû  !
Convert
ûû" )
.
ûû) *

ToDateTime
ûû* 4
(
ûû4 5
reader
ûû5 ;
[
ûû; <
$str
ûû< H
]
ûûH I
)
ûûI J
;
ûûJ K
this
üü 
.
üü 
	createdBy
üü 
=
üü  
new
üü! $
Guid
üü% )
(
üü) *
reader
üü* 0
[
üü0 1
$str
üü1 <
]
üü< =
.
üü= >
ToString
üü> F
(
üüF G
)
üüG H
)
üüH I
;
üüI J
if
°° 
(
°° 
reader
°° 
[
°° 
$str
°° *
]
°°* +
!=
°°, .
DBNull
°°/ 5
.
°°5 6
Value
°°6 ;
)
°°; <
{
¢¢ 
this
££ 
.
££ 
contentLength
££ &
=
££' (
Convert
££) 0
.
££0 1
ToInt64
££1 8
(
££8 9
reader
££9 ?
[
££? @
$str
££@ O
]
££O P
)
££P Q
;
££Q R
}
§§ 
this
¶¶ 
.
¶¶ 
contentType
¶¶  
=
¶¶! "
reader
¶¶# )
[
¶¶) *
$str
¶¶* 7
]
¶¶7 8
.
¶¶8 9
ToString
¶¶9 A
(
¶¶A B
)
¶¶B C
;
¶¶C D
this
ßß 
.
ßß 
contentTitle
ßß !
=
ßß" #
reader
ßß$ *
[
ßß* +
$str
ßß+ 9
]
ßß9 :
.
ßß: ;
ToString
ßß; C
(
ßßC D
)
ßßD E
;
ßßE F
}
©© 
}
´´ 	
private
±± 
bool
±± 
Create
±± 
(
±± 
)
±± 
{
≤≤ 	
this
≥≥ 
.
≥≥ 
rowGuid
≥≥ 
=
≥≥ 
Guid
≥≥ 
.
≥≥  
NewGuid
≥≥  '
(
≥≥' (
)
≥≥( )
;
≥≥) *
if
¥¥ 
(
¥¥ 
this
¥¥ 
.
¥¥ 
serverFileName
¥¥ #
.
¥¥# $
Length
¥¥$ *
==
¥¥+ -
$num
¥¥. /
)
¥¥/ 0
{
µµ 
this
∂∂ 
.
∂∂ 
serverFileName
∂∂ #
=
∂∂$ %
rowGuid
∂∂& -
.
∂∂- .
ToString
∂∂. 6
(
∂∂6 7
)
∂∂7 8
+
∂∂9 :
$str
∂∂; D
;
∂∂D E
}
∑∑ 
int
ππ 
rowsAffected
ππ 
=
ππ 
DBFileAttachment
ππ /
.
ππ/ 0
Create
ππ0 6
(
ππ6 7
this
∫∫ 
.
∫∫ 
rowGuid
∫∫ 
,
∫∫ 
this
ªª 
.
ªª 
siteGuid
ªª 
,
ªª 
this
ºº 
.
ºº 

moduleGuid
ºº 
,
ºº  
this
ΩΩ 
.
ΩΩ 
itemGuid
ΩΩ 
,
ΩΩ 
this
ææ 
.
ææ 
specialGuid1
ææ !
,
ææ! "
this
øø 
.
øø 
specialGuid2
øø !
,
øø! "
this
¿¿ 
.
¿¿ 
serverFileName
¿¿ #
,
¿¿# $
this
¡¡ 
.
¡¡ 
fileName
¡¡ 
,
¡¡ 
this
¬¬ 
.
¬¬ 
contentTitle
¬¬ !
,
¬¬! "
this
√√ 
.
√√ 
contentLength
√√ "
,
√√" #
this
ƒƒ 
.
ƒƒ 
contentType
ƒƒ  
,
ƒƒ  !
this
≈≈ 
.
≈≈ 

createdUtc
≈≈ 
,
≈≈  
this
∆∆ 
.
∆∆ 
	createdBy
∆∆ 
)
∆∆ 
;
∆∆  
return
»» 
(
»» 
rowsAffected
»»  
>
»»! "
$num
»»# $
)
»»$ %
;
»»% &
}
   	
private
—— 
bool
—— 
Update
—— 
(
—— 
)
—— 
{
““ 	
return
‘‘ 
DBFileAttachment
‘‘ #
.
‘‘# $
Update
‘‘$ *
(
‘‘* +
this
’’ 
.
’’ 
rowGuid
’’ 
,
’’ 
this
÷÷ 
.
÷÷ 
serverFileName
÷÷ #
,
÷÷# $
this
◊◊ 
.
◊◊ 
fileName
◊◊ 
,
◊◊ 
this
ÿÿ 
.
ÿÿ 
contentTitle
ÿÿ !
,
ÿÿ! "
this
ŸŸ 
.
ŸŸ 
contentLength
ŸŸ "
,
ŸŸ" #
this
⁄⁄ 
.
⁄⁄ 
contentType
⁄⁄  
)
⁄⁄  !
;
⁄⁄! "
}
‹‹ 	
public
ÍÍ 
bool
ÍÍ 
Save
ÍÍ 
(
ÍÍ 
)
ÍÍ 
{
ÎÎ 	
if
ÏÏ 
(
ÏÏ 
this
ÏÏ 
.
ÏÏ 
rowGuid
ÏÏ 
!=
ÏÏ 
Guid
ÏÏ  $
.
ÏÏ$ %
Empty
ÏÏ% *
)
ÏÏ* +
{
ÌÌ 
return
ÓÓ 
Update
ÓÓ 
(
ÓÓ 
)
ÓÓ 
;
ÓÓ  
}
ÔÔ 
else
 
{
ÒÒ 
return
ÚÚ 
Create
ÚÚ 
(
ÚÚ 
)
ÚÚ 
;
ÚÚ  
}
ÛÛ 
}
ÙÙ 	
public
ÇÇ 
static
ÇÇ 
bool
ÇÇ 
Delete
ÇÇ !
(
ÇÇ! "
Guid
ÇÇ" &
rowGuid
ÇÇ' .
)
ÇÇ. /
{
ÉÉ 	
return
ÑÑ 
DBFileAttachment
ÑÑ #
.
ÑÑ# $
Delete
ÑÑ$ *
(
ÑÑ* +
rowGuid
ÑÑ+ 2
)
ÑÑ2 3
;
ÑÑ3 4
}
ÖÖ 	
public
ää 
static
ää 
bool
ää 
DeleteBySite
ää '
(
ää' (
Guid
ää( ,
siteGuid
ää- 5
)
ää5 6
{
ãã 	
return
åå 
DBFileAttachment
åå #
.
åå# $
DeleteBySite
åå$ 0
(
åå0 1
siteGuid
åå1 9
)
åå9 :
;
åå: ;
}
çç 	
public
ìì 
static
ìì 
bool
ìì 
DeleteByModule
ìì )
(
ìì) *
Guid
ìì* .

moduleGuid
ìì/ 9
)
ìì9 :
{
îî 	
return
ïï 
DBFileAttachment
ïï #
.
ïï# $
DeleteByModule
ïï$ 2
(
ïï2 3

moduleGuid
ïï3 =
)
ïï= >
;
ïï> ?
}
ññ 	
public
õõ 
static
õõ 
bool
õõ 
DeleteByItem
õõ '
(
õõ' (
Guid
õõ( ,
itemGuid
õõ- 5
)
õõ5 6
{
úú 	
return
ùù 
DBFileAttachment
ùù #
.
ùù# $
DeleteByItem
ùù$ 0
(
ùù0 1
itemGuid
ùù1 9
)
ùù9 :
;
ùù: ;
}
ûû 	
private
øø 
static
øø 
List
øø 
<
øø 
FileAttachment
øø *
>
øø* + 
LoadListFromReader
øø, >
(
øø> ?
IDataReader
øø? J
reader
øøK Q
)
øøQ R
{
¿¿ 	
List
¡¡ 
<
¡¡ 
FileAttachment
¡¡ 
>
¡¡   
fileAttachmentList
¡¡! 3
=
¡¡4 5
new
¡¡6 9
List
¡¡: >
<
¡¡> ?
FileAttachment
¡¡? M
>
¡¡M N
(
¡¡N O
)
¡¡O P
;
¡¡P Q
try
¬¬ 
{
√√ 
while
ƒƒ 
(
ƒƒ 
reader
ƒƒ 
.
ƒƒ 
Read
ƒƒ "
(
ƒƒ" #
)
ƒƒ# $
)
ƒƒ$ %
{
≈≈ 
FileAttachment
∆∆ "
fileAttachment
∆∆# 1
=
∆∆2 3
new
∆∆4 7
FileAttachment
∆∆8 F
(
∆∆F G
)
∆∆G H
;
∆∆H I
fileAttachment
«« "
.
««" #
rowGuid
««# *
=
««+ ,
new
««- 0
Guid
««1 5
(
««5 6
reader
««6 <
[
««< =
$str
««= F
]
««F G
.
««G H
ToString
««H P
(
««P Q
)
««Q R
)
««R S
;
««S T
fileAttachment
»» "
.
»»" #
siteGuid
»»# +
=
»», -
new
»». 1
Guid
»»2 6
(
»»6 7
reader
»»7 =
[
»»= >
$str
»»> H
]
»»H I
.
»»I J
ToString
»»J R
(
»»R S
)
»»S T
)
»»T U
;
»»U V
fileAttachment
…… "
.
……" #

moduleGuid
……# -
=
……. /
new
……0 3
Guid
……4 8
(
……8 9
reader
……9 ?
[
……? @
$str
……@ L
]
……L M
.
……M N
ToString
……N V
(
……V W
)
……W X
)
……X Y
;
……Y Z
fileAttachment
   "
.
  " #
itemGuid
  # +
=
  , -
new
  . 1
Guid
  2 6
(
  6 7
reader
  7 =
[
  = >
$str
  > H
]
  H I
.
  I J
ToString
  J R
(
  R S
)
  S T
)
  T U
;
  U V
fileAttachment
ÀÀ "
.
ÀÀ" #
specialGuid1
ÀÀ# /
=
ÀÀ0 1
new
ÀÀ2 5
Guid
ÀÀ6 :
(
ÀÀ: ;
reader
ÀÀ; A
[
ÀÀA B
$str
ÀÀB P
]
ÀÀP Q
.
ÀÀQ R
ToString
ÀÀR Z
(
ÀÀZ [
)
ÀÀ[ \
)
ÀÀ\ ]
;
ÀÀ] ^
fileAttachment
ÃÃ "
.
ÃÃ" #
specialGuid2
ÃÃ# /
=
ÃÃ0 1
new
ÃÃ2 5
Guid
ÃÃ6 :
(
ÃÃ: ;
reader
ÃÃ; A
[
ÃÃA B
$str
ÃÃB P
]
ÃÃP Q
.
ÃÃQ R
ToString
ÃÃR Z
(
ÃÃZ [
)
ÃÃ[ \
)
ÃÃ\ ]
;
ÃÃ] ^
fileAttachment
ÕÕ "
.
ÕÕ" #
serverFileName
ÕÕ# 1
=
ÕÕ2 3
reader
ÕÕ4 :
[
ÕÕ: ;
$str
ÕÕ; K
]
ÕÕK L
.
ÕÕL M
ToString
ÕÕM U
(
ÕÕU V
)
ÕÕV W
;
ÕÕW X
fileAttachment
ŒŒ "
.
ŒŒ" #
fileName
ŒŒ# +
=
ŒŒ, -
reader
ŒŒ. 4
[
ŒŒ4 5
$str
ŒŒ5 ?
]
ŒŒ? @
.
ŒŒ@ A
ToString
ŒŒA I
(
ŒŒI J
)
ŒŒJ K
;
ŒŒK L
fileAttachment
œœ "
.
œœ" #

createdUtc
œœ# -
=
œœ. /
Convert
œœ0 7
.
œœ7 8

ToDateTime
œœ8 B
(
œœB C
reader
œœC I
[
œœI J
$str
œœJ V
]
œœV W
)
œœW X
;
œœX Y
fileAttachment
–– "
.
––" #
	createdBy
––# ,
=
––- .
new
––/ 2
Guid
––3 7
(
––7 8
reader
––8 >
[
––> ?
$str
––? J
]
––J K
.
––K L
ToString
––L T
(
––T U
)
––U V
)
––V W
;
––W X
if
““ 
(
““ 
reader
““ 
[
““ 
$str
““ .
]
““. /
!=
““0 2
DBNull
““3 9
.
““9 :
Value
““: ?
)
““? @
{
”” 
fileAttachment
‘‘ &
.
‘‘& '
contentLength
‘‘' 4
=
‘‘5 6
Convert
‘‘7 >
.
‘‘> ?
ToInt64
‘‘? F
(
‘‘F G
reader
‘‘G M
[
‘‘M N
$str
‘‘N ]
]
‘‘] ^
)
‘‘^ _
;
‘‘_ `
}
’’ 
fileAttachment
◊◊ "
.
◊◊" #
contentTitle
◊◊# /
=
◊◊0 1
reader
◊◊2 8
[
◊◊8 9
$str
◊◊9 G
]
◊◊G H
.
◊◊H I
ToString
◊◊I Q
(
◊◊Q R
)
◊◊R S
;
◊◊S T
fileAttachment
ÿÿ "
.
ÿÿ" #
contentType
ÿÿ# .
=
ÿÿ/ 0
reader
ÿÿ1 7
[
ÿÿ7 8
$str
ÿÿ8 E
]
ÿÿE F
.
ÿÿF G
ToString
ÿÿG O
(
ÿÿO P
)
ÿÿP Q
;
ÿÿQ R 
fileAttachmentList
⁄⁄ &
.
⁄⁄& '
Add
⁄⁄' *
(
⁄⁄* +
fileAttachment
⁄⁄+ 9
)
⁄⁄9 :
;
⁄⁄: ;
}
‹‹ 
}
›› 
finally
ﬁﬁ 
{
ﬂﬂ 
reader
‡‡ 
.
‡‡ 
Close
‡‡ 
(
‡‡ 
)
‡‡ 
;
‡‡ 
}
·· 
return
„„  
fileAttachmentList
„„ %
;
„„% &
}
ÂÂ 	
public
ÏÏ 
static
ÏÏ 
IDataReader
ÏÏ !
SelectByModule
ÏÏ" 0
(
ÏÏ0 1
Guid
ÏÏ1 5

moduleGuid
ÏÏ6 @
)
ÏÏ@ A
{
ÌÌ 	
return
ÓÓ 
DBFileAttachment
ÓÓ #
.
ÓÓ# $
SelectByModule
ÓÓ$ 2
(
ÓÓ2 3

moduleGuid
ÓÓ3 =
)
ÓÓ= >
;
ÓÓ> ?
}
ÔÔ 	
public
ÒÒ 
static
ÒÒ 
List
ÒÒ 
<
ÒÒ 
FileAttachment
ÒÒ )
>
ÒÒ) *
GetListByModule
ÒÒ+ :
(
ÒÒ: ;
Guid
ÒÒ; ?

moduleGuid
ÒÒ@ J
)
ÒÒJ K
{
ÚÚ 	
using
ÛÛ 
(
ÛÛ 
IDataReader
ÛÛ 
reader
ÛÛ %
=
ÛÛ& '
DBFileAttachment
ÛÛ( 8
.
ÛÛ8 9
SelectByModule
ÛÛ9 G
(
ÛÛG H

moduleGuid
ÛÛH R
)
ÛÛR S
)
ÛÛS T
{
ÙÙ 
return
ıı  
LoadListFromReader
ıı )
(
ıı) *
reader
ıı* 0
)
ıı0 1
;
ıı1 2
}
ˆˆ 
}
˜˜ 	
public
˙˙ 
static
˙˙ 
IDataReader
˙˙ !
SelectByItem
˙˙" .
(
˙˙. /
Guid
˙˙/ 3
itemGuid
˙˙4 <
)
˙˙< =
{
˚˚ 	
return
¸¸ 
DBFileAttachment
¸¸ #
.
¸¸# $
SelectByItem
¸¸$ 0
(
¸¸0 1
itemGuid
¸¸1 9
)
¸¸9 :
;
¸¸: ;
}
˝˝ 	
public
ÄÄ 
static
ÄÄ 
List
ÄÄ 
<
ÄÄ 
FileAttachment
ÄÄ )
>
ÄÄ) *
GetListByItem
ÄÄ+ 8
(
ÄÄ8 9
Guid
ÄÄ9 =
itemGuid
ÄÄ> F
)
ÄÄF G
{
ÅÅ 	
using
ÇÇ 
(
ÇÇ 
IDataReader
ÇÇ 
reader
ÇÇ %
=
ÇÇ& '
DBFileAttachment
ÇÇ( 8
.
ÇÇ8 9
SelectByItem
ÇÇ9 E
(
ÇÇE F
itemGuid
ÇÇF N
)
ÇÇN O
)
ÇÇO P
{
ÉÉ 
return
ÑÑ  
LoadListFromReader
ÑÑ )
(
ÑÑ) *
reader
ÑÑ* 0
)
ÑÑ0 1
;
ÑÑ1 2
}
ÖÖ 
}
ÜÜ 	
public
ââ 
static
ââ 
IDataReader
ââ !
SelectBySpecial1
ââ" 2
(
ââ2 3
Guid
ââ3 7
specialGuid1
ââ8 D
)
ââD E
{
ää 	
return
ãã 
DBFileAttachment
ãã #
.
ãã# $
SelectBySpecial1
ãã$ 4
(
ãã4 5
specialGuid1
ãã5 A
)
ããA B
;
ããB C
}
åå 	
public
èè 
static
èè 
IDataReader
èè !
SelectBySpecial2
èè" 2
(
èè2 3
Guid
èè3 7
specialGuid2
èè8 D
)
èèD E
{
êê 	
return
ëë 
DBFileAttachment
ëë #
.
ëë# $
SelectBySpecial2
ëë$ 4
(
ëë4 5
specialGuid2
ëë5 A
)
ëëA B
;
ëëB C
}
íí 	
public
úú 
static
úú 
int
úú %
CompareByServerFileName
úú 1
(
úú1 2
FileAttachment
úú2 @
fileAttachment1
úúA P
,
úúP Q
FileAttachment
úúR `
fileAttachment2
úúa p
)
úúp q
{
ùù 	
return
ûû 
fileAttachment1
ûû "
.
ûû" #
ServerFileName
ûû# 1
.
ûû1 2
	CompareTo
ûû2 ;
(
ûû; <
fileAttachment2
ûû< K
.
ûûK L
ServerFileName
ûûL Z
)
ûûZ [
;
ûû[ \
}
üü 	
public
££ 
static
££ 
int
££ 
CompareByFileName
££ +
(
££+ ,
FileAttachment
££, :
fileAttachment1
££; J
,
££J K
FileAttachment
££L Z
fileAttachment2
££[ j
)
££j k
{
§§ 	
return
•• 
fileAttachment1
•• "
.
••" #
FileName
••# +
.
••+ ,
	CompareTo
••, 5
(
••5 6
fileAttachment2
••6 E
.
••E F
FileName
••F N
)
••N O
;
••O P
}
¶¶ 	
public
™™ 
static
™™ 
int
™™ !
CompareByCreatedUtc
™™ -
(
™™- .
FileAttachment
™™. <
fileAttachment1
™™= L
,
™™L M
FileAttachment
™™N \
fileAttachment2
™™] l
)
™™l m
{
´´ 	
return
¨¨ 
fileAttachment1
¨¨ "
.
¨¨" #

CreatedUtc
¨¨# -
.
¨¨- .
	CompareTo
¨¨. 7
(
¨¨7 8
fileAttachment2
¨¨8 G
.
¨¨G H

CreatedUtc
¨¨H R
)
¨¨R S
;
¨¨S T
}
≠≠ 	
}
≤≤ 
}¥¥ éu
hD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\GeoCountry.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 

GeoCountry 
{ 
public 

GeoCountry 
( 
) 
{ 	
}
 
public   

GeoCountry   
(   
Guid   
guid   #
)  # $
{!! 	
GetGeoCountry"" 
("" 
guid"" 
)"" 
;""  
}## 	
public%% 

GeoCountry%% 
(%% 
string%%  
countryISOCode2%%! 0
)%%0 1
{&& 	
GetGeoCountry'' 
('' 
countryISOCode2'' )
)'') *
;''* +
}(( 	
private.. 
Guid.. 
guid.. 
=.. 
Guid..  
...  !
Empty..! &
;..& '
private// 
string// 
name// 
;// 
private00 
string00 
iSOCode200 
;00  
private11 
string11 
iSOCode311 
;11  
public77 
Guid77 
Guid77 
{88 	
get99 
{99 
return99 
guid99 
;99 
}99  
set:: 
{:: 
guid:: 
=:: 
value:: 
;:: 
}::  !
};; 	
public<< 
string<< 
Name<< 
{== 	
get>> 
{>> 
return>> 
name>> 
;>> 
}>>  
set?? 
{?? 
name?? 
=?? 
value?? 
;?? 
}??  !
}@@ 	
publicAA 
stringAA 
IsoCode2AA 
{BB 	
getCC 
{CC 
returnCC 
iSOCode2CC !
;CC! "
}CC# $
setDD 
{DD 
iSOCode2DD 
=DD 
valueDD "
;DD" #
}DD$ %
}EE 	
publicFF 
stringFF 
IsoCode3FF 
{GG 	
getHH 
{HH 
returnHH 
iSOCode3HH !
;HH! "
}HH# $
setII 
{II 
iSOCode3II 
=II 
valueII "
;II" #
}II$ %
}JJ 	
privatePP 
voidPP 
GetGeoCountryPP "
(PP" #
GuidPP# '
guidPP( ,
)PP, -
{QQ 	
usingRR 
(RR 
IDataReaderRR 
readerRR %
=RR& '
DBGeoCountryRR( 4
.RR4 5
GetOneRR5 ;
(RR; <
guidRR< @
)RR@ A
)RRA B
{SS 
GetGeoCountryTT 
(TT 
readerTT $
)TT$ %
;TT% &
}UU 
}VV 	
privateXX 
voidXX 
GetGeoCountryXX "
(XX" #
stringXX# )
countryISOCode2XX* 9
)XX9 :
{YY 	
usingZZ 
(ZZ 
IDataReaderZZ 
readerZZ %
=ZZ& '
DBGeoCountryZZ( 4
.ZZ4 5
GetByISOCode2ZZ5 B
(ZZB C
countryISOCode2ZZC R
)ZZR S
)ZZS T
{[[ 
GetGeoCountry\\ 
(\\ 
reader\\ $
)\\$ %
;\\% &
}]] 
}^^ 	
private`` 
void`` 
GetGeoCountry`` "
(``" #
IDataReader``# .
reader``/ 5
)``5 6
{aa 	
ifbb 
(bb 
readerbb 
.bb 
Readbb 
(bb 
)bb 
)bb 
{cc 
thisdd 
.dd 
guiddd 
=dd 
newdd 
Guiddd  $
(dd$ %
readerdd% +
[dd+ ,
$strdd, 2
]dd2 3
.dd3 4
ToStringdd4 <
(dd< =
)dd= >
)dd> ?
;dd? @
thisee 
.ee 
nameee 
=ee 
readeree "
[ee" #
$stree# )
]ee) *
.ee* +
ToStringee+ 3
(ee3 4
)ee4 5
;ee5 6
thisff 
.ff 
iSOCode2ff 
=ff 
readerff  &
[ff& '
$strff' 1
]ff1 2
.ff2 3
ToStringff3 ;
(ff; <
)ff< =
;ff= >
thisgg 
.gg 
iSOCode3gg 
=gg 
readergg  &
[gg& '
$strgg' 1
]gg1 2
.gg2 3
ToStringgg3 ;
(gg; <
)gg< =
;gg= >
}ii 
}jj 	
privatell 
boolll 
Createll 
(ll 
)ll 
{mm 	
Guidnn 
newIDnn 
=nn 
Guidnn 
.nn 
NewGuidnn %
(nn% &
)nn& '
;nn' (
thispp 
.pp 
guidpp 
=pp 
newIDpp 
;pp 
intrr 
rowsAffectedrr 
=rr 
DBGeoCountryrr +
.rr+ ,
Createrr, 2
(rr2 3
thisss 
.ss 
guidss 
,ss 
thistt 
.tt 
namett 
,tt 
thisuu 
.uu 
iSOCode2uu 
,uu 
thisvv 
.vv 
iSOCode3vv 
)vv 
;vv 
returnxx 
(xx 
rowsAffectedxx  
>xx! "
$numxx# $
)xx$ %
;xx% &
}zz 	
private~~ 
bool~~ 
Update~~ 
(~~ 
)~~ 
{ 	
return
ÅÅ 
DBGeoCountry
ÅÅ 
.
ÅÅ  
Update
ÅÅ  &
(
ÅÅ& '
this
ÇÇ 
.
ÇÇ 
guid
ÇÇ 
,
ÇÇ 
this
ÉÉ 
.
ÉÉ 
name
ÉÉ 
,
ÉÉ 
this
ÑÑ 
.
ÑÑ 
iSOCode2
ÑÑ 
,
ÑÑ 
this
ÖÖ 
.
ÖÖ 
iSOCode3
ÖÖ 
)
ÖÖ 
;
ÖÖ 
}
áá 	
public
èè 
bool
èè 
Save
èè 
(
èè 
)
èè 
{
êê 	
if
ëë 
(
ëë 
this
ëë 
.
ëë 
guid
ëë 
!=
ëë 
Guid
ëë !
.
ëë! "
Empty
ëë" '
)
ëë' (
{
íí 
return
ìì 
Update
ìì 
(
ìì 
)
ìì 
;
ìì  
}
îî 
else
ïï 
{
ññ 
return
óó 
Create
óó 
(
óó 
)
óó 
;
óó  
}
òò 
}
ôô 	
public
¢¢ 
static
¢¢ 
bool
¢¢ 
Delete
¢¢ !
(
¢¢! "
Guid
¢¢" &
guid
¢¢' +
)
¢¢+ ,
{
££ 	
return
§§ 
DBGeoCountry
§§ 
.
§§  
Delete
§§  &
(
§§& '
guid
§§' +
)
§§+ ,
;
§§, -
}
¶¶ 	
public
®® 
static
®® 
IDataReader
®® !
GetAllGeoCountry
®®" 2
(
®®2 3
)
®®3 4
{
©© 	
return
™™ 
DBGeoCountry
™™ 
.
™™  
GetAll
™™  &
(
™™& '
)
™™' (
;
™™( )
}
´´ 	
public
≠≠ 
static
≠≠ 
	DataTable
≠≠ 
GetList
≠≠  '
(
≠≠' (
)
≠≠( )
{
ÆÆ 	
	DataTable
ØØ 
	dataTable
ØØ 
=
ØØ  !
new
ØØ" %
	DataTable
ØØ& /
(
ØØ/ 0
)
ØØ0 1
;
ØØ1 2
	dataTable
∞∞ 
.
∞∞ 
Columns
∞∞ 
.
∞∞ 
Add
∞∞ !
(
∞∞! "
$str
∞∞" (
,
∞∞( )
typeof
∞∞* 0
(
∞∞0 1
Guid
∞∞1 5
)
∞∞5 6
)
∞∞6 7
;
∞∞7 8
	dataTable
±± 
.
±± 
Columns
±± 
.
±± 
Add
±± !
(
±±! "
$str
±±" (
,
±±( )
typeof
±±* 0
(
±±0 1
String
±±1 7
)
±±7 8
)
±±8 9
;
±±9 :
	dataTable
≤≤ 
.
≤≤ 
Columns
≤≤ 
.
≤≤ 
Add
≤≤ !
(
≤≤! "
$str
≤≤" ,
,
≤≤, -
typeof
≤≤. 4
(
≤≤4 5
String
≤≤5 ;
)
≤≤; <
)
≤≤< =
;
≤≤= >
	dataTable
≥≥ 
.
≥≥ 
Columns
≥≥ 
.
≥≥ 
Add
≥≥ !
(
≥≥! "
$str
≥≥" ,
,
≥≥, -
typeof
≥≥. 4
(
≥≥4 5
String
≥≥5 ;
)
≥≥; <
)
≥≥< =
;
≥≥= >
using
µµ 
(
µµ 
IDataReader
µµ 
reader
µµ %
=
µµ& '
DBGeoCountry
µµ( 4
.
µµ4 5
GetAll
µµ5 ;
(
µµ; <
)
µµ< =
)
µµ= >
{
∂∂ 
while
∑∑ 
(
∑∑ 
reader
∑∑ 
.
∑∑ 
Read
∑∑ "
(
∑∑" #
)
∑∑# $
)
∑∑$ %
{
∏∏ 
DataRow
ππ 
row
ππ 
=
ππ  !
	dataTable
ππ" +
.
ππ+ ,
NewRow
ππ, 2
(
ππ2 3
)
ππ3 4
;
ππ4 5
row
∫∫ 
[
∫∫ 
$str
∫∫ 
]
∫∫ 
=
∫∫  !
reader
∫∫" (
[
∫∫( )
$str
∫∫) /
]
∫∫/ 0
;
∫∫0 1
row
ªª 
[
ªª 
$str
ªª 
]
ªª 
=
ªª  !
reader
ªª" (
[
ªª( )
$str
ªª) /
]
ªª/ 0
.
ªª0 1
ToString
ªª1 9
(
ªª9 :
)
ªª: ;
;
ªª; <
row
ºº 
[
ºº 
$str
ºº "
]
ºº" #
=
ºº$ %
reader
ºº& ,
[
ºº, -
$str
ºº- 7
]
ºº7 8
.
ºº8 9
ToString
ºº9 A
(
ººA B
)
ººB C
;
ººC D
row
ΩΩ 
[
ΩΩ 
$str
ΩΩ "
]
ΩΩ" #
=
ΩΩ$ %
reader
ΩΩ& ,
[
ΩΩ, -
$str
ΩΩ- 7
]
ΩΩ7 8
.
ΩΩ8 9
ToString
ΩΩ9 A
(
ΩΩA B
)
ΩΩB C
;
ΩΩC D
	dataTable
ææ 
.
ææ 
Rows
ææ "
.
ææ" #
Add
ææ# &
(
ææ& '
row
ææ' *
)
ææ* +
;
ææ+ ,
}
¿¿ 
}
¡¡ 
return
√√ 
	dataTable
√√ 
;
√√ 
}
ƒƒ 	
public
∆∆ 
static
∆∆ 
List
∆∆ 
<
∆∆ 

GeoCountry
∆∆ %
>
∆∆% &
GetPage
∆∆' .
(
∆∆. /
int
«« 

pageNumber
«« 
,
«« 
int
»» 
pageSize
»» 
,
»» 
out
…… 
int
…… 

totalPages
…… 
)
…… 
{
   	
List
ÃÃ 
<
ÃÃ 

GeoCountry
ÃÃ 
>
ÃÃ "
geoCountryCollection
ÃÃ 1
=
ÕÕ 
new
ÕÕ 
List
ÕÕ 
<
ÕÕ 

GeoCountry
ÕÕ %
>
ÕÕ% &
(
ÕÕ& '
)
ÕÕ' (
;
ÕÕ( )
using
œœ 
(
œœ 
IDataReader
œœ 
reader
œœ %
=
œœ& '
DBGeoCountry
œœ( 4
.
œœ4 5
GetPage
œœ5 <
(
œœ< =

pageNumber
œœ= G
,
œœG H
pageSize
œœI Q
,
œœQ R
out
œœS V

totalPages
œœW a
)
œœa b
)
œœb c
{
–– 
while
—— 
(
—— 
reader
—— 
.
—— 
Read
—— "
(
——" #
)
——# $
)
——$ %
{
““ 

GeoCountry
”” 

geoCountry
”” )
=
””* +
new
””, /

GeoCountry
””0 :
(
””: ;
)
””; <
;
””< =

geoCountry
‘‘ 
.
‘‘ 
guid
‘‘ #
=
‘‘$ %
new
‘‘& )
Guid
‘‘* .
(
‘‘. /
reader
‘‘/ 5
[
‘‘5 6
$str
‘‘6 <
]
‘‘< =
.
‘‘= >
ToString
‘‘> F
(
‘‘F G
)
‘‘G H
)
‘‘H I
;
‘‘I J

geoCountry
’’ 
.
’’ 
name
’’ #
=
’’$ %
reader
’’& ,
[
’’, -
$str
’’- 3
]
’’3 4
.
’’4 5
ToString
’’5 =
(
’’= >
)
’’> ?
;
’’? @

geoCountry
÷÷ 
.
÷÷ 
iSOCode2
÷÷ '
=
÷÷( )
reader
÷÷* 0
[
÷÷0 1
$str
÷÷1 ;
]
÷÷; <
.
÷÷< =
ToString
÷÷= E
(
÷÷E F
)
÷÷F G
;
÷÷G H

geoCountry
◊◊ 
.
◊◊ 
iSOCode3
◊◊ '
=
◊◊( )
reader
◊◊* 0
[
◊◊0 1
$str
◊◊1 ;
]
◊◊; <
.
◊◊< =
ToString
◊◊= E
(
◊◊E F
)
◊◊F G
;
◊◊G H"
geoCountryCollection
ÿÿ (
.
ÿÿ( )
Add
ÿÿ) ,
(
ÿÿ, -

geoCountry
ÿÿ- 7
)
ÿÿ7 8
;
ÿÿ8 9
}
⁄⁄ 
}
€€ 
return
›› "
geoCountryCollection
›› '
;
››' (
}
ﬂﬂ 	
public
·· 
static
·· 
int
·· 
CompareByName
·· '
(
··' (

GeoCountry
··( 2
country1
··3 ;
,
··; <

GeoCountry
··= G
country2
··H P
)
··P Q
{
‚‚ 	
return
„„ 
country1
„„ 
.
„„ 
Name
„„  
.
„„  !
	CompareTo
„„! *
(
„„* +
country2
„„+ 3
.
„„3 4
Name
„„4 8
)
„„8 9
;
„„9 :
}
ÂÂ 	
public
ÁÁ 
static
ÁÁ 
int
ÁÁ 
CompareByIsoCode2
ÁÁ +
(
ÁÁ+ ,

GeoCountry
ÁÁ, 6
country1
ÁÁ7 ?
,
ÁÁ? @

GeoCountry
ÁÁA K
country2
ÁÁL T
)
ÁÁT U
{
ËË 	
return
ÈÈ 
country1
ÈÈ 
.
ÈÈ 
IsoCode2
ÈÈ $
.
ÈÈ$ %
	CompareTo
ÈÈ% .
(
ÈÈ. /
country2
ÈÈ/ 7
.
ÈÈ7 8
IsoCode2
ÈÈ8 @
)
ÈÈ@ A
;
ÈÈA B
}
ÍÍ 	
public
ÏÏ 
static
ÏÏ 
int
ÏÏ 
CompareByIsoCode3
ÏÏ +
(
ÏÏ+ ,

GeoCountry
ÏÏ, 6
country1
ÏÏ7 ?
,
ÏÏ? @

GeoCountry
ÏÏA K
country2
ÏÏL T
)
ÏÏT U
{
ÌÌ 	
return
ÓÓ 
country1
ÓÓ 
.
ÓÓ 
IsoCode3
ÓÓ $
.
ÓÓ$ %
	CompareTo
ÓÓ% .
(
ÓÓ. /
country2
ÓÓ/ 7
.
ÓÓ7 8
IsoCode3
ÓÓ8 @
)
ÓÓ@ A
;
ÓÓA B
}
 	
}
˙˙ 
}¸¸ Ó_
eD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\GeoZone.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
GeoZone 
{ 
public 
GeoZone 
( 
) 
{ 	
}
 
public 
GeoZone 
( 
Guid 
guid  
)  !
{ 	

GetGeoZone   
(   
guid   
)   
;   
}!! 	
private'' 
Guid'' 
guid'' 
='' 
Guid''  
.''  !
Empty''! &
;''& '
private(( 
Guid(( 
countryGuid((  
=((" #
Guid(($ (
.((( )
Empty(() .
;((. /
private)) 
string)) 
name)) 
;)) 
private** 
string** 
code** 
;** 
public00 
Guid00 
Guid00 
{11 	
get22 
{22 
return22 
guid22 
;22 
}22  
set33 
{33 
guid33 
=33 
value33 
;33 
}33  !
}44 	
public55 
Guid55 
CountryGuid55 
{66 	
get77 
{77 
return77 
countryGuid77 $
;77$ %
}77& '
set88 
{88 
countryGuid88 
=88 
value88  %
;88% &
}88' (
}99 	
public:: 
string:: 
Name:: 
{;; 	
get<< 
{<< 
return<< 
name<< 
;<< 
}<<  
set== 
{== 
name== 
=== 
value== 
;== 
}==  !
}>> 	
public?? 
string?? 
Code?? 
{@@ 	
getAA 
{AA 
returnAA 
codeAA 
;AA 
}AA  
setBB 
{BB 
codeBB 
=BB 
valueBB 
;BB 
}BB  !
}CC 	
privateII 
voidII 

GetGeoZoneII 
(II  
GuidII  $
guidII% )
)II) *
{JJ 	
usingKK 
(KK 
IDataReaderKK 
readerKK %
=KK& '
	DBGeoZoneKK( 1
.KK1 2
GetOneKK2 8
(KK8 9
guidKK9 =
)KK= >
)KK> ?
{LL 
LoadFromReaderMM 
(MM 
thisMM #
,MM# $
readerMM% +
)MM+ ,
;MM, -
}NN 
}PP 	
privateRR 
staticRR 
voidRR 
LoadFromReaderRR *
(RR* +
GeoZoneRR+ 2
geoZoneRR3 :
,RR: ;
IDataReaderRR< G
readerRRH N
)RRN O
{SS 	
ifTT 
(TT 
readerTT 
.TT 
ReadTT 
(TT 
)TT 
)TT 
{UU 
geoZoneVV 
.VV 
guidVV 
=VV 
newVV "
GuidVV# '
(VV' (
readerVV( .
[VV. /
$strVV/ 5
]VV5 6
.VV6 7
ToStringVV7 ?
(VV? @
)VV@ A
)VVA B
;VVB C
geoZoneWW 
.WW 
countryGuidWW #
=WW$ %
newWW& )
GuidWW* .
(WW. /
readerWW/ 5
[WW5 6
$strWW6 C
]WWC D
.WWD E
ToStringWWE M
(WWM N
)WWN O
)WWO P
;WWP Q
geoZoneXX 
.XX 
nameXX 
=XX 
readerXX %
[XX% &
$strXX& ,
]XX, -
.XX- .
ToStringXX. 6
(XX6 7
)XX7 8
;XX8 9
geoZoneYY 
.YY 
codeYY 
=YY 
readerYY %
[YY% &
$strYY& ,
]YY, -
.YY- .
ToStringYY. 6
(YY6 7
)YY7 8
;YY8 9
}[[ 
}]] 	
private__ 
bool__ 
Create__ 
(__ 
)__ 
{`` 	
thisbb 
.bb 
guidbb 
=bb 
Guidbb 
.bb 
NewGuidbb $
(bb$ %
)bb% &
;bb& '
intdd 
rowsAffecteddd 
=dd 
	DBGeoZonedd (
.dd( )
Createdd) /
(dd/ 0
thisee 
.ee 
guidee 
,ee 
thisff 
.ff 
countryGuidff  
,ff  !
thisgg 
.gg 
namegg 
,gg 
thishh 
.hh 
codehh 
)hh 
;hh 
returnjj 
(jj 
rowsAffectedjj  
>jj! "
$numjj# $
)jj$ %
;jj% &
}ll 	
privatenn 
boolnn 
Updatenn 
(nn 
)nn 
{oo 	
returnqq 
	DBGeoZoneqq 
.qq 
Updateqq #
(qq# $
thisrr 
.rr 
guidrr 
,rr 
thisss 
.ss 
countryGuidss  
,ss  !
thistt 
.tt 
namett 
,tt 
thisuu 
.uu 
codeuu 
)uu 
;uu 
}ww 	
public 
bool 
Save 
( 
) 
{
ÄÄ 	
if
ÅÅ 
(
ÅÅ 
(
ÅÅ 
this
ÅÅ 
.
ÅÅ 
guid
ÅÅ 
!=
ÅÅ 
null
ÅÅ "
)
ÅÅ" #
&&
ÅÅ$ &
(
ÅÅ' (
this
ÅÅ( ,
.
ÅÅ, -
guid
ÅÅ- 1
!=
ÅÅ2 4
Guid
ÅÅ5 9
.
ÅÅ9 :
Empty
ÅÅ: ?
)
ÅÅ? @
)
ÅÅ@ A
{
ÇÇ 
return
ÉÉ 
Update
ÉÉ 
(
ÉÉ 
)
ÉÉ 
;
ÉÉ  
}
ÑÑ 
else
ÖÖ 
{
ÜÜ 
return
áá 
Create
áá 
(
áá 
)
áá 
;
áá  
}
àà 
}
ââ 	
public
íí 
static
íí 
bool
íí 
Delete
íí !
(
íí! "
Guid
íí" &
guid
íí' +
)
íí+ ,
{
ìì 	
return
îî 
	DBGeoZone
îî 
.
îî 
Delete
îî #
(
îî# $
guid
îî$ (
)
îî( )
;
îî) *
}
ïï 	
public
òò 
static
òò 
IDataReader
òò !
GetByCountry
òò" .
(
òò. /
Guid
òò/ 3
countryGuid
òò4 ?
)
òò? @
{
ôô 	
return
öö 
	DBGeoZone
öö 
.
öö 
GetByCountry
öö )
(
öö) *
countryGuid
öö* 5
)
öö5 6
;
öö6 7
}
õõ 	
public
ùù 
static
ùù 
GeoZone
ùù 
	GetByCode
ùù '
(
ùù' (
Guid
ùù( ,
countryGuid
ùù- 8
,
ùù8 9
string
ùù: @
code
ùùA E
)
ùùE F
{
ûû 	
GeoZone
üü 
geoZone
üü 
=
üü 
new
üü !
GeoZone
üü" )
(
üü) *
)
üü* +
;
üü+ ,
using
†† 
(
†† 
IDataReader
†† 
reader
†† %
=
††& '
	DBGeoZone
††( 1
.
††1 2
	GetByCode
††2 ;
(
††; <
countryGuid
††< G
,
††G H
code
††I M
)
††M N
)
††N O
{
°° 
LoadFromReader
¢¢ 
(
¢¢ 
geoZone
¢¢ &
,
¢¢& '
reader
¢¢( .
)
¢¢. /
;
¢¢/ 0
}
££ 
if
•• 
(
•• 
geoZone
•• 
.
•• 
Guid
•• 
==
•• 
Guid
••  $
.
••$ %
Empty
••% *
)
••* +
{
¶¶ 
return
ßß 
null
ßß 
;
ßß 
}
®® 
return
©© 
geoZone
©© 
;
©© 
}
¨¨ 	
public
ÀÀ 
static
ÀÀ 
	DataTable
ÀÀ 
GetPage
ÀÀ  '
(
ÀÀ' (
Guid
ÃÃ 
countryGuid
ÃÃ 
,
ÃÃ 
int
ÕÕ 

pageNumber
ÕÕ 
,
ÕÕ 
int
ŒŒ 
pageSize
ŒŒ 
,
ŒŒ 
out
œœ 
int
œœ 

totalPages
œœ 
)
œœ 
{
–– 	
	DataTable
—— 
	dataTable
—— 
=
——  !
new
——" %
	DataTable
——& /
(
——/ 0
)
——0 1
;
——1 2
	dataTable
““ 
.
““ 
Columns
““ 
.
““ 
Add
““ !
(
““! "
$str
““" (
,
““( )
typeof
““* 0
(
““0 1
Guid
““1 5
)
““5 6
)
““6 7
;
““7 8
	dataTable
”” 
.
”” 
Columns
”” 
.
”” 
Add
”” !
(
””! "
$str
””" /
,
””/ 0
typeof
””1 7
(
””7 8
Guid
””8 <
)
””< =
)
””= >
;
””> ?
	dataTable
‘‘ 
.
‘‘ 
Columns
‘‘ 
.
‘‘ 
Add
‘‘ !
(
‘‘! "
$str
‘‘" /
,
‘‘/ 0
typeof
‘‘1 7
(
‘‘7 8
string
‘‘8 >
)
‘‘> ?
)
‘‘? @
;
‘‘@ A
	dataTable
’’ 
.
’’ 
Columns
’’ 
.
’’ 
Add
’’ !
(
’’! "
$str
’’" (
,
’’( )
typeof
’’* 0
(
’’0 1
string
’’1 7
)
’’7 8
)
’’8 9
;
’’9 :
	dataTable
÷÷ 
.
÷÷ 
Columns
÷÷ 
.
÷÷ 
Add
÷÷ !
(
÷÷! "
$str
÷÷" (
,
÷÷( )
typeof
÷÷* 0
(
÷÷0 1
string
÷÷1 7
)
÷÷7 8
)
÷÷8 9
;
÷÷9 :
using
ŸŸ 
(
ŸŸ 
IDataReader
ŸŸ 
reader
ŸŸ %
=
ŸŸ& '
	DBGeoZone
ŸŸ( 1
.
ŸŸ1 2
GetPage
ŸŸ2 9
(
ŸŸ9 :
countryGuid
ŸŸ: E
,
ŸŸE F

pageNumber
ŸŸG Q
,
ŸŸQ R
pageSize
ŸŸS [
,
ŸŸ[ \
out
ŸŸ] `

totalPages
ŸŸa k
)
ŸŸk l
)
ŸŸl m
{
⁄⁄ 
while
€€ 
(
€€ 
reader
€€ 
.
€€ 
Read
€€ "
(
€€" #
)
€€# $
)
€€$ %
{
‹‹ 
DataRow
›› 
row
›› 
=
››  !
	dataTable
››" +
.
››+ ,
NewRow
››, 2
(
››2 3
)
››3 4
;
››4 5
row
ﬁﬁ 
[
ﬁﬁ 
$str
ﬁﬁ 
]
ﬁﬁ 
=
ﬁﬁ  !
new
ﬁﬁ" %
Guid
ﬁﬁ& *
(
ﬁﬁ* +
reader
ﬁﬁ+ 1
[
ﬁﬁ1 2
$str
ﬁﬁ2 8
]
ﬁﬁ8 9
.
ﬁﬁ9 :
ToString
ﬁﬁ: B
(
ﬁﬁB C
)
ﬁﬁC D
)
ﬁﬁD E
;
ﬁﬁE F
row
ﬂﬂ 
[
ﬂﬂ 
$str
ﬂﬂ %
]
ﬂﬂ% &
=
ﬂﬂ' (
reader
ﬂﬂ) /
[
ﬂﬂ/ 0
$str
ﬂﬂ0 =
]
ﬂﬂ= >
;
ﬂﬂ> ?
row
‡‡ 
[
‡‡ 
$str
‡‡ %
]
‡‡% &
=
‡‡' (
reader
‡‡) /
[
‡‡/ 0
$str
‡‡0 =
]
‡‡= >
;
‡‡> ?
row
·· 
[
·· 
$str
·· 
]
·· 
=
··  !
reader
··" (
[
··( )
$str
··) /
]
··/ 0
;
··0 1
row
‚‚ 
[
‚‚ 
$str
‚‚ 
]
‚‚ 
=
‚‚  !
reader
‚‚" (
[
‚‚( )
$str
‚‚) /
]
‚‚/ 0
;
‚‚0 1
	dataTable
‰‰ 
.
‰‰ 
Rows
‰‰ "
.
‰‰" #
Add
‰‰# &
(
‰‰& '
row
‰‰' *
)
‰‰* +
;
‰‰+ ,
}
ÂÂ 
}
ÁÁ 
return
ÈÈ 
	dataTable
ÈÈ 
;
ÈÈ 
}
ÎÎ 	
}
ÚÚ 
}ÙÙ ΩÄ
iD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\HtmlContent.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
HtmlContent 
: 
IIndexableContent 0
{ 
private 
const 
string 
featureGuid (
=) *
$str+ Q
;Q R
public 
static 
Guid 
FeatureGuid &
{ 	
get 
{ 
return 
new 
Guid !
(! "
featureGuid" -
)- .
;. /
}0 1
} 	
public"" 
HtmlContent""	 
("" 
)"" 
{## 
}## 
[%% 	
Obsolete%%	 
(%% 
$str	%% Ü
)
%%Ü á
]
%%á à
public&& 
HtmlContent&& 
(&& 
int&& 
moduleId&& '
)&&' (
{'' 	
this(( 
.(( 
moduleID(( 
=(( 
moduleId(( $
;(($ %
GetHtmlContent)) 
()) 
moduleId)) #
)))# $
;))$ %
}++ 	
private99 
Guid99 
itemGuid99 
=99 
Guid99  $
.99$ %
Empty99% *
;99* +
private:: 
Guid:: 

moduleGuid:: 
=::  !
Guid::" &
.::& '
Empty::' ,
;::, -
private;; 	
int;;
 
moduleID;; 
=;; 
-;; 
$num;; 
;;; 
private<< 	
int<<
 
itemID<< 
=<< 
-<< 
$num<< 
;<< 
private== 	
string==
 
title== 
=== 
string== 
.==  
Empty==  %
;==% &
private>> 	
string>>
 
excerpt>> 
=>> 
string>> !
.>>! "
Empty>>" '
;>>' (
private?? 	
string??
 
body?? 
=?? 
string?? 
.?? 
Empty?? $
;??$ %
private@@ 	
string@@
 
moreLink@@ 
=@@ 
string@@ "
.@@" #
Empty@@# (
;@@( )
privateAA 	
intAA
 
	sortOrderAA 
=AA 
$numAA 
;AA 
privateBB 	
DateTimeBB
 
	beginDateBB 
=BB 
DateTimeBB '
.BB' (
UtcNowBB( .
;BB. /
privateCC 
DateTimeCC 
endDateCC  
=CC! "
DateTimeCC# +
.CC+ ,
UtcNowCC, 2
.CC2 3
AddYearsCC3 ;
(CC; <
$numCC< >
)CC> ?
;CC? @
privateDD 
DateTimeDD 
createdDateDD $
=DD% &
DateTimeDD' /
.DD/ 0
UtcNowDD0 6
;DD6 7
privateEE 	
intEE
 
	createdByEE 
=EE 
-EE 
$numEE 
;EE 
privateFF 
GuidFF 
userGuidFF 
=FF 
GuidFF  $
.FF$ %
EmptyFF% *
;FF* +
privateGG 
GuidGG 
lastModUserGuidGG $
=GG% &
GuidGG' +
.GG+ ,
EmptyGG, 1
;GG1 2
privateHH 
DateTimeHH 

lastModUtcHH #
=HH$ %
DateTimeHH& .
.HH. /
UtcNowHH/ 5
;HH5 6
privateII 
intII 
siteIdII 
=II 
-II 
$numII 
;II  
privateJJ 
stringJJ 
searchIndexPathJJ &
=JJ' (
stringJJ) /
.JJ/ 0
EmptyJJ0 5
;JJ5 6
privateKK 
boolKK $
excludeFromRecentContentKK -
=KK. /
falseKK0 5
;KK5 6
publicTT 
GuidTT 
ItemGuidTT 
{UU 	
getVV 
{VV 
returnVV 
itemGuidVV !
;VV! "
}VV# $
setWW 
{WW 
itemGuidWW 
=WW 
valueWW "
;WW" #
}WW$ %
}XX 	
publicZZ 
GuidZZ 

ModuleGuidZZ 
{[[ 	
get\\ 
{\\ 
return\\ 

moduleGuid\\ #
;\\# $
}\\% &
set]] 
{]] 

moduleGuid]] 
=]] 
value]] $
;]]$ %
}]]& '
}^^ 	
public`` 
int``	 
ModuleId`` 
{aa 
getbb 
{bb 
returnbb 
moduleIDbb 
;bb 
}bb 
setcc 
{cc 
moduleIDcc 
=cc 
valuecc 
;cc 
}cc 
}dd 
publicff 
intff	 
ItemIdff 
{gg 
gethh 
{hh 
returnhh 
itemIDhh 
;hh 
}hh 
setii 
{ii 
itemIDii 
=ii 
valueii 
;ii 
}ii 
}jj 
publicll 
stringll	 
Titlell 
{mm 
getnn 
{nn 
returnnn 
titlenn 
;nn 
}nn 
setoo 
{oo 
titleoo 
=oo 
valueoo 
;oo 
}oo 
}pp 
publicrr 
stringrr	 
Excerptrr 
{ss 
gettt 
{tt 
returntt 
excerpttt 
;tt 
}tt 
setuu 
{uu 
excerptuu 
=uu 
valueuu 
;uu 
}uu 
}vv 
publicxx 
stringxx	 
Bodyxx 
{yy 
getzz 
{zz 
returnzz 
bodyzz 
;zz 
}zz 
set{{ 
{{{ 
body{{ 
={{ 
value{{ 
;{{ 
}{{ 
}|| 
public~~ 
string~~	 
MoreLink~~ 
{ 
get
ÄÄ 
{
ÄÄ 
return
ÄÄ 
moreLink
ÄÄ 
;
ÄÄ 
}
ÄÄ 
set
ÅÅ 
{
ÅÅ 
moreLink
ÅÅ 
=
ÅÅ 
value
ÅÅ 
;
ÅÅ 
}
ÅÅ 
}
ÇÇ 
public
ÑÑ 
int
ÑÑ	 
	SortOrder
ÑÑ 
{
ÖÖ 
get
ÜÜ 
{
ÜÜ 
return
ÜÜ 
	sortOrder
ÜÜ 
;
ÜÜ 
}
ÜÜ 
set
áá 
{
áá 
	sortOrder
áá 
=
áá 
value
áá 
;
áá 
}
áá 
}
àà 
public
ää 
DateTime
ää	 
	BeginDate
ää 
{
ãã 
get
åå 
{
åå 
return
åå 
	beginDate
åå 
;
åå 
}
åå 
set
çç 
{
çç 
	beginDate
çç 
=
çç 
value
çç 
;
çç 
}
çç 
}
éé 
public
êê 
DateTime
êê	 
EndDate
êê 
{
ëë 
get
íí 
{
íí 
return
íí 
endDate
íí 
;
íí 
}
íí 
set
ìì 
{
ìì 
endDate
ìì 
=
ìì 
value
ìì 
;
ìì 
}
ìì 
}
îî 
public
ññ 
DateTime
ññ	 
CreatedDate
ññ 
{
óó 
get
òò 
{
òò 
return
òò 
createdDate
òò 
;
òò 
}
òò 
set
ôô 
{
ôô 
createdDate
ôô 
=
ôô 
value
ôô  %
;
ôô% &
}
ôô' (
}
õõ 
[
úú 	
Obsolete
úú	 
(
úú 
$str
úú C
)
úúC D
]
úúD E
public
ùù 
int
ùù 
	CreatedBy
ùù 
{
ûû 	
get
üü 
{
üü 
return
üü 
	createdBy
üü "
;
üü" #
}
üü$ %
set
†† 
{
†† 
	createdBy
†† 
=
†† 
value
†† #
;
††# $
}
††% &
}
°° 	
public
££ 
Guid
££ 
UserGuid
££ 
{
§§ 	
get
•• 
{
•• 
return
•• 
userGuid
•• !
;
••! "
}
••# $
set
¶¶ 
{
¶¶ 
userGuid
¶¶ 
=
¶¶ 
value
¶¶ "
;
¶¶" #
}
¶¶$ %
}
ßß 	
public
©© 
Guid
©© 
LastModUserGuid
©© #
{
™™ 	
get
´´ 
{
´´ 
return
´´ 
lastModUserGuid
´´ (
;
´´( )
}
´´* +
set
¨¨ 
{
¨¨ 
lastModUserGuid
¨¨ !
=
¨¨" #
value
¨¨$ )
;
¨¨) *
}
¨¨+ ,
}
≠≠ 	
public
ØØ 
DateTime
ØØ 

LastModUtc
ØØ "
{
∞∞ 	
get
±± 
{
±± 
return
±± 

lastModUtc
±± #
;
±±# $
}
±±% &
set
≤≤ 
{
≤≤ 

lastModUtc
≤≤ 
=
≤≤ 
value
≤≤ $
;
≤≤$ %
}
≤≤& '
}
≥≥ 	
public
µµ 
bool
µµ &
ExcludeFromRecentContent
µµ ,
{
∂∂ 	
get
∑∑ 
{
∑∑ 
return
∑∑ &
excludeFromRecentContent
∑∑ 1
;
∑∑1 2
}
∑∑3 4
set
∏∏ 
{
∏∏ &
excludeFromRecentContent
∏∏ *
=
∏∏+ ,
value
∏∏- 2
;
∏∏2 3
}
∏∏4 5
}
ππ 	
private
ªª 
string
ªª 
createdByName
ªª $
=
ªª% &
string
ªª' -
.
ªª- .
Empty
ªª. 3
;
ªª3 4
public
ΩΩ 
string
ΩΩ 
CreatedByName
ΩΩ #
{
ææ 	
get
øø 
{
øø 
return
øø 
createdByName
øø &
;
øø& '
}
øø( )
set
¿¿ 
{
¿¿ 
createdByName
¿¿ 
=
¿¿  !
value
¿¿" '
;
¿¿' (
}
¿¿) *
}
¡¡ 	
private
√√ 
string
√√  
createdByFirstName
√√ )
=
√√* +
string
√√, 2
.
√√2 3
Empty
√√3 8
;
√√8 9
public
≈≈ 
string
≈≈  
CreatedByFirstName
≈≈ (
{
∆∆ 	
get
«« 
{
«« 
return
««  
createdByFirstName
«« +
;
««+ ,
}
««- .
set
»» 
{
»»  
createdByFirstName
»» $
=
»»% &
value
»»' ,
;
»», -
}
»». /
}
…… 	
private
ÀÀ 
string
ÀÀ 
createdByLastName
ÀÀ (
=
ÀÀ) *
string
ÀÀ+ 1
.
ÀÀ1 2
Empty
ÀÀ2 7
;
ÀÀ7 8
public
ÕÕ 
string
ÕÕ 
CreatedByLastName
ÕÕ '
{
ŒŒ 	
get
œœ 
{
œœ 
return
œœ 
createdByLastName
œœ *
;
œœ* +
}
œœ, -
set
–– 
{
–– 
createdByLastName
–– #
=
––$ %
value
––& +
;
––+ ,
}
––- .
}
—— 	
private
”” 
string
”” 
createdByEmail
”” %
=
””& '
string
””( .
.
””. /
Empty
””/ 4
;
””4 5
public
’’ 
string
’’ 
CreatedByEmail
’’ $
{
÷÷ 	
get
◊◊ 
{
◊◊ 
return
◊◊ 
createdByEmail
◊◊ '
;
◊◊' (
}
◊◊) *
set
ÿÿ 
{
ÿÿ 
createdByEmail
ÿÿ  
=
ÿÿ! "
value
ÿÿ# (
;
ÿÿ( )
}
ÿÿ* +
}
ŸŸ 	
private
‹‹ 
string
‹‹ 
	authorBio
‹‹  
=
‹‹! "
string
‹‹# )
.
‹‹) *
Empty
‹‹* /
;
‹‹/ 0
public
ﬁﬁ 
string
ﬁﬁ 
	AuthorBio
ﬁﬁ 
{
ﬂﬂ 	
get
‡‡ 
{
‡‡ 
return
‡‡ 
	authorBio
‡‡ "
;
‡‡" #
}
‡‡$ %
set
·· 
{
·· 
	authorBio
·· 
=
·· 
value
·· #
;
··# $
}
··% &
}
„„ 	
private
ÂÂ 
string
ÂÂ 
authorAvatar
ÂÂ #
=
ÂÂ$ %
string
ÂÂ& ,
.
ÂÂ, -
Empty
ÂÂ- 2
;
ÂÂ2 3
public
ÁÁ 
string
ÁÁ 
AuthorAvatar
ÁÁ "
{
ËË 	
get
ÈÈ 
{
ÈÈ 
return
ÈÈ 
authorAvatar
ÈÈ %
;
ÈÈ% &
}
ÈÈ' (
set
ÍÍ 
{
ÍÍ 
authorAvatar
ÍÍ 
=
ÍÍ  
value
ÍÍ! &
;
ÍÍ& '
}
ÍÍ( )
}
ÏÏ 	
private
ÓÓ 
int
ÓÓ 
authorUserId
ÓÓ  
=
ÓÓ! "
-
ÓÓ# $
$num
ÓÓ$ %
;
ÓÓ% &
public
 
int
 
AuthorUserId
 
{
ÒÒ 	
get
ÚÚ 
{
ÚÚ 
return
ÚÚ 
authorUserId
ÚÚ %
;
ÚÚ% &
}
ÚÚ' (
set
ÛÛ 
{
ÛÛ 
authorUserId
ÛÛ 
=
ÛÛ  
value
ÛÛ! &
;
ÛÛ& '
}
ÛÛ( )
}
ÙÙ 	
private
ˆˆ 
string
ˆˆ 
lastModByName
ˆˆ $
=
ˆˆ% &
string
ˆˆ' -
.
ˆˆ- .
Empty
ˆˆ. 3
;
ˆˆ3 4
public
¯¯ 
string
¯¯ 
LastModByName
¯¯ #
{
˘˘ 	
get
˙˙ 
{
˙˙ 
return
˙˙ 
lastModByName
˙˙ &
;
˙˙& '
}
˙˙( )
set
˚˚ 
{
˚˚ 
lastModByName
˚˚ 
=
˚˚  !
value
˚˚" '
;
˚˚' (
}
˚˚) *
}
¸¸ 	
private
˛˛ 
string
˛˛  
lastModByFirstName
˛˛ )
=
˛˛* +
string
˛˛, 2
.
˛˛2 3
Empty
˛˛3 8
;
˛˛8 9
public
ÄÄ 
string
ÄÄ  
LastModByFirstName
ÄÄ (
{
ÅÅ 	
get
ÇÇ 
{
ÇÇ 
return
ÇÇ  
lastModByFirstName
ÇÇ +
;
ÇÇ+ ,
}
ÇÇ- .
set
ÉÉ 
{
ÉÉ  
lastModByFirstName
ÉÉ $
=
ÉÉ% &
value
ÉÉ' ,
;
ÉÉ, -
}
ÉÉ. /
}
ÑÑ 	
private
ÜÜ 
string
ÜÜ 
lastModByLastName
ÜÜ (
=
ÜÜ) *
string
ÜÜ+ 1
.
ÜÜ1 2
Empty
ÜÜ2 7
;
ÜÜ7 8
public
àà 
string
àà 
LastModByLastName
àà '
{
ââ 	
get
ää 
{
ää 
return
ää 
lastModByLastName
ää *
;
ää* +
}
ää, -
set
ãã 
{
ãã 
lastModByLastName
ãã #
=
ãã$ %
value
ãã& +
;
ãã+ ,
}
ãã- .
}
åå 	
private
éé 
string
éé 
lastModByEmail
éé %
=
éé& '
string
éé( .
.
éé. /
Empty
éé/ 4
;
éé4 5
public
êê 
string
êê 
LastModByEmail
êê $
{
ëë 	
get
íí 
{
íí 
return
íí 
lastModByEmail
íí '
;
íí' (
}
íí) *
set
ìì 
{
ìì 
lastModByEmail
ìì  
=
ìì! "
value
ìì# (
;
ìì( )
}
ìì* +
}
îî 	
public
õõ 
int
õõ 
SiteId
õõ 
{
úú 	
get
ùù 
{
ùù 
return
ùù 
siteId
ùù 
;
ùù  
}
ùù! "
set
ûû 
{
ûû 
siteId
ûû 
=
ûû 
value
ûû  
;
ûû  !
}
ûû" #
}
üü 	
public
¶¶ 
string
¶¶ 
SearchIndexPath
¶¶ %
{
ßß 	
get
®® 
{
®® 
return
®® 
searchIndexPath
®® (
;
®®( )
}
®®* +
set
©© 
{
©© 
searchIndexPath
©© !
=
©©" #
value
©©$ )
;
©©) *
}
©©+ ,
}
™™ 	
private
∞∞ 
void
∞∞ 
LoadFromReader
∞∞ #
(
∞∞# $
IDataReader
∞∞$ /
reader
∞∞0 6
)
∞∞6 7
{
±± 	
if
≤≤ 
(
≤≤ 
reader
≤≤ 
.
≤≤ 
Read
≤≤ 
(
≤≤ 
)
≤≤ 
)
≤≤ 
{
≥≥ 
this
¥¥ 
.
¥¥ 
itemID
¥¥ 
=
¥¥ 
Convert
¥¥ %
.
¥¥% &
ToInt32
¥¥& -
(
¥¥- .
reader
¥¥. 4
[
¥¥4 5
$str
¥¥5 =
]
¥¥= >
)
¥¥> ?
;
¥¥? @
this
µµ 
.
µµ 
moduleID
µµ 
=
µµ 
Convert
µµ  '
.
µµ' (
ToInt32
µµ( /
(
µµ/ 0
reader
µµ0 6
[
µµ6 7
$str
µµ7 A
]
µµA B
)
µµB C
;
µµC D
this
∂∂ 
.
∂∂ 
title
∂∂ 
=
∂∂ 
reader
∂∂ #
[
∂∂# $
$str
∂∂$ +
]
∂∂+ ,
.
∂∂, -
ToString
∂∂- 5
(
∂∂5 6
)
∂∂6 7
;
∂∂7 8
this
∏∏ 
.
∏∏ 
body
∏∏ 
=
∏∏ 
reader
∏∏ "
[
∏∏" #
$str
∏∏# )
]
∏∏) *
.
∏∏* +
ToString
∏∏+ 3
(
∏∏3 4
)
∏∏4 5
;
∏∏5 6
this
ΩΩ 
.
ΩΩ 
createdDate
ΩΩ  
=
ΩΩ! "
Convert
ΩΩ# *
.
ΩΩ* +

ToDateTime
ΩΩ+ 5
(
ΩΩ5 6
reader
ΩΩ6 <
[
ΩΩ< =
$str
ΩΩ= J
]
ΩΩJ K
)
ΩΩK L
;
ΩΩL M
this
¿¿ 
.
¿¿ 
itemGuid
¿¿ 
=
¿¿ 
new
¿¿  #
Guid
¿¿$ (
(
¿¿( )
reader
¿¿) /
[
¿¿/ 0
$str
¿¿0 :
]
¿¿: ;
.
¿¿; <
ToString
¿¿< D
(
¿¿D E
)
¿¿E F
)
¿¿F G
;
¿¿G H
this
¡¡ 
.
¡¡ 

moduleGuid
¡¡ 
=
¡¡  !
new
¡¡" %
Guid
¡¡& *
(
¡¡* +
reader
¡¡+ 1
[
¡¡1 2
$str
¡¡2 >
]
¡¡> ?
.
¡¡? @
ToString
¡¡@ H
(
¡¡H I
)
¡¡I J
)
¡¡J K
;
¡¡K L
string
¬¬ 
user
¬¬ 
=
¬¬ 
reader
¬¬ $
[
¬¬$ %
$str
¬¬% /
]
¬¬/ 0
.
¬¬0 1
ToString
¬¬1 9
(
¬¬9 :
)
¬¬: ;
;
¬¬; <
if
√√ 
(
√√ 
user
√√ 
.
√√ 
Length
√√ 
==
√√  "
$num
√√# %
)
√√% &
this
√√' +
.
√√+ ,
userGuid
√√, 4
=
√√5 6
new
√√7 :
Guid
√√; ?
(
√√? @
user
√√@ D
)
√√D E
;
√√E F
user
≈≈ 
=
≈≈ 
reader
≈≈ 
[
≈≈ 
$str
≈≈ /
]
≈≈/ 0
.
≈≈0 1
ToString
≈≈1 9
(
≈≈9 :
)
≈≈: ;
;
≈≈; <
if
∆∆ 
(
∆∆ 
user
∆∆ 
.
∆∆ 
Length
∆∆ 
==
∆∆  "
$num
∆∆# %
)
∆∆% &
this
∆∆' +
.
∆∆+ ,
lastModUserGuid
∆∆, ;
=
∆∆< =
new
∆∆> A
Guid
∆∆B F
(
∆∆F G
user
∆∆G K
)
∆∆K L
;
∆∆L M
if
»» 
(
»» 
reader
»» 
[
»» 
$str
»» &
]
»»& '
!=
»»( *
DBNull
»»+ 1
.
»»1 2
Value
»»2 7
)
»»7 8
this
…… 
.
…… 

lastModUtc
…… 
=
……  !
Convert
……" )
.
……) *

ToDateTime
……* 4
(
……4 5
reader
……5 ;
[
……; <
$str
……< H
]
……H I
)
……I J
;
……J K
this
ÀÀ 
.
ÀÀ 
createdByName
ÀÀ "
=
ÀÀ# $
reader
ÀÀ% +
[
ÀÀ+ ,
$str
ÀÀ, ;
]
ÀÀ; <
.
ÀÀ< =
ToString
ÀÀ= E
(
ÀÀE F
)
ÀÀF G
;
ÀÀG H
this
ÃÃ 
.
ÃÃ  
createdByFirstName
ÃÃ '
=
ÃÃ( )
reader
ÃÃ* 0
[
ÃÃ0 1
$str
ÃÃ1 E
]
ÃÃE F
.
ÃÃF G
ToString
ÃÃG O
(
ÃÃO P
)
ÃÃP Q
;
ÃÃQ R
this
ÕÕ 
.
ÕÕ 
createdByLastName
ÕÕ &
=
ÕÕ' (
reader
ÕÕ) /
[
ÕÕ/ 0
$str
ÕÕ0 C
]
ÕÕC D
.
ÕÕD E
ToString
ÕÕE M
(
ÕÕM N
)
ÕÕN O
;
ÕÕO P
this
ŒŒ 
.
ŒŒ 
createdByEmail
ŒŒ #
=
ŒŒ$ %
reader
ŒŒ& ,
[
ŒŒ, -
$str
ŒŒ- =
]
ŒŒ= >
.
ŒŒ> ?
ToString
ŒŒ? G
(
ŒŒG H
)
ŒŒH I
;
ŒŒI J
this
œœ 
.
œœ &
excludeFromRecentContent
œœ -
=
œœ. /
Convert
œœ0 7
.
œœ7 8
	ToBoolean
œœ8 A
(
œœA B
reader
œœB H
[
œœH I
$str
œœI c
]
œœc d
)
œœd e
;
œœe f
this
—— 
.
—— 
lastModByName
—— "
=
——# $
reader
——% +
[
——+ ,
$str
——, ;
]
——; <
.
——< =
ToString
——= E
(
——E F
)
——F G
;
——G H
this
““ 
.
““  
lastModByFirstName
““ '
=
““( )
reader
““* 0
[
““0 1
$str
““1 E
]
““E F
.
““F G
ToString
““G O
(
““O P
)
““P Q
;
““Q R
this
”” 
.
”” 
lastModByLastName
”” &
=
””' (
reader
””) /
[
””/ 0
$str
””0 C
]
””C D
.
””D E
ToString
””E M
(
””M N
)
””N O
;
””O P
this
‘‘ 
.
‘‘ 
LastModByEmail
‘‘ #
=
‘‘$ %
reader
‘‘& ,
[
‘‘, -
$str
‘‘- =
]
‘‘= >
.
‘‘> ?
ToString
‘‘? G
(
‘‘G H
)
‘‘H I
;
‘‘I J
}
÷÷ 
}
⁄⁄ 	
private
ÓÓ 
void
ÓÓ 
GetHtmlContent
ÓÓ #
(
ÓÓ# $
int
ÓÓ$ '
moduleId
ÓÓ( 0
)
ÓÓ0 1
{
ÔÔ 	
using
 
(
 
IDataReader
 
reader
 %
=
& '
DBHtmlContent
( 5
.
5 6
GetHtmlContent
6 D
(
D E
moduleId
E M
,
M N
DateTime
O W
.
W X
UtcNow
X ^
)
^ _
)
_ `
{
ÒÒ 
LoadFromReader
ÚÚ 
(
ÚÚ 
reader
ÚÚ %
)
ÚÚ% &
;
ÚÚ& '
}
ÛÛ 
}
ıı 	
private
˚˚ 	
bool
˚˚
 
Create
˚˚ 
(
˚˚ 
)
˚˚ 
{
¸¸ 
int
˝˝ 
newID
˝˝ 
=
˝˝ 
-
˝˝ 
$num
˝˝ 
;
˝˝ 
this
˛˛ 
.
˛˛ 
itemGuid
˛˛ 
=
˛˛ 
Guid
˛˛  
.
˛˛  !
NewGuid
˛˛! (
(
˛˛( )
)
˛˛) *
;
˛˛* +
newID
ÄÄ 
=
ÄÄ	 

DBHtmlContent
ÄÄ 
.
ÄÄ 
AddHtmlContent
ÄÄ '
(
ÄÄ' (
this
ÅÅ 
.
ÅÅ 
itemGuid
ÅÅ 
,
ÅÅ 
this
ÇÇ 
.
ÇÇ 

moduleGuid
ÇÇ 
,
ÇÇ  
this
ÉÉ 
.
ÉÉ 	
moduleID
ÉÉ	 
,
ÉÉ 
this
ÑÑ 
.
ÑÑ 	
title
ÑÑ	 
,
ÑÑ 
this
ÖÖ 
.
ÖÖ 	
excerpt
ÖÖ	 
,
ÖÖ 
this
ÜÜ 
.
ÜÜ 	
body
ÜÜ	 
,
ÜÜ 
this
áá 
.
áá 	
moreLink
áá	 
,
áá 
this
àà 
.
àà 	
	sortOrder
àà	 
,
àà 
this
ââ 
.
ââ 	
	beginDate
ââ	 
,
ââ 
this
ää 
.
ää 	
endDate
ää	 
,
ää 
this
ãã 
.
ãã 	
createdDate
ãã	 
,
ãã 
this
åå 
.
åå 	
	createdBy
åå	 
,
åå 
this
çç 
.
çç 
userGuid
çç 
,
çç 
this
éé 
.
éé &
excludeFromRecentContent
éé -
)
éé- .
;
éé. /
this
êê 
.
êê 
itemID
êê 
=
êê 
newID
êê 
;
êê 
bool
íí 
result
íí 
=
íí 
(
íí 
newID
íí  
>
íí! "
-
íí# $
$num
íí$ %
)
íí% &
;
íí& '
if
ïï 
(
ïï 
result
ïï 
)
ïï 
{
ññ %
ContentChangedEventArgs
óó '
e
óó( )
=
óó* +
new
óó, /%
ContentChangedEventArgs
óó0 G
(
óóG H
)
óóH I
;
óóI J
OnContentChanged
òò  
(
òò  !
e
òò! "
)
òò" #
;
òò# $
}
ôô 
return
õõ 	
result
õõ
 
;
õõ 
}
ùù 
[
££ 	
Obsolete
££	 
(
££ 
$str££ ó
)££ó ò
]££ò ô
private
§§ 	
bool
§§
 
Update
§§ 
(
§§ 
)
§§ 
{
•• 
this
¶¶ 
.
¶¶ 

lastModUtc
¶¶ 
=
¶¶ 
DateTime
¶¶ &
.
¶¶& '
UtcNow
¶¶' -
;
¶¶- .
bool
®® 
result
®® 
=
®® 
DBHtmlContent
®® 
.
®® 
UpdateHtmlContent
®® 0
(
®®0 1
this
©© 
.
©© 	
itemID
©©	 
,
©© 
this
™™ 
.
™™ 	
moduleID
™™	 
,
™™ 
this
´´ 
.
´´ 	
title
´´	 
,
´´ 
this
¨¨ 
.
¨¨ 	
excerpt
¨¨	 
,
¨¨ 
this
≠≠ 
.
≠≠ 	
body
≠≠	 
,
≠≠ 
this
ÆÆ 
.
ÆÆ 	
moreLink
ÆÆ	 
,
ÆÆ 
this
ØØ 
.
ØØ 	
	sortOrder
ØØ	 
,
ØØ 
this
∞∞ 
.
∞∞ 	
	beginDate
∞∞	 
,
∞∞ 
this
±± 
.
±± 	
endDate
±±	 
,
±± 
this
≤≤ 
.
≤≤ 	

lastModUtc
≤≤	 
,
≤≤ 
this
≥≥ 
.
≥≥ 	
lastModUserGuid
≥≥	 
,
≥≥ 
this
¥¥ 
.
¥¥ &
excludeFromRecentContent
¥¥ -
)
¥¥- .
;
¥¥. /
if
∑∑ 
(
∑∑ 
result
∑∑ 
)
∑∑ 
{
∏∏ %
ContentChangedEventArgs
ππ '
e
ππ( )
=
ππ* +
new
ππ, /%
ContentChangedEventArgs
ππ0 G
(
ππG H
)
ππH I
;
ππI J
OnContentChanged
∫∫  
(
∫∫  !
e
∫∫! "
)
∫∫" #
;
∫∫# $
}
ªª 
return
ΩΩ 	
result
ΩΩ
 
;
ΩΩ 
}
øø 
[
ÕÕ 	
Obsolete
ÕÕ	 
(
ÕÕ 
$strÕÕ ó
)ÕÕó ò
]ÕÕò ô
public
ŒŒ 
bool
ŒŒ	 
Save
ŒŒ 
(
ŒŒ 
)
ŒŒ 
{
œœ 
if
–– 
(
–– 
this
–– 

.
––
 
itemID
–– 
>
–– 
-
–– 
$num
–– 
)
–– 
{
—— 
return
““ 

Update
““ 
(
““ 
)
““ 
;
““ 
}
”” 
else
‘‘ 
{
’’ 
return
÷÷ 

Create
÷÷ 
(
÷÷ 
)
÷÷ 
;
÷÷ 
}
◊◊ 
}
ŸŸ 
public
€€ 
void
€€ 
CreateHistory
€€ !
(
€€! "
Guid
€€" &
siteGuid
€€' /
)
€€/ 0
{
‹‹ 	
if
›› 
(
›› 
this
›› 
.
›› 
itemGuid
›› 
==
››  
Guid
››! %
.
››% &
Empty
››& +
)
››+ ,
{
››- .
return
››/ 5
;
››5 6
}
››7 8
HtmlContent
ﬂﬂ 
currentVersion
ﬂﬂ &
=
ﬂﬂ' (
new
ﬂﬂ) ,
HtmlContent
ﬂﬂ- 8
(
ﬂﬂ8 9
moduleID
ﬂﬂ9 A
)
ﬂﬂA B
;
ﬂﬂB C
if
‡‡ 
(
‡‡ 
currentVersion
‡‡ 
.
‡‡ 
Body
‡‡ #
==
‡‡$ &
this
‡‡' +
.
‡‡+ ,
Body
‡‡, 0
)
‡‡0 1
{
‡‡2 3
return
‡‡4 :
;
‡‡: ;
}
‡‡< =
ContentHistory
‚‚ 
history
‚‚ "
=
‚‚# $
new
‚‚% (
ContentHistory
‚‚) 7
(
‚‚7 8
)
‚‚8 9
;
‚‚9 :
history
„„ 
.
„„ 
ContentGuid
„„ 
=
„„  !
currentVersion
„„" 0
.
„„0 1

ModuleGuid
„„1 ;
;
„„; <
history
‰‰ 
.
‰‰ 
ContentText
‰‰ 
=
‰‰  !
currentVersion
‰‰" 0
.
‰‰0 1
Body
‰‰1 5
;
‰‰5 6
history
ÂÂ 
.
ÂÂ 
SiteGuid
ÂÂ 
=
ÂÂ 
siteGuid
ÂÂ '
;
ÂÂ' (
history
ÊÊ 
.
ÊÊ 
UserGuid
ÊÊ 
=
ÊÊ 
currentVersion
ÊÊ -
.
ÊÊ- .
LastModUserGuid
ÊÊ. =
;
ÊÊ= >
history
ÁÁ 
.
ÁÁ 

CreatedUtc
ÁÁ 
=
ÁÁ  
currentVersion
ÁÁ! /
.
ÁÁ/ 0

LastModUtc
ÁÁ0 :
;
ÁÁ: ;
history
ËË 
.
ËË 
Save
ËË 
(
ËË 
)
ËË 
;
ËË 
}
ÍÍ 	
[
 	
Obsolete
	 
(
 
$str ó
)ó ò
]ò ô
public
ÒÒ 
bool
ÒÒ 
Delete
ÒÒ 
(
ÒÒ 
)
ÒÒ 
{
ÚÚ 	
bool
ÛÛ 
result
ÛÛ 
=
ÛÛ 
DBHtmlContent
ÛÛ '
.
ÛÛ' (
DeleteHtmlContent
ÛÛ( 9
(
ÛÛ9 :
this
ÛÛ: >
.
ÛÛ> ?
itemID
ÛÛ? E
)
ÛÛE F
;
ÛÛF G
if
ıı 
(
ıı 
result
ıı 
)
ıı 
{
ˆˆ %
ContentChangedEventArgs
˜˜ '
e
˜˜( )
=
˜˜* +
new
˜˜, /%
ContentChangedEventArgs
˜˜0 G
(
˜˜G H
)
˜˜H I
;
˜˜I J
e
¯¯ 
.
¯¯ 
	IsDeleted
¯¯ 
=
¯¯ 
true
¯¯ "
;
¯¯" #
OnContentChanged
˘˘  
(
˘˘  !
e
˘˘! "
)
˘˘" #
;
˘˘# $
}
˙˙ 
return
¸¸ 
result
¸¸ 
;
¸¸ 
}
˛˛ 	
public
ÄÄ 
void
ÄÄ 
ApproveContent
ÄÄ "
(
ÄÄ" #
Guid
ÄÄ# '
siteGuid
ÄÄ( 0
,
ÄÄ0 1
Guid
ÄÄ2 6
approvalUserGuid
ÄÄ7 G
,
ÄÄG H
bool
ÄÄI M
allowUnsubmitted
ÄÄN ^
)
ÄÄ^ _
{
ÅÅ 	
ContentWorkflow
ÉÉ 
submittedContent
ÉÉ ,
=
ÉÉ- .
ContentWorkflow
ÉÉ/ >
.
ÉÉ> ?
GetWorkInProgress
ÉÉ? P
(
ÉÉP Q
this
ÉÉQ U
.
ÉÉU V

moduleGuid
ÉÉV `
,
ÉÉ` a#
ContentWorkflowStatus
ÉÉb w
.
ÉÉw x
AwaitingApprovalÉÉx à
.ÉÉà â
ToStringÉÉâ ë
(ÉÉë í
)ÉÉí ì
)ÉÉì î
;ÉÉî ï
if
ÖÖ 
(
ÖÖ 
(
ÖÖ 
submittedContent
ÖÖ !
==
ÖÖ" $
null
ÖÖ% )
)
ÖÖ) *
&&
ÖÖ+ -
(
ÖÖ. /
allowUnsubmitted
ÖÖ/ ?
)
ÖÖ? @
)
ÖÖ@ A
{
ÜÜ 
submittedContent
áá  
=
áá! "
ContentWorkflow
áá# 2
.
áá2 3
GetWorkInProgress
áá3 D
(
ááD E
this
ááE I
.
ááI J

moduleGuid
ááJ T
,
ááT U#
ContentWorkflowStatus
ááV k
.
áák l
Draft
áál q
.
ááq r
ToString
áár z
(
ááz {
)
áá{ |
)
áá| }
;
áá} ~
}
àà 
if
ää 
(
ää 
submittedContent
ää  
==
ää! #
null
ää$ (
)
ää( )
{
ää* +
return
ää, 2
;
ää2 3
}
ää4 5
ContentHistory
çç 
history
çç "
=
çç# $
new
çç% (
ContentHistory
çç) 7
(
çç7 8
)
çç8 9
;
çç9 :
history
éé 
.
éé 
ContentGuid
éé 
=
éé  !

ModuleGuid
éé" ,
;
éé, -
history
èè 
.
èè 
ContentText
èè 
=
èè  !
Body
èè" &
;
èè& '
history
êê 
.
êê 
SiteGuid
êê 
=
êê 
siteGuid
êê '
;
êê' (
history
ëë 
.
ëë 
UserGuid
ëë 
=
ëë 
LastModUserGuid
ëë .
;
ëë. /
history
íí 
.
íí 

CreatedUtc
íí 
=
íí  

LastModUtc
íí! +
;
íí+ ,
history
ìì 
.
ìì 
Save
ìì 
(
ìì 
)
ìì 
;
ìì 
this
ññ 
.
ññ 
body
ññ 
=
ññ 
submittedContent
ññ (
.
ññ( )
ContentText
ññ) 4
;
ññ4 5
this
óó 
.
óó 
lastModUserGuid
óó  
=
óó! "
submittedContent
óó# 3
.
óó3 4
LastModUserGuid
óó4 C
;
óóC D
this
òò 
.
òò 

lastModUtc
òò 
=
òò 
DateTime
òò &
.
òò& '
UtcNow
òò' -
;
òò- .
this
ôô 
.
ôô 
Save
ôô 
(
ôô 
)
ôô 
;
ôô 
submittedContent
úú 
.
úú 
Status
úú #
=
úú$ %#
ContentWorkflowStatus
úú& ;
.
úú; <
Approved
úú< D
;
úúD E
submittedContent
ùù 
.
ùù 
LastModUserGuid
ùù ,
=
ùù- .
approvalUserGuid
ùù/ ?
;
ùù? @
submittedContent
ûû 
.
ûû 

LastModUtc
ûû '
=
ûû( )
DateTime
ûû* 2
.
ûû2 3
UtcNow
ûû3 9
;
ûû9 :
submittedContent
üü 
.
üü 
Save
üü !
(
üü! "
)
üü" #
;
üü# $
}
¢¢ 	
public
´´ 
void
´´ )
ApproveContentForPublishing
´´ /
(
´´/ 0
Guid
´´0 4
siteGuid
´´5 =
,
´´= >
Guid
´´? C
approvalUserGuid
´´D T
)
´´T U
{
¨¨ 	
ContentWorkflow
ÆÆ 
submittedContent
ÆÆ ,
=
ÆÆ- .
ContentWorkflow
ÆÆ/ >
.
ÆÆ> ?
GetWorkInProgress
ÆÆ? P
(
ÆÆP Q
this
ÆÆQ U
.
ÆÆU V

moduleGuid
ÆÆV `
,
ÆÆ` a#
ContentWorkflowStatus
ÆÆb w
.
ÆÆw x
AwaitingApprovalÆÆx à
.ÆÆà â
ToStringÆÆâ ë
(ÆÆë í
)ÆÆí ì
)ÆÆì î
;ÆÆî ï
if
∞∞ 
(
∞∞ 
submittedContent
∞∞  
==
∞∞! #
null
∞∞$ (
)
∞∞( )
{
∞∞* +
return
∞∞, 2
;
∞∞2 3
}
∞∞4 5
submittedContent
≥≥ 
.
≥≥ 
Status
≥≥ #
=
≥≥$ %#
ContentWorkflowStatus
≥≥& ;
.
≥≥; < 
AwaitingPublishing
≥≥< N
;
≥≥N O
submittedContent
¥¥ 
.
¥¥ 
LastModUserGuid
¥¥ ,
=
¥¥- .
approvalUserGuid
¥¥/ ?
;
¥¥? @
submittedContent
µµ 
.
µµ 

LastModUtc
µµ '
=
µµ( )
DateTime
µµ* 2
.
µµ2 3
UtcNow
µµ3 9
;
µµ9 :
submittedContent
∂∂ 
.
∂∂ 
Save
∂∂ !
(
∂∂! "
)
∂∂" #
;
∂∂# $
}
∑∑ 	
public
ææ 
void
ææ $
PublishApprovedContent
ææ *
(
ææ* +
Guid
ææ+ /
siteGuid
ææ0 8
,
ææ8 9
Guid
ææ: > 
publishingUserGuid
ææ? Q
)
ææQ R
{
øø 	
ContentWorkflow
¿¿ 
approvedContent
¿¿ +
=
¿¿, -
ContentWorkflow
¿¿. =
.
¿¿= >
GetWorkInProgress
¿¿> O
(
¿¿O P
this
¿¿P T
.
¿¿T U

moduleGuid
¿¿U _
,
¿¿_ `#
ContentWorkflowStatus
¿¿a v
.
¿¿v w!
AwaitingPublishing¿¿w â
.¿¿â ä
ToString¿¿ä í
(¿¿í ì
)¿¿ì î
)¿¿î ï
;¿¿ï ñ
if
¬¬ 
(
¬¬ 
approvedContent
¬¬ 
==
¬¬  "
null
¬¬# '
)
¬¬' (
{
¬¬) *
return
¬¬+ 1
;
¬¬1 2
}
¬¬3 4
ContentHistory
≈≈ 
history
≈≈ "
=
≈≈# $
new
≈≈% (
ContentHistory
≈≈) 7
(
≈≈7 8
)
≈≈8 9
;
≈≈9 :
history
∆∆ 
.
∆∆ 
ContentGuid
∆∆ 
=
∆∆  !

ModuleGuid
∆∆" ,
;
∆∆, -
history
«« 
.
«« 
ContentText
«« 
=
««  !
Body
««" &
;
««& '
history
»» 
.
»» 
SiteGuid
»» 
=
»» 
siteGuid
»» '
;
»»' (
history
…… 
.
…… 
UserGuid
…… 
=
…… 
LastModUserGuid
…… .
;
……. /
history
   
.
   

CreatedUtc
   
=
    

LastModUtc
  ! +
;
  + ,
history
ÀÀ 
.
ÀÀ 
Save
ÀÀ 
(
ÀÀ 
)
ÀÀ 
;
ÀÀ 
this
ŒŒ 
.
ŒŒ 
body
ŒŒ 
=
ŒŒ 
approvedContent
ŒŒ '
.
ŒŒ' (
ContentText
ŒŒ( 3
;
ŒŒ3 4
Guid
œœ 
submitterGuid
œœ 
=
œœ  
ContentWorkflow
œœ! 0
.
œœ0 1
GetDraftSubmitter
œœ1 B
(
œœB C
approvedContent
œœC R
.
œœR S
Guid
œœS W
)
œœW X
;
œœX Y
if
–– 
(
–– 
submitterGuid
–– 
!=
––  
Guid
––! %
.
––% &
Empty
––& +
)
––+ ,
{
—— 
this
““ 
.
““ 
lastModUserGuid
““ $
=
““% &
submitterGuid
““' 4
;
““4 5
}
”” 
this
‘‘ 
.
‘‘ 

lastModUtc
‘‘ 
=
‘‘ 
DateTime
‘‘ &
.
‘‘& '
UtcNow
‘‘' -
;
‘‘- .
this
’’ 
.
’’ 
Save
’’ 
(
’’ 
)
’’ 
;
’’ 
approvedContent
ÿÿ 
.
ÿÿ 
Status
ÿÿ "
=
ÿÿ# $#
ContentWorkflowStatus
ÿÿ% :
.
ÿÿ: ;
Approved
ÿÿ; C
;
ÿÿC D
approvedContent
ŸŸ 
.
ŸŸ 
LastModUserGuid
ŸŸ +
=
ŸŸ, - 
publishingUserGuid
ŸŸ. @
;
ŸŸ@ A
approvedContent
⁄⁄ 
.
⁄⁄ 

LastModUtc
⁄⁄ &
=
⁄⁄' (
DateTime
⁄⁄) 1
.
⁄⁄1 2
UtcNow
⁄⁄2 8
;
⁄⁄8 9
approvedContent
‹‹ 
.
‹‹ 
Save
‹‹  
(
‹‹  !
)
‹‹! "
;
‹‹" #
}
›› 	
public
ﬂﬂ 
void
ﬂﬂ 
PublishDraft
ﬂﬂ  
(
ﬂﬂ  !
Guid
ﬂﬂ! %
siteGuid
ﬂﬂ& .
,
ﬂﬂ. /
Guid
ﬂﬂ0 4
approvalUserGuid
ﬂﬂ5 E
)
ﬂﬂE F
{
‡‡ 	
ContentWorkflow
‚‚ 
submittedContent
‚‚ ,
=
‚‚- .
ContentWorkflow
‚‚/ >
.
‚‚> ?
GetWorkInProgress
‚‚? P
(
‚‚P Q
this
‚‚Q U
.
‚‚U V

moduleGuid
‚‚V `
,
‚‚` a#
ContentWorkflowStatus
‚‚b w
.
‚‚w x
Draft
‚‚x }
.
‚‚} ~
ToString‚‚~ Ü
(‚‚Ü á
)‚‚á à
)‚‚à â
;‚‚â ä
if
‰‰ 
(
‰‰ 
submittedContent
‰‰  
==
‰‰! #
null
‰‰$ (
)
‰‰( )
{
‰‰* +
return
‰‰, 2
;
‰‰2 3
}
‰‰4 5
ContentHistory
ÁÁ 
history
ÁÁ "
=
ÁÁ# $
new
ÁÁ% (
ContentHistory
ÁÁ) 7
(
ÁÁ7 8
)
ÁÁ8 9
;
ÁÁ9 :
history
ËË 
.
ËË 
ContentGuid
ËË 
=
ËË  !

ModuleGuid
ËË" ,
;
ËË, -
history
ÈÈ 
.
ÈÈ 
ContentText
ÈÈ 
=
ÈÈ  !
Body
ÈÈ" &
;
ÈÈ& '
history
ÍÍ 
.
ÍÍ 
SiteGuid
ÍÍ 
=
ÍÍ 
siteGuid
ÍÍ '
;
ÍÍ' (
history
ÎÎ 
.
ÎÎ 
UserGuid
ÎÎ 
=
ÎÎ 
LastModUserGuid
ÎÎ .
;
ÎÎ. /
history
ÏÏ 
.
ÏÏ 

CreatedUtc
ÏÏ 
=
ÏÏ  

LastModUtc
ÏÏ! +
;
ÏÏ+ ,
history
ÌÌ 
.
ÌÌ 
Save
ÌÌ 
(
ÌÌ 
)
ÌÌ 
;
ÌÌ 
this
 
.
 
body
 
=
 
submittedContent
 (
.
( )
ContentText
) 4
;
4 5
this
¸¸ 
.
¸¸ 
lastModUserGuid
¸¸ #
=
¸¸$ %
submittedContent
¸¸& 6
.
¸¸6 7
LastModUserGuid
¸¸7 F
;
¸¸F G
this
˛˛ 
.
˛˛ 

lastModUtc
˛˛ 
=
˛˛ 
DateTime
˛˛ &
.
˛˛& '
UtcNow
˛˛' -
;
˛˛- .
this
ˇˇ 
.
ˇˇ 
Save
ˇˇ 
(
ˇˇ 
)
ˇˇ 
;
ˇˇ 
submittedContent
ÇÇ 
.
ÇÇ 
Status
ÇÇ #
=
ÇÇ$ %#
ContentWorkflowStatus
ÇÇ& ;
.
ÇÇ; <
Approved
ÇÇ< D
;
ÇÇD E
submittedContent
ÉÉ 
.
ÉÉ 
LastModUserGuid
ÉÉ ,
=
ÉÉ- .
approvalUserGuid
ÉÉ/ ?
;
ÉÉ? @
submittedContent
ÑÑ 
.
ÑÑ 

LastModUtc
ÑÑ '
=
ÑÑ( )
DateTime
ÑÑ* 2
.
ÑÑ2 3
UtcNow
ÑÑ3 9
;
ÑÑ9 :
submittedContent
ÖÖ 
.
ÖÖ 
Save
ÖÖ !
(
ÖÖ! "
)
ÖÖ" #
;
ÖÖ# $
}
àà 	
[
ïï 	
Obsolete
ïï	 
(
ïï 
$strïï ó
)ïïó ò
]ïïò ô
public
ññ 
static
ññ 
bool
ññ 
DeleteByModule
ññ )
(
ññ) *
int
ññ* -
moduleId
ññ. 6
)
ññ6 7
{
óó 	
return
òò 
DBHtmlContent
òò  
.
òò  !
DeleteByModule
òò! /
(
òò/ 0
moduleId
òò0 8
)
òò8 9
;
òò9 :
}
ôô 	
[
õõ 	
Obsolete
õõ	 
(
õõ 
$strõõ ó
)õõó ò
]õõò ô
public
úú 
static
úú 
bool
úú 
DeleteBySite
úú '
(
úú' (
int
úú( +
siteId
úú, 2
)
úú2 3
{
ùù 	
return
ûû 
DBHtmlContent
ûû  
.
ûû  !
DeleteBySite
ûû! -
(
ûû- .
siteId
ûû. 4
)
ûû4 5
;
ûû5 6
}
üü 	
[
™™ 	
Obsolete
™™	 
(
™™ 
$str™™ ó
)™™ó ò
]™™ò ô
public
´´ 
static
´´	 
	DataTable
´´ "
GetHtmlContentByPage
´´ .
(
´´. /
int
´´/ 2
siteId
´´3 9
,
´´9 :
int
´´; >
pageId
´´? E
)
´´E F
{
¨¨ 	
	DataTable
≠≠ 
	dataTable
≠≠ 
=
≠≠  !
new
≠≠" %
	DataTable
≠≠& /
(
≠≠/ 0
)
≠≠0 1
;
≠≠1 2
	dataTable
ØØ 
.
ØØ 
Columns
ØØ 
.
ØØ 
Add
ØØ !
(
ØØ! "
$str
ØØ" *
,
ØØ* +
typeof
ØØ, 2
(
ØØ2 3
int
ØØ3 6
)
ØØ6 7
)
ØØ7 8
;
ØØ8 9
	dataTable
∞∞ 
.
∞∞ 
Columns
∞∞ 
.
∞∞ 
Add
∞∞ !
(
∞∞! "
$str
∞∞" ,
,
∞∞, -
typeof
∞∞. 4
(
∞∞4 5
int
∞∞5 8
)
∞∞8 9
)
∞∞9 :
;
∞∞: ;
	dataTable
±± 
.
±± 
Columns
±± 
.
±± 
Add
±± !
(
±±! "
$str
±±" /
,
±±/ 0
typeof
±±1 7
(
±±7 8
string
±±8 >
)
±±> ?
)
±±? @
;
±±@ A
	dataTable
≤≤ 
.
≤≤ 
Columns
≤≤ 
.
≤≤ 
Add
≤≤ !
(
≤≤! "
$str
≤≤" )
,
≤≤) *
typeof
≤≤+ 1
(
≤≤1 2
string
≤≤2 8
)
≤≤8 9
)
≤≤9 :
;
≤≤: ;
	dataTable
≥≥ 
.
≥≥ 
Columns
≥≥ 
.
≥≥ 
Add
≥≥ !
(
≥≥! "
$str
≥≥" (
,
≥≥( )
typeof
≥≥* 0
(
≥≥0 1
string
≥≥1 7
)
≥≥7 8
)
≥≥8 9
;
≥≥9 :
	dataTable
¥¥ 
.
¥¥ 
Columns
¥¥ 
.
¥¥ 
Add
¥¥ !
(
¥¥! "
$str
¥¥" -
,
¥¥- .
typeof
¥¥/ 5
(
¥¥5 6
string
¥¥6 <
)
¥¥< =
)
¥¥= >
;
¥¥> ?
using
∂∂ 
(
∂∂ 
IDataReader
∂∂ 
reader
∂∂ %
=
∂∂& '
DBHtmlContent
∂∂( 5
.
∂∂5 6"
GetHtmlContentByPage
∂∂6 J
(
∂∂J K
siteId
∂∂K Q
,
∂∂Q R
pageId
∂∂S Y
)
∂∂Y Z
)
∂∂Z [
{
∑∑ 
while
∏∏ 
(
∏∏ 
reader
∏∏ 
.
∏∏ 
Read
∏∏ "
(
∏∏" #
)
∏∏# $
)
∏∏$ %
{
ππ 
DataRow
∫∫ 
row
∫∫ 
=
∫∫  !
	dataTable
∫∫" +
.
∫∫+ ,
NewRow
∫∫, 2
(
∫∫2 3
)
∫∫3 4
;
∫∫4 5
row
ºº 
[
ºº 
$str
ºº  
]
ºº  !
=
ºº" #
reader
ºº$ *
[
ºº* +
$str
ºº+ 3
]
ºº3 4
;
ºº4 5
row
ΩΩ 
[
ΩΩ 
$str
ΩΩ "
]
ΩΩ" #
=
ΩΩ$ %
reader
ΩΩ& ,
[
ΩΩ, -
$str
ΩΩ- 7
]
ΩΩ7 8
;
ΩΩ8 9
row
ææ 
[
ææ 
$str
ææ %
]
ææ% &
=
ææ' (
reader
ææ) /
[
ææ/ 0
$str
ææ0 =
]
ææ= >
;
ææ> ?
row
øø 
[
øø 
$str
øø 
]
øø  
=
øø! "
reader
øø# )
[
øø) *
$str
øø* 1
]
øø1 2
;
øø2 3
row
¿¿ 
[
¿¿ 
$str
¿¿ 
]
¿¿ 
=
¿¿  !
reader
¿¿" (
[
¿¿( )
$str
¿¿) /
]
¿¿/ 0
;
¿¿0 1
row
¡¡ 
[
¡¡ 
$str
¡¡ #
]
¡¡# $
=
¡¡% &
reader
¡¡' -
[
¡¡- .
$str
¡¡. 9
]
¡¡9 :
;
¡¡: ;
	dataTable
√√ 
.
√√ 
Rows
√√ "
.
√√" #
Add
√√# &
(
√√& '
row
√√' *
)
√√* +
;
√√+ ,
}
ƒƒ 
}
≈≈ 
return
«« 
	dataTable
«« 
;
«« 
}
»» 	
public
œœ 
event
œœ (
ContentChangedEventHandler
œœ /
ContentChanged
œœ0 >
;
œœ> ?
public
—— 
void
—— 
OnContentChanged
—— $
(
——$ %%
ContentChangedEventArgs
——% <
e
——= >
)
——> ?
{
““ 	
if
”” 
(
”” 
ContentChanged
”” 
!=
”” !
null
””" &
)
””& '
{
‘‘ 
ContentChanged
’’ 
(
’’ 
this
’’ #
,
’’# $
e
’’% &
)
’’& '
;
’’' (
}
÷÷ 
}
◊◊ 	
}
⁄⁄ 
}€€ ¯º
lD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\HtmlRepository.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
HtmlRepository 
{ 
public 
HtmlRepository 
( 
) 
{ 
} 
public 
HtmlContent 
Fetch  
(  !
int! $
moduleId% -
)- .
{ 	
if 
( 
moduleId 
< 
$num 
) 
{ 
return  &
null' +
;+ ,
}- .
using 
( 
IDataReader 
reader %
=& '
DBHtmlContent( 5
.5 6
GetHtmlContent6 D
(D E
moduleIdE M
,M N
DateTimeO W
.W X
UtcNowX ^
)^ _
)_ `
{   
if!! 
(!! 
reader!! 
.!! 
Read!! 
(!!  
)!!  !
)!!! "
{"" 
HtmlContent## 
content##  '
=##( )
new##* -
HtmlContent##. 9
(##9 :
)##: ;
;##; <
LoadFromReader$$ "
($$" #
content$$# *
,$$* +
reader$$, 2
)$$2 3
;$$3 4
return%% 
content%% "
;%%" #
}&& 
}'' 
return)) 
null)) 
;)) 
}** 	
public,, 
HtmlContent,, 
Fetch,,  
(,,  !
int,,! $
moduleId,,% -
,,,- .
int,,/ 2
itemId,,3 9
),,9 :
{-- 	
if.. 
(.. 
moduleId.. 
<.. 
$num.. 
).. 
{.. 
return..  &
null..' +
;..+ ,
}..- .
if// 
(// 
itemId// 
<// 
$num// 
)// 
{// 
return// $
null//% )
;//) *
}//+ ,
using11 
(11 
IDataReader11 
reader11 %
=11& '
DBHtmlContent11( 5
.115 6
GetHtmlContent116 D
(11D E
moduleId11E M
,11M N
itemId11O U
)11U V
)11V W
{22 
if33 
(33 
reader33 
.33 
Read33 
(33  
)33  !
)33! "
{44 
HtmlContent55 
content55  '
=55( )
new55* -
HtmlContent55. 9
(559 :
)55: ;
;55; <
LoadFromReader66 "
(66" #
content66# *
,66* +
reader66, 2
)662 3
;663 4
return77 
content77 "
;77" #
}88 
}99 
return;; 
null;; 
;;; 
}<< 	
private>> 
void>> 
LoadFromReader>> #
(>># $
HtmlContent>>$ /
content>>0 7
,>>7 8
IDataReader>>9 D
reader>>E K
)>>K L
{?? 	
if@@ 
(@@ 
content@@ 
==@@ 
null@@ 
)@@  
{@@! "
return@@# )
;@@) *
}@@+ ,
ifAA 
(AA 
readerAA 
==AA 
nullAA 
)AA 
{AA  !
returnAA" (
;AA( )
}AA* +
contentCC 
.CC 
ItemIdCC 
=CC 
ConvertCC $
.CC$ %
ToInt32CC% ,
(CC, -
readerCC- 3
[CC3 4
$strCC4 <
]CC< =
)CC= >
;CC> ?
contentDD 
.DD 
ModuleIdDD 
=DD 
ConvertDD &
.DD& '
ToInt32DD' .
(DD. /
readerDD/ 5
[DD5 6
$strDD6 @
]DD@ A
)DDA B
;DDB C
contentEE 
.EE 
TitleEE 
=EE 
readerEE "
[EE" #
$strEE# *
]EE* +
.EE+ ,
ToStringEE, 4
(EE4 5
)EE5 6
;EE6 7
contentGG 
.GG 
BodyGG 
=GG 
readerGG !
[GG! "
$strGG" (
]GG( )
.GG) *
ToStringGG* 2
(GG2 3
)GG3 4
;GG4 5
contentQQ 
.QQ 
CreatedDateQQ 
=QQ  !
ConvertQQ" )
.QQ) *

ToDateTimeQQ* 4
(QQ4 5
readerQQ5 ;
[QQ; <
$strQQ< I
]QQI J
)QQJ K
;QQK L
contentVV 
.VV 
ItemGuidVV 
=VV 
newVV "
GuidVV# '
(VV' (
readerVV( .
[VV. /
$strVV/ 9
]VV9 :
.VV: ;
ToStringVV; C
(VVC D
)VVD E
)VVE F
;VVF G
contentWW 
.WW 

ModuleGuidWW 
=WW  
newWW! $
GuidWW% )
(WW) *
readerWW* 0
[WW0 1
$strWW1 =
]WW= >
.WW> ?
ToStringWW? G
(WWG H
)WWH I
)WWI J
;WWJ K
stringXX 
userXX 
=XX 
readerXX  
[XX  !
$strXX! +
]XX+ ,
.XX, -
ToStringXX- 5
(XX5 6
)XX6 7
;XX7 8
ifYY 
(YY 
userYY 
.YY 
LengthYY 
==YY 
$numYY !
)YY! "
contentYY# *
.YY* +
UserGuidYY+ 3
=YY4 5
newYY6 9
GuidYY: >
(YY> ?
userYY? C
)YYC D
;YYD E
user[[ 
=[[ 
reader[[ 
[[[ 
$str[[ +
][[+ ,
.[[, -
ToString[[- 5
([[5 6
)[[6 7
;[[7 8
if\\ 
(\\ 
user\\ 
.\\ 
Length\\ 
==\\ 
$num\\ !
)\\! "
content\\# *
.\\* +
LastModUserGuid\\+ :
=\\; <
new\\= @
Guid\\A E
(\\E F
user\\F J
)\\J K
;\\K L
if^^ 
(^^ 
reader^^ 
[^^ 
$str^^ #
]^^# $
!=^^% '
DBNull^^( .
.^^. /
Value^^/ 4
)^^4 5
content__ 
.__ 

LastModUtc__ "
=__# $
Convert__% ,
.__, -

ToDateTime__- 7
(__7 8
reader__8 >
[__> ?
$str__? K
]__K L
)__L M
;__M N
contentaa 
.aa 
CreatedByNameaa !
=aa" #
readeraa$ *
[aa* +
$straa+ :
]aa: ;
.aa; <
ToStringaa< D
(aaD E
)aaE F
;aaF G
contentbb 
.bb 
CreatedByFirstNamebb &
=bb' (
readerbb) /
[bb/ 0
$strbb0 D
]bbD E
.bbE F
ToStringbbF N
(bbN O
)bbO P
;bbP Q
contentcc 
.cc 
CreatedByLastNamecc %
=cc& '
readercc( .
[cc. /
$strcc/ B
]ccB C
.ccC D
ToStringccD L
(ccL M
)ccM N
;ccN O
contentdd 
.dd 
CreatedByEmaildd "
=dd# $
readerdd% +
[dd+ ,
$strdd, <
]dd< =
.dd= >
ToStringdd> F
(ddF G
)ddG H
;ddH I
contentff 
.ff 
AuthorAvatarff  
=ff! "
readerff# )
[ff) *
$strff* 5
]ff5 6
.ff6 7
ToStringff7 ?
(ff? @
)ff@ A
;ffA B
contentgg 
.gg 
	AuthorBiogg 
=gg 
readergg  &
[gg& '
$strgg' 2
]gg2 3
.gg3 4
ToStringgg4 <
(gg< =
)gg= >
;gg> ?
contenthh 
.hh 
AuthorUserIdhh  
=hh! "
Converthh# *
.hh* +
ToInt32hh+ 2
(hh2 3
readerhh3 9
[hh9 :
$strhh: H
]hhH I
)hhI J
;hhJ K
contentkk 
.kk 
LastModByNamekk !
=kk" #
readerkk$ *
[kk* +
$strkk+ :
]kk: ;
.kk; <
ToStringkk< D
(kkD E
)kkE F
;kkF G
contentll 
.ll 
LastModByFirstNamell &
=ll' (
readerll) /
[ll/ 0
$strll0 D
]llD E
.llE F
ToStringllF N
(llN O
)llO P
;llP Q
contentmm 
.mm 
LastModByLastNamemm %
=mm& '
readermm( .
[mm. /
$strmm/ B
]mmB C
.mmC D
ToStringmmD L
(mmL M
)mmM N
;mmN O
contentnn 
.nn 
LastModByEmailnn "
=nn# $
readernn% +
[nn+ ,
$strnn, <
]nn< =
.nn= >
ToStringnn> F
(nnF G
)nnG H
;nnH I
contentoo 
.oo $
ExcludeFromRecentContentoo ,
=oo- .
Convertoo/ 6
.oo6 7
	ToBooleanoo7 @
(oo@ A
readerooA G
[ooG H
$strooH b
]oob c
)ooc d
;ood e
}pp 	
publicrr 
boolrr 
Saverr 
(rr 
HtmlContentrr $
contentrr% ,
)rr, -
{ss 	
booltt 
resulttt 
=tt 
falsett 
;tt  
ifuu 
(uu 
contentuu 
==uu 
nulluu 
)uu  
{uu! "
returnuu# )
resultuu* 0
;uu0 1
}uu2 3
contentww 
.ww 

LastModUtcww 
=ww  
DateTimeww! )
.ww) *
UtcNowww* 0
;ww0 1
ifyy 
(yy 
contentyy 
.yy 
ItemIdyy 
>yy  
-yy! "
$numyy" #
)yy# $
{zz 
result{{ 
={{ 
DBHtmlContent{{ &
.{{& '
UpdateHtmlContent{{' 8
({{8 9
content|| 
.|| 
ItemId|| 
,|| 
content}} 
.}} 
ModuleId}}  
,}}  !
content~~ 
.~~ 
Title~~ 
,~~ 
content 
. 
Excerpt 
,  
content
ÄÄ 
.
ÄÄ 
Body
ÄÄ 
,
ÄÄ 
content
ÅÅ 
.
ÅÅ 
MoreLink
ÅÅ  
,
ÅÅ  !
content
ÇÇ 
.
ÇÇ 
	SortOrder
ÇÇ !
,
ÇÇ! "
content
ÉÉ 
.
ÉÉ 
	BeginDate
ÉÉ !
,
ÉÉ! "
content
ÑÑ 
.
ÑÑ 
EndDate
ÑÑ 
,
ÑÑ  
content
ÖÖ 
.
ÖÖ 

LastModUtc
ÖÖ "
,
ÖÖ" #
content
ÜÜ 
.
ÜÜ 
LastModUserGuid
ÜÜ '
,
ÜÜ' (
content
áá 
.
áá &
ExcludeFromRecentContent
áá 0
)
áá0 1
;
áá1 2
}
ââ 
else
ää 
{
ãã 
content
åå 
.
åå 
ItemGuid
åå  
=
åå! "
Guid
åå# '
.
åå' (
NewGuid
åå( /
(
åå/ 0
)
åå0 1
;
åå1 2
int
éé 
newId
éé 
=
éé 
DBHtmlContent
éé )
.
éé) *
AddHtmlContent
éé* 8
(
éé8 9
content
èè 
.
èè 
ItemGuid
èè $
,
èè$ %
content
êê 
.
êê 

ModuleGuid
êê &
,
êê& '
content
ëë 
.
ëë 
ModuleId
ëë $
,
ëë$ %
content
íí 
.
íí 
Title
íí !
,
íí! "
content
ìì 
.
ìì 
Excerpt
ìì #
,
ìì# $
content
îî 
.
îî 
Body
îî  
,
îî  !
content
ïï 
.
ïï 
MoreLink
ïï $
,
ïï$ %
content
ññ 
.
ññ 
	SortOrder
ññ %
,
ññ% &
content
óó 
.
óó 
	BeginDate
óó %
,
óó% &
content
òò 
.
òò 
EndDate
òò #
,
òò# $
content
ôô 
.
ôô 
CreatedDate
ôô '
,
ôô' (
content
öö 
.
öö 
	CreatedBy
öö %
,
öö% &
content
õõ 
.
õõ 
UserGuid
õõ $
,
õõ$ %
content
úú 
.
úú &
ExcludeFromRecentContent
úú 4
)
úú4 5
;
úú5 6
content
ûû 
.
ûû 
ItemId
ûû 
=
ûû  
newId
ûû! &
;
ûû& '
result
†† 
=
†† 
(
†† 
newId
†† 
>
††  !
-
††" #
$num
††# $
)
††$ %
;
††% &
}
¢¢ 
if
§§ 
(
§§ 
result
§§ 
)
§§ 
{
•• %
ContentChangedEventArgs
¶¶ '
e
¶¶( )
=
¶¶* +
new
¶¶, /%
ContentChangedEventArgs
¶¶0 G
(
¶¶G H
)
¶¶H I
;
¶¶I J
content
ßß 
.
ßß 
OnContentChanged
ßß (
(
ßß( )
e
ßß) *
)
ßß* +
;
ßß+ ,
}
®® 
return
™™ 
result
™™ 
;
™™ 
}
´´ 	
public
ÆÆ 
bool
ÆÆ 
Delete
ÆÆ 
(
ÆÆ 
HtmlContent
ÆÆ &
content
ÆÆ' .
)
ÆÆ. /
{
ØØ 	
if
∞∞ 
(
∞∞ 
content
∞∞ 
==
∞∞ 
null
∞∞ 
)
∞∞  
{
∞∞! "
return
∞∞# )
false
∞∞* /
;
∞∞/ 0
}
∞∞1 2
bool
≤≤ 
result
≤≤ 
=
≤≤ 
DBHtmlContent
≤≤ '
.
≤≤' (
DeleteHtmlContent
≤≤( 9
(
≤≤9 :
content
≤≤: A
.
≤≤A B
ItemId
≤≤B H
)
≤≤H I
;
≤≤I J
if
¥¥ 
(
¥¥ 
result
¥¥ 
)
¥¥ 
{
µµ %
ContentChangedEventArgs
∂∂ '
e
∂∂( )
=
∂∂* +
new
∂∂, /%
ContentChangedEventArgs
∂∂0 G
(
∂∂G H
)
∂∂H I
;
∂∂I J
e
∑∑ 
.
∑∑ 
	IsDeleted
∑∑ 
=
∑∑ 
true
∑∑ "
;
∑∑" #
content
∏∏ 
.
∏∏ 
OnContentChanged
∏∏ (
(
∏∏( )
e
∏∏) *
)
∏∏* +
;
∏∏+ ,
}
ππ 
return
ªª 
result
ªª 
;
ªª 
}
ΩΩ 	
public
¿¿ 
IDataReader
¿¿ 
GetHtml
¿¿ "
(
¿¿" #
int
¿¿# &
moduleId
¿¿' /
,
¿¿/ 0
DateTime
¿¿1 9
	beginDate
¿¿: C
)
¿¿C D
{
¡¡ 	
return
¬¬ 
DBHtmlContent
¬¬  
.
¬¬  !
GetHtmlContent
¬¬! /
(
¬¬/ 0
moduleId
¬¬0 8
,
¬¬8 9
	beginDate
¬¬: C
)
¬¬C D
;
¬¬D E
}
√√ 	
public
≈≈ 
IDataReader
≈≈ %
GetHtmlForMetaWeblogApi
≈≈ 2
(
≈≈2 3
int
≈≈3 6
siteId
≈≈7 =
)
≈≈= >
{
∆∆ 	
return
«« 
DBHtmlContent
««  
.
««  !%
GetHtmlForMetaWeblogApi
««! 8
(
««8 9
siteId
««9 ?
)
««? @
;
««@ A
}
»» 	
public
   
bool
   
DeleteByModule
   "
(
  " #
int
  # &
moduleId
  ' /
)
  / 0
{
ÀÀ 	
return
ÃÃ 
DBHtmlContent
ÃÃ  
.
ÃÃ  !
DeleteByModule
ÃÃ! /
(
ÃÃ/ 0
moduleId
ÃÃ0 8
)
ÃÃ8 9
;
ÃÃ9 :
}
ÕÕ 	
public
œœ 
bool
œœ 
DeleteBySite
œœ  
(
œœ  !
int
œœ! $
siteId
œœ% +
)
œœ+ ,
{
–– 	
return
—— 
DBHtmlContent
——  
.
——  !
DeleteBySite
——! -
(
——- .
siteId
——. 4
)
——4 5
;
——5 6
}
““ 	
public
‘‘ 
	DataTable
‘‘ "
GetHtmlContentByPage
‘‘ -
(
‘‘- .
int
‘‘. 1
siteId
‘‘2 8
,
‘‘8 9
int
‘‘: =
pageId
‘‘> D
)
‘‘D E
{
’’ 	
	DataTable
÷÷ 
	dataTable
÷÷ 
=
÷÷  !
new
÷÷" %
	DataTable
÷÷& /
(
÷÷/ 0
)
÷÷0 1
;
÷÷1 2
	dataTable
ÿÿ 
.
ÿÿ 
Columns
ÿÿ 
.
ÿÿ 
Add
ÿÿ !
(
ÿÿ! "
$str
ÿÿ" *
,
ÿÿ* +
typeof
ÿÿ, 2
(
ÿÿ2 3
int
ÿÿ3 6
)
ÿÿ6 7
)
ÿÿ7 8
;
ÿÿ8 9
	dataTable
ŸŸ 
.
ŸŸ 
Columns
ŸŸ 
.
ŸŸ 
Add
ŸŸ !
(
ŸŸ! "
$str
ŸŸ" ,
,
ŸŸ, -
typeof
ŸŸ. 4
(
ŸŸ4 5
int
ŸŸ5 8
)
ŸŸ8 9
)
ŸŸ9 :
;
ŸŸ: ;
	dataTable
⁄⁄ 
.
⁄⁄ 
Columns
⁄⁄ 
.
⁄⁄ 
Add
⁄⁄ !
(
⁄⁄! "
$str
⁄⁄" /
,
⁄⁄/ 0
typeof
⁄⁄1 7
(
⁄⁄7 8
string
⁄⁄8 >
)
⁄⁄> ?
)
⁄⁄? @
;
⁄⁄@ A
	dataTable
€€ 
.
€€ 
Columns
€€ 
.
€€ 
Add
€€ !
(
€€! "
$str
€€" )
,
€€) *
typeof
€€+ 1
(
€€1 2
string
€€2 8
)
€€8 9
)
€€9 :
;
€€: ;
	dataTable
‹‹ 
.
‹‹ 
Columns
‹‹ 
.
‹‹ 
Add
‹‹ !
(
‹‹! "
$str
‹‹" (
,
‹‹( )
typeof
‹‹* 0
(
‹‹0 1
string
‹‹1 7
)
‹‹7 8
)
‹‹8 9
;
‹‹9 :
	dataTable
›› 
.
›› 
Columns
›› 
.
›› 
Add
›› !
(
››! "
$str
››" -
,
››- .
typeof
››/ 5
(
››5 6
string
››6 <
)
››< =
)
››= >
;
››> ?
	dataTable
ﬁﬁ 
.
ﬁﬁ 
Columns
ﬁﬁ 
.
ﬁﬁ 
Add
ﬁﬁ !
(
ﬁﬁ! "
$str
ﬁﬁ" 3
,
ﬁﬁ3 4
typeof
ﬁﬁ5 ;
(
ﬁﬁ; <
bool
ﬁﬁ< @
)
ﬁﬁ@ A
)
ﬁﬁA B
;
ﬁﬁB C
	dataTable
‡‡ 
.
‡‡ 
Columns
‡‡ 
.
‡‡ 
Add
‡‡ !
(
‡‡! "
$str
‡‡" 1
,
‡‡1 2
typeof
‡‡3 9
(
‡‡9 :
string
‡‡: @
)
‡‡@ A
)
‡‡A B
;
‡‡B C
	dataTable
·· 
.
·· 
Columns
·· 
.
·· 
Add
·· !
(
··! "
$str
··" 6
,
··6 7
typeof
··8 >
(
··> ?
string
··? E
)
··E F
)
··F G
;
··G H
	dataTable
‚‚ 
.
‚‚ 
Columns
‚‚ 
.
‚‚ 
Add
‚‚ !
(
‚‚! "
$str
‚‚" 5
,
‚‚5 6
typeof
‚‚7 =
(
‚‚= >
string
‚‚> D
)
‚‚D E
)
‚‚E F
;
‚‚F G
	dataTable
‰‰ 
.
‰‰ 
Columns
‰‰ 
.
‰‰ 
Add
‰‰ !
(
‰‰! "
$str
‰‰" /
,
‰‰/ 0
typeof
‰‰1 7
(
‰‰7 8
DateTime
‰‰8 @
)
‰‰@ A
)
‰‰A B
;
‰‰B C
	dataTable
ÂÂ 
.
ÂÂ 
Columns
ÂÂ 
.
ÂÂ 
Add
ÂÂ !
(
ÂÂ! "
$str
ÂÂ" .
,
ÂÂ. /
typeof
ÂÂ0 6
(
ÂÂ6 7
DateTime
ÂÂ7 ?
)
ÂÂ? @
)
ÂÂ@ A
;
ÂÂA B
	dataTable
ÊÊ 
.
ÊÊ 
Columns
ÊÊ 
.
ÊÊ 
Add
ÊÊ !
(
ÊÊ! "
$str
ÊÊ" <
,
ÊÊ< =
typeof
ÊÊ> D
(
ÊÊD E
bool
ÊÊE I
)
ÊÊI J
)
ÊÊJ K
;
ÊÊK L
using
ÍÍ 
(
ÍÍ 
IDataReader
ÍÍ 
reader
ÍÍ %
=
ÍÍ& '
DBHtmlContent
ÍÍ( 5
.
ÍÍ5 6"
GetHtmlContentByPage
ÍÍ6 J
(
ÍÍJ K
siteId
ÍÍK Q
,
ÍÍQ R
pageId
ÍÍS Y
)
ÍÍY Z
)
ÍÍZ [
{
ÎÎ 
while
ÏÏ 
(
ÏÏ 
reader
ÏÏ 
.
ÏÏ 
Read
ÏÏ "
(
ÏÏ" #
)
ÏÏ# $
)
ÏÏ$ %
{
ÌÌ 
DataRow
ÓÓ 
row
ÓÓ 
=
ÓÓ  !
	dataTable
ÓÓ" +
.
ÓÓ+ ,
NewRow
ÓÓ, 2
(
ÓÓ2 3
)
ÓÓ3 4
;
ÓÓ4 5
row
 
[
 
$str
  
]
  !
=
" #
reader
$ *
[
* +
$str
+ 3
]
3 4
;
4 5
row
ÒÒ 
[
ÒÒ 
$str
ÒÒ "
]
ÒÒ" #
=
ÒÒ$ %
reader
ÒÒ& ,
[
ÒÒ, -
$str
ÒÒ- 7
]
ÒÒ7 8
;
ÒÒ8 9
row
ÚÚ 
[
ÚÚ 
$str
ÚÚ %
]
ÚÚ% &
=
ÚÚ' (
reader
ÚÚ) /
[
ÚÚ/ 0
$str
ÚÚ0 =
]
ÚÚ= >
;
ÚÚ> ?
row
ÛÛ 
[
ÛÛ 
$str
ÛÛ 
]
ÛÛ  
=
ÛÛ! "
reader
ÛÛ# )
[
ÛÛ) *
$str
ÛÛ* 1
]
ÛÛ1 2
;
ÛÛ2 3
row
ÙÙ 
[
ÙÙ 
$str
ÙÙ 
]
ÙÙ 
=
ÙÙ  !
reader
ÙÙ" (
[
ÙÙ( )
$str
ÙÙ) /
]
ÙÙ/ 0
;
ÙÙ0 1
row
ıı 
[
ıı 
$str
ıı #
]
ıı# $
=
ıı% &
reader
ıı' -
[
ıı- .
$str
ıı. 9
]
ıı9 :
;
ıı: ;
row
˜˜ 
[
˜˜ 
$str
˜˜ '
]
˜˜' (
=
˜˜) *
reader
˜˜+ 1
[
˜˜1 2
$str
˜˜2 A
]
˜˜A B
;
˜˜B C
row
¯¯ 
[
¯¯ 
$str
¯¯ ,
]
¯¯, -
=
¯¯. /
reader
¯¯0 6
[
¯¯6 7
$str
¯¯7 K
]
¯¯K L
;
¯¯L M
row
˘˘ 
[
˘˘ 
$str
˘˘ +
]
˘˘+ ,
=
˘˘- .
reader
˘˘/ 5
[
˘˘5 6
$str
˘˘6 I
]
˘˘I J
;
˘˘J K
row
˚˚ 
[
˚˚ 
$str
˚˚ )
]
˚˚) *
=
˚˚+ ,
Convert
˚˚- 4
.
˚˚4 5
	ToBoolean
˚˚5 >
(
˚˚> ?
reader
˚˚? E
[
˚˚E F
$str
˚˚F W
]
˚˚W X
)
˚˚X Y
;
˚˚Y Z
row
˝˝ 
[
˝˝ 
$str
˝˝ %
]
˝˝% &
=
˝˝' (
Convert
˝˝) 0
.
˝˝0 1

ToDateTime
˝˝1 ;
(
˝˝; <
reader
˝˝< B
[
˝˝B C
$str
˝˝C P
]
˝˝P Q
)
˝˝Q R
;
˝˝R S
row
˛˛ 
[
˛˛ 
$str
˛˛ $
]
˛˛$ %
=
˛˛& '
Convert
˛˛( /
.
˛˛/ 0

ToDateTime
˛˛0 :
(
˛˛: ;
reader
˛˛; A
[
˛˛A B
$str
˛˛B N
]
˛˛N O
)
˛˛O P
;
˛˛P Q
row
ˇˇ 
[
ˇˇ 
$str
ˇˇ 2
]
ˇˇ2 3
=
ˇˇ4 5
Convert
ˇˇ6 =
.
ˇˇ= >
	ToBoolean
ˇˇ> G
(
ˇˇG H
reader
ˇˇH N
[
ˇˇN O
$str
ˇˇO i
]
ˇˇi j
)
ˇˇj k
;
ˇˇk l
	dataTable
ÅÅ 
.
ÅÅ 
Rows
ÅÅ "
.
ÅÅ" #
Add
ÅÅ# &
(
ÅÅ& '
row
ÅÅ' *
)
ÅÅ* +
;
ÅÅ+ ,
}
ÇÇ 
}
ÉÉ 
return
ÖÖ 
	dataTable
ÖÖ 
;
ÖÖ 
}
ÜÜ 	
}
ââ 
}ää ﬁÁ
iD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ImageHelper.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
[ 
Obsolete 
( 
$str Q
)Q R
]R S
public 
sealed 
class 
ImageHelper  
{ 
private 
static 
readonly 
ILog  $
log% (
=) *

LogManager+ 5
.5 6
	GetLogger6 ?
(? @
typeof@ F
(F G
ImageHelperG R
)R S
)S T
;T U
private 	
ImageHelper
 
( 
) 
{ 
} 
public$$ 
enum$$	 
ResizeOption$$ 
{%% 
NoResize&& 
,&& 
FixedWidthHeight'' 
,'' 
MaintainAspectWidth(( 
,((  
MaintainAspectHeight)) 
}** 
[11 	
Obsolete11	 
(11 
$str11 U
)11U V
]11V W
public22 
static22	 
void22 
SetMetadata22  
(22  !
String22! '
key22( +
,22+ ,
String22- 3
data224 8
,228 9
XmlDocument22: E
xmlDoc22F L
)22L M
{33 
if44 
(44 
(44 
xmlDoc44 
!=44 
null44 
)44 
&&44 
(44 
key44 
!=44 
null44  $
)44$ %
&&44% '
(44' (
data44( ,
!=44- /
null440 4
)444 5
)445 6
{55 
XmlNode66 

targetNode66 
=66 
xmlDoc66 
.66  
SelectSingleNode66  0
(660 1
$str661 >
+66? @
key66A D
)66D E
;66E F
if77 
(77 

targetNode77 
==77 
null77 
)77 
{88 
XmlAttribute99 
newAttribute99 
=99  
xmlDoc99! '
.99' (
CreateAttribute99( 7
(997 8
key998 ;
)99; <
;99< =
newAttribute:: 
.:: 
Value:: 
=:: 
data:: 
;:: 
xmlDoc;; 
.;; 
DocumentElement;; 
.;; 

Attributes;; &
.;;& '
Append;;' -
(;;- .
newAttribute;;. :
);;: ;
;;;; <
}<< 
else== 
{>> 

targetNode?? 
.?? 
Value?? 
=?? 
data?? 
;?? 
}@@ 
}AA 
}CC 
[EE 	
ObsoleteEE	 
(EE 
$strEE U
)EEU V
]EEV W
publicFF 
staticFF	 
stringFF 
GetMetadataFF "
(FF" #
StringFF# )
keyFF* -
,FF- .
XmlDocumentFF/ :
xmlDocFF; A
)FFA B
{GG 
ifHH 
(HH 
(HH 
xmlDocHH 
!=HH 
nullHH 
)HH 
&&HH 
(HH 
keyHH 
!=HH 
nullHH  $
)HH$ %
)HH% &
{II 
XmlNodeJJ 

targetNodeJJ 
=JJ 
xmlDocJJ 
.JJ  
SelectSingleNodeJJ  0
(JJ0 1
$strJJ1 >
+JJ? @
keyJJA D
)JJD E
;JJE F
ifKK 
(KK 

targetNodeKK 
==KK 
nullKK 
)KK 
{LL 
returnMM 
nullMM 
;MM 
}NN 
elseOO 
{PP 
returnQQ 

targetNodeQQ 
.QQ 
ValueQQ 
;QQ 
}RR 
}SS 
elseTT 
{UU 
returnVV 

StringVV 
.VV 
EmptyVV 
;VV 
}WW 
}XX 
[[[ 	
Obsolete[[	 
([[ 
$str[[ U
)[[U V
][[V W
public\\ 
static\\	 
String\\ $
ConvertByteArrayToString\\ /
(\\/ 0
byte\\0 4
[\\4 5
]\\5 6
array\\7 <
)\\< =
{]] 
if^^ 
(^^ 
array^^ 
!=^^ 
null^^ 
)^^ 
{__ 
StringBuilder`` 
sb`` 
=`` 
new`` 
StringBuilder`` (
(``( )
)``) *
;``* +
foraa 
(aa 
intaa 
iaa 
=aa 
$numaa 
;aa 
iaa 
<aa 
arrayaa 
.aa 
Lengthaa #
-aa$ %
$numaa& '
;aa' (
iaa) *
++aa* ,
)aa, -
sbaa. 0
.aa0 1
Appendaa1 7
(aa7 8
(aa8 9
charaa9 =
)aa= >
arrayaa> C
[aaC D
iaaD E
]aaE F
)aaF G
;aaG H
returnbb 

sbbb 
.bb 
ToStringbb 
(bb 
)bb 
;bb 
}cc 
elsedd 
{ee 
returnff 

Stringff 
.ff 
Emptyff 
;ff 
}gg 
}hh 
[jj 	
Obsoletejj	 
(jj 
$strjj U
)jjU V
]jjV W
publickk 
statickk	 
bytekk "
ConvertByteArrayToBytekk +
(kk+ ,
bytekk, 0
[kk0 1
]kk1 2
arraykk3 8
)kk8 9
{ll 
ifmm 
(mm 
arraymm 
!=mm 
nullmm 
)mm 
{nn 
returnoo 

arrayoo 
[oo 
$numoo 
]oo 
;oo 
}pp 
returnrr 	
byterr
 
.rr 
MinValuerr 
;rr 
}ss 
[uu 	
Obsoleteuu	 
(uu 
$struu U
)uuU V
]uuV W
publicvv 
staticvv	 
shortvv #
ConvertByteArrayToShortvv -
(vv- .
bytevv. 2
[vv2 3
]vv3 4
arrayvv5 :
)vv: ;
{ww 
shortxx 
valxx	 
=xx 
$numxx 
;xx 
ifyy 
(yy 
arrayyy 
!=yy 
nullyy 
)yy 
{zz 
for{{ 
({{ 
int{{ 
i{{ 
={{ 
$num{{ 
;{{ 
i{{ 
<{{ 
array{{ 
.{{ 
Length{{ #
;{{# $
i{{% &
++{{& (
){{( )
val{{* -
+={{. 0
({{1 2
short{{2 7
){{7 8
({{8 9
array{{9 >
[{{> ?
i{{? @
]{{@ A
*{{B C
System{{D J
.{{J K
Math{{K O
.{{O P
Pow{{P S
({{S T
$num{{T U
,{{U V
({{V W
i{{W X
*{{Y Z
$num{{[ \
){{\ ]
){{] ^
){{` a
;{{a b
}|| 
return~~ 	
val~~
 
;~~ 
} 
[
ÅÅ 	
Obsolete
ÅÅ	 
(
ÅÅ 
$str
ÅÅ U
)
ÅÅU V
]
ÅÅV W
public
ÇÇ 
static
ÇÇ	 
long
ÇÇ $
ConvertByteArrayToLong
ÇÇ +
(
ÇÇ+ ,
byte
ÇÇ, 0
[
ÇÇ0 1
]
ÇÇ1 2
array
ÇÇ3 8
)
ÇÇ8 9
{
ÉÉ 
long
ÑÑ 
val
ÑÑ 
=
ÑÑ 
$num
ÑÑ 
;
ÑÑ 
if
ÖÖ 
(
ÖÖ 
array
ÖÖ 
!=
ÖÖ 
null
ÖÖ 
)
ÖÖ 
{
ÜÜ 
for
áá 
(
áá 
int
áá 
i
áá 
=
áá 
$num
áá 
;
áá 
i
áá 
<
áá 
array
áá 
.
áá 
Length
áá #
;
áá# $
i
áá% &
++
áá& (
)
áá( )
val
áá* -
+=
áá. 0
(
áá1 2
array
áá2 7
[
áá7 8
i
áá8 9
]
áá9 :
*
áá; <
(
áá= >
long
áá> B
)
ááB C
System
ááC I
.
ááI J
Math
ááJ N
.
ááN O
Pow
ááO R
(
ááR S
$num
ááS T
,
ááT U
(
ááU V
i
ááV W
*
ááX Y
$num
ááZ [
)
áá[ \
)
áá\ ]
)
áá_ `
;
áá` a
}
ââ 
return
ää 	
val
ää
 
;
ää 
}
ãã 
[
çç 	
Obsolete
çç	 
(
çç 
$str
çç U
)
ççU V
]
ççV W
public
éé 
static
éé	 
String
éé (
ConvertByteArrayToRational
éé 1
(
éé1 2
byte
éé2 6
[
éé6 7
]
éé7 8
array
éé9 >
)
éé> ?
{
èè 
if
êê 
(
êê 
array
êê 
!=
êê 
null
êê 
)
êê 
{
ëë 
int
íí 
val1
íí 
=
íí 
$num
íí 
;
íí 
int
ìì 
val2
ìì 
=
ìì 
$num
ìì 
;
ìì 
for
ïï 
(
ïï 
int
ïï 
i
ïï 
=
ïï 
$num
ïï 
;
ïï 
i
ïï 
<
ïï 
$num
ïï 
;
ïï 
i
ïï 
++
ïï 
)
ïï 
val1
ïï #
+=
ïï$ &
(
ïï' (
array
ïï( -
[
ïï- .
i
ïï. /
]
ïï/ 0
*
ïï1 2
(
ïï3 4
int
ïï4 7
)
ïï7 8
System
ïï8 >
.
ïï> ?
Math
ïï? C
.
ïïC D
Pow
ïïD G
(
ïïG H
$num
ïïH I
,
ïïI J
(
ïïJ K
i
ïïK L
*
ïïM N
$num
ïïO P
)
ïïP Q
)
ïïQ R
)
ïïT U
;
ïïU V
for
ññ 
(
ññ 
int
ññ 
i
ññ 
=
ññ 
$num
ññ 
;
ññ 
i
ññ 
<
ññ 
$num
ññ 
;
ññ 
i
ññ 
++
ññ 
)
ññ 
val2
ññ #
+=
ññ$ &
(
ññ' (
array
ññ( -
[
ññ- .
i
ññ. /
]
ññ/ 0
*
ññ1 2
(
ññ3 4
int
ññ4 7
)
ññ7 8
System
ññ8 >
.
ññ> ?
Math
ññ? C
.
ññC D
Pow
ññD G
(
ññG H
$num
ññH I
,
ññI J
(
ññJ K
(
ññK L
i
ññL M
-
ññM N
$num
ññN O
)
ññO P
*
ññQ R
$num
ññS T
)
ññT U
)
ññU V
)
ññX Y
;
ññY Z
if
óó 
(
óó 
val2
óó 
==
óó 
$num
óó 
)
óó 
{
òò 
return
ôô 
val1
ôô 
.
ôô 
ToString
ôô 
(
ôô 
)
ôô 
;
ôô 
}
öö 
else
õõ 
{
úú 
return
ùù 
(
ùù 
(
ùù 
double
ùù 
)
ùù 
val1
ùù 
/
ùù 
(
ùù 
double
ùù #
)
ùù# $
val2
ùù$ (
)
ùù( )
.
ùù) *
ToString
ùù* 2
(
ùù2 3
)
ùù3 4
;
ùù4 5
}
ûû 
}
üü 
return
°° 	
null
°°
 
;
°° 
}
££ 
[
•• 	
Obsolete
••	 
(
•• 
$str
•• U
)
••U V
]
••V W
public
¶¶ 
static
¶¶	 
String
¶¶ )
ConvertByteArrayToSRational
¶¶ 2
(
¶¶2 3
byte
¶¶3 7
[
¶¶7 8
]
¶¶8 9
array
¶¶: ?
)
¶¶? @
{
ßß 
if
®® 
(
®® 
array
®® 
!=
®® 
null
®® 
)
®® 
{
©© 
int
™™ 
val1
™™ 
=
™™ 
$num
™™ 
;
™™ 
int
´´ 
val2
´´ 
=
´´ 
$num
´´ 
;
´´ 
for
≠≠ 
(
≠≠ 
int
≠≠ 
i
≠≠ 
=
≠≠ 
$num
≠≠ 
;
≠≠ 
i
≠≠ 
<
≠≠ 
$num
≠≠ 
;
≠≠ 
i
≠≠ 
++
≠≠ 
)
≠≠ 
val1
≠≠ #
+=
≠≠$ &
(
≠≠' (
array
≠≠( -
[
≠≠- .
i
≠≠. /
]
≠≠/ 0
*
≠≠1 2
(
≠≠3 4
int
≠≠4 7
)
≠≠7 8
System
≠≠8 >
.
≠≠> ?
Math
≠≠? C
.
≠≠C D
Pow
≠≠D G
(
≠≠G H
$num
≠≠H I
,
≠≠I J
(
≠≠J K
i
≠≠K L
*
≠≠M N
$num
≠≠O P
)
≠≠P Q
)
≠≠Q R
)
≠≠T U
;
≠≠U V
for
ÆÆ 
(
ÆÆ 
int
ÆÆ 
i
ÆÆ 
=
ÆÆ 
$num
ÆÆ 
;
ÆÆ 
i
ÆÆ 
<
ÆÆ 
$num
ÆÆ 
;
ÆÆ 
i
ÆÆ 
++
ÆÆ 
)
ÆÆ 
val2
ÆÆ #
+=
ÆÆ$ &
(
ÆÆ' (
array
ÆÆ( -
[
ÆÆ- .
i
ÆÆ. /
]
ÆÆ/ 0
*
ÆÆ1 2
(
ÆÆ3 4
int
ÆÆ4 7
)
ÆÆ7 8
System
ÆÆ8 >
.
ÆÆ> ?
Math
ÆÆ? C
.
ÆÆC D
Pow
ÆÆD G
(
ÆÆG H
$num
ÆÆH I
,
ÆÆI J
(
ÆÆJ K
(
ÆÆK L
i
ÆÆL M
-
ÆÆM N
$num
ÆÆN O
)
ÆÆO P
*
ÆÆQ R
$num
ÆÆS T
)
ÆÆT U
)
ÆÆU V
)
ÆÆX Y
;
ÆÆY Z
if
ØØ 
(
ØØ 
val2
ØØ 
==
ØØ 
$num
ØØ 
)
ØØ 
{
∞∞ 
return
±± 
val1
±± 
.
±± 
ToString
±± 
(
±± 
)
±± 
;
±± 
}
≤≤ 
else
≥≥ 
{
¥¥ 
return
µµ 
(
µµ 
(
µµ 
double
µµ 
)
µµ 
val1
µµ 
/
µµ 
(
µµ 
double
µµ #
)
µµ# $
val2
µµ$ (
)
µµ( )
.
µµ) *
ToString
µµ* 2
(
µµ2 3
)
µµ3 4
;
µµ4 5
}
∂∂ 
}
∑∑ 
return
ππ 	
null
ππ
 
;
ππ 
}
∫∫ 
[
ºº 	
Obsolete
ºº	 
(
ºº 
$str
ºº U
)
ººU V
]
ººV W
public
ΩΩ 
static
ΩΩ	 
Bitmap
ΩΩ 

RotateFlip
ΩΩ !
(
ΩΩ! "
Bitmap
ΩΩ" (
original
ΩΩ) 1
,
ΩΩ1 2
String
ΩΩ3 9
flip
ΩΩ: >
,
ΩΩ> ?
String
ΩΩ@ F
rotate
ΩΩG M
)
ΩΩM N
{
ææ 
if
øø 
(
øø 
(
øø 
original
øø 
!=
øø 
null
øø 
)
øø 
&&
øø 
(
øø 
flip
øø 
!=
øø  "
null
øø# '
)
øø' (
&&
øø( *
(
øø* +
rotate
øø+ 1
!=
øø2 4
null
øø5 9
)
øø9 :
)
øø: ;
{
¿¿ 
RotateFlipType
¡¡ 
rotateFlipType
¡¡ !
=
¡¡" #
RotateFlipType
¡¡$ 2
.
¡¡2 3 
RotateNoneFlipNone
¡¡3 E
;
¡¡E F
if
√√ 
(
√√ 
flip
√√ 
==
√√ 
$str
√√ 
&&
√√ 
rotate
√√ 
==
√√  "
$str
√√# (
)
√√( )
{
ƒƒ 
rotateFlipType
≈≈ 
=
≈≈ 
RotateFlipType
≈≈ $
.
≈≈$ %
Rotate180FlipNone
≈≈% 6
;
≈≈6 7
}
∆∆ 
else
«« 
if
««	 
(
«« 
flip
«« 
==
«« 
$str
«« 
&&
«« 
rotate
«« !
==
««" $
$str
««% *
)
««* +
{
»» 
rotateFlipType
…… 
=
…… 
RotateFlipType
…… $
.
……$ %
Rotate180FlipX
……% 3
;
……3 4
}
   
else
ÀÀ 
if
ÀÀ	 
(
ÀÀ 
flip
ÀÀ 
==
ÀÀ 
$str
ÀÀ 
&&
ÀÀ 
rotate
ÀÀ "
==
ÀÀ# %
$str
ÀÀ& +
)
ÀÀ+ ,
{
ÃÃ 
rotateFlipType
ÕÕ 
=
ÕÕ 
RotateFlipType
ÕÕ $
.
ÕÕ$ %
Rotate180FlipXY
ÕÕ% 4
;
ÕÕ4 5
}
ŒŒ 
else
œœ 
if
œœ	 
(
œœ 
flip
œœ 
==
œœ 
$str
œœ 
&&
œœ 
rotate
œœ !
==
œœ" $
$str
œœ% *
)
œœ* +
{
–– 
rotateFlipType
—— 
=
—— 
RotateFlipType
—— $
.
——$ %
Rotate180FlipY
——% 3
;
——3 4
}
““ 
else
”” 
if
””	 
(
”” 
flip
”” 
==
”” 
$str
”” 
&&
”” 
rotate
”” $
==
””% '
$str
””( -
)
””- .
{
‘‘ 
rotateFlipType
’’ 
=
’’ 
RotateFlipType
’’ $
.
’’$ %
Rotate270FlipNone
’’% 6
;
’’6 7
}
÷÷ 
else
◊◊ 
if
◊◊	 
(
◊◊ 
flip
◊◊ 
==
◊◊ 
$str
◊◊ 
&&
◊◊ 
rotate
◊◊ !
==
◊◊" $
$str
◊◊% *
)
◊◊* +
{
ÿÿ 
rotateFlipType
ŸŸ 
=
ŸŸ 
RotateFlipType
ŸŸ $
.
ŸŸ$ %
Rotate270FlipX
ŸŸ% 3
;
ŸŸ3 4
}
⁄⁄ 
else
€€ 
if
€€	 
(
€€ 
flip
€€ 
==
€€ 
$str
€€ 
&&
€€ 
rotate
€€ "
==
€€# %
$str
€€& +
)
€€+ ,
{
‹‹ 
rotateFlipType
›› 
=
›› 
RotateFlipType
›› $
.
››$ %
Rotate270FlipXY
››% 4
;
››4 5
}
ﬁﬁ 
else
ﬂﬂ 
if
ﬂﬂ	 
(
ﬂﬂ 
flip
ﬂﬂ 
==
ﬂﬂ 
$str
ﬂﬂ 
&&
ﬂﬂ 
rotate
ﬂﬂ !
==
ﬂﬂ" $
$str
ﬂﬂ% *
)
ﬂﬂ* +
{
‡‡ 
rotateFlipType
·· 
=
·· 
RotateFlipType
·· $
.
··$ %
Rotate270FlipY
··% 3
;
··3 4
}
‚‚ 
else
„„ 
if
„„	 
(
„„ 
flip
„„ 
==
„„ 
$str
„„ 
&&
„„ 
rotate
„„ $
==
„„% '
$str
„„( ,
)
„„, -
{
‰‰ 
rotateFlipType
ÂÂ 
=
ÂÂ 
RotateFlipType
ÂÂ $
.
ÂÂ$ %
Rotate90FlipNone
ÂÂ% 5
;
ÂÂ5 6
}
ÊÊ 
else
ÁÁ 
if
ÁÁ	 
(
ÁÁ 
flip
ÁÁ 
==
ÁÁ 
$str
ÁÁ 
&&
ÁÁ 
rotate
ÁÁ !
==
ÁÁ" $
$str
ÁÁ% )
)
ÁÁ) *
{
ËË 
rotateFlipType
ÈÈ 
=
ÈÈ 
RotateFlipType
ÈÈ $
.
ÈÈ$ %
Rotate90FlipX
ÈÈ% 2
;
ÈÈ2 3
}
ÍÍ 
else
ÎÎ 
if
ÎÎ	 
(
ÎÎ 
flip
ÎÎ 
==
ÎÎ 
$str
ÎÎ 
&&
ÎÎ 
rotate
ÎÎ "
==
ÎÎ# %
$str
ÎÎ& *
)
ÎÎ* +
{
ÏÏ 
rotateFlipType
ÌÌ 
=
ÌÌ 
RotateFlipType
ÌÌ $
.
ÌÌ$ %
Rotate90FlipXY
ÌÌ% 3
;
ÌÌ3 4
}
ÓÓ 
else
ÔÔ 
if
ÔÔ	 
(
ÔÔ 
flip
ÔÔ 
==
ÔÔ 
$str
ÔÔ 
&&
ÔÔ 
rotate
ÔÔ !
==
ÔÔ" $
$str
ÔÔ% )
)
ÔÔ) *
{
 
rotateFlipType
ÒÒ 
=
ÒÒ 
RotateFlipType
ÒÒ $
.
ÒÒ$ %
Rotate90FlipY
ÒÒ% 2
;
ÒÒ2 3
}
ÚÚ 
else
ÛÛ 
if
ÛÛ	 
(
ÛÛ 
flip
ÛÛ 
==
ÛÛ 
$str
ÛÛ 
&&
ÛÛ 
rotate
ÛÛ $
==
ÛÛ% '
$str
ÛÛ( .
)
ÛÛ. /
{
ÙÙ 
rotateFlipType
ıı 
=
ıı 
RotateFlipType
ıı $
.
ıı$ % 
RotateNoneFlipNone
ıı% 7
;
ıı7 8
}
ˆˆ 
else
˜˜ 
if
˜˜	 
(
˜˜ 
flip
˜˜ 
==
˜˜ 
$str
˜˜ 
&&
˜˜ 
rotate
˜˜ !
==
˜˜" $
$str
˜˜% +
)
˜˜+ ,
{
¯¯ 
rotateFlipType
˘˘ 
=
˘˘ 
RotateFlipType
˘˘ $
.
˘˘$ %
RotateNoneFlipX
˘˘% 4
;
˘˘4 5
}
˙˙ 
else
˚˚ 
if
˚˚	 
(
˚˚ 
flip
˚˚ 
==
˚˚ 
$str
˚˚ 
&&
˚˚ 
rotate
˚˚ "
==
˚˚# %
$str
˚˚& ,
)
˚˚, -
{
¸¸ 
rotateFlipType
˝˝ 
=
˝˝ 
RotateFlipType
˝˝ $
.
˝˝$ %
RotateNoneFlipXY
˝˝% 5
;
˝˝5 6
}
˛˛ 
else
ˇˇ 
if
ˇˇ	 
(
ˇˇ 
flip
ˇˇ 
==
ˇˇ 
$str
ˇˇ 
&&
ˇˇ 
rotate
ˇˇ !
==
ˇˇ" $
$str
ˇˇ% +
)
ˇˇ+ ,
{
ÄÄ 
rotateFlipType
ÅÅ 
=
ÅÅ 
RotateFlipType
ÅÅ $
.
ÅÅ$ %
RotateNoneFlipY
ÅÅ% 4
;
ÅÅ4 5
}
ÇÇ 
original
ÑÑ 
.
ÑÑ 

RotateFlip
ÑÑ 
(
ÑÑ 
rotateFlipType
ÑÑ &
)
ÑÑ& '
;
ÑÑ' (
}
ÖÖ 
return
áá 	
original
áá
 
;
áá 
}
àà 
[
õõ 	
Obsolete
õõ	 
(
õõ 
$str
õõ U
)
õõU V
]
õõV W
public
úú 
static
úú 
ImageCodecInfo
úú $
GetEncoderInfo
úú% 3
(
úú3 4
string
úú4 :
mimeType
úú; C
)
úúC D
{
ùù 	
ImageCodecInfo
üü 
[
üü 
]
üü 
codecs
üü #
=
üü$ %
ImageCodecInfo
üü& 4
.
üü4 5
GetImageEncoders
üü5 E
(
üüE F
)
üüF G
;
üüG H
for
¢¢ 
(
¢¢ 
int
¢¢ 
i
¢¢ 
=
¢¢ 
$num
¢¢ 
;
¢¢ 
i
¢¢ 
<
¢¢ 
codecs
¢¢  &
.
¢¢& '
Length
¢¢' -
;
¢¢- .
i
¢¢/ 0
++
¢¢0 2
)
¢¢2 3
if
££ 
(
££ 
codecs
££ 
[
££ 
i
££ 
]
££ 
.
££ 
MimeType
££ &
==
££' )
mimeType
££* 2
)
££2 3
return
§§ 
codecs
§§ !
[
§§! "
i
§§" #
]
§§# $
;
§§$ %
return
•• 
null
•• 
;
•• 
}
¶¶ 	
[
®® 	
Obsolete
®®	 
(
®® 
$str
®® U
)
®®U V
]
®®V W
public
©© 
static
©© 
double
©© 
GetScaleFactor
©© +
(
©©+ ,
int
©©, /

inputWidth
©©0 :
,
©©: ;
int
©©< ?
inputHeight
©©@ K
,
©©K L
int
©©M P
maxWidth
©©Q Y
,
©©Y Z
int
©©[ ^
	maxHeight
©©_ h
)
©©h i
{
™™ 	
double
´´ 
scaleFactor
´´ 
=
´´  
$num
´´! "
;
´´" #
if
≠≠ 
(
≠≠ 

inputWidth
≠≠ 
==
≠≠ 
$num
≠≠ 
)
≠≠  
{
≠≠! "
return
≠≠# )
scaleFactor
≠≠* 5
;
≠≠5 6
}
≠≠7 8
if
ÆÆ 
(
ÆÆ 
inputHeight
ÆÆ 
==
ÆÆ 
$num
ÆÆ  
)
ÆÆ  !
{
ÆÆ" #
return
ÆÆ$ *
scaleFactor
ÆÆ+ 6
;
ÆÆ6 7
}
ÆÆ8 9
if
ØØ 
(
ØØ 
	maxHeight
ØØ 
==
ØØ 
$num
ØØ 
)
ØØ 
{
ØØ  !
return
ØØ" (
scaleFactor
ØØ) 4
;
ØØ4 5
}
ØØ6 7
double
±± 
aspectRatio
±± 
=
±±  
(
±±! "
double
±±" (
)
±±( )

inputWidth
±±) 3
/
±±4 5
(
±±6 7
double
±±7 =
)
±±= >
inputHeight
±±> I
;
±±I J
double
≤≤ 
boxRatio
≤≤ 
=
≤≤ 
(
≤≤ 
double
≤≤ %
)
≤≤% &
maxWidth
≤≤& .
/
≤≤/ 0
(
≤≤1 2
double
≤≤2 8
)
≤≤8 9
	maxHeight
≤≤9 B
;
≤≤B C
if
¥¥ 
(
¥¥ 
boxRatio
¥¥ 
>
¥¥ 
aspectRatio
¥¥ &
)
¥¥& '
{
µµ 
scaleFactor
∑∑ 
=
∑∑ 
(
∑∑ 
double
∑∑ %
)
∑∑% &
	maxHeight
∑∑& /
/
∑∑0 1
(
∑∑2 3
double
∑∑3 9
)
∑∑9 :
inputHeight
∑∑: E
;
∑∑E F
}
∏∏ 
else
ππ 
{
∫∫ 
scaleFactor
ªª 
=
ªª 
(
ªª 
double
ªª %
)
ªª% &
maxWidth
ªª& .
/
ªª/ 0
(
ªª1 2
double
ªª2 8
)
ªª8 9

inputWidth
ªª9 C
;
ªªC D
}
ºº 
return
ææ 
scaleFactor
ææ 
;
ææ 
}
øø 	
[
ëë 	
Obsolete
ëë	 
(
ëë 
$str
ëë U
)
ëëU V
]
ëëV W
public
íí 
static
íí 
void
íí 
ResizeImage
íí &
(
íí& '
string
íí' -
imageFilePath
íí. ;
,
íí; <
string
íí= C
mimeType
ííD L
,
ííL M
int
ííN Q
maxWidth
ííR Z
,
ííZ [
int
íí\ _
	maxHeight
íí` i
,
ííi j
Color
íík p
backgroundColorííq Ä
)ííÄ Å
{
ìì 	
bool
îî 
allowEnlargement
îî !
=
îî" #
false
îî$ )
;
îî) *
ResizeImage
ïï 
(
ïï 
imageFilePath
ïï %
,
ïï% &
mimeType
ïï' /
,
ïï/ 0
maxWidth
ïï1 9
,
ïï9 :
	maxHeight
ïï; D
,
ïïD E
allowEnlargement
ïïF V
,
ïïV W
backgroundColor
ïïX g
)
ïïg h
;
ïïh i
}
óó 	
[
ùù 	
Obsolete
ùù	 
(
ùù 
$str
ùù U
)
ùùU V
]
ùùV W
public
ûû 
static
ûû 
void
ûû 
ResizeImage
ûû &
(
ûû& '
string
ûû' -
imageFilePath
ûû. ;
,
ûû; <
string
ûû= C
mimeType
ûûD L
,
ûûL M
int
ûûN Q
maxWidth
ûûR Z
,
ûûZ [
int
ûû\ _
	maxHeight
ûû` i
,
ûûi j
bool
ûûk o
allowEnlargementûûp Ä
,ûûÄ Å
ColorûûÇ á
backgroundColorûûà ó
)ûûó ò
{
üü 	
if
†† 
(
†† 
!
†† 
File
†† 
.
†† 
Exists
†† 
(
†† 
imageFilePath
†† *
)
††* +
)
††+ ,
{
††- .
return
††/ 5
;
††5 6
}
††7 8
double
°° 
scaleFactor
°° 
=
°°  
$num
°°! "
;
°°" #
string
¢¢ 
tmpFilePath
¢¢ 
=
¢¢  
imageFilePath
¢¢! .
+
¢¢/ 0
$str
¢¢1 7
+
¢¢8 9
Path
¢¢: >
.
¢¢> ?
GetExtension
¢¢? K
(
¢¢K L
imageFilePath
¢¢L Y
)
¢¢Y Z
;
¢¢Z [
bool
££  
imageNeedsResizing
££ #
=
££$ %
true
££& *
;
££* +
try
•• 
{
¶¶ 
File
©© 
.
©© 
Copy
©© 
(
©© 
imageFilePath
©© '
,
©©' (
tmpFilePath
©©) 4
,
©©4 5
true
©©6 :
)
©©: ;
;
©©; <
using
´´ 
(
´´ 
Image
´´ 
fullsizeImage
´´ *
=
´´+ ,
Image
´´- 2
.
´´2 3
FromFile
´´3 ;
(
´´; <
tmpFilePath
´´< G
)
´´G H
)
´´H I
{
¨¨ 
scaleFactor
≠≠ 
=
≠≠  !
GetScaleFactor
≠≠" 0
(
≠≠0 1
fullsizeImage
≠≠1 >
.
≠≠> ?
Width
≠≠? D
,
≠≠D E
fullsizeImage
≠≠F S
.
≠≠S T
Height
≠≠T Z
,
≠≠Z [
maxWidth
≠≠\ d
,
≠≠d e
	maxHeight
≠≠f o
)
≠≠o p
;
≠≠p q
if
ØØ 
(
ØØ 
!
ØØ 
allowEnlargement
ØØ )
)
ØØ) *
{
∞∞ 
if
≤≤ 
(
≤≤ 
scaleFactor
≤≤ '
>
≤≤( )
$num
≤≤* +
)
≤≤+ ,
{
≤≤- . 
imageNeedsResizing
≤≤/ A
=
≤≤B C
false
≤≤D I
;
≤≤I J
}
≤≤K L
if
≥≥ 
(
≥≥ 
scaleFactor
≥≥ '
==
≥≥( *
$num
≥≥+ ,
)
≥≥, -
{
≥≥. / 
imageNeedsResizing
≥≥0 B
=
≥≥C D
false
≥≥E J
;
≥≥J K
}
≥≥L M
}
¥¥ 
if
∂∂ 
(
∂∂  
imageNeedsResizing
∂∂ *
)
∂∂* +
{
∑∑ 
int
∏∏ 
newWidth
∏∏ $
=
∏∏% &
(
∏∏' (
int
∏∏( +
)
∏∏+ ,
(
∏∏, -
fullsizeImage
∏∏- :
.
∏∏: ;
Width
∏∏; @
*
∏∏A B
scaleFactor
∏∏C N
)
∏∏N O
;
∏∏O P
int
ππ 
	newHeight
ππ %
=
ππ& '
(
ππ( )
int
ππ) ,
)
ππ, -
(
ππ- .
fullsizeImage
ππ. ;
.
ππ; <
Height
ππ< B
*
ππC D
scaleFactor
ππE P
)
ππP Q
;
ππQ R
using
ªª 
(
ªª 
Bitmap
ªª %
resizedBitmap
ªª& 3
=
ªª4 5
new
ªª6 9
Bitmap
ªª: @
(
ªª@ A
newWidth
ªªA I
,
ªªI J
	newHeight
ªªK T
,
ªªT U
PixelFormat
ªªV a
.
ªªa b
Format24bppRgb
ªªb p
)
ªªp q
)
ªªq r
{
ºº 
using
ΩΩ !
(
ΩΩ" #
Graphics
ΩΩ# +
graphics
ΩΩ, 4
=
ΩΩ5 6
Graphics
ΩΩ7 ?
.
ΩΩ? @
	FromImage
ΩΩ@ I
(
ΩΩI J
resizedBitmap
ΩΩJ W
)
ΩΩW X
)
ΩΩX Y
{
ææ 
graphics
¡¡  (
.
¡¡( )
InterpolationMode
¡¡) :
=
¡¡; <
InterpolationMode
¡¡= N
.
¡¡N O 
HighQualityBicubic
¡¡O a
;
¡¡a b
if
ƒƒ  "
(
ƒƒ# $
backgroundColor
ƒƒ$ 3
!=
ƒƒ4 6
null
ƒƒ7 ;
)
ƒƒ; <
{
ƒƒ= >
graphics
ƒƒ? G
.
ƒƒG H
Clear
ƒƒH M
(
ƒƒM N
backgroundColor
ƒƒN ]
)
ƒƒ] ^
;
ƒƒ^ _
}
ƒƒ` a
var
««  #
imageRectangle
««$ 2
=
««3 4
new
««5 8
	Rectangle
««9 B
(
««B C
$num
««C D
,
««D E
$num
««F G
,
««G H
newWidth
««I Q
,
««Q R
	newHeight
««S \
)
««\ ]
;
««] ^
graphics
……  (
.
……( )
	DrawImage
……) 2
(
……2 3
fullsizeImage
……3 @
,
……@ A
imageRectangle
……B P
)
……P Q
;
……Q R
}
ÀÀ 
switch
ÕÕ "
(
ÕÕ# $
mimeType
ÕÕ$ ,
)
ÕÕ, -
{
ŒŒ 
case
œœ  $
$str
œœ% 1
:
œœ1 2
ImageCodecInfo
––$ 2
	codecInfo
––3 <
=
––= >
GetEncoderInfo
––? M
(
––M N
mimeType
––N V
)
––V W
;
––W X
if
——$ &
(
——' (
	codecInfo
——( 1
==
——2 4
null
——5 9
)
——9 :
{
——; <
return
——= C
;
——C D
}
——E F
using
““$ )
(
““* +
EncoderParameters
““+ <
encoderParams
““= J
=
““K L
new
““M P
EncoderParameters
““Q b
(
““b c
$num
““c d
)
““d e
)
““e f
{
””$ %
long
‘‘( ,
quality
‘‘- 4
=
‘‘5 6
$num
‘‘7 9
;
‘‘9 :
encoderParams
÷÷( 5
.
÷÷5 6
Param
÷÷6 ;
[
÷÷; <
$num
÷÷< =
]
÷÷= >
=
÷÷? @
new
÷÷A D
EncoderParameter
÷÷E U
(
÷÷U V
System
÷÷V \
.
÷÷\ ]
Drawing
÷÷] d
.
÷÷d e
Imaging
÷÷e l
.
÷÷l m
Encoder
÷÷m t
.
÷÷t u
Quality
÷÷u |
,
÷÷| }
quality÷÷~ Ö
)÷÷Ö Ü
;÷÷Ü á
resizedBitmap
◊◊( 5
.
◊◊5 6
Save
◊◊6 :
(
◊◊: ;
imageFilePath
◊◊; H
,
◊◊H I
	codecInfo
◊◊J S
,
◊◊S T
encoderParams
◊◊U b
)
◊◊b c
;
◊◊c d
}
ÿÿ$ %
break
⁄⁄$ )
;
⁄⁄) *
case
››  $
$str
››% 0
:
››0 1
resizedBitmap
ﬁﬁ$ 1
.
ﬁﬁ1 2
Save
ﬁﬁ2 6
(
ﬁﬁ6 7
imageFilePath
ﬁﬁ7 D
,
ﬁﬁD E
ImageFormat
ﬁﬁF Q
.
ﬁﬁQ R
Gif
ﬁﬁR U
)
ﬁﬁU V
;
ﬁﬁV W
break
ﬂﬂ$ )
;
ﬂﬂ) *
case
··  $
$str
··% 0
:
··0 1
resizedBitmap
‚‚$ 1
.
‚‚1 2
Save
‚‚2 6
(
‚‚6 7
imageFilePath
‚‚7 D
,
‚‚D E
ImageFormat
‚‚F Q
.
‚‚Q R
Png
‚‚R U
)
‚‚U V
;
‚‚V W
break
„„$ )
;
„„) *
}
ÂÂ 
}
ÁÁ 
}
ÈÈ 
}
ÎÎ 
}
ÓÓ 
catch
ÔÔ 
(
ÔÔ "
OutOfMemoryException
ÔÔ '
ex
ÔÔ( *
)
ÔÔ* +
{
 
log
ÒÒ 
.
ÒÒ 
Error
ÒÒ 
(
ÒÒ 
ex
ÒÒ 
)
ÒÒ 
;
ÒÒ 
return
ÚÚ 
;
ÚÚ 
}
ÛÛ 
catch
ÙÙ 
(
ÙÙ 
ArgumentException
ÙÙ $
ex
ÙÙ% '
)
ÙÙ' (
{
ıı 
log
ˆˆ 
.
ˆˆ 
Error
ˆˆ 
(
ˆˆ 
ex
ˆˆ 
)
ˆˆ 
;
ˆˆ 
return
˜˜ 
;
˜˜ 
}
¯¯ 
catch
˘˘ 
(
˘˘ 
System
˘˘ 
.
˘˘ 
Runtime
˘˘ !
.
˘˘! "
InteropServices
˘˘" 1
.
˘˘1 2
ExternalException
˘˘2 C
ex
˘˘D F
)
˘˘F G
{
˙˙ 
log
˚˚ 
.
˚˚ 
Error
˚˚ 
(
˚˚ 
ex
˚˚ 
)
˚˚ 
;
˚˚ 
return
¸¸ 
;
¸¸ 
}
˝˝ 
try
ˇˇ 
{
ÄÄ 
if
ÅÅ 
(
ÅÅ 
File
ÅÅ 
.
ÅÅ 
Exists
ÅÅ 
(
ÅÅ  
tmpFilePath
ÅÅ  +
)
ÅÅ+ ,
)
ÅÅ, -
{
ÅÅ. /
File
ÅÅ0 4
.
ÅÅ4 5
Delete
ÅÅ5 ;
(
ÅÅ; <
tmpFilePath
ÅÅ< G
)
ÅÅG H
;
ÅÅH I
}
ÅÅJ K
}
ÇÇ 
catch
ÉÉ 
(
ÉÉ 
ArgumentException
ÉÉ $
)
ÉÉ$ %
{
ÉÉ& '
}
ÉÉ( )
catch
ÑÑ 
(
ÑÑ 
IOException
ÑÑ 
)
ÑÑ 
{
ÑÑ  !
}
ÑÑ" #
catch
ÖÖ 
(
ÖÖ #
NotSupportedException
ÖÖ (
)
ÖÖ( )
{
ÖÖ* +
}
ÖÖ, -
}
àà 	
[
éé 	
Obsolete
éé	 
(
éé 
$str
éé U
)
ééU V
]
ééV W
public
èè 
static
èè 
void
èè "
ResizeAndSquareImage
èè /
(
èè/ 0
string
èè0 6
imageFilePath
èè7 D
,
èèD E
string
èèF L
mimeType
èèM U
,
èèU V
int
èèW Z

sideLength
èè[ e
,
èèe f
Color
èèg l
backgroundColor
èèm |
)
èè| }
{
êê 	
if
ëë 
(
ëë 
!
ëë 
File
ëë 
.
ëë 
Exists
ëë 
(
ëë 
imageFilePath
ëë *
)
ëë* +
)
ëë+ ,
{
ëë- .
return
ëë/ 5
;
ëë5 6
}
ëë7 8
string
ìì 
tmpFilePath
ìì 
=
ìì  
imageFilePath
ìì! .
+
ìì/ 0
$str
ìì1 7
+
ìì8 9
Path
ìì: >
.
ìì> ?
GetExtension
ìì? K
(
ììK L
imageFilePath
ììL Y
)
ììY Z
;
ììZ [
try
ïï 
{
ññ 
File
ôô 
.
ôô 
Copy
ôô 
(
ôô 
imageFilePath
ôô '
,
ôô' (
tmpFilePath
ôô) 4
,
ôô4 5
true
ôô6 :
)
ôô: ;
;
ôô; <
using
õõ 
(
õõ 
Image
õõ 
fullsizeImage
õõ *
=
õõ+ ,
Image
õõ- 2
.
õõ2 3
FromFile
õõ3 ;
(
õõ; <
tmpFilePath
õõ< G
)
õõG H
)
õõH I
{
úú 
int
ùù 
a
ùù 
=
ùù 
Math
ùù  
.
ùù  !
Min
ùù! $
(
ùù$ %
fullsizeImage
ùù% 2
.
ùù2 3
Width
ùù3 8
,
ùù8 9
fullsizeImage
ùù: G
.
ùùG H
Height
ùùH N
)
ùùN O
;
ùùO P
var
ûû 
x
ûû 
=
ûû 
(
ûû 
fullsizeImage
ûû *
.
ûû* +
Width
ûû+ 0
-
ûû1 2
a
ûû3 4
)
ûû4 5
/
ûû6 7
$num
ûû8 9
;
ûû9 :
var
üü 
y
üü 
=
üü 
(
üü 
fullsizeImage
üü *
.
üü* +
Height
üü+ 1
-
üü2 3
a
üü4 5
)
üü5 6
/
üü7 8
$num
üü9 :
;
üü: ;
using
°° 
(
°° 
Bitmap
°° !
resizedBitmap
°°" /
=
°°0 1
new
°°2 5
Bitmap
°°6 <
(
°°< =

sideLength
°°= G
,
°°G H

sideLength
°°I S
,
°°S T
PixelFormat
°°U `
.
°°` a
Format24bppRgb
°°a o
)
°°o p
)
°°p q
{
¢¢ 
using
££ 
(
££ 
Graphics
££ '
graphics
££( 0
=
££1 2
Graphics
££3 ;
.
££; <
	FromImage
££< E
(
££E F
resizedBitmap
££F S
)
££S T
)
££T U
{
§§ 
graphics
•• $
.
••$ % 
CompositingQuality
••% 7
=
••8 9 
CompositingQuality
••: L
.
••L M
HighQuality
••M X
;
••X Y
graphics
¶¶ $
.
¶¶$ %
SmoothingMode
¶¶% 2
=
¶¶3 4
SmoothingMode
¶¶5 B
.
¶¶B C
HighQuality
¶¶C N
;
¶¶N O
graphics
ßß $
.
ßß$ %
InterpolationMode
ßß% 6
=
ßß7 8
InterpolationMode
ßß9 J
.
ßßJ K 
HighQualityBicubic
ßßK ]
;
ßß] ^
if
©© 
(
©©  
backgroundColor
©©  /
!=
©©0 2
null
©©3 7
)
©©7 8
{
©©9 :
graphics
©©; C
.
©©C D
Clear
©©D I
(
©©I J
backgroundColor
©©J Y
)
©©Y Z
;
©©Z [
}
©©\ ]
var
´´ 
imageRectangle
´´  .
=
´´/ 0
new
´´1 4
	Rectangle
´´5 >
(
´´> ?
$num
´´? @
,
´´@ A
$num
´´B C
,
´´C D

sideLength
´´E O
,
´´O P

sideLength
´´Q [
)
´´[ \
;
´´\ ]
graphics
≠≠ $
.
≠≠$ %
	DrawImage
≠≠% .
(
≠≠. /
fullsizeImage
≠≠/ <
,
≠≠< =
imageRectangle
≠≠> L
,
≠≠L M
x
≠≠N O
,
≠≠O P
y
≠≠Q R
,
≠≠R S
a
≠≠T U
,
≠≠U V
a
≠≠W X
,
≠≠X Y
GraphicsUnit
≠≠Z f
.
≠≠f g
Pixel
≠≠g l
)
≠≠l m
;
≠≠m n
}
ØØ 
switch
±± 
(
±±  
mimeType
±±  (
)
±±( )
{
≤≤ 
case
≥≥  
$str
≥≥! -
:
≥≥- .
ImageCodecInfo
¥¥  .
	codecInfo
¥¥/ 8
=
¥¥9 :
GetEncoderInfo
¥¥; I
(
¥¥I J
mimeType
¥¥J R
)
¥¥R S
;
¥¥S T
if
µµ  "
(
µµ# $
	codecInfo
µµ$ -
==
µµ. 0
null
µµ1 5
)
µµ5 6
{
µµ7 8
return
µµ9 ?
;
µµ? @
}
µµA B
using
∂∂  %
(
∂∂& '
EncoderParameters
∂∂' 8
encoderParams
∂∂9 F
=
∂∂G H
new
∂∂I L
EncoderParameters
∂∂M ^
(
∂∂^ _
$num
∂∂_ `
)
∂∂` a
)
∂∂a b
{
∑∑  !
long
∏∏$ (
quality
∏∏) 0
=
∏∏1 2
$num
∏∏3 5
;
∏∏5 6
encoderParams
∫∫$ 1
.
∫∫1 2
Param
∫∫2 7
[
∫∫7 8
$num
∫∫8 9
]
∫∫9 :
=
∫∫; <
new
∫∫= @
EncoderParameter
∫∫A Q
(
∫∫Q R
System
∫∫R X
.
∫∫X Y
Drawing
∫∫Y `
.
∫∫` a
Imaging
∫∫a h
.
∫∫h i
Encoder
∫∫i p
.
∫∫p q
Quality
∫∫q x
,
∫∫x y
quality∫∫z Å
)∫∫Å Ç
;∫∫Ç É
resizedBitmap
ªª$ 1
.
ªª1 2
Save
ªª2 6
(
ªª6 7
imageFilePath
ªª7 D
,
ªªD E
	codecInfo
ªªF O
,
ªªO P
encoderParams
ªªQ ^
)
ªª^ _
;
ªª_ `
}
ºº  !
break
ææ  %
;
ææ% &
case
¡¡  
$str
¡¡! ,
:
¡¡, -
resizedBitmap
¬¬  -
.
¬¬- .
Save
¬¬. 2
(
¬¬2 3
imageFilePath
¬¬3 @
,
¬¬@ A
ImageFormat
¬¬B M
.
¬¬M N
Gif
¬¬N Q
)
¬¬Q R
;
¬¬R S
break
√√  %
;
√√% &
case
≈≈  
$str
≈≈! ,
:
≈≈, -
resizedBitmap
∆∆  -
.
∆∆- .
Save
∆∆. 2
(
∆∆2 3
imageFilePath
∆∆3 @
,
∆∆@ A
ImageFormat
∆∆B M
.
∆∆M N
Png
∆∆N Q
)
∆∆Q R
;
∆∆R S
break
««  %
;
««% &
}
…… 
}
ÀÀ 
}
ÕÕ 
if
œœ 
(
œœ 
File
œœ 
.
œœ 
Exists
œœ 
(
œœ  
tmpFilePath
œœ  +
)
œœ+ ,
)
œœ, -
{
œœ. /
File
œœ0 4
.
œœ4 5
Delete
œœ5 ;
(
œœ; <
tmpFilePath
œœ< G
)
œœG H
;
œœH I
}
œœJ K
}
–– 
catch
—— 
(
—— "
OutOfMemoryException
—— '
ex
——( *
)
——* +
{
““ 
log
”” 
.
”” 
Error
”” 
(
”” 
ex
”” 
)
”” 
;
”” 
return
‘‘ 
;
‘‘ 
}
’’ 
catch
÷÷ 
(
÷÷ 
ArgumentException
÷÷ $
ex
÷÷% '
)
÷÷' (
{
◊◊ 
log
ÿÿ 
.
ÿÿ 
Error
ÿÿ 
(
ÿÿ 
ex
ÿÿ 
)
ÿÿ 
;
ÿÿ 
return
ŸŸ 
;
ŸŸ 
}
⁄⁄ 
catch
€€ 
(
€€ 
System
€€ 
.
€€ 
Runtime
€€ !
.
€€! "
InteropServices
€€" 1
.
€€1 2
ExternalException
€€2 C
ex
€€D F
)
€€F G
{
‹‹ 
log
›› 
.
›› 
Error
›› 
(
›› 
ex
›› 
)
›› 
;
›› 
return
ﬁﬁ 
;
ﬁﬁ 
}
ﬂﬂ 
}
„„ 	
[
ËË 
Obsolete
ËË 
(
ËË 
$str
ËË T
)
ËËT U
]
ËËU V
public
ÈÈ 
static
ÈÈ 
void
ÈÈ 
	CropImage
ÈÈ $
(
ÈÈ$ %
string
ÈÈ% +
imageFilePath
ÈÈ, 9
,
ÈÈ9 :
string
ÈÈ; A
destFilePath
ÈÈB N
,
ÈÈN O
string
ÈÈP V
mimeType
ÈÈW _
,
ÈÈ_ `
int
ÈÈa d
width
ÈÈe j
,
ÈÈj k
int
ÈÈl o
height
ÈÈp v
,
ÈÈv w
int
ÈÈx {
x
ÈÈ| }
,
ÈÈ} ~
intÈÈ Ç
yÈÈÉ Ñ
,ÈÈÑ Ö
ColorÈÈÜ ã
backgroundColorÈÈå õ
)ÈÈõ ú
{
ÍÍ 	
if
ÎÎ 
(
ÎÎ 
!
ÎÎ 
File
ÎÎ 
.
ÎÎ 
Exists
ÎÎ 
(
ÎÎ 
imageFilePath
ÎÎ *
)
ÎÎ* +
)
ÎÎ+ ,
{
ÎÎ- .
return
ÎÎ/ 5
;
ÎÎ5 6
}
ÎÎ7 8
string
ÌÌ 
tmpFilePath
ÌÌ 
=
ÌÌ  
imageFilePath
ÌÌ! .
+
ÌÌ/ 0
$str
ÌÌ1 7
+
ÌÌ8 9
Path
ÌÌ: >
.
ÌÌ> ?
GetExtension
ÌÌ? K
(
ÌÌK L
imageFilePath
ÌÌL Y
)
ÌÌY Z
;
ÌÌZ [
try
ÔÔ 
{
 
File
ÛÛ 
.
ÛÛ 
Copy
ÛÛ 
(
ÛÛ 
imageFilePath
ÛÛ '
,
ÛÛ' (
tmpFilePath
ÛÛ) 4
,
ÛÛ4 5
true
ÛÛ6 :
)
ÛÛ: ;
;
ÛÛ; <
using
ıı 
(
ıı 
Image
ıı 
fullsizeImage
ıı *
=
ıı+ ,
Image
ıı- 2
.
ıı2 3
FromFile
ıı3 ;
(
ıı; <
tmpFilePath
ıı< G
)
ııG H
)
ııH I
{
ˆˆ 
using
˚˚ 
(
˚˚ 
Bitmap
˚˚ !
resizedBitmap
˚˚" /
=
˚˚0 1
new
˚˚2 5
Bitmap
˚˚6 <
(
˚˚< =
width
˚˚= B
,
˚˚B C
height
˚˚D J
,
˚˚J K
PixelFormat
˚˚L W
.
˚˚W X
Format24bppRgb
˚˚X f
)
˚˚f g
)
˚˚g h
{
¸¸ 
using
˝˝ 
(
˝˝ 
Graphics
˝˝ '
graphics
˝˝( 0
=
˝˝1 2
Graphics
˝˝3 ;
.
˝˝; <
	FromImage
˝˝< E
(
˝˝E F
resizedBitmap
˝˝F S
)
˝˝S T
)
˝˝T U
{
˛˛ 
graphics
ˇˇ $
.
ˇˇ$ % 
CompositingQuality
ˇˇ% 7
=
ˇˇ8 9 
CompositingQuality
ˇˇ: L
.
ˇˇL M
HighQuality
ˇˇM X
;
ˇˇX Y
graphics
ÄÄ $
.
ÄÄ$ %
SmoothingMode
ÄÄ% 2
=
ÄÄ3 4
SmoothingMode
ÄÄ5 B
.
ÄÄB C
HighQuality
ÄÄC N
;
ÄÄN O
graphics
ÅÅ $
.
ÅÅ$ %
InterpolationMode
ÅÅ% 6
=
ÅÅ7 8
InterpolationMode
ÅÅ9 J
.
ÅÅJ K 
HighQualityBicubic
ÅÅK ]
;
ÅÅ] ^
if
ÉÉ 
(
ÉÉ  
backgroundColor
ÉÉ  /
!=
ÉÉ0 2
null
ÉÉ3 7
)
ÉÉ7 8
{
ÉÉ9 :
graphics
ÉÉ; C
.
ÉÉC D
Clear
ÉÉD I
(
ÉÉI J
backgroundColor
ÉÉJ Y
)
ÉÉY Z
;
ÉÉZ [
}
ÉÉ\ ]
var
ÖÖ 
imageRectangle
ÖÖ  .
=
ÖÖ/ 0
new
ÖÖ1 4
	Rectangle
ÖÖ5 >
(
ÖÖ> ?
$num
ÖÖ? @
,
ÖÖ@ A
$num
ÖÖB C
,
ÖÖC D
width
ÖÖE J
,
ÖÖJ K
height
ÖÖL R
)
ÖÖR S
;
ÖÖS T
graphics
áá $
.
áá$ %
	DrawImage
áá% .
(
áá. /
fullsizeImage
áá/ <
,
áá< =
imageRectangle
áá> L
,
ááL M
x
ááN O
,
ááO P
y
ááQ R
,
ááR S
width
ááT Y
,
ááY Z
height
áá[ a
,
ááa b
GraphicsUnit
áác o
.
ááo p
Pixel
ááp u
)
ááu v
;
ááv w
}
ââ 
switch
ãã 
(
ãã  
mimeType
ãã  (
)
ãã( )
{
åå 
case
çç  
$str
çç! -
:
çç- .
ImageCodecInfo
éé  .
	codecInfo
éé/ 8
=
éé9 :
GetEncoderInfo
éé; I
(
ééI J
mimeType
ééJ R
)
ééR S
;
ééS T
if
èè  "
(
èè# $
	codecInfo
èè$ -
==
èè. 0
null
èè1 5
)
èè5 6
{
èè7 8
return
èè9 ?
;
èè? @
}
èèA B
using
êê  %
(
êê& '
EncoderParameters
êê' 8
encoderParams
êê9 F
=
êêG H
new
êêI L
EncoderParameters
êêM ^
(
êê^ _
$num
êê_ `
)
êê` a
)
êêa b
{
ëë  !
long
íí$ (
quality
íí) 0
=
íí1 2
$num
íí3 5
;
íí5 6
encoderParams
îî$ 1
.
îî1 2
Param
îî2 7
[
îî7 8
$num
îî8 9
]
îî9 :
=
îî; <
new
îî= @
EncoderParameter
îîA Q
(
îîQ R
System
îîR X
.
îîX Y
Drawing
îîY `
.
îî` a
Imaging
îîa h
.
îîh i
Encoder
îîi p
.
îîp q
Quality
îîq x
,
îîx y
qualityîîz Å
)îîÅ Ç
;îîÇ É
if
ïï$ &
(
ïï' (
destFilePath
ïï( 4
.
ïï4 5
Length
ïï5 ;
>
ïï< =
$num
ïï> ?
)
ïï? @
{
ññ$ %
resizedBitmap
óó( 5
.
óó5 6
Save
óó6 :
(
óó: ;
destFilePath
óó; G
,
óóG H
	codecInfo
óóI R
,
óóR S
encoderParams
óóT a
)
óóa b
;
óób c
}
òò$ %
else
ôô$ (
{
öö$ %
resizedBitmap
õõ( 5
.
õõ5 6
Save
õõ6 :
(
õõ: ;
imageFilePath
õõ; H
,
õõH I
	codecInfo
õõJ S
,
õõS T
encoderParams
õõU b
)
õõb c
;
õõc d
}
úú$ %
}
ùù  !
break
üü  %
;
üü% &
case
¢¢  
$str
¢¢! ,
:
¢¢, -
if
££  "
(
££# $
destFilePath
££$ 0
.
££0 1
Length
££1 7
>
££8 9
$num
££: ;
)
££; <
{
§§  !
resizedBitmap
••$ 1
.
••1 2
Save
••2 6
(
••6 7
destFilePath
••7 C
,
••C D
ImageFormat
••E P
.
••P Q
Gif
••Q T
)
••T U
;
••U V
}
¶¶  !
else
ßß  $
{
®®  !
resizedBitmap
©©$ 1
.
©©1 2
Save
©©2 6
(
©©6 7
imageFilePath
©©7 D
,
©©D E
ImageFormat
©©F Q
.
©©Q R
Gif
©©R U
)
©©U V
;
©©V W
}
™™  !
break
´´  %
;
´´% &
case
≠≠  
$str
≠≠! ,
:
≠≠, -
if
ÆÆ  "
(
ÆÆ# $
destFilePath
ÆÆ$ 0
.
ÆÆ0 1
Length
ÆÆ1 7
>
ÆÆ8 9
$num
ÆÆ: ;
)
ÆÆ; <
{
ØØ  !
resizedBitmap
∞∞$ 1
.
∞∞1 2
Save
∞∞2 6
(
∞∞6 7
destFilePath
∞∞7 C
,
∞∞C D
ImageFormat
∞∞E P
.
∞∞P Q
Png
∞∞Q T
)
∞∞T U
;
∞∞U V
}
±±  !
else
≤≤  $
{
≥≥  !
resizedBitmap
¥¥$ 1
.
¥¥1 2
Save
¥¥2 6
(
¥¥6 7
imageFilePath
¥¥7 D
,
¥¥D E
ImageFormat
¥¥F Q
.
¥¥Q R
Png
¥¥R U
)
¥¥U V
;
¥¥V W
}
µµ  !
break
∂∂  %
;
∂∂% &
}
∏∏ 
}
∫∫ 
}
ºº 
if
ææ 
(
ææ 
File
ææ 
.
ææ 
Exists
ææ 
(
ææ  
tmpFilePath
ææ  +
)
ææ+ ,
)
ææ, -
{
ææ. /
File
ææ0 4
.
ææ4 5
Delete
ææ5 ;
(
ææ; <
tmpFilePath
ææ< G
)
ææG H
;
ææH I
}
ææJ K
}
øø 
catch
¿¿ 
(
¿¿ "
OutOfMemoryException
¿¿ '
ex
¿¿( *
)
¿¿* +
{
¡¡ 
log
¬¬ 
.
¬¬ 
Error
¬¬ 
(
¬¬ 
ex
¬¬ 
)
¬¬ 
;
¬¬ 
return
√√ 
;
√√ 
}
ƒƒ 
catch
≈≈ 
(
≈≈ 
ArgumentException
≈≈ $
ex
≈≈% '
)
≈≈' (
{
∆∆ 
log
«« 
.
«« 
Error
«« 
(
«« 
ex
«« 
)
«« 
;
«« 
return
»» 
;
»» 
}
…… 
catch
   
(
   
System
   
.
   
Runtime
   !
.
  ! "
InteropServices
  " 1
.
  1 2
ExternalException
  2 C
ex
  D F
)
  F G
{
ÀÀ 
log
ÃÃ 
.
ÃÃ 
Error
ÃÃ 
(
ÃÃ 
ex
ÃÃ 
)
ÃÃ 
;
ÃÃ 
return
ÕÕ 
;
ÕÕ 
}
ŒŒ 
}
““ 	
[
ÿÿ 	
Obsolete
ÿÿ	 
(
ÿÿ 
$str
ÿÿ U
)
ÿÿU V
]
ÿÿV W
public
ŸŸ 
static
ŸŸ	 
void
ŸŸ  
SetExifInformation
ŸŸ '
(
ŸŸ' (
Bitmap
ŸŸ( .
bitmap
ŸŸ/ 5
,
ŸŸ5 6
XmlDocument
ŸŸ7 B
imageMetaData
ŸŸC P
)
ŸŸP Q
{
⁄⁄ 
if
€€ 
(
€€ 
(
€€ 
bitmap
€€ 
!=
€€ 
null
€€ 
)
€€ 
&&
€€ 
(
€€ 
imageMetaData
€€ &
!=
€€' )
null
€€* .
)
€€. /
)
€€/ 0
{
‹‹ 
foreach
›› 
(
›› 
PropertyItem
›› 
pi
›› 
in
›› 
bitmap
›› %
.
››% &
PropertyItems
››& 3
)
››3 4
{
ﬁﬁ 
switch
ﬂﬂ 
(
ﬂﬂ 
pi
ﬂﬂ 
.
ﬂﬂ 
Id
ﬂﬂ 
)
ﬂﬂ 
{
‡‡ 
case
ÙÙ 

$num
ÙÙ 
:
ÙÙ 
SetMetadata
ıı 
(
ıı 
$str
ıı 
,
ıı &
ConvertByteArrayToString
ıı  8
(
ıı8 9
pi
ıı9 ;
.
ıı; <
Value
ıı< A
)
ııA B
,
ııB C
imageMetaData
ııD Q
)
ııQ R
;
ııR S
break
ˆˆ 
;
ˆˆ 
case
˜˜ 

$num
˜˜ 
:
˜˜ 
SetMetadata
¯¯ 
(
¯¯ 
$str
¯¯ 
,
¯¯  &
ConvertByteArrayToString
¯¯! 9
(
¯¯9 :
pi
¯¯: <
.
¯¯< =
Value
¯¯= B
)
¯¯B C
,
¯¯C D
imageMetaData
¯¯E R
)
¯¯R S
;
¯¯S T
break
˘˘ 
;
˘˘ 
case
˙˙ 

$num
˙˙ 
:
˙˙ 
switch
˚˚ 
(
˚˚ %
ConvertByteArrayToShort
˚˚ $
(
˚˚$ %
pi
˚˚% '
.
˚˚' (
Value
˚˚( -
)
˚˚- .
)
˚˚. /
{
¸¸ 
case
˝˝ 
$num
˝˝ 
:
˝˝ 
SetMetadata
˛˛ 
(
˛˛ 
$str
˛˛ !
,
˛˛! "
$str
˛˛# /
,
˛˛/ 0
imageMetaData
˛˛1 >
)
˛˛> ?
;
˛˛? @
break
ˇˇ 
;
ˇˇ 
case
ÄÄ 
$num
ÄÄ 
:
ÄÄ 
SetMetadata
ÅÅ 
(
ÅÅ 
$str
ÅÅ !
,
ÅÅ! "
$str
ÅÅ# 0
,
ÅÅ0 1
imageMetaData
ÅÅ2 ?
)
ÅÅ? @
;
ÅÅ@ A
break
ÇÇ 
;
ÇÇ 
case
ÉÉ 
$num
ÉÉ 
:
ÉÉ 
SetMetadata
ÑÑ 
(
ÑÑ 
$str
ÑÑ !
,
ÑÑ! "
$str
ÑÑ# 0
,
ÑÑ0 1
imageMetaData
ÑÑ2 ?
)
ÑÑ? @
;
ÑÑ@ A
break
ÖÖ 
;
ÖÖ 
case
ÜÜ 
$num
ÜÜ 
:
ÜÜ 
SetMetadata
áá 
(
áá 
$str
áá !
,
áá! "
$str
áá# /
,
áá/ 0
imageMetaData
áá1 >
)
áá> ?
;
áá? @
break
àà 
;
àà 
case
ââ 
$num
ââ 
:
ââ 
SetMetadata
ää 
(
ää 
$str
ää !
,
ää! "
$str
ää# 7
,
ää7 8
imageMetaData
ää9 F
)
ääF G
;
ääG H
break
ãã 
;
ãã 
case
åå 
$num
åå 
:
åå 
SetMetadata
çç 
(
çç 
$str
çç !
,
çç! "
$str
çç# 8
,
çç8 9
imageMetaData
çç: G
)
ççG H
;
ççH I
break
éé 
;
éé 
case
èè 
$num
èè 
:
èè 
SetMetadata
êê 
(
êê 
$str
êê !
,
êê! "
$str
êê# 8
,
êê8 9
imageMetaData
êê: G
)
êêG H
;
êêH I
break
ëë 
;
ëë 
case
íí 
$num
íí 
:
íí 
SetMetadata
ìì 
(
ìì 
$str
ìì !
,
ìì! "
$str
ìì# 7
,
ìì7 8
imageMetaData
ìì9 F
)
ììF G
;
ììG H
break
îî 
;
îî 
}
ïï 
break
ññ 
;
ññ 
case
óó 

$num
óó 
:
óó 
SetMetadata
òò 
(
òò 
$str
òò  
,
òò  !(
ConvertByteArrayToRational
òò" <
(
òò< =
pi
òò= ?
.
òò? @
Value
òò@ E
)
òòE F
,
òòF G
imageMetaData
òòH U
)
òòU V
;
òòV W
break
ôô 
;
ôô 
case
öö 

$num
öö 
:
öö 
SetMetadata
õõ 
(
õõ 
$str
õõ  
,
õõ  !(
ConvertByteArrayToRational
õõ" <
(
õõ< =
pi
õõ= ?
.
õõ? @
Value
õõ@ E
)
õõE F
,
õõF G
imageMetaData
õõH U
)
õõU V
;
õõV W
break
úú 
;
úú 
case
ùù 

$num
ùù 
:
ùù 
SetMetadata
ûû 
(
ûû 
$str
ûû #
,
ûû# $%
ConvertByteArrayToShort
ûû% <
(
ûû< =
pi
ûû= ?
.
ûû? @
Value
ûû@ E
)
ûûE F
.
ûûF G
ToString
ûûG O
(
ûûO P
)
ûûP Q
,
ûûQ R
imageMetaData
ûûS `
)
ûû` a
;
ûûa b
break
üü 
;
üü 
case
†† 

$num
†† 
:
†† 
SetMetadata
°° 
(
°° 
$str
°° 
,
°° &
ConvertByteArrayToString
°° 7
(
°°7 8
pi
°°8 :
.
°°: ;
Value
°°; @
)
°°@ A
,
°°A B
imageMetaData
°°C P
)
°°P Q
;
°°Q R
break
¢¢ 
;
¢¢ 
case
££ 

$num
££ 
:
££ 
SetMetadata
§§ 
(
§§ 
$str
§§ %
,
§§% &%
ConvertByteArrayToShort
§§' >
(
§§> ?
pi
§§? A
.
§§A B
Value
§§B G
)
§§G H
.
§§H I
ToString
§§I Q
(
§§Q R
)
§§R S
,
§§S T
imageMetaData
§§U b
)
§§b c
;
§§c d
break
•• 
;
•• 
case
¶¶ 

$num
¶¶ 
:
¶¶ 
SetMetadata
ßß 
(
ßß 
$str
ßß #
,
ßß# $$
ConvertByteArrayToLong
ßß% ;
(
ßß; <
pi
ßß< >
.
ßß> ?
Value
ßß? D
)
ßßD E
.
ßßE F
ToString
ßßF N
(
ßßN O
)
ßßO P
,
ßßP Q
imageMetaData
ßßR _
)
ßß_ `
;
ßß` a
break
®® 
;
®® 
case
©© 

$num
©© 
:
©© 
SetMetadata
™™ 
(
™™ 
$str
™™  
,
™™  !%
ConvertByteArrayToShort
™™" 9
(
™™9 :
pi
™™: <
.
™™< =
Value
™™= B
)
™™B C
.
™™C D
ToString
™™D L
(
™™L M
)
™™M N
,
™™N O
imageMetaData
™™P ]
)
™™] ^
;
™™^ _
break
´´ 
;
´´ 
case
¨¨ 

$num
¨¨ 
:
¨¨ 
SetMetadata
≠≠ 
(
≠≠ 
$str
≠≠ 
,
≠≠  $
ConvertByteArrayToLong
≠≠! 7
(
≠≠7 8
pi
≠≠8 :
.
≠≠: ;
Value
≠≠; @
)
≠≠@ A
.
≠≠A B
ToString
≠≠B J
(
≠≠J K
)
≠≠K L
,
≠≠L M
imageMetaData
≠≠N [
)
≠≠[ \
;
≠≠\ ]
break
ÆÆ 
;
ÆÆ 
case
ØØ 

$num
ØØ 
:
ØØ 
SetMetadata
∞∞ 
(
∞∞ 
$str
∞∞  
,
∞∞  !$
ConvertByteArrayToLong
∞∞" 8
(
∞∞8 9
pi
∞∞9 ;
.
∞∞; <
Value
∞∞< A
)
∞∞A B
.
∞∞B C
ToString
∞∞C K
(
∞∞K L
)
∞∞L M
,
∞∞M N
imageMetaData
∞∞O \
)
∞∞\ ]
;
∞∞] ^
break
±± 
;
±± 
case
≤≤ 

$num
≤≤ 
:
≤≤ 
SetMetadata
≥≥ 
(
≥≥ 
$str
≥≥ "
,
≥≥" #%
ConvertByteArrayToShort
≥≥$ ;
(
≥≥; <
pi
≥≥< >
.
≥≥> ?
Value
≥≥? D
)
≥≥D E
.
≥≥E F
ToString
≥≥F N
(
≥≥N O
)
≥≥O P
,
≥≥P Q
imageMetaData
≥≥R _
)
≥≥_ `
;
≥≥` a
break
¥¥ 
;
¥¥ 
case
µµ 

$num
µµ 
:
µµ 
SetMetadata
∂∂ 
(
∂∂ 
$str
∂∂  
,
∂∂  !%
ConvertByteArrayToShort
∂∂" 9
(
∂∂9 :
pi
∂∂: <
.
∂∂< =
Value
∂∂= B
)
∂∂B C
.
∂∂C D
ToString
∂∂D L
(
∂∂L M
)
∂∂M N
,
∂∂N O
imageMetaData
∂∂P ]
)
∂∂] ^
;
∂∂^ _
break
∑∑ 
;
∑∑ 
case
∏∏ 

$num
∏∏ 
:
∏∏ 
SetMetadata
ππ 
(
ππ 
$str
ππ &
,
ππ& '%
ConvertByteArrayToShort
ππ( ?
(
ππ? @
pi
ππ@ B
.
ππB C
Value
ππC H
)
ππH I
.
ππI J
ToString
ππJ R
(
ππR S
)
ππS T
,
ππT U
imageMetaData
ππV c
)
ππc d
;
ππd e
break
∫∫ 
;
∫∫ 
case
ªª 

$num
ªª 
:
ªª 
SetMetadata
ºº 
(
ºº 
$str
ºº "
,
ºº" #%
ConvertByteArrayToShort
ºº$ ;
(
ºº; <
pi
ºº< >
.
ºº> ?
Value
ºº? D
)
ººD E
.
ººE F
ToString
ººF N
(
ººN O
)
ººO P
,
ººP Q
imageMetaData
ººR _
)
ºº_ `
;
ºº` a
break
ΩΩ 
;
ΩΩ 
case
ææ 

$num
ææ 
:
ææ 
SetMetadata
øø 
(
øø 
$str
øø 
,
øø %
ConvertByteArrayToShort
øø  7
(
øø7 8
pi
øø8 :
.
øø: ;
Value
øø; @
)
øø@ A
.
øøA B
ToString
øøB J
(
øøJ K
)
øøK L
,
øøL M
imageMetaData
øøN [
)
øø[ \
;
øø\ ]
break
¿¿ 
;
¿¿ 
case
¡¡ 

$num
¡¡ 
:
¡¡ 
SetMetadata
¬¬ 
(
¬¬ 
$str
¬¬ 
,
¬¬  %
ConvertByteArrayToShort
¬¬! 8
(
¬¬8 9
pi
¬¬9 ;
.
¬¬; <
Value
¬¬< A
)
¬¬A B
.
¬¬B C
ToString
¬¬C K
(
¬¬K L
)
¬¬L M
,
¬¬M N
imageMetaData
¬¬O \
)
¬¬\ ]
;
¬¬] ^
break
√√ 
;
√√ 
case
ƒƒ 

$num
ƒƒ 
:
ƒƒ 
SetMetadata
≈≈ 
(
≈≈ 
$str
≈≈ 
,
≈≈ %
ConvertByteArrayToShort
≈≈  7
(
≈≈7 8
pi
≈≈8 :
.
≈≈: ;
Value
≈≈; @
)
≈≈@ A
.
≈≈A B
ToString
≈≈B J
(
≈≈J K
)
≈≈K L
,
≈≈L M
imageMetaData
≈≈N [
)
≈≈[ \
;
≈≈\ ]
break
∆∆ 
;
∆∆ 
case
«« 

$num
«« 
:
«« 
SetMetadata
»» 
(
»» 
$str
»» !
,
»»! "&
ConvertByteArrayToString
»»# ;
(
»»; <
pi
»»< >
.
»»> ?
Value
»»? D
)
»»D E
,
»»E F
imageMetaData
»»H U
)
»»U V
;
»»V W
break
…… 
;
…… 
case
   

$num
   
:
   
SetMetadata
ÀÀ 
(
ÀÀ 
$str
ÀÀ %
,
ÀÀ% &&
ConvertByteArrayToString
ÀÀ' ?
(
ÀÀ? @
pi
ÀÀ@ B
.
ÀÀB C
Value
ÀÀC H
)
ÀÀH I
,
ÀÀI J
imageMetaData
ÀÀK X
)
ÀÀX Y
;
ÀÀY Z
break
ÃÃ 
;
ÃÃ 
case
ÕÕ 

$num
ÕÕ 
:
ÕÕ 
SetMetadata
ŒŒ 
(
ŒŒ 
$str
ŒŒ !
,
ŒŒ! "$
ConvertByteArrayToLong
ŒŒ# 9
(
ŒŒ9 :
pi
ŒŒ: <
.
ŒŒ< =
Value
ŒŒ= B
)
ŒŒB C
.
ŒŒC D
ToString
ŒŒD L
(
ŒŒL M
)
ŒŒM N
,
ŒŒN O
imageMetaData
ŒŒP ]
)
ŒŒ] ^
;
ŒŒ^ _
break
œœ 
;
œœ 
case
–– 

$num
–– 
:
–– 
SetMetadata
—— 
(
—— 
$str
—— $
,
——$ %%
ConvertByteArrayToShort
——& =
(
——= >
pi
——> @
.
——@ A
Value
——A F
)
——F G
.
——G H
ToString
——H P
(
——P Q
)
——Q R
,
——R S
imageMetaData
——T a
)
——a b
;
——b c
break
““ 
;
““ 
case
”” 

$num
”” 
:
”” 
SetMetadata
‘‘ 
(
‘‘ 
$str
‘‘ !
,
‘‘! "$
ConvertByteArrayToLong
‘‘# 9
(
‘‘9 :
pi
‘‘: <
.
‘‘< =
Value
‘‘= B
)
‘‘B C
.
‘‘C D
ToString
‘‘D L
(
‘‘L M
)
‘‘M N
,
‘‘N O
imageMetaData
‘‘P ]
)
‘‘] ^
;
‘‘^ _
break
’’ 
;
’’ 
case
÷÷ 

$num
÷÷ 
:
÷÷ 
SetMetadata
◊◊ 
(
◊◊ 
$str
◊◊ $
,
◊◊$ %$
ConvertByteArrayToLong
◊◊& <
(
◊◊< =
pi
◊◊= ?
.
◊◊? @
Value
◊◊@ E
)
◊◊E F
.
◊◊F G
ToString
◊◊G O
(
◊◊O P
)
◊◊P Q
,
◊◊Q R
imageMetaData
◊◊R _
)
◊◊_ `
;
◊◊` a
break
ÿÿ 
;
ÿÿ 
case
ŸŸ 

$num
ŸŸ 
:
ŸŸ 
SetMetadata
⁄⁄ 
(
⁄⁄ 
$str
⁄⁄ #
,
⁄⁄# $%
ConvertByteArrayToShort
⁄⁄% <
(
⁄⁄< =
pi
⁄⁄= ?
.
⁄⁄? @
Value
⁄⁄@ E
)
⁄⁄E F
.
⁄⁄F G
ToString
⁄⁄G O
(
⁄⁄O P
)
⁄⁄P Q
,
⁄⁄Q R
imageMetaData
⁄⁄S `
)
⁄⁄` a
;
⁄⁄a b
break
€€ 
;
€€ 
case
‹‹ 

$num
‹‹ 
:
‹‹ 
SetMetadata
›› 
(
›› 
$str
›› #
,
››# $%
ConvertByteArrayToShort
››% <
(
››< =
pi
››= ?
.
››? @
Value
››@ E
)
››E F
.
››F G
ToString
››G O
(
››O P
)
››P Q
,
››Q R
imageMetaData
››S `
)
››` a
;
››a b
break
ﬁﬁ 
;
ﬁﬁ 
case
ﬂﬂ 

$num
ﬂﬂ 
:
ﬂﬂ 
SetMetadata
‡‡ 
(
‡‡ 
$str
‡‡ !
,
‡‡! "%
ConvertByteArrayToShort
‡‡# :
(
‡‡: ;
pi
‡‡; =
.
‡‡= >
Value
‡‡> C
)
‡‡C D
.
‡‡D E
ToString
‡‡E M
(
‡‡M N
)
‡‡N O
,
‡‡O P
imageMetaData
‡‡Q ^
)
‡‡^ _
;
‡‡_ `
break
·· 
;
·· 
case
‚‚ 

$num
‚‚ 
:
‚‚ 
SetMetadata
„„ 
(
„„ 
$str
„„ 
,
„„ &
ConvertByteArrayToString
„„ 7
(
„„7 8
pi
„„8 :
.
„„: ;
Value
„„; @
)
„„@ A
,
„„A B
imageMetaData
„„C P
)
„„P Q
;
„„Q R
break
‰‰ 
;
‰‰ 
case
ÂÂ 

$num
ÂÂ 
:
ÂÂ 
SetMetadata
ÊÊ 
(
ÊÊ 
$str
ÊÊ 
,
ÊÊ (
ConvertByteArrayToRational
ÊÊ  :
(
ÊÊ: ;
pi
ÊÊ; =
.
ÊÊ= >
Value
ÊÊ> C
)
ÊÊC D
,
ÊÊD E
imageMetaData
ÊÊF S
)
ÊÊS T
;
ÊÊT U
break
ÁÁ 
;
ÁÁ 
case
ËË 

$num
ËË 
:
ËË 
SetMetadata
ÈÈ 
(
ÈÈ 
$str
ÈÈ 
,
ÈÈ (
ConvertByteArrayToRational
ÈÈ  :
(
ÈÈ: ;
pi
ÈÈ; =
.
ÈÈ= >
Value
ÈÈ> C
)
ÈÈC D
,
ÈÈD E
imageMetaData
ÈÈF S
)
ÈÈS T
;
ÈÈT U
break
ÍÍ 
;
ÍÍ 
case
ÎÎ 

$num
ÎÎ 
:
ÎÎ 
SetMetadata
ÏÏ 
(
ÏÏ 
$str
ÏÏ 
,
ÏÏ  $
ConvertByteArrayToLong
ÏÏ! 7
(
ÏÏ7 8
pi
ÏÏ8 :
.
ÏÏ: ;
Value
ÏÏ; @
)
ÏÏ@ A
.
ÏÏA B
ToString
ÏÏB J
(
ÏÏJ K
)
ÏÏK L
,
ÏÏL M
imageMetaData
ÏÏN [
)
ÏÏ[ \
;
ÏÏ\ ]
break
ÌÌ 
;
ÌÌ 
case
ÓÓ 

$num
ÓÓ 
:
ÓÓ 
SetMetadata
ÔÔ 
(
ÔÔ 
$str
ÔÔ #
,
ÔÔ# $$
ConvertByteArrayToLong
ÔÔ% ;
(
ÔÔ; <
pi
ÔÔ< >
.
ÔÔ> ?
Value
ÔÔ? D
)
ÔÔD E
.
ÔÔE F
ToString
ÔÔF N
(
ÔÔN O
)
ÔÔO P
,
ÔÔP Q
imageMetaData
ÔÔR _
)
ÔÔ_ `
;
ÔÔ` a
break
 
;
 
case
ÒÒ 

$num
ÒÒ 
:
ÒÒ 
SetMetadata
ÚÚ 
(
ÚÚ 
$str
ÚÚ %
,
ÚÚ% &%
ConvertByteArrayToShort
ÚÚ' >
(
ÚÚ> ?
pi
ÚÚ? A
.
ÚÚA B
Value
ÚÚB G
)
ÚÚG H
.
ÚÚH I
ToString
ÚÚI Q
(
ÚÚQ R
)
ÚÚR S
,
ÚÚS T
imageMetaData
ÚÚU b
)
ÚÚb c
;
ÚÚc d
break
ÛÛ 
;
ÛÛ 
case
ÙÙ 

$num
ÙÙ 
:
ÙÙ 
SetMetadata
ıı 
(
ıı 
$str
ıı &
,
ıı& '%
ConvertByteArrayToShort
ıı( ?
(
ıı? @
pi
ıı@ B
.
ııB C
Value
ııC H
)
ııH I
.
ııI J
ToString
ııJ R
(
ııR S
)
ııS T
,
ııT U
imageMetaData
ııV c
)
ııc d
;
ııd e
break
ˆˆ 
;
ˆˆ 
case
˜˜ 

$num
˜˜ 
:
˜˜ 
SetMetadata
¯¯ 
(
¯¯ 
$str
¯¯ 
,
¯¯ $
ConvertByteArrayToLong
¯¯ 5
(
¯¯5 6
pi
¯¯6 8
.
¯¯8 9
Value
¯¯9 >
)
¯¯> ?
.
¯¯? @
ToString
¯¯@ H
(
¯¯H I
)
¯¯I J
,
¯¯J K
imageMetaData
¯¯L Y
)
¯¯Y Z
;
¯¯Z [
break
˘˘ 
;
˘˘ 
case
˙˙ 

$num
˙˙ 
:
˙˙ 
SetMetadata
˚˚ 
(
˚˚ 
$str
˚˚ 
,
˚˚ $
ConvertByteArrayToLong
˚˚ 5
(
˚˚5 6
pi
˚˚6 8
.
˚˚8 9
Value
˚˚9 >
)
˚˚> ?
.
˚˚? @
ToString
˚˚@ H
(
˚˚H I
)
˚˚I J
,
˚˚J K
imageMetaData
˚˚L Y
)
˚˚Y Z
;
˚˚Z [
break
¸¸ 
;
¸¸ 
case
˝˝ 

$num
˝˝ 
:
˝˝ 
SetMetadata
˛˛ 
(
˛˛ 
$str
˛˛ 
,
˛˛  %
ConvertByteArrayToShort
˛˛! 8
(
˛˛8 9
pi
˛˛9 ;
.
˛˛; <
Value
˛˛< A
)
˛˛A B
.
˛˛B C
ToString
˛˛C K
(
˛˛K L
)
˛˛L M
,
˛˛M N
imageMetaData
˛˛O \
)
˛˛\ ]
;
˛˛] ^
break
ˇˇ 
;
ˇˇ 
case
ÄÄ 

$num
ÄÄ 
:
ÄÄ 
SetMetadata
ÅÅ 
(
ÅÅ 
$str
ÅÅ %
,
ÅÅ% &%
ConvertByteArrayToShort
ÅÅ' >
(
ÅÅ> ?
pi
ÅÅ? A
.
ÅÅA B
Value
ÅÅB G
)
ÅÅG H
.
ÅÅH I
ToString
ÅÅI Q
(
ÅÅQ R
)
ÅÅR S
,
ÅÅS T
imageMetaData
ÅÅU b
)
ÅÅb c
;
ÅÅc d
break
ÇÇ 
;
ÇÇ 
case
ÉÉ 

$num
ÉÉ 
:
ÉÉ 
SetMetadata
ÑÑ 
(
ÑÑ 
$str
ÑÑ !
,
ÑÑ! "&
ConvertByteArrayToString
ÑÑ# ;
(
ÑÑ; <
pi
ÑÑ< >
.
ÑÑ> ?
Value
ÑÑ? D
)
ÑÑD E
,
ÑÑE F
imageMetaData
ÑÑG T
)
ÑÑT U
;
ÑÑU V
break
ÖÖ 
;
ÖÖ 
case
ÜÜ 

$num
ÜÜ 
:
ÜÜ 
SetMetadata
áá 
(
áá 
$str
áá 
,
áá &
ConvertByteArrayToString
áá 5
(
áá5 6
pi
áá6 8
.
áá8 9
Value
áá9 >
)
áá> ?
,
áá? @
imageMetaData
ááA N
)
ááN O
;
ááO P
break
àà 
;
àà 
case
ââ 

$num
ââ 
:
ââ 
SetMetadata
ää 
(
ää 
$str
ää !
,
ää! "&
ConvertByteArrayToString
ää# ;
(
ää; <
pi
ää< >
.
ää> ?
Value
ää? D
)
ääD E
,
ääE F
imageMetaData
ääG T
)
ääT U
;
ääU V
break
ãã 
;
ãã 
case
åå 

$num
åå 
:
åå 
SetMetadata
çç 
(
çç 
$str
çç 
,
çç %
ConvertByteArrayToShort
çç  7
(
çç7 8
pi
çç8 :
.
çç: ;
Value
çç; @
)
çç@ A
.
ççA B
ToString
ççB J
(
ççJ K
)
ççK L
,
ççL M
imageMetaData
ççN [
)
çç[ \
;
çç\ ]
break
éé 
;
éé 
case
èè 

$num
èè 
:
èè 
SetMetadata
êê 
(
êê 
$str
êê 
,
êê  (
ConvertByteArrayToRational
êê! ;
(
êê; <
pi
êê< >
.
êê> ?
Value
êê? D
)
êêD E
,
êêE F
imageMetaData
êêG T
)
êêT U
;
êêU V
break
ëë 
;
ëë 
case
íí 

$num
íí 
:
íí 
SetMetadata
ìì 
(
ìì 
$str
ìì *
,
ìì* +(
ConvertByteArrayToRational
ìì, F
(
ììF G
pi
ììG I
.
ììI J
Value
ììJ O
)
ììO P
,
ììP Q
imageMetaData
ììR _
)
ìì_ `
;
ìì` a
break
îî 
;
îî 
case
ïï 

$num
ïï 
:
ïï 
SetMetadata
ññ 
(
ññ 
$str
ññ 
,
ññ %
ConvertByteArrayToShort
ññ 6
(
ññ6 7
pi
ññ7 9
.
ññ9 :
Value
ññ: ?
)
ññ? @
.
ññ@ A
ToString
ññA I
(
ññI J
)
ññJ K
,
ññK L
imageMetaData
ññM Z
)
ññZ [
;
ññ[ \
break
óó 
;
óó 
case
òò 

$num
òò 
:
òò 
SetMetadata
ôô 
(
ôô 
$str
ôô "
,
ôô" #%
ConvertByteArrayToShort
ôô$ ;
(
ôô; <
pi
ôô< >
.
ôô> ?
Value
ôô? D
)
ôôD E
.
ôôE F
ToString
ôôF N
(
ôôN O
)
ôôO P
,
ôôP Q
imageMetaData
ôôR _
)
ôô_ `
;
ôô` a
break
öö 
;
öö 
case
õõ 

$num
õõ 
:
õõ 
SetMetadata
úú 
(
úú 
$str
úú 
,
úú $
ConvertByteArrayToLong
úú  6
(
úú6 7
pi
úú7 9
.
úú9 :
Value
úú: ?
)
úú? @
.
úú@ A
ToString
úúA I
(
úúI J
)
úúJ K
,
úúK L
imageMetaData
úúM Z
)
úúZ [
;
úú[ \
break
ùù 
;
ùù 
case
ûû 

$num
ûû 
:
ûû 
SetMetadata
üü 
(
üü 
$str
üü 
,
üü  $
ConvertByteArrayToLong
üü! 7
(
üü7 8
pi
üü8 :
.
üü: ;
Value
üü; @
)
üü@ A
.
üüA B
ToString
üüB J
(
üüJ K
)
üüK L
,
üüL M
imageMetaData
üüN [
)
üü[ \
;
üü\ ]
break
†† 
;
†† 
case
°° 

$num
°° 
:
°° 
SetMetadata
¢¢ 
(
¢¢ 
$str
¢¢ 
,
¢¢  $
ConvertByteArrayToLong
¢¢! 7
(
¢¢7 8
pi
¢¢8 :
.
¢¢: ;
Value
¢¢; @
)
¢¢@ A
.
¢¢A B
ToString
¢¢B J
(
¢¢J K
)
¢¢K L
,
¢¢L M
imageMetaData
¢¢N [
)
¢¢[ \
;
¢¢\ ]
break
££ 
;
££ 
case
§§ 

$num
§§ 
:
§§ 
SetMetadata
•• 
(
•• 
$str
•• #
,
••# $$
ConvertByteArrayToLong
••% ;
(
••; <
pi
••< >
.
••> ?
Value
••? D
)
••D E
.
••E F
ToString
••F N
(
••N O
)
••O P
,
••P Q
imageMetaData
••R _
)
••_ `
;
••` a
break
¶¶ 
;
¶¶ 
case
ßß 

$num
ßß 
:
ßß 
SetMetadata
®® 
(
®® 
$str
®® 
,
®® %
ConvertByteArrayToShort
®® 4
(
®®4 5
pi
®®5 7
.
®®7 8
Value
®®8 =
)
®®= >
.
®®> ?
ToString
®®? G
(
®®G H
)
®®H I
,
®®I J
imageMetaData
®®K X
)
®®X Y
;
®®Y Z
break
©© 
;
©© 
case
™™ 

$num
™™ 
:
™™ 
SetMetadata
´´ 
(
´´ 
$str
´´ 
,
´´ &
ConvertByteArrayToString
´´ 7
(
´´7 8
pi
´´8 :
.
´´: ;
Value
´´; @
)
´´@ A
,
´´A B
imageMetaData
´´C P
)
´´P Q
;
´´Q R
break
¨¨ 
;
¨¨ 
case
≠≠ 

$num
≠≠ 
:
≠≠ 
SetMetadata
ÆÆ 
(
ÆÆ 
$str
ÆÆ !
,
ÆÆ! "%
ConvertByteArrayToShort
ÆÆ# :
(
ÆÆ: ;
pi
ÆÆ; =
.
ÆÆ= >
Value
ÆÆ> C
)
ÆÆC D
.
ÆÆD E
ToString
ÆÆE M
(
ÆÆM N
)
ÆÆN O
,
ÆÆO P
imageMetaData
ÆÆQ ^
)
ÆÆ^ _
;
ÆÆ_ `
break
ØØ 
;
ØØ 
case
∞∞ 

$num
∞∞ 
:
∞∞ 
SetMetadata
±± 
(
±± 
$str
±± 
,
±± %
ConvertByteArrayToShort
±± 6
(
±±6 7
pi
±±7 9
.
±±9 :
Value
±±: ?
)
±±? @
.
±±@ A
ToString
±±A I
(
±±I J
)
±±J K
,
±±K L
imageMetaData
±±M Z
)
±±Z [
;
±±[ \
break
≤≤ 
;
≤≤ 
case
≥≥ 

$num
≥≥ 
:
≥≥ 
SetMetadata
¥¥ 
(
¥¥ 
$str
¥¥ "
,
¥¥" #&
ConvertByteArrayToString
¥¥$ <
(
¥¥< =
pi
¥¥= ?
.
¥¥? @
Value
¥¥@ E
)
¥¥E F
,
¥¥F G
imageMetaData
¥¥H U
)
¥¥U V
;
¥¥V W
break
µµ 
;
µµ 
case
∂∂ 

$num
∂∂ 
:
∂∂ 
SetMetadata
∑∑ 
(
∑∑ 
$str
∑∑ !
,
∑∑! "%
ConvertByteArrayToShort
∑∑# :
(
∑∑: ;
pi
∑∑; =
.
∑∑= >
Value
∑∑> C
)
∑∑C D
.
∑∑D E
ToString
∑∑E M
(
∑∑M N
)
∑∑N O
,
∑∑O P
imageMetaData
∑∑Q ^
)
∑∑^ _
;
∑∑_ `
break
∏∏ 
;
∏∏ 
case
ππ 

$num
ππ 
:
ππ 
SetMetadata
∫∫ 
(
∫∫ 
$str
∫∫ !
,
∫∫! "%
ConvertByteArrayToShort
∫∫# :
(
∫∫: ;
pi
∫∫; =
.
∫∫= >
Value
∫∫> C
)
∫∫C D
.
∫∫D E
ToString
∫∫E M
(
∫∫M N
)
∫∫N O
,
∫∫O P
imageMetaData
∫∫Q ^
)
∫∫^ _
;
∫∫_ `
break
ªª 
;
ªª 
case
ºº 

$num
ºº 
:
ºº 
SetMetadata
ΩΩ 
(
ΩΩ 
$str
ΩΩ "
,
ΩΩ" #%
ConvertByteArrayToShort
ΩΩ$ ;
(
ΩΩ; <
pi
ΩΩ< >
.
ΩΩ> ?
Value
ΩΩ? D
)
ΩΩD E
.
ΩΩE F
ToString
ΩΩF N
(
ΩΩN O
)
ΩΩO P
,
ΩΩP Q
imageMetaData
ΩΩR _
)
ΩΩ_ `
;
ΩΩ` a
break
ææ 
;
ææ 
case
øø 

$num
øø 
:
øø 
SetMetadata
¿¿ 
(
¿¿ 
$str
¿¿ 
,
¿¿ %
ConvertByteArrayToShort
¿¿ 6
(
¿¿6 7
pi
¿¿7 9
.
¿¿9 :
Value
¿¿: ?
)
¿¿? @
.
¿¿@ A
ToString
¿¿A I
(
¿¿I J
)
¿¿J K
,
¿¿K L
imageMetaData
¿¿M Z
)
¿¿Z [
;
¿¿[ \
break
¡¡ 
;
¡¡ 
case
¬¬ 

$num
¬¬ 
:
¬¬ 
SetMetadata
√√ 
(
√√ 
$str
√√ $
,
√√$ %$
ConvertByteArrayToLong
√√& <
(
√√< =
pi
√√= ?
.
√√? @
Value
√√@ E
)
√√E F
.
√√F G
ToString
√√G O
(
√√O P
)
√√P Q
,
√√Q R
imageMetaData
√√S `
)
√√` a
;
√√a b
break
ƒƒ 
;
ƒƒ 
case
≈≈ 

$num
≈≈ 
:
≈≈ 
SetMetadata
∆∆ 
(
∆∆ 
$str
∆∆ $
,
∆∆$ %$
ConvertByteArrayToLong
∆∆& <
(
∆∆< =
pi
∆∆= ?
.
∆∆? @
Value
∆∆@ E
)
∆∆E F
.
∆∆F G
ToString
∆∆G O
(
∆∆O P
)
∆∆P Q
,
∆∆Q R
imageMetaData
∆∆S `
)
∆∆` a
;
∆∆a b
break
«« 
;
«« 
case
»» 

$num
»» 
:
»» 
SetMetadata
…… 
(
…… 
$str
…… (
,
……( )%
ConvertByteArrayToShort
……* A
(
……A B
pi
……B D
.
……D E
Value
……E J
)
……J K
.
……K L
ToString
……L T
(
……T U
)
……U V
,
……V W
imageMetaData
……X e
)
……e f
;
……f g
break
   
;
   
case
ÀÀ 

$num
ÀÀ 
:
ÀÀ 
SetMetadata
ÃÃ 
(
ÃÃ 
$str
ÃÃ +
,
ÃÃ+ ,%
ConvertByteArrayToShort
ÃÃ- D
(
ÃÃD E
pi
ÃÃE G
.
ÃÃG H
Value
ÃÃH M
)
ÃÃM N
.
ÃÃN O
ToString
ÃÃO W
(
ÃÃW X
)
ÃÃX Y
,
ÃÃY Z
imageMetaData
ÃÃ[ h
)
ÃÃh i
;
ÃÃi j
break
ÕÕ 
;
ÕÕ 
case
ŒŒ 

$num
ŒŒ 
:
ŒŒ 
SetMetadata
œœ 
(
œœ 
$str
œœ (
,
œœ( )%
ConvertByteArrayToShort
œœ* A
(
œœA B
pi
œœB D
.
œœD E
Value
œœE J
)
œœJ K
.
œœK L
ToString
œœL T
(
œœT U
)
œœU V
,
œœV W
imageMetaData
œœX e
)
œœe f
;
œœf g
break
–– 
;
–– 
case
—— 

$num
—— 
:
—— 
SetMetadata
““ 
(
““ 
$str
““  
,
““  !$
ConvertByteArrayToLong
““" 8
(
““8 9
pi
““9 ;
.
““; <
Value
““< A
)
““A B
.
““B C
ToString
““C K
(
““K L
)
““L M
,
““M N
imageMetaData
““O \
)
““\ ]
;
““] ^
break
”” 
;
”” 
case
‘‘ 

$num
‘‘ 
:
‘‘ 
SetMetadata
’’ 
(
’’ 
$str
’’ !
,
’’! "$
ConvertByteArrayToLong
’’# 9
(
’’9 :
pi
’’: <
.
’’< =
Value
’’= B
)
’’B C
.
’’C D
ToString
’’D L
(
’’L M
)
’’M N
,
’’N O
imageMetaData
’’P ]
)
’’] ^
;
’’^ _
break
÷÷ 
;
÷÷ 
case
◊◊ 

$num
◊◊ 
:
◊◊ 
SetMetadata
ÿÿ 
(
ÿÿ 
$str
ÿÿ !
,
ÿÿ! "$
ConvertByteArrayToLong
ÿÿ# 9
(
ÿÿ9 :
pi
ÿÿ: <
.
ÿÿ< =
Value
ÿÿ= B
)
ÿÿB C
.
ÿÿC D
ToString
ÿÿD L
(
ÿÿL M
)
ÿÿM N
,
ÿÿN O
imageMetaData
ÿÿP ]
)
ÿÿ] ^
;
ÿÿ^ _
break
ŸŸ 
;
ŸŸ 
case
⁄⁄ 

$num
⁄⁄ 
:
⁄⁄ 
SetMetadata
€€ 
(
€€ 
$str
€€ &
,
€€& '(
ConvertByteArrayToRational
€€( B
(
€€B C
pi
€€C E
.
€€E F
Value
€€F K
)
€€K L
,
€€L M
imageMetaData
€€N [
)
€€[ \
;
€€\ ]
break
‹‹ 
;
‹‹ 
case
›› 

$num
›› 
:
›› 
SetMetadata
ﬁﬁ 
(
ﬁﬁ 
$str
ﬁﬁ %
,
ﬁﬁ% &%
ConvertByteArrayToShort
ﬁﬁ' >
(
ﬁﬁ> ?
pi
ﬁﬁ? A
.
ﬁﬁA B
Value
ﬁﬁB G
)
ﬁﬁG H
.
ﬁﬁH I
ToString
ﬁﬁI Q
(
ﬁﬁQ R
)
ﬁﬁR S
,
ﬁﬁS T
imageMetaData
ﬁﬁU b
)
ﬁﬁb c
;
ﬁﬁc d
break
ﬂﬂ 
;
ﬂﬂ 
case
‡‡ 

$num
‡‡ 
:
‡‡ 
SetMetadata
·· 
(
·· 
$str
·· "
,
··" #(
ConvertByteArrayToRational
··$ >
(
··> ?
pi
··? A
.
··A B
Value
··B G
)
··G H
,
··H I
imageMetaData
··J W
)
··W X
;
··X Y
break
‚‚ 
;
‚‚ 
case
„„ 

$num
„„ 
:
„„ 
SetMetadata
‰‰ 
(
‰‰ 
$str
‰‰ 
,
‰‰ (
ConvertByteArrayToRational
‰‰ 6
(
‰‰6 7
pi
‰‰7 9
.
‰‰9 :
Value
‰‰: ?
)
‰‰? @
,
‰‰@ A
imageMetaData
‰‰B O
)
‰‰O P
;
‰‰P Q
break
ÂÂ 
;
ÂÂ 
case
ÊÊ 

$num
ÊÊ 
:
ÊÊ 
SetMetadata
ÁÁ 
(
ÁÁ 
$str
ÁÁ )
,
ÁÁ) *&
ConvertByteArrayToString
ÁÁ+ C
(
ÁÁC D
pi
ÁÁD F
.
ÁÁF G
Value
ÁÁG L
)
ÁÁL M
,
ÁÁM N
imageMetaData
ÁÁO \
)
ÁÁ\ ]
;
ÁÁ] ^
break
ËË 
;
ËË 
case
ÈÈ 

$num
ÈÈ 
:
ÈÈ 
switch
ÍÍ 
(
ÍÍ %
ConvertByteArrayToShort
ÍÍ $
(
ÍÍ$ %
pi
ÍÍ% '
.
ÍÍ' (
Value
ÍÍ( -
)
ÍÍ- .
)
ÍÍ. /
{
ÎÎ 
case
ÏÏ 
$num
ÏÏ 
:
ÏÏ 
SetMetadata
ÌÌ 
(
ÌÌ 
$str
ÌÌ )
,
ÌÌ) *
$str
ÌÌ+ 7
,
ÌÌ7 8
imageMetaData
ÌÌ9 F
)
ÌÌF G
;
ÌÌG H
break
ÓÓ 
;
ÓÓ 
case
ÔÔ 
$num
ÔÔ 
:
ÔÔ 
SetMetadata
 
(
 
$str
 )
,
) *
$str
+ B
,
B C
imageMetaData
D Q
)
Q R
;
R S
break
ÒÒ 
;
ÒÒ 
case
ÚÚ 
$num
ÚÚ 
:
ÚÚ 
SetMetadata
ÛÛ 
(
ÛÛ 
$str
ÛÛ )
,
ÛÛ) *
$str
ÛÛ+ 7
,
ÛÛ7 8
imageMetaData
ÛÛ9 F
)
ÛÛF G
;
ÛÛG H
break
ÙÙ 
;
ÙÙ 
case
ıı 
$num
ıı 
:
ıı 
SetMetadata
ˆˆ 
(
ˆˆ 
$str
ˆˆ )
,
ˆˆ) *
$str
ˆˆ+ B
,
ˆˆB C
imageMetaData
ˆˆD Q
)
ˆˆQ R
;
ˆˆR S
break
˜˜ 
;
˜˜ 
}
¯¯ 
break
˘˘ 
;
˘˘ 
case
˙˙ 

$num
˙˙ 
:
˙˙ 
SetMetadata
˚˚ 
(
˚˚ 
$str
˚˚ 
,
˚˚  &
ConvertByteArrayToString
˚˚! 9
(
˚˚9 :
pi
˚˚: <
.
˚˚< =
Value
˚˚= B
)
˚˚B C
,
˚˚C D
imageMetaData
˚˚E R
)
˚˚R S
;
˚˚S T
break
¸¸ 
;
¸¸ 
case
˝˝ 

$num
˝˝ 
:
˝˝ 
SetMetadata
˛˛ 
(
˛˛ 
$str
˛˛ $
,
˛˛$ %%
ConvertByteArrayToShort
˛˛& =
(
˛˛= >
pi
˛˛> @
.
˛˛@ A
Value
˛˛A F
)
˛˛F G
.
˛˛G H
ToString
˛˛H P
(
˛˛P Q
)
˛˛Q R
,
˛˛R S
imageMetaData
˛˛T a
)
˛˛a b
;
˛˛b c
break
ˇˇ 
;
ˇˇ 
case
ÄÄ 

$num
ÄÄ 
:
ÄÄ 
SetMetadata
ÅÅ 
(
ÅÅ 
$str
ÅÅ $
,
ÅÅ$ %%
ConvertByteArrayToShort
ÅÅ& =
(
ÅÅ= >
pi
ÅÅ> @
.
ÅÅ@ A
Value
ÅÅA F
)
ÅÅF G
.
ÅÅG H
ToString
ÅÅH P
(
ÅÅP Q
)
ÅÅQ R
,
ÅÅR S
imageMetaData
ÅÅT a
)
ÅÅa b
;
ÅÅb c
break
ÇÇ 
;
ÇÇ 
case
ÉÉ 

$num
ÉÉ 
:
ÉÉ 
SetMetadata
ÑÑ 
(
ÑÑ 
$str
ÑÑ *
,
ÑÑ* +%
ConvertByteArrayToShort
ÑÑ, C
(
ÑÑC D
pi
ÑÑD F
.
ÑÑF G
Value
ÑÑG L
)
ÑÑL M
.
ÑÑM N
ToString
ÑÑN V
(
ÑÑV W
)
ÑÑW X
,
ÑÑX Y
imageMetaData
ÑÑZ g
)
ÑÑg h
;
ÑÑh i
break
ÖÖ 
;
ÖÖ 
case
ÜÜ 

$num
ÜÜ 
:
ÜÜ 
SetMetadata
áá 
(
áá 
$str
áá *
,
áá* +%
ConvertByteArrayToShort
áá, C
(
ááC D
pi
ááD F
.
ááF G
Value
ááG L
)
ááL M
.
ááM N
ToString
ááN V
(
ááV W
)
ááW X
,
ááX Y
imageMetaData
ááZ g
)
áág h
;
ááh i
break
àà 
;
àà 
case
ââ 

$num
ââ 
:
ââ 
SetMetadata
ää 
(
ää 
$str
ää 
,
ää  &
ConvertByteArrayToString
ää! 9
(
ää9 :
pi
ää: <
.
ää< =
Value
ää= B
)
ääB C
,
ääC D
imageMetaData
ääE R
)
ääR S
;
ääS T
break
ãã 
;
ãã 
case
åå 

$num
åå 
:
åå 
SetMetadata
çç 
(
çç 
$str
çç &
,
çç& '%
ConvertByteArrayToShort
çç( ?
(
çç? @
pi
çç@ B
.
ççB C
Value
ççC H
)
ççH I
.
ççI J
ToString
ççJ R
(
ççR S
)
ççS T
,
ççT U
imageMetaData
ççV c
)
ççc d
;
ççd e
break
éé 
;
éé 
case
èè 

$num
èè 
:
èè 
SetMetadata
êê 
(
êê 
$str
êê #
,
êê# $$
ConvertByteArrayToByte
êê% ;
(
êê; <
pi
êê< >
.
êê> ?
Value
êê? D
)
êêD E
.
êêE F
ToString
êêF N
(
êêN O
)
êêO P
,
êêP Q
imageMetaData
êêR _
)
êê_ `
;
êê` a
break
ëë 
;
ëë 
case
íí 

$num
íí 
:
íí 
SetMetadata
ìì 
(
ìì 
$str
ìì )
,
ìì) *$
ConvertByteArrayToLong
ìì+ A
(
ììA B
pi
ììB D
.
ììD E
Value
ììE J
)
ììJ K
.
ììK L
ToString
ììL T
(
ììT U
)
ììU V
,
ììV W
imageMetaData
ììX e
)
ììe f
;
ììf g
break
îî 
;
îî 
case
ïï 

$num
ïï 
:
ïï 
SetMetadata
ññ 
(
ññ 
$str
ññ .
,
ññ. /%
ConvertByteArrayToShort
ññ0 G
(
ññG H
pi
ññH J
.
ññJ K
Value
ññK P
)
ññP Q
.
ññQ R
ToString
ññR Z
(
ññZ [
)
ññ[ \
,
ññ\ ]
imageMetaData
ññ^ k
)
ññk l
;
ññl m
break
óó 
;
óó 
case
òò 

$num
òò 
:
òò 
SetMetadata
ôô 
(
ôô 
$str
ôô  
,
ôô  !(
ConvertByteArrayToRational
ôô" <
(
ôô< =
pi
ôô= ?
.
ôô? @
Value
ôô@ E
)
ôôE F
,
ôôF G
imageMetaData
ôôH U
)
ôôU V
;
ôôV W
break
öö 
;
öö 
case
õõ 

$num
õõ 
:
õõ 
SetMetadata
úú 
(
úú 
$str
úú $
,
úú$ %%
ConvertByteArrayToShort
úú& =
(
úú= >
pi
úú> @
.
úú@ A
Value
úúA F
)
úúF G
.
úúG H
ToString
úúH P
(
úúP Q
)
úúQ R
,
úúR S
imageMetaData
úúT a
)
úúa b
;
úúb c
break
ùù 
;
ùù 
case
ûû 

$num
ûû 
:
ûû 
SetMetadata
üü 
(
üü 
$str
üü #
,
üü# $(
ConvertByteArrayToRational
üü% ?
(
üü? @
pi
üü@ B
.
üüB C
Value
üüC H
)
üüH I
,
üüI J
imageMetaData
üüK X
)
üüX Y
;
üüY Z
break
†† 
;
†† 
case
°° 

$num
°° 
:
°° 
SetMetadata
¢¢ 
(
¢¢ 
$str
¢¢ "
,
¢¢" #%
ConvertByteArrayToShort
¢¢$ ;
(
¢¢; <
pi
¢¢< >
.
¢¢> ?
Value
¢¢? D
)
¢¢D E
.
¢¢E F
ToString
¢¢F N
(
¢¢N O
)
¢¢O P
,
¢¢P Q
imageMetaData
¢¢R _
)
¢¢_ `
;
¢¢` a
break
££ 
;
££ 
case
§§ 

$num
§§ 
:
§§ 
SetMetadata
•• 
(
•• 
$str
•• !
,
••! "$
ConvertByteArrayToLong
••# 9
(
••9 :
pi
••: <
.
••< =
Value
••= B
)
••B C
.
••C D
ToString
••D L
(
••L M
)
••M N
,
••N O
imageMetaData
••P ]
)
••] ^
;
••^ _
break
¶¶ 
;
¶¶ 
case
ßß 

$num
ßß 
:
ßß 
SetMetadata
®® 
(
®® 
$str
®® #
,
®®# $$
ConvertByteArrayToByte
®®% ;
(
®®; <
pi
®®< >
.
®®> ?
Value
®®? D
)
®®D E
.
®®E F
ToString
®®F N
(
®®N O
)
®®O P
,
®®P Q
imageMetaData
®®R _
)
®®_ `
;
®®` a
break
©© 
;
©© 
case
™™ 

$num
™™ 
:
™™ 
SetMetadata
´´ 
(
´´ 
$str
´´  
,
´´  !%
ConvertByteArrayToShort
´´" 9
(
´´9 :
pi
´´: <
.
´´< =
Value
´´= B
)
´´B C
.
´´C D
ToString
´´D L
(
´´L M
)
´´M N
,
´´N O
imageMetaData
´´P ]
)
´´] ^
;
´´^ _
break
¨¨ 
;
¨¨ 
case
≠≠ 

$num
≠≠ 
:
≠≠ 
SetMetadata
ÆÆ 
(
ÆÆ 
$str
ÆÆ $
,
ÆÆ$ %$
ConvertByteArrayToLong
ÆÆ& <
(
ÆÆ< =
pi
ÆÆ= ?
.
ÆÆ? @
Value
ÆÆ@ E
)
ÆÆE F
.
ÆÆF G
ToString
ÆÆG O
(
ÆÆO P
)
ÆÆP Q
,
ÆÆQ R
imageMetaData
ÆÆS `
)
ÆÆ` a
;
ÆÆa b
break
ØØ 
;
ØØ 
case
∞∞ 

$num
∞∞ 
:
∞∞ 
SetMetadata
±± 
(
±± 
$str
±± #
,
±±# $$
ConvertByteArrayToLong
±±% ;
(
±±; <
pi
±±< >
.
±±> ?
Value
±±? D
)
±±D E
.
±±E F
ToString
±±F N
(
±±N O
)
±±O P
,
±±P Q
imageMetaData
±±R _
)
±±_ `
;
±±` a
break
≤≤ 
;
≤≤ 
case
≥≥ 

$num
≥≥ 
:
≥≥ 
SetMetadata
¥¥ 
(
¥¥ 
$str
¥¥ $
,
¥¥$ %$
ConvertByteArrayToLong
¥¥& <
(
¥¥< =
pi
¥¥= ?
.
¥¥? @
Value
¥¥@ E
)
¥¥E F
.
¥¥F G
ToString
¥¥G O
(
¥¥O P
)
¥¥P Q
,
¥¥Q R
imageMetaData
¥¥S `
)
¥¥` a
;
¥¥a b
break
µµ 
;
µµ 
case
∂∂ 

$num
∂∂ 
:
∂∂ 
SetMetadata
∑∑ 
(
∑∑ 
$str
∑∑ (
,
∑∑( )%
ConvertByteArrayToShort
∑∑* A
(
∑∑A B
pi
∑∑B D
.
∑∑D E
Value
∑∑E J
)
∑∑J K
.
∑∑K L
ToString
∑∑L T
(
∑∑T U
)
∑∑U V
,
∑∑V W
imageMetaData
∑∑X e
)
∑∑e f
;
∑∑f g
break
∏∏ 
;
∏∏ 
case
ππ 

$num
ππ 
:
ππ 
SetMetadata
∫∫ 
(
∫∫ 
$str
∫∫ $
,
∫∫$ %%
ConvertByteArrayToShort
∫∫& =
(
∫∫= >
pi
∫∫> @
.
∫∫@ A
Value
∫∫A F
)
∫∫F G
.
∫∫G H
ToString
∫∫H P
(
∫∫P Q
)
∫∫Q R
,
∫∫R S
imageMetaData
∫∫T a
)
∫∫a b
;
∫∫b c
break
ªª 
;
ªª 
case
ºº 

$num
ºº 
:
ºº 
SetMetadata
ΩΩ 
(
ΩΩ 
$str
ΩΩ &
,
ΩΩ& '$
ConvertByteArrayToLong
ΩΩ( >
(
ΩΩ> ?
pi
ΩΩ? A
.
ΩΩA B
Value
ΩΩB G
)
ΩΩG H
.
ΩΩH I
ToString
ΩΩI Q
(
ΩΩQ R
)
ΩΩR S
,
ΩΩS T
imageMetaData
ΩΩU b
)
ΩΩb c
;
ΩΩc d
break
ææ 
;
ææ 
case
øø 

$num
øø 
:
øø 
SetMetadata
¿¿ 
(
¿¿ 
$str
¿¿ "
,
¿¿" #$
ConvertByteArrayToLong
¿¿$ :
(
¿¿: ;
pi
¿¿; =
.
¿¿= >
Value
¿¿> C
)
¿¿C D
.
¿¿D E
ToString
¿¿E M
(
¿¿M N
)
¿¿N O
,
¿¿O P
imageMetaData
¿¿Q ^
)
¿¿^ _
;
¿¿_ `
break
¡¡ 
;
¡¡ 
case
¬¬ 

$num
¬¬ 
:
¬¬ 
SetMetadata
√√ 
(
√√ 
$str
√√ ,
,
√√, -$
ConvertByteArrayToLong
√√. D
(
√√D E
pi
√√E G
.
√√G H
Value
√√H M
)
√√M N
.
√√N O
ToString
√√O W
(
√√W X
)
√√X Y
,
√√Y Z
imageMetaData
√√[ h
)
√√h i
;
√√i j
break
ƒƒ 
;
ƒƒ 
case
≈≈ 

$num
≈≈ 
:
≈≈ 
SetMetadata
∆∆ 
(
∆∆ 
$str
∆∆ "
,
∆∆" #$
ConvertByteArrayToByte
∆∆$ :
(
∆∆: ;
pi
∆∆; =
.
∆∆= >
Value
∆∆> C
)
∆∆C D
.
∆∆D E
ToString
∆∆E M
(
∆∆M N
)
∆∆N O
,
∆∆O P
imageMetaData
∆∆Q ^
)
∆∆^ _
;
∆∆_ `
break
«« 
;
«« 
case
»» 

$num
»» 
:
»» 
SetMetadata
…… 
(
…… 
$str
…… (
,
……( )$
ConvertByteArrayToLong
……* @
(
……@ A
pi
……A C
.
……C D
Value
……D I
)
……I J
.
……J K
ToString
……K S
(
……S T
)
……T U
,
……U V
imageMetaData
……W d
)
……d e
;
……e f
break
   
;
   
case
ÀÀ 

$num
ÀÀ 
:
ÀÀ 
SetMetadata
ÃÃ 
(
ÃÃ 
$str
ÃÃ )
,
ÃÃ) *$
ConvertByteArrayToLong
ÃÃ+ A
(
ÃÃA B
pi
ÃÃB D
.
ÃÃD E
Value
ÃÃE J
)
ÃÃJ K
.
ÃÃK L
ToString
ÃÃL T
(
ÃÃT U
)
ÃÃU V
,
ÃÃV W
imageMetaData
ÃÃX e
)
ÃÃe f
;
ÃÃf g
break
ÕÕ 
;
ÕÕ 
case
ŒŒ 

$num
ŒŒ 
:
ŒŒ 
SetMetadata
œœ 
(
œœ 
$str
œœ +
,
œœ+ ,%
ConvertByteArrayToShort
œœ- D
(
œœD E
pi
œœE G
.
œœG H
Value
œœH M
)
œœM N
.
œœN O
ToString
œœO W
(
œœW X
)
œœX Y
,
œœY Z
imageMetaData
œœ[ h
)
œœh i
;
œœi j
break
–– 
;
–– 
case
—— 

$num
—— 
:
—— 
SetMetadata
““ 
(
““ 
$str
““ )
,
““) *%
ConvertByteArrayToShort
““+ B
(
““B C
pi
““C E
.
““E F
Value
““F K
)
““K L
.
““L M
ToString
““M U
(
““U V
)
““V W
,
““W X
imageMetaData
““Y f
)
““f g
;
““g h
break
”” 
;
”” 
case
‘‘ 

$num
‘‘ 
:
‘‘ 
SetMetadata
’’ 
(
’’ 
$str
’’ /
,
’’/ 0%
ConvertByteArrayToShort
’’1 H
(
’’H I
pi
’’I K
.
’’K L
Value
’’L Q
)
’’Q R
.
’’R S
ToString
’’S [
(
’’[ \
)
’’\ ]
,
’’] ^
imageMetaData
’’_ l
)
’’l m
;
’’m n
break
÷÷ 
;
÷÷ 
case
◊◊ 

$num
◊◊ 
:
◊◊ 
SetMetadata
ÿÿ 
(
ÿÿ 
$str
ÿÿ .
,
ÿÿ. /&
ConvertByteArrayToString
ÿÿ0 H
(
ÿÿH I
pi
ÿÿI K
.
ÿÿK L
Value
ÿÿL Q
)
ÿÿQ R
,
ÿÿR S
imageMetaData
ÿÿT a
)
ÿÿa b
;
ÿÿb c
break
ŸŸ 
;
ŸŸ 
case
⁄⁄ 

$num
⁄⁄ 
:
⁄⁄ 
SetMetadata
€€ 
(
€€ 
$str
€€ '
,
€€' (&
ConvertByteArrayToString
€€) A
(
€€A B
pi
€€B D
.
€€D E
Value
€€E J
)
€€J K
,
€€K L
imageMetaData
€€M Z
)
€€Z [
;
€€[ \
break
‹‹ 
;
‹‹ 
case
›› 

$num
›› 
:
›› 
SetMetadata
ﬁﬁ 
(
ﬁﬁ 
$str
ﬁﬁ (
,
ﬁﬁ( )&
ConvertByteArrayToString
ﬁﬁ* B
(
ﬁﬁB C
pi
ﬁﬁC E
.
ﬁﬁE F
Value
ﬁﬁF K
)
ﬁﬁK L
,
ﬁﬁL M
imageMetaData
ﬁﬁN [
)
ﬁﬁ[ \
;
ﬁﬁ\ ]
break
ﬂﬂ 
;
ﬂﬂ 
case
‡‡ 

$num
‡‡ 
:
‡‡ 
SetMetadata
·· 
(
·· 
$str
·· *
,
··* +$
ConvertByteArrayToLong
··, B
(
··B C
pi
··C E
.
··E F
Value
··F K
)
··K L
.
··L M
ToString
··M U
(
··U V
)
··V W
,
··W X
imageMetaData
··Y f
)
··f g
;
··g h
break
‚‚ 
;
‚‚ 
case
„„ 

$num
„„ 
:
„„ 
SetMetadata
‰‰ 
(
‰‰ 
$str
‰‰ )
,
‰‰) *%
ConvertByteArrayToShort
‰‰+ B
(
‰‰B C
pi
‰‰C E
.
‰‰E F
Value
‰‰F K
)
‰‰K L
.
‰‰L M
ToString
‰‰M U
(
‰‰U V
)
‰‰V W
,
‰‰W X
imageMetaData
‰‰Y f
)
‰‰f g
;
‰‰g h
break
ÂÂ 
;
ÂÂ 
case
ÊÊ 

$num
ÊÊ 
:
ÊÊ 
SetMetadata
ÁÁ 
(
ÁÁ 
$str
ÁÁ -
,
ÁÁ- .%
ConvertByteArrayToShort
ÁÁ/ F
(
ÁÁF G
pi
ÁÁG I
.
ÁÁI J
Value
ÁÁJ O
)
ÁÁO P
.
ÁÁP Q
ToString
ÁÁQ Y
(
ÁÁY Z
)
ÁÁZ [
,
ÁÁ[ \
imageMetaData
ÁÁ] j
)
ÁÁj k
;
ÁÁk l
break
ËË 
;
ËË 
case
ÈÈ 

$num
ÈÈ 
:
ÈÈ 
SetMetadata
ÍÍ 
(
ÍÍ 
$str
ÍÍ *
,
ÍÍ* +$
ConvertByteArrayToLong
ÍÍ, B
(
ÍÍB C
pi
ÍÍC E
.
ÍÍE F
Value
ÍÍF K
)
ÍÍK L
.
ÍÍL M
ToString
ÍÍM U
(
ÍÍU V
)
ÍÍV W
,
ÍÍW X
imageMetaData
ÍÍY f
)
ÍÍf g
;
ÍÍg h
break
ÎÎ 
;
ÎÎ 
case
ÏÏ 

$num
ÏÏ 
:
ÏÏ 
SetMetadata
ÌÌ 
(
ÌÌ 
$str
ÌÌ -
,
ÌÌ- .$
ConvertByteArrayToLong
ÌÌ/ E
(
ÌÌE F
pi
ÌÌF H
.
ÌÌH I
Value
ÌÌI N
)
ÌÌN O
.
ÌÌO P
ToString
ÌÌP X
(
ÌÌX Y
)
ÌÌY Z
,
ÌÌZ [
imageMetaData
ÌÌ\ i
)
ÌÌi j
;
ÌÌj k
break
ÓÓ 
;
ÓÓ 
case
ÔÔ 

$num
ÔÔ 
:
ÔÔ 
SetMetadata
 
(
 
$str
 *
,
* +%
ConvertByteArrayToShort
, C
(
C D
pi
D F
.
F G
Value
G L
)
L M
.
M N
ToString
N V
(
V W
)
W X
,
X Y
imageMetaData
Z g
)
g h
;
h i
break
ÒÒ 
;
ÒÒ 
case
ÚÚ 

$num
ÚÚ 
:
ÚÚ 
SetMetadata
ÛÛ 
(
ÛÛ 
$str
ÛÛ ,
,
ÛÛ, -%
ConvertByteArrayToShort
ÛÛ. E
(
ÛÛE F
pi
ÛÛF H
.
ÛÛH I
Value
ÛÛI N
)
ÛÛN O
.
ÛÛO P
ToString
ÛÛP X
(
ÛÛX Y
)
ÛÛY Z
,
ÛÛZ [
imageMetaData
ÛÛ\ i
)
ÛÛi j
;
ÛÛj k
break
ÙÙ 
;
ÙÙ 
case
ıı 

$num
ıı 
:
ıı 
SetMetadata
ˆˆ 
(
ˆˆ 
$str
ˆˆ .
,
ˆˆ. /%
ConvertByteArrayToShort
ˆˆ0 G
(
ˆˆG H
pi
ˆˆH J
.
ˆˆJ K
Value
ˆˆK P
)
ˆˆP Q
.
ˆˆQ R
ToString
ˆˆR Z
(
ˆˆZ [
)
ˆˆ[ \
,
ˆˆ\ ]
imageMetaData
ˆˆ^ k
)
ˆˆk l
;
ˆˆl m
break
˜˜ 
;
˜˜ 
case
¯¯ 

$num
¯¯ 
:
¯¯ 
SetMetadata
˘˘ 
(
˘˘ 
$str
˘˘ *
,
˘˘* +&
ConvertByteArrayToString
˘˘, D
(
˘˘D E
pi
˘˘E G
.
˘˘G H
Value
˘˘H M
)
˘˘M N
,
˘˘N O
imageMetaData
˘˘P ]
)
˘˘] ^
;
˘˘^ _
break
˙˙ 
;
˙˙ 
case
˚˚ 

$num
˚˚ 
:
˚˚ 
SetMetadata
¸¸ 
(
¸¸ 
$str
¸¸ &
,
¸¸& '&
ConvertByteArrayToString
¸¸( @
(
¸¸@ A
pi
¸¸A C
.
¸¸C D
Value
¸¸D I
)
¸¸I J
,
¸¸J K
imageMetaData
¸¸L Y
)
¸¸Y Z
;
¸¸Z [
break
˝˝ 
;
˝˝ 
case
˛˛ 

$num
˛˛ 
:
˛˛ 
SetMetadata
ˇˇ 
(
ˇˇ 
$str
ˇˇ $
,
ˇˇ$ %&
ConvertByteArrayToString
ˇˇ& >
(
ˇˇ> ?
pi
ˇˇ? A
.
ˇˇA B
Value
ˇˇB G
)
ˇˇG H
,
ˇˇH I
imageMetaData
ˇˇJ W
)
ˇˇW X
;
ˇˇX Y
break
Ä	Ä	 
;
Ä	Ä	 
case
Å	Å	 

$num
Å	Å	 
:
Å	Å	 
SetMetadata
Ç	Ç	 
(
Ç	Ç	 
$str
Ç	Ç	 (
,
Ç	Ç	( )(
ConvertByteArrayToRational
Ç	Ç	* D
(
Ç	Ç	D E
pi
Ç	Ç	E G
.
Ç	Ç	G H
Value
Ç	Ç	H M
)
Ç	Ç	M N
,
Ç	Ç	N O
imageMetaData
Ç	Ç	P ]
)
Ç	Ç	] ^
;
Ç	Ç	^ _
break
É	É	 
;
É	É	 
case
Ñ	Ñ	 

$num
Ñ	Ñ	 
:
Ñ	Ñ	 
SetMetadata
Ö	Ö	 
(
Ö	Ö	 
$str
Ö	Ö	 3
,
Ö	Ö	3 4(
ConvertByteArrayToRational
Ö	Ö	5 O
(
Ö	Ö	O P
pi
Ö	Ö	P R
.
Ö	Ö	R S
Value
Ö	Ö	S X
)
Ö	Ö	X Y
,
Ö	Ö	Y Z
imageMetaData
Ö	Ö	[ h
)
Ö	Ö	h i
;
Ö	Ö	i j
break
Ü	Ü	 
;
Ü	Ü	 
case
á	á	 

$num
á	á	 
:
á	á	 
SetMetadata
à	à	 
(
à	à	 
$str
à	à	 /
,
à	à	/ 0(
ConvertByteArrayToRational
à	à	1 K
(
à	à	K L
pi
à	à	L N
.
à	à	N O
Value
à	à	O T
)
à	à	T U
,
à	à	U V
imageMetaData
à	à	W d
)
à	à	d e
;
à	à	e f
break
â	â	 
;
â	â	 
case
ä	ä	 

$num
ä	ä	 
:
ä	ä	 
SetMetadata
ã	ã	 
(
ã	ã	 
$str
ã	ã	 .
,
ã	ã	. /%
ConvertByteArrayToShort
ã	ã	0 G
(
ã	ã	G H
pi
ã	ã	H J
.
ã	ã	J K
Value
ã	ã	K P
)
ã	ã	P Q
.
ã	ã	Q R
ToString
ã	ã	R Z
(
ã	ã	Z [
)
ã	ã	[ \
,
ã	ã	\ ]
imageMetaData
ã	ã	^ k
)
ã	ã	k l
;
ã	ã	l m
break
å	å	 
;
å	å	 
case
ç	ç	 

$num
ç	ç	 
:
ç	ç	 
SetMetadata
é	é	 
(
é	é	 
$str
é	é	 .
,
é	é	. /%
ConvertByteArrayToShort
é	é	0 G
(
é	é	G H
pi
é	é	H J
.
é	é	J K
Value
é	é	K P
)
é	é	P Q
.
é	é	Q R
ToString
é	é	R Z
(
é	é	Z [
)
é	é	[ \
,
é	é	\ ]
imageMetaData
é	é	^ k
)
é	é	k l
;
é	é	l m
break
è	è	 
;
è	è	 
case
ê	ê	 

$num
ê	ê	 
:
ê	ê	 
SetMetadata
ë	ë	 
(
ë	ë	 
$str
ë	ë	 +
,
ë	ë	+ ,(
ConvertByteArrayToRational
ë	ë	- G
(
ë	ë	G H
pi
ë	ë	H J
.
ë	ë	J K
Value
ë	ë	K P
)
ë	ë	P Q
,
ë	ë	Q R
imageMetaData
ë	ë	S `
)
ë	ë	` a
;
ë	ë	a b
break
í	í	 
;
í	í	 
case
ì	ì	 

$num
ì	ì	 
:
ì	ì	 
SetMetadata
î	î	 
(
î	î	 
$str
î	î	 '
,
î	î	' (&
ConvertByteArrayToString
î	î	) A
(
î	î	A B
pi
î	î	B D
.
î	î	D E
Value
î	î	E J
)
î	î	J K
,
î	î	K L
imageMetaData
î	î	M Z
)
î	î	Z [
;
î	î	[ \
break
ï	ï	 
;
ï	ï	 
case
ñ	ñ	 

$num
ñ	ñ	 
:
ñ	ñ	 
SetMetadata
ó	ó	 
(
ó	ó	 
$str
ó	ó	 #
,
ó	ó	# $%
ConvertByteArrayToShort
ó	ó	% <
(
ó	ó	< =
pi
ó	ó	= ?
.
ó	ó	? @
Value
ó	ó	@ E
)
ó	ó	E F
.
ó	ó	F G
ToString
ó	ó	G O
(
ó	ó	O P
)
ó	ó	P Q
,
ó	ó	Q R
imageMetaData
ó	ó	S `
)
ó	ó	` a
;
ó	ó	a b
break
ò	ò	 
;
ò	ò	 
case
ô	ô	 

$num
ô	ô	 
:
ô	ô	 
SetMetadata
ö	ö	 
(
ö	ö	 
$str
ö	ö	 %
,
ö	ö	% &%
ConvertByteArrayToShort
ö	ö	' >
(
ö	ö	> ?
pi
ö	ö	? A
.
ö	ö	A B
Value
ö	ö	B G
)
ö	ö	G H
.
ö	ö	H I
ToString
ö	ö	I Q
(
ö	ö	Q R
)
ö	ö	R S
,
ö	ö	S T
imageMetaData
ö	ö	U b
)
ö	ö	b c
;
ö	ö	c d
break
õ	õ	 
;
õ	õ	 
case
ú	ú	 

$num
ú	ú	 
:
ú	ú	 
SetMetadata
ù	ù	 
(
ù	ù	 
$str
ù	ù	 
,
ù	ù	  $
ConvertByteArrayToLong
ù	ù	! 7
(
ù	ù	7 8
pi
ù	ù	8 :
.
ù	ù	: ;
Value
ù	ù	; @
)
ù	ù	@ A
.
ù	ù	A B
ToString
ù	ù	B J
(
ù	ù	J K
)
ù	ù	K L
,
ù	ù	L M
imageMetaData
ù	ù	N [
)
ù	ù	[ \
;
ù	ù	\ ]
break
û	û	 
;
û	û	 
case
ü	ü	 

$num
ü	ü	 
:
ü	ü	 
SetMetadata
†	†	 
(
†	†	 
$str
†	†	 
,
†	†	 %
ConvertByteArrayToShort
†	†	  7
(
†	†	7 8
pi
†	†	8 :
.
†	†	: ;
Value
†	†	; @
)
†	†	@ A
.
†	†	A B
ToString
†	†	B J
(
†	†	J K
)
†	†	K L
,
†	†	L M
imageMetaData
†	†	N [
)
†	†	[ \
;
†	†	\ ]
break
°	°	 
;
°	°	 
case
¢	¢	 

$num
¢	¢	 
:
¢	¢	 
SetMetadata
£	£	 
(
£	£	 
$str
£	£	 
,
£	£	 $
ConvertByteArrayToByte
£	£	  6
(
£	£	6 7
pi
£	£	7 9
.
£	£	9 :
Value
£	£	: ?
)
£	£	? @
.
£	£	@ A
ToString
£	£	A I
(
£	£	I J
)
£	£	J K
,
£	£	K L
imageMetaData
£	£	M Z
)
£	£	Z [
;
£	£	[ \
break
§	§	 
;
§	§	 
case
•	•	 

$num
•	•	 
:
•	•	 
SetMetadata
¶	¶	 
(
¶	¶	 
$str
¶	¶	 "
,
¶	¶	" #$
ConvertByteArrayToLong
¶	¶	$ :
(
¶	¶	: ;
pi
¶	¶	; =
.
¶	¶	= >
Value
¶	¶	> C
)
¶	¶	C D
.
¶	¶	D E
ToString
¶	¶	E M
(
¶	¶	M N
)
¶	¶	N O
,
¶	¶	O P
imageMetaData
¶	¶	Q ^
)
¶	¶	^ _
;
¶	¶	_ `
break
ß	ß	 
;
ß	ß	 
case
®	®	 

$num
®	®	 
:
®	®	 
SetMetadata
©	©	 
(
©	©	 
$str
©	©	 "
,
©	©	" #$
ConvertByteArrayToLong
©	©	$ :
(
©	©	: ;
pi
©	©	; =
.
©	©	= >
Value
©	©	> C
)
©	©	C D
.
©	©	D E
ToString
©	©	E M
(
©	©	M N
)
©	©	N O
,
©	©	O P
imageMetaData
©	©	Q ^
)
©	©	^ _
;
©	©	_ `
break
™	™	 
;
™	™	 
case
´	´	 

$num
´	´	 
:
´	´	 
SetMetadata
¨	¨	 
(
¨	¨	 
$str
¨	¨	 %
,
¨	¨	% &$
ConvertByteArrayToByte
¨	¨	' =
(
¨	¨	= >
pi
¨	¨	> @
.
¨	¨	@ A
Value
¨	¨	A F
)
¨	¨	F G
.
¨	¨	G H
ToString
¨	¨	H P
(
¨	¨	P Q
)
¨	¨	Q R
,
¨	¨	R S
imageMetaData
¨	¨	T a
)
¨	¨	a b
;
¨	¨	b c
break
≠	≠	 
;
≠	≠	 
case
Æ	Æ	 

$num
Æ	Æ	 
:
Æ	Æ	 
SetMetadata
Ø	Ø	 
(
Ø	Ø	 
$str
Ø	Ø	 
,
Ø	Ø	 &
ConvertByteArrayToString
Ø	Ø	  8
(
Ø	Ø	8 9
pi
Ø	Ø	9 ;
.
Ø	Ø	; <
Value
Ø	Ø	< A
)
Ø	Ø	A B
,
Ø	Ø	B C
imageMetaData
Ø	Ø	D Q
)
Ø	Ø	Q R
;
Ø	Ø	R S
break
∞	∞	 
;
∞	∞	 
case
±	±	 

$num
±	±	 
:
±	±	 
SetMetadata
≤	≤	 
(
≤	≤	 
$str
≤	≤	 %
,
≤	≤	% &(
ConvertByteArrayToRational
≤	≤	' A
(
≤	≤	A B
pi
≤	≤	B D
.
≤	≤	D E
Value
≤	≤	E J
)
≤	≤	J K
,
≤	≤	K L
imageMetaData
≤	≤	M Z
)
≤	≤	Z [
;
≤	≤	[ \
break
≥	≥	 
;
≥	≥	 
case
¥	¥	 

$num
¥	¥	 
:
¥	¥	 
SetMetadata
µ	µ	 
(
µ	µ	 
$str
µ	µ	  
,
µ	µ	  !(
ConvertByteArrayToRational
µ	µ	" <
(
µ	µ	< =
pi
µ	µ	= ?
.
µ	µ	? @
Value
µ	µ	@ E
)
µ	µ	E F
,
µ	µ	F G
imageMetaData
µ	µ	H U
)
µ	µ	U V
;
µ	µ	V W
break
∂	∂	 
;
∂	∂	 
case
∑	∑	 

$num
∑	∑	 
:
∑	∑	 
SetMetadata
∏	∏	 
(
∏	∏	 
$str
∏	∏	 
,
∏	∏	 $
ConvertByteArrayToLong
∏	∏	 4
(
∏	∏	4 5
pi
∏	∏	5 7
.
∏	∏	7 8
Value
∏	∏	8 =
)
∏	∏	= >
.
∏	∏	> ?
ToString
∏	∏	? G
(
∏	∏	G H
)
∏	∏	H I
,
∏	∏	I J
imageMetaData
∏	∏	K X
)
∏	∏	X Y
;
∏	∏	Y Z
break
π	π	 
;
π	π	 
case
∫	∫	 

$num
∫	∫	 
:
∫	∫	 
SetMetadata
ª	ª	 
(
ª	ª	 
$str
ª	ª	 
,
ª	ª	  $
ConvertByteArrayToByte
ª	ª	! 7
(
ª	ª	7 8
pi
ª	ª	8 :
.
ª	ª	: ;
Value
ª	ª	; @
)
ª	ª	@ A
.
ª	ª	A B
ToString
ª	ª	B J
(
ª	ª	J K
)
ª	ª	K L
,
ª	ª	L M
imageMetaData
ª	ª	N [
)
ª	ª	[ \
;
ª	ª	\ ]
break
º	º	 
;
º	º	 
case
Ω	Ω	 

$num
Ω	Ω	 
:
Ω	Ω	 
switch
æ	æ	 
(
æ	æ	 %
ConvertByteArrayToShort
æ	æ	 $
(
æ	æ	$ %
pi
æ	æ	% '
.
æ	æ	' (
Value
æ	æ	( -
)
æ	æ	- .
)
æ	æ	. /
{
ø	ø	 
case
¿	¿	 
$num
¿	¿	 
:
¿	¿	 
SetMetadata
¡	¡	 
(
¡	¡	 
$str
¡	¡	 &
,
¡	¡	& '
$str
¡	¡	( 5
,
¡	¡	5 6
imageMetaData
¡	¡	7 D
)
¡	¡	D E
;
¡	¡	E F
break
¬	¬	 
;
¬	¬	 
case
√	√	 
$num
√	√	 
:
√	√	 
SetMetadata
ƒ	ƒ	 
(
ƒ	ƒ	 
$str
ƒ	ƒ	 &
,
ƒ	ƒ	& '
$str
ƒ	ƒ	( 0
,
ƒ	ƒ	0 1
imageMetaData
ƒ	ƒ	2 ?
)
ƒ	ƒ	? @
;
ƒ	ƒ	@ A
break
≈	≈	 
;
≈	≈	 
case
∆	∆	 
$num
∆	∆	 
:
∆	∆	 
SetMetadata
«	«	 
(
«	«	 
$str
«	«	 &
,
«	«	& '
$str
«	«	( 8
,
«	«	8 9
imageMetaData
«	«	: G
)
«	«	G H
;
«	«	H I
break
»	»	 
;
»	»	 
case
…	…	 
$num
…	…	 
:
…	…	 
SetMetadata
 	 	 
(
 	 	 
$str
 	 	 &
,
 	 	& '
$str
 	 	( ;
,
 	 	; <
imageMetaData
 	 	= J
)
 	 	J K
;
 	 	K L
break
À	À	 
;
À	À	 
case
Ã	Ã	 
$num
Ã	Ã	 
:
Ã	Ã	 
SetMetadata
Õ	Õ	 
(
Õ	Õ	 
$str
Õ	Õ	 &
,
Õ	Õ	& '
$str
Õ	Õ	( :
,
Õ	Õ	: ;
imageMetaData
Õ	Õ	< I
)
Õ	Õ	I J
;
Õ	Õ	J K
break
Œ	Œ	 
;
Œ	Œ	 
case
œ	œ	 
$num
œ	œ	 
:
œ	œ	 
SetMetadata
–	–	 
(
–	–	 
$str
–	–	 &
,
–	–	& '
$str
–	–	( Y
,
–	–	Y Z
imageMetaData
–	–	[ h
)
–	–	h i
;
–	–	i j
break
—	—	 
;
—	—	 
case
“	“	 
$num
“	“	 
:
“	“	 
SetMetadata
”	”	 
(
”	”	 
$str
”	”	 &
,
”	”	& '
$str
”	”	( [
,
”	”	[ \
imageMetaData
”	”	] j
)
”	”	j k
;
”	”	k l
break
‘	‘	 
;
‘	‘	 
case
’	’	 
$num
’	’	 
:
’	’	 
SetMetadata
÷	÷	 
(
÷	÷	 
$str
÷	÷	 &
,
÷	÷	& '
$str
÷	÷	( n
,
÷	÷	n o
imageMetaData
÷	÷	p }
)
÷	÷	} ~
;
÷	÷	~ 
break
◊	◊	 
;
◊	◊	 
case
ÿ	ÿ	 
$num
ÿ	ÿ	 
:
ÿ	ÿ	 
SetMetadata
Ÿ	Ÿ	 
(
Ÿ	Ÿ	 
$str
Ÿ	Ÿ	 &
,
Ÿ	Ÿ	& '
$str
Ÿ	Ÿ	( l
,
Ÿ	Ÿ	l m
imageMetaData
Ÿ	Ÿ	n {
)
Ÿ	Ÿ	{ |
;
Ÿ	Ÿ	| }
break
⁄	⁄	 
;
⁄	⁄	 
default
€	€	 
:
€	€	 
SetMetadata
‹	‹	 
(
‹	‹	 
$str
‹	‹	 &
,
‹	‹	& '
$str
‹	‹	( 1
,
‹	‹	1 2
imageMetaData
‹	‹	3 @
)
‹	‹	@ A
;
‹	‹	A B
break
›	›	 
;
›	›	 
}
ﬁ	ﬁ	 
break
ﬂ	ﬂ	 
;
ﬂ	ﬂ	 
case
‡	‡	 

$num
‡	‡	 
:
‡	‡	 
SetMetadata
·	·	 
(
·	·	 
$str
·	·	 &
,
·	·	& '&
ConvertByteArrayToString
·	·	( @
(
·	·	@ A
pi
·	·	A C
.
·	·	C D
Value
·	·	D I
)
·	·	I J
,
·	·	J K
imageMetaData
·	·	L Y
)
·	·	Y Z
;
·	·	Z [
break
‚	‚	 
;
‚	‚	 
case
„	„	 

$num
„	„	 
:
„	„	 
SetMetadata
‰	‰	 
(
‰	‰	 
$str
‰	‰	 
,
‰	‰	 $
ConvertByteArrayToLong
‰	‰	 3
(
‰	‰	3 4
pi
‰	‰	4 6
.
‰	‰	6 7
Value
‰	‰	7 <
)
‰	‰	< =
.
‰	‰	= >
ToString
‰	‰	> F
(
‰	‰	F G
)
‰	‰	G H
,
‰	‰	H I
imageMetaData
‰	‰	J W
)
‰	‰	W X
;
‰	‰	X Y
break
Â	Â	 
;
Â	Â	 
case
Ê	Ê	 

$num
Ê	Ê	 
:
Ê	Ê	 
SetMetadata
Á	Á	 
(
Á	Á	 
$str
Á	Á	 !
,
Á	Á	! "%
ConvertByteArrayToShort
Á	Á	# :
(
Á	Á	: ;
pi
Á	Á	; =
.
Á	Á	= >
Value
Á	Á	> C
)
Á	Á	C D
.
Á	Á	D E
ToString
Á	Á	E M
(
Á	Á	M N
)
Á	Á	N O
,
Á	Á	O P
imageMetaData
Á	Á	Q ^
)
Á	Á	^ _
;
Á	Á	_ `
break
Ë	Ë	 
;
Ë	Ë	 
case
È	È	 

$num
È	È	 
:
È	È	 
SetMetadata
Í	Í	 
(
Í	Í	 
$str
Í	Í	 
,
Í	Í	  &
ConvertByteArrayToString
Í	Í	! 9
(
Í	Í	9 :
pi
Í	Í	: <
.
Í	Í	< =
Value
Í	Í	= B
)
Í	Í	B C
,
Í	Í	C D
imageMetaData
Í	Í	E R
)
Í	Í	R S
;
Í	Í	S T
break
Î	Î	 
;
Î	Î	 
case
Ï	Ï	 

$num
Ï	Ï	 
:
Ï	Ï	 
SetMetadata
Ì	Ì	 
(
Ì	Ì	 
$str
Ì	Ì	 $
,
Ì	Ì	$ %&
ConvertByteArrayToString
Ì	Ì	& >
(
Ì	Ì	> ?
pi
Ì	Ì	? A
.
Ì	Ì	A B
Value
Ì	Ì	B G
)
Ì	Ì	G H
,
Ì	Ì	H I
imageMetaData
Ì	Ì	J W
)
Ì	Ì	W X
;
Ì	Ì	X Y
break
Ó	Ó	 
;
Ó	Ó	 
case
Ô	Ô	 

$num
Ô	Ô	 
:
Ô	Ô	 
SetMetadata
		 
(
		 
$str
		  
,
		  !(
ConvertByteArrayToRational
		" <
(
		< =
pi
		= ?
.
		? @
Value
		@ E
)
		E F
,
		F G
imageMetaData
		H U
)
		U V
;
		V W
break
Ò	Ò	 
;
Ò	Ò	 
case
Ú	Ú	 

$num
Ú	Ú	 
:
Ú	Ú	 
SetMetadata
Û	Û	 
(
Û	Û	 
$str
Û	Û	 %
,
Û	Û	% &)
ConvertByteArrayToSRational
Û	Û	' B
(
Û	Û	B C
pi
Û	Û	C E
.
Û	Û	E F
Value
Û	Û	F K
)
Û	Û	K L
,
Û	Û	L M
imageMetaData
Û	Û	N [
)
Û	Û	[ \
;
Û	Û	\ ]
break
Ù	Ù	 
;
Ù	Ù	 
case
ı	ı	 

$num
ı	ı	 
:
ı	ı	 
SetMetadata
ˆ	ˆ	 
(
ˆ	ˆ	 
$str
ˆ	ˆ	 !
,
ˆ	ˆ	! "(
ConvertByteArrayToRational
ˆ	ˆ	# =
(
ˆ	ˆ	= >
pi
ˆ	ˆ	> @
.
ˆ	ˆ	@ A
Value
ˆ	ˆ	A F
)
ˆ	ˆ	F G
,
ˆ	ˆ	G H
imageMetaData
ˆ	ˆ	I V
)
ˆ	ˆ	V W
;
ˆ	ˆ	W X
break
˜	˜	 
;
˜	˜	 
case
¯	¯	 

$num
¯	¯	 
:
¯	¯	 
SetMetadata
˘	˘	 
(
˘	˘	 
$str
˘	˘	 #
,
˘	˘	# $)
ConvertByteArrayToSRational
˘	˘	% @
(
˘	˘	@ A
pi
˘	˘	A C
.
˘	˘	C D
Value
˘	˘	D I
)
˘	˘	I J
,
˘	˘	J K
imageMetaData
˘	˘	L Y
)
˘	˘	Y Z
;
˘	˘	Z [
break
˙	˙	 
;
˙	˙	 
case
˚	˚	 

$num
˚	˚	 
:
˚	˚	 
SetMetadata
¸	¸	 
(
¸	¸	 
$str
¸	¸	 %
,
¸	¸	% &)
ConvertByteArrayToSRational
¸	¸	' B
(
¸	¸	B C
pi
¸	¸	C E
.
¸	¸	E F
Value
¸	¸	F K
)
¸	¸	K L
,
¸	¸	L M
imageMetaData
¸	¸	N [
)
¸	¸	[ \
;
¸	¸	\ ]
break
˝	˝	 
;
˝	˝	 
case
˛	˛	 

$num
˛	˛	 
:
˛	˛	 
SetMetadata
ˇ	ˇ	 
(
ˇ	ˇ	 
$str
ˇ	ˇ	 $
,
ˇ	ˇ	$ %(
ConvertByteArrayToRational
ˇ	ˇ	& @
(
ˇ	ˇ	@ A
pi
ˇ	ˇ	A C
.
ˇ	ˇ	C D
Value
ˇ	ˇ	D I
)
ˇ	ˇ	I J
,
ˇ	ˇ	J K
imageMetaData
ˇ	ˇ	L Y
)
ˇ	ˇ	Y Z
;
ˇ	ˇ	Z [
break
Ä
Ä
 
;
Ä
Ä
 
case
Å
Å
 

$num
Å
Å
 
:
Å
Å
 
SetMetadata
Ç
Ç
 
(
Ç
Ç
 
$str
Ç
Ç
 $
,
Ç
Ç
$ %(
ConvertByteArrayToRational
Ç
Ç
& @
(
Ç
Ç
@ A
pi
Ç
Ç
A C
.
Ç
Ç
C D
Value
Ç
Ç
D I
)
Ç
Ç
I J
,
Ç
Ç
J K
imageMetaData
Ç
Ç
L Y
)
Ç
Ç
Y Z
;
Ç
Ç
Z [
break
É
É
 
;
É
É
 
case
Ñ
Ñ
 

$num
Ñ
Ñ
 
:
Ñ
Ñ
 
switch
Ö
Ö
 
(
Ö
Ö
 %
ConvertByteArrayToShort
Ö
Ö
 $
(
Ö
Ö
$ %
pi
Ö
Ö
% '
.
Ö
Ö
' (
Value
Ö
Ö
( -
)
Ö
Ö
- .
)
Ö
Ö
. /
{
Ü
Ü
 
case
á
á
 
$num
á
á
 
:
á
á
 
SetMetadata
à
à
 
(
à
à
 
$str
à
à
 &
,
à
à
& '
$str
à
à
( 1
,
à
à
1 2
imageMetaData
à
à
3 @
)
à
à
@ A
;
à
à
A B
break
â
â
 
;
â
â
 
case
ä
ä
 
$num
ä
ä
 
:
ä
ä
 
SetMetadata
ã
ã
 
(
ã
ã
 
$str
ã
ã
 &
,
ã
ã
& '
$str
ã
ã
( 1
,
ã
ã
1 2
imageMetaData
ã
ã
3 @
)
ã
ã
@ A
;
ã
ã
A B
break
å
å
 
;
å
å
 
case
ç
ç
 
$num
ç
ç
 
:
ç
ç
 
SetMetadata
é
é
 
(
é
é
 
$str
é
é
 &
,
é
é
& '
$str
é
é
( ?
,
é
é
? @
imageMetaData
é
é
A N
)
é
é
N O
;
é
é
O P
break
è
è
 
;
è
è
 
case
ê
ê
 
$num
ê
ê
 
:
ê
ê
 
SetMetadata
ë
ë
 
(
ë
ë
 
$str
ë
ë
 &
,
ë
ë
& '
$str
ë
ë
( .
,
ë
ë
. /
imageMetaData
ë
ë
0 =
)
ë
ë
= >
;
ë
ë
> ?
break
í
í
 
;
í
í
 
case
ì
ì
 
$num
ì
ì
 
:
ì
ì
 
SetMetadata
î
î
 
(
î
î
 
$str
î
î
 &
,
î
î
& '
$str
î
î
( 3
,
î
î
3 4
imageMetaData
î
î
5 B
)
î
î
B C
;
î
î
C D
break
ï
ï
 
;
ï
ï
 
case
ñ
ñ
 
$num
ñ
ñ
 
:
ñ
ñ
 
SetMetadata
ó
ó
 
(
ó
ó
 
$str
ó
ó
 &
,
ó
ó
& '
$str
ó
ó
( 1
,
ó
ó
1 2
imageMetaData
ó
ó
3 @
)
ó
ó
@ A
;
ó
ó
A B
break
ò
ò
 
;
ò
ò
 
case
ô
ô
 
$num
ô
ô
 
:
ô
ô
 
SetMetadata
ö
ö
 
(
ö
ö
 
$str
ö
ö
 &
,
ö
ö
& '
$str
ö
ö
( 1
,
ö
ö
1 2
imageMetaData
ö
ö
3 @
)
ö
ö
@ A
;
ö
ö
A B
break
õ
õ
 
;
õ
õ
 
case
ú
ú
 
$num
ú
ú
 
:
ú
ú
 
SetMetadata
ù
ù
 
(
ù
ù
 
$str
ù
ù
 &
,
ù
ù
& '
$str
ù
ù
( /
,
ù
ù
/ 0
imageMetaData
ù
ù
1 >
)
ù
ù
> ?
;
ù
ù
? @
break
û
û
 
;
û
û
 
default
ü
ü
 
:
ü
ü
 
SetMetadata
†
†
 
(
†
†
 
$str
†
†
 &
,
†
†
& '
$str
†
†
( 1
,
†
†
1 2
imageMetaData
†
†
3 @
)
†
†
@ A
;
†
†
A B
break
°
°
 
;
°
°
 
}
¢
¢
 
break
£
£
 
;
£
£
 
case
§
§
 

$num
§
§
 
:
§
§
 
switch
•
•
 
(
•
•
 %
ConvertByteArrayToShort
•
•
 $
(
•
•
$ %
pi
•
•
% '
.
•
•
' (
Value
•
•
( -
)
•
•
- .
)
•
•
. /
{
¶
¶
 
case
ß
ß
 
$num
ß
ß
 
:
ß
ß
 
SetMetadata
®
®
 
(
®
®
 
$str
®
®
 %
,
®
®
% &
$str
®
®
' 0
,
®
®
0 1
imageMetaData
®
®
2 ?
)
®
®
? @
;
®
®
@ A
break
©
©
 
;
©
©
 
case
™
™
 
$num
™
™
 
:
™
™
 
SetMetadata
´
´
 
(
´
´
 
$str
´
´
 %
,
´
´
% &
$str
´
´
' 1
,
´
´
1 2
imageMetaData
´
´
3 @
)
´
´
@ A
;
´
´
A B
break
¨
¨
 
;
¨
¨
 
case
≠
≠
 
$num
≠
≠
 
:
≠
≠
 
SetMetadata
Æ
Æ
 
(
Æ
Æ
 
$str
Æ
Æ
 %
,
Æ
Æ
% &
$str
Æ
Æ
' 4
,
Æ
Æ
4 5
imageMetaData
Æ
Æ
6 C
)
Æ
Æ
C D
;
Æ
Æ
D E
break
Ø
Ø
 
;
Ø
Ø
 
case
∞
∞
 
$num
∞
∞
 
:
∞
∞
 
SetMetadata
±
±
 
(
±
±
 
$str
±
±
 %
,
±
±
% &
$str
±
±
' 1
,
±
±
1 2
imageMetaData
±
±
3 @
)
±
±
@ A
;
±
±
A B
break
≤
≤
 
;
≤
≤
 
case
≥
≥
 
$num
≥
≥
 
:
≥
≥
 
SetMetadata
¥
¥
 
(
¥
¥
 
$str
¥
¥
 %
,
¥
¥
% &
$str
¥
¥
' 9
,
¥
¥
9 :
imageMetaData
¥
¥
; H
)
¥
¥
H I
;
¥
¥
I J
break
µ
µ
 
;
µ
µ
 
case
∂
∂
 
$num
∂
∂
 
:
∂
∂
 
SetMetadata
∑
∑
 
(
∑
∑
 
$str
∑
∑
 %
,
∑
∑
% &
$str
∑
∑
' 9
,
∑
∑
9 :
imageMetaData
∑
∑
; H
)
∑
∑
H I
;
∑
∑
I J
break
∏
∏
 
;
∏
∏
 
case
π
π
 
$num
π
π
 
:
π
π
 
SetMetadata
∫
∫
 
(
∫
∫
 
$str
∫
∫
 %
,
∫
∫
% &
$str
∫
∫
' 9
,
∫
∫
9 :
imageMetaData
∫
∫
; H
)
∫
∫
H I
;
∫
∫
I J
break
ª
ª
 
;
ª
ª
 
case
º
º
 
$num
º
º
 
:
º
º
 
SetMetadata
Ω
Ω
 
(
Ω
Ω
 
$str
Ω
Ω
 %
,
Ω
Ω
% &
$str
Ω
Ω
' ,
,
Ω
Ω
, -
imageMetaData
Ω
Ω
. ;
)
Ω
Ω
; <
;
Ω
Ω
< =
break
æ
æ
 
;
æ
æ
 
case
ø
ø
 
$num
ø
ø
 
:
ø
ø
 
SetMetadata
¿
¿
 
(
¿
¿
 
$str
¿
¿
 %
,
¿
¿
% &
$str
¿
¿
' ,
,
¿
¿
, -
imageMetaData
¿
¿
. ;
)
¿
¿
; <
;
¿
¿
< =
break
¡
¡
 
;
¡
¡
 
case
¬
¬
 
$num
¬
¬
 
:
¬
¬
 
SetMetadata
√
√
 
(
√
√
 
$str
√
√
 %
,
√
√
% &
$str
√
√
' ,
,
√
√
, -
imageMetaData
√
√
. ;
)
√
√
; <
;
√
√
< =
break
ƒ
ƒ
 
;
ƒ
ƒ
 
case
≈
≈
 
$num
≈
≈
 
:
≈
≈
 
SetMetadata
∆
∆
 
(
∆
∆
 
$str
∆
∆
 %
,
∆
∆
% &
$str
∆
∆
' .
,
∆
∆
. /
imageMetaData
∆
∆
0 =
)
∆
∆
= >
;
∆
∆
> ?
break
«
«
 
;
«
«
 
default
»
»
 
:
»
»
 
SetMetadata
…
…
 
(
…
…
 
$str
…
…
 %
,
…
…
% &
$str
…
…
' 0
,
…
…
0 1
imageMetaData
…
…
2 ?
)
…
…
? @
;
…
…
@ A
break
 
 
 
;
 
 
 
}
À
À
 
break
Ã
Ã
 
;
Ã
Ã
 
case
Õ
Õ
 

$num
Õ
Õ
 
:
Õ
Õ
 
switch
Œ
Œ
 
(
Œ
Œ
 %
ConvertByteArrayToShort
Œ
Œ
 $
(
Œ
Œ
$ %
pi
Œ
Œ
% '
.
Œ
Œ
' (
Value
Œ
Œ
( -
)
Œ
Œ
- .
)
Œ
Œ
. /
{
œ
œ
 
case
–
–
 
$num
–
–
 
:
–
–
 
SetMetadata
—
—
 
(
—
—
 
$str
—
—
 
,
—
—
  
$str
—
—
! 5
,
—
—
5 6
imageMetaData
—
—
7 D
)
—
—
D E
;
—
—
E F
break
“
“
 
;
“
“
 
case
”
”
 
$num
”
”
 
:
”
”
 
SetMetadata
‘
‘
 
(
‘
‘
 
$str
‘
‘
 
,
‘
‘
  
$str
‘
‘
! .
,
‘
‘
. /
imageMetaData
‘
‘
0 =
)
‘
‘
= >
;
‘
‘
> ?
break
’
’
 
;
’
’
 
case
÷
÷
 
$num
÷
÷
 
:
÷
÷
 
SetMetadata
◊
◊
 
(
◊
◊
 
$str
◊
◊
 
,
◊
◊
  
$str
◊
◊
! C
,
◊
◊
C D
imageMetaData
◊
◊
E R
)
◊
◊
R S
;
◊
◊
S T
break
ÿ
ÿ
 
;
ÿ
ÿ
 
default
Ÿ
Ÿ
 
:
Ÿ
Ÿ
 
SetMetadata
⁄
⁄
 
(
⁄
⁄
 
$str
⁄
⁄
 
,
⁄
⁄
  
$str
⁄
⁄
! )
,
⁄
⁄
) *
imageMetaData
⁄
⁄
+ 8
)
⁄
⁄
8 9
;
⁄
⁄
9 :
break
€
€
 
;
€
€
 
}
‹
‹
 
break
›
›
 
;
›
›
 
case
ﬁ
ﬁ
 

$num
ﬁ
ﬁ
 
:
ﬁ
ﬁ
 
SetMetadata
ﬂ
ﬂ
 
(
ﬂ
ﬂ
 
$str
ﬂ
ﬂ
 $
,
ﬂ
ﬂ
$ %(
ConvertByteArrayToRational
ﬂ
ﬂ
& @
(
ﬂ
ﬂ
@ A
pi
ﬂ
ﬂ
A C
.
ﬂ
ﬂ
C D
Value
ﬂ
ﬂ
D I
)
ﬂ
ﬂ
I J
,
ﬂ
ﬂ
J K
imageMetaData
ﬂ
ﬂ
L Y
)
ﬂ
ﬂ
Y Z
;
ﬂ
ﬂ
Z [
break
‡
‡
 
;
‡
‡
 
case
·
·
 

$num
·
·
 
:
·
·
 
SetMetadata
‚
‚
 
(
‚
‚
 
$str
‚
‚
 !
,
‚
‚
! "&
ConvertByteArrayToString
‚
‚
# ;
(
‚
‚
; <
pi
‚
‚
< >
.
‚
‚
> ?
Value
‚
‚
? D
)
‚
‚
D E
,
‚
‚
E F
imageMetaData
‚
‚
G T
)
‚
‚
T U
;
‚
‚
U V
break
„
„
 
;
„
„
 
case
‰
‰
 

$num
‰
‰
 
:
‰
‰
 
SetMetadata
Â
Â
 
(
Â
Â
 
$str
Â
Â
 !
,
Â
Â
! "&
ConvertByteArrayToString
Â
Â
# ;
(
Â
Â
; <
pi
Â
Â
< >
.
Â
Â
> ?
Value
Â
Â
? D
)
Â
Â
D E
,
Â
Â
E F
imageMetaData
Â
Â
G T
)
Â
Â
T U
;
Â
Â
U V
break
Ê
Ê
 
;
Ê
Ê
 
case
Á
Á
 

$num
Á
Á
 
:
Á
Á
 
SetMetadata
Ë
Ë
 
(
Ë
Ë
 
$str
Ë
Ë
  
,
Ë
Ë
  !&
ConvertByteArrayToString
Ë
Ë
" :
(
Ë
Ë
: ;
pi
Ë
Ë
; =
.
Ë
Ë
= >
Value
Ë
Ë
> C
)
Ë
Ë
C D
,
Ë
Ë
D E
imageMetaData
Ë
Ë
F S
)
Ë
Ë
S T
;
Ë
Ë
T U
break
È
È
 
;
È
È
 
case
Í
Í
 

$num
Í
Í
 
:
Í
Í
 
switch
Î
Î
 
(
Î
Î
 $
ConvertByteArrayToLong
Î
Î
 #
(
Î
Î
# $
pi
Î
Î
$ &
.
Î
Î
& '
Value
Î
Î
' ,
)
Î
Î
, -
)
Î
Î
- .
{
Ï
Ï
 
case
Ì
Ì
 
$num
Ì
Ì
 
:
Ì
Ì
 
SetMetadata
Ó
Ó
 
(
Ó
Ó
 
$str
Ó
Ó
 $
,
Ó
Ó
$ %
$str
Ó
Ó
& ,
,
Ó
Ó
, -
imageMetaData
Ó
Ó
. ;
)
Ó
Ó
; <
;
Ó
Ó
< =
break
Ô
Ô
 
;
Ô
Ô
 
case


 
$num


 
:


 
SetMetadata
Ò
Ò
 
(
Ò
Ò
 
$str
Ò
Ò
 $
,
Ò
Ò
$ %
$str
Ò
Ò
& 4
,
Ò
Ò
4 5
imageMetaData
Ò
Ò
6 C
)
Ò
Ò
C D
;
Ò
Ò
D E
break
Ú
Ú
 
;
Ú
Ú
 
default
Û
Û
 
:
Û
Û
 
SetMetadata
Ù
Ù
 
(
Ù
Ù
 
$str
Ù
Ù
 $
,
Ù
Ù
$ %
$str
Ù
Ù
& 0
,
Ù
Ù
0 1
imageMetaData
Ù
Ù
2 ?
)
Ù
Ù
? @
;
Ù
Ù
@ A
break
ı
ı
 
;
ı
ı
 
}
ˆ
ˆ
 
break
˜
˜
 
;
˜
˜
 
case
¯
¯
 

$num
¯
¯
 
:
¯
¯
 
SetMetadata
˘
˘
 
(
˘
˘
 
$str
˘
˘
  
,
˘
˘
  !$
ConvertByteArrayToLong
˘
˘
" 8
(
˘
˘
8 9
pi
˘
˘
9 ;
.
˘
˘
; <
Value
˘
˘
< A
)
˘
˘
A B
.
˘
˘
B C
ToString
˘
˘
C K
(
˘
˘
K L
)
˘
˘
L M
,
˘
˘
M N
imageMetaData
˘
˘
O \
)
˘
˘
\ ]
;
˘
˘
] ^
break
˙
˙
 
;
˙
˙
 
case
˚
˚
 

$num
˚
˚
 
:
˚
˚
 
SetMetadata
¸
¸
 
(
¸
¸
 
$str
¸
¸
  
,
¸
¸
  !$
ConvertByteArrayToLong
¸
¸
" 8
(
¸
¸
8 9
pi
¸
¸
9 ;
.
¸
¸
; <
Value
¸
¸
< A
)
¸
¸
A B
.
¸
¸
B C
ToString
¸
¸
C K
(
¸
¸
K L
)
¸
¸
L M
,
¸
¸
M N
imageMetaData
¸
¸
O \
)
¸
¸
\ ]
;
¸
¸
] ^
break
˝
˝
 
;
˝
˝
 
case
˛
˛
 

$num
˛
˛
 
:
˛
˛
 
SetMetadata
ˇ
ˇ
 
(
ˇ
ˇ
 
$str
ˇ
ˇ
 #
,
ˇ
ˇ
# $&
ConvertByteArrayToString
ˇ
ˇ
% =
(
ˇ
ˇ
= >
pi
ˇ
ˇ
> @
.
ˇ
ˇ
@ A
Value
ˇ
ˇ
A F
)
ˇ
ˇ
F G
,
ˇ
ˇ
G H
imageMetaData
ˇ
ˇ
I V
)
ˇ
ˇ
V W
;
ˇ
ˇ
W X
break
ÄÄ 
;
ÄÄ 
case
ÅÅ 

$num
ÅÅ 
:
ÅÅ 
SetMetadata
ÇÇ 
(
ÇÇ 
$str
ÇÇ  
,
ÇÇ  !$
ConvertByteArrayToLong
ÇÇ" 8
(
ÇÇ8 9
pi
ÇÇ9 ;
.
ÇÇ; <
Value
ÇÇ< A
)
ÇÇA B
.
ÇÇB C
ToString
ÇÇC K
(
ÇÇK L
)
ÇÇL M
,
ÇÇM N
imageMetaData
ÇÇO \
)
ÇÇ\ ]
;
ÇÇ] ^
break
ÉÉ 
;
ÉÉ 
case
ÑÑ 

$num
ÑÑ 
:
ÑÑ 
SetMetadata
ÖÖ 
(
ÖÖ 
$str
ÖÖ $
,
ÖÖ$ %(
ConvertByteArrayToRational
ÖÖ& @
(
ÖÖ@ A
pi
ÖÖA C
.
ÖÖC D
Value
ÖÖD I
)
ÖÖI J
,
ÖÖJ K
imageMetaData
ÖÖL Y
)
ÖÖY Z
;
ÖÖZ [
break
ÜÜ 
;
ÜÜ 
case
áá 

$num
áá 
:
áá 
SetMetadata
àà 
(
àà 
$str
àà "
,
àà" #(
ConvertByteArrayToRational
àà$ >
(
àà> ?
pi
àà? A
.
ààA B
Value
ààB G
)
ààG H
,
ààH I
imageMetaData
ààJ W
)
ààW X
;
ààX Y
break
ââ 
;
ââ 
case
ää 

$num
ää 
:
ää 
SetMetadata
ãã 
(
ãã 
$str
ãã "
,
ãã" #(
ConvertByteArrayToRational
ãã$ >
(
ãã> ?
pi
ãã? A
.
ããA B
Value
ããB G
)
ããG H
,
ããH I
imageMetaData
ããJ W
)
ããW X
;
ããX Y
break
åå 
;
åå 
case
çç 

$num
çç 
:
çç 
switch
éé 
(
éé %
ConvertByteArrayToShort
éé $
(
éé$ %
pi
éé% '
.
éé' (
Value
éé( -
)
éé- .
)
éé. /
{
èè 
case
êê 
$num
êê 
:
êê 
SetMetadata
ëë 
(
ëë 
$str
ëë &
,
ëë& '
$str
ëë( .
,
ëë. /
imageMetaData
ëë0 =
)
ëë= >
;
ëë> ?
break
íí 
;
íí 
case
ìì 
$num
ìì 
:
ìì 
SetMetadata
îî 
(
îî 
$str
îî &
,
îî& '
$str
îî( 4
,
îî4 5
imageMetaData
îî6 C
)
îîC D
;
îîD E
break
ïï 
;
ïï 
}
ññ 
break
óó 
;
óó 
case
òò 

$num
òò 
:
òò 
SetMetadata
ôô 
(
ôô 
$str
ôô #
,
ôô# $%
ConvertByteArrayToShort
ôô% <
(
ôô< =
pi
ôô= ?
.
ôô? @
Value
ôô@ E
)
ôôE F
.
ôôF G
ToString
ôôG O
(
ôôO P
)
ôôP Q
,
ôôQ R
imageMetaData
ôôS `
)
ôô` a
;
ôôa b
break
öö 
;
öö 
case
õõ 

$num
õõ 
:
õõ 
SetMetadata
úú 
(
úú 
$str
úú &
,
úú& '(
ConvertByteArrayToRational
úú( B
(
úúB C
pi
úúC E
.
úúE F
Value
úúF K
)
úúK L
,
úúL M
imageMetaData
úúN [
)
úú[ \
;
úú\ ]
break
ùù 
;
ùù 
case
ûû 

$num
ûû 
:
ûû 
switch
üü 
(
üü %
ConvertByteArrayToShort
üü $
(
üü$ %
pi
üü% '
.
üü' (
Value
üü( -
)
üü- .
)
üü. /
{
†† 
case
°° 
$num
°° 
:
°° 
SetMetadata
¢¢ 
(
¢¢ 
$str
¢¢ '
,
¢¢' (
$str
¢¢) 6
,
¢¢6 7
imageMetaData
¢¢8 E
)
¢¢E F
;
¢¢F G
break
££ 
;
££ 
case
§§ 
$num
§§ 
:
§§ 
SetMetadata
•• 
(
•• 
$str
•• '
,
••' (
$str
••) E
,
••E F
imageMetaData
••G T
)
••T U
;
••U V
break
¶¶ 
;
¶¶ 
case
ßß 
$num
ßß 
:
ßß 
SetMetadata
®® 
(
®® 
$str
®® '
,
®®' (
$str
®®) E
,
®®E F
imageMetaData
®®G T
)
®®T U
;
®®U V
break
©© 
;
©© 
case
™™ 
$num
™™ 
:
™™ 
SetMetadata
´´ 
(
´´ 
$str
´´ '
,
´´' (
$str
´´) G
,
´´G H
imageMetaData
´´I V
)
´´V W
;
´´W X
break
¨¨ 
;
¨¨ 
case
≠≠ 
$num
≠≠ 
:
≠≠ 
SetMetadata
ÆÆ 
(
ÆÆ 
$str
ÆÆ '
,
ÆÆ' (
$str
ÆÆ) G
,
ÆÆG H
imageMetaData
ÆÆI V
)
ÆÆV W
;
ÆÆW X
break
ØØ 
;
ØØ 
case
∞∞ 
$num
∞∞ 
:
∞∞ 
SetMetadata
±± 
(
±± 
$str
±± '
,
±±' (
$str
±±) ;
,
±±; <
imageMetaData
±±= J
)
±±J K
;
±±K L
break
≤≤ 
;
≤≤ 
case
≥≥ 
$num
≥≥ 
:
≥≥ 
SetMetadata
¥¥ 
(
¥¥ 
$str
¥¥ '
,
¥¥' (
$str
¥¥) I
,
¥¥I J
imageMetaData
¥¥K X
)
¥¥X Y
;
¥¥Y Z
break
µµ 
;
µµ 
default
∂∂ 
:
∂∂ 
SetMetadata
∑∑ 
(
∑∑ 
$str
∑∑ '
,
∑∑' (
$str
∑∑) 3
,
∑∑3 4
imageMetaData
∑∑5 B
)
∑∑B C
;
∑∑C D
break
∏∏ 
;
∏∏ 
}
ππ 
break
∫∫ 
;
∫∫ 
}
ªª 
}
ºº 
}
ΩΩ 
}
ƒƒ 
}
ÀÀ 
}ÕÕ ∏@
kD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\IndexingQueue.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
IndexingQueue 
{ 
public 
IndexingQueue 
( 
) 
{ 	
}
 
private++ 
int++ 
siteId++ 
=++ 
-++ 
$num++ 
;++  
private,, 
long,, 
rowId,, 
;,, 
private-- 
string-- 
	indexPath--  
=--! "
string--# )
.--) *
Empty--* /
;--/ 0
private.. 
string.. 
serializedItem.. %
=..& '
string..( .
.... /
Empty../ 4
;..4 5
private// 
string// 
itemKey// 
=//  
string//! '
.//' (
Empty//( -
;//- .
private00 
bool00 

removeOnly00 
;00  
public66 
int66 
SiteId66 
{77 	
get88 
{88 
return88 
siteId88 
;88  
}88! "
set99 
{99 
siteId99 
=99 
value99  
;99  !
}99" #
}:: 	
public<< 
long<< 
RowId<< 
{== 	
get>> 
{>> 
return>> 
rowId>> 
;>> 
}>>  !
set?? 
{?? 
rowId?? 
=?? 
value?? 
;??  
}??! "
}@@ 	
publicAA 
stringAA 
	IndexPathAA 
{BB 	
getCC 
{CC 
returnCC 
	indexPathCC "
;CC" #
}CC$ %
setDD 
{DD 
	indexPathDD 
=DD 
valueDD #
;DD# $
}DD% &
}EE 	
publicFF 
stringFF 
SerializedItemFF $
{GG 	
getHH 
{HH 
returnHH 
serializedItemHH '
;HH' (
}HH) *
setII 
{II 
serializedItemII  
=II! "
valueII# (
;II( )
}II* +
}JJ 	
publicKK 
stringKK 
ItemKeyKK 
{LL 	
getMM 
{MM 
returnMM 
itemKeyMM  
;MM  !
}MM" #
setNN 
{NN 
itemKeyNN 
=NN 
valueNN !
;NN! "
}NN# $
}OO 	
publicPP 
boolPP 

RemoveOnlyPP 
{QQ 	
getRR 
{RR 
returnRR 

removeOnlyRR #
;RR# $
}RR% &
setSS 
{SS 

removeOnlySS 
=SS 
valueSS $
;SS$ %
}SS& '
}TT 	
privatezz 
boolzz 
Createzz 
(zz 
)zz 
{{{ 	
Int64|| 
newID|| 
=|| 
$num|| 
;|| 
newID~~ 
=~~ 
DBIndexingQueue~~ #
.~~# $
Create~~$ *
(~~* +
this 
. 
siteId 
, 
this
ÄÄ 
.
ÄÄ 
	indexPath
ÄÄ 
,
ÄÄ 
this
ÅÅ 
.
ÅÅ 
serializedItem
ÅÅ #
,
ÅÅ# $
this
ÇÇ 
.
ÇÇ 
itemKey
ÇÇ 
,
ÇÇ 
this
ÉÉ 
.
ÉÉ 

removeOnly
ÉÉ 
)
ÉÉ  
;
ÉÉ  !
this
ÖÖ 
.
ÖÖ 
rowId
ÖÖ 
=
ÖÖ 
newID
ÖÖ 
;
ÖÖ 
return
áá 
(
áá 
newID
áá 
>
áá 
$num
áá 
)
áá 
;
áá 
}
ââ 	
public
®® 
bool
®® 
Save
®® 
(
®® 
)
®® 
{
©© 	
return
∞∞ 
Create
∞∞ 
(
∞∞ 
)
∞∞ 
;
∞∞  
}
≤≤ 	
public
ææ 
static
ææ 
int
ææ 
GetCount
ææ "
(
ææ" #
)
ææ# $
{
øø 	
return
¿¿ 
DBIndexingQueue
¿¿ "
.
¿¿" #
GetCount
¿¿# +
(
¿¿+ ,
)
¿¿, -
;
¿¿- .
}
¬¬ 	
public
…… 
static
…… 
bool
…… 
Delete
…… !
(
……! "
long
   
rowId
   
)
   
{
ÀÀ 	
return
ÃÃ 
DBIndexingQueue
ÃÃ "
.
ÃÃ" #
Delete
ÃÃ# )
(
ÃÃ) *
rowId
ÕÕ 
)
ÕÕ 
;
ÕÕ 
}
ŒŒ 	
public
–– 
static
–– 
bool
–– 
	DeleteAll
–– $
(
––$ %
)
––% &
{
—— 	
return
““ 
DBIndexingQueue
““ "
.
““" #
	DeleteAll
““# ,
(
““, -
)
““- .
;
““. /
}
”” 	
public
€€ 
static
€€ 
	DataTable
€€ 
GetIndexPaths
€€  -
(
€€- .
)
€€. /
{
‹‹ 	
return
›› 
DBIndexingQueue
›› "
.
››" #
GetIndexPaths
››# 0
(
››0 1
)
››1 2
;
››2 3
}
ﬂﬂ 	
public
·· 
static
·· 
	DataTable
·· 

GetSiteIDs
··  *
(
··* +
)
··+ ,
{
‚‚ 	
return
„„ 
DBIndexingQueue
„„ "
.
„„" #

GetSiteIDs
„„# -
(
„„- .
)
„„. /
;
„„/ 0
}
ÂÂ 	
public
ÏÏ 
static
ÏÏ 
	DataTable
ÏÏ 
	GetByPath
ÏÏ  )
(
ÏÏ) *
string
ÏÏ* 0
	indexPath
ÏÏ1 :
)
ÏÏ: ;
{
ÌÌ 	
return
ÓÓ 
DBIndexingQueue
ÓÓ "
.
ÓÓ" #
	GetByPath
ÓÓ# ,
(
ÓÓ, -
	indexPath
ÓÓ- 6
)
ÓÓ6 7
;
ÓÓ7 8
}
 	
public
ÚÚ 
static
ÚÚ 
	DataTable
ÚÚ 
	GetBySite
ÚÚ  )
(
ÚÚ) *
int
ÚÚ* -
siteId
ÚÚ. 4
)
ÚÚ4 5
{
ÛÛ 	
return
ÙÙ 
DBIndexingQueue
ÙÙ "
.
ÙÙ" #
	GetBySite
ÙÙ# ,
(
ÙÙ, -
siteId
ÙÙ- 3
)
ÙÙ3 4
;
ÙÙ4 5
}
ˆˆ 	
public
ÉÉ 
static
ÉÉ 
int
ÉÉ  
CompareByIndexPath
ÉÉ ,
(
ÉÉ, -
IndexingQueue
ÉÉ- :
indexingQueue1
ÉÉ; I
,
ÉÉI J
IndexingQueue
ÉÉK X
indexingQueue2
ÉÉY g
)
ÉÉg h
{
ÑÑ 	
return
ÖÖ 
indexingQueue1
ÖÖ !
.
ÖÖ! "
	IndexPath
ÖÖ" +
.
ÖÖ+ ,
	CompareTo
ÖÖ, 5
(
ÖÖ5 6
indexingQueue2
ÖÖ6 D
.
ÖÖD E
	IndexPath
ÖÖE N
)
ÖÖN O
;
ÖÖO P
}
ÜÜ 	
public
ää 
static
ää 
int
ää %
CompareBySerializedItem
ää 1
(
ää1 2
IndexingQueue
ää2 ?
indexingQueue1
ää@ N
,
ääN O
IndexingQueue
ääP ]
indexingQueue2
ää^ l
)
ääl m
{
ãã 	
return
åå 
indexingQueue1
åå !
.
åå! "
SerializedItem
åå" 0
.
åå0 1
	CompareTo
åå1 :
(
åå: ;
indexingQueue2
åå; I
.
ååI J
SerializedItem
ååJ X
)
ååX Y
;
ååY Z
}
çç 	
public
ëë 
static
ëë 
int
ëë 
CompareByItemKey
ëë *
(
ëë* +
IndexingQueue
ëë+ 8
indexingQueue1
ëë9 G
,
ëëG H
IndexingQueue
ëëI V
indexingQueue2
ëëW e
)
ëëe f
{
íí 	
return
ìì 
indexingQueue1
ìì !
.
ìì! "
ItemKey
ìì" )
.
ìì) *
	CompareTo
ìì* 3
(
ìì3 4
indexingQueue2
ìì4 B
.
ììB C
ItemKey
ììC J
)
ììJ K
;
ììK L
}
îî 	
}
ôô 
}õõ ∆
ÄD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Interfaces\ContentChangedEventArgs.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

delegate 
void &
ContentChangedEventHandler 3
(3 4
object4 :
sender; A
,A B#
ContentChangedEventArgsC Z
e[ \
)\ ]
;] ^
public		 

class		 #
ContentChangedEventArgs		 (
:		) *
	EventArgs		+ 4
{

 
private 
bool 
	isDeleted 
=  
false! &
;& '
public 
bool 
	IsDeleted 
{ 	
get 
{ 
return 
this 
. 
	isDeleted '
;' (
}) *
set 
{ 
	isDeleted 
= 
value #
;# $
}% &
} 	
} 
} ∂
zD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Interfaces\IIndexableContent.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public		 

	interface		 
IIndexableContent		 &
{

 
event &
ContentChangedEventHandler (
ContentChanged) 7
;7 8
} 
} Ó
}D:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Interfaces\PageCreatedEventArgs.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

delegate 
void #
PageCreatedEventHandler 0
(0 1
object1 7
sender8 >
,> ? 
PageCreatedEventArgs@ T
eU V
)V W
;W X
public		 

class		  
PageCreatedEventArgs		 %
:		& '
	EventArgs		( 1
{

 
} 
} °	
ÄD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Interfaces\UserRegisteredEventArgs.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

delegate 
void '
UserRegistreredEventHandler 4
(4 5
object5 ;
sender< B
,B C#
UserRegisteredEventArgsD [
e\ ]
)] ^
;^ _
public 

class #
UserRegisteredEventArgs (
:) *
	EventArgs+ 4
{ 
private		 
SiteUser		 
	_siteUser		 "
=		# $
null		% )
;		) *
public 
SiteUser 
SiteUser  
{ 	
get 
{ 
return 
	_siteUser "
;" #
}$ %
} 	
public #
UserRegisteredEventArgs &
(& '
SiteUser' /
siteUser0 8
)8 9
{ 	
	_siteUser 
= 
siteUser  
;  !
} 	
} 
} ù
mD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\IPAddressHelper.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

static 
class 
IPAddressHelper '
{ 
public 
static 
Int64 
ConvertToLong )
() *
string* 0
ipv4Address1 <
)< =
{ 	
Int64 
result 
= 
$num 
; 
if 
( 
ipv4Address 
. 
Contains $
($ %
$str% (
)( )
)) *
{+ ,
return- 3
result4 :
;: ;
}< =
	IPAddress!! 
	ipAddress!! 
;!!  
if"" 
("" 
	IPAddress"" 
."" 
TryParse"" "
(""" #
ipv4Address""# .
,"". /
out""0 3
	ipAddress""4 =
)""= >
)""> ?
{## 
byte$$ 
[$$ 
]$$ 
b$$ 
=$$ 
	ipAddress$$ $
.$$$ %
GetAddressBytes$$% 4
($$4 5
)$$5 6
;$$6 7
if%% 
(%% 
b%% 
.%% 
Length%% 
>=%% 
$num%%  !
)%%! "
{&& 
result'' 
='' 
('' 
long'' "
)''" #
(''# $
b''$ %
[''% &
$num''& '
]''' (
*'') *
$num''+ 3
)''3 4
;''4 5
result(( 
+=(( 
((( 
long(( #
)((# $
((($ %
b((% &
[((& '
$num((' (
]((( )
*((* +
$num((, 1
)((1 2
;((2 3
result)) 
+=)) 
()) 
long)) #
)))# $
())$ %
b))% &
[))& '
$num))' (
]))( )
*))* +
$num)), /
)))/ 0
;))0 1
result** 
+=** 
(** 
long** #
)**# $
(**$ %
b**% &
[**& '
$num**' (
]**( )
**** +
$num**, -
)**- .
;**. /
}++ 
},, 
return.. 
result.. 
;.. 
}// 	
publicMM 
staticMM 
stringMM $
ConvertToIPAddressStringMM 5
(MM5 6
Int64MM6 ;
ipAddressAsLongMM< K
)MMK L
{NN 	
	IPAddressOO 
	ipAddressOO 
=OO  !
newOO" %
	IPAddressOO& /
(OO/ 0
ipAddressAsLongOO0 ?
)OO? @
;OO@ A
returnPP 
	ipAddressPP 
.PP 
ToStringPP %
(PP% &
)PP& '
;PP' (
}RR 	
}UU 
}VV ï6
fD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Language.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
Language 
{ 
public 
Language 
( 
) 
{ 	
}
 
public 
Language 
( 
Guid 
guid !
)! "
{   	
GetLanguage!! 
(!! 
guid!! 
)!! 
;!! 
}"" 	
private(( 
Guid(( 
guid(( 
=(( 
Guid((  
.((  !
Empty((! &
;((& '
private)) 
string)) 
name)) 
;)) 
private** 
string** 
code** 
;** 
private++ 
int++ 
sort++ 
;++ 
public11 
Guid11 
Guid11 
{22 	
get33 
{33 
return33 
guid33 
;33 
}33  
set44 
{44 
guid44 
=44 
value44 
;44 
}44  !
}55 	
public66 
string66 
Name66 
{77 	
get88 
{88 
return88 
name88 
;88 
}88  
set99 
{99 
name99 
=99 
value99 
;99 
}99  !
}:: 	
public;; 
string;; 
Code;; 
{<< 	
get== 
{== 
return== 
code== 
;== 
}==  
set>> 
{>> 
code>> 
=>> 
value>> 
;>> 
}>>  !
}?? 	
public@@ 
int@@ 
Sort@@ 
{AA 	
getBB 
{BB 
returnBB 
sortBB 
;BB 
}BB  
setCC 
{CC 
sortCC 
=CC 
valueCC 
;CC 
}CC  !
}DD 	
privateJJ 
voidJJ 
GetLanguageJJ  
(JJ  !
GuidJJ! %
guidJJ& *
)JJ* +
{KK 	
usingLL 
(LL 
IDataReaderLL 
readerLL %
=LL& '

DBLanguageLL( 2
.LL2 3
GetOneLL3 9
(LL9 :
guidLL: >
)LL> ?
)LL? @
{MM 
ifNN 
(NN 
readerNN 
.NN 
ReadNN 
(NN  
)NN  !
)NN! "
{OO 
thisPP 
.PP 
guidPP 
=PP 
newPP  #
GuidPP$ (
(PP( )
readerPP) /
[PP/ 0
$strPP0 6
]PP6 7
.PP7 8
ToStringPP8 @
(PP@ A
)PPA B
)PPB C
;PPC D
thisQQ 
.QQ 
nameQQ 
=QQ 
readerQQ  &
[QQ& '
$strQQ' -
]QQ- .
.QQ. /
ToStringQQ/ 7
(QQ7 8
)QQ8 9
;QQ9 :
thisRR 
.RR 
codeRR 
=RR 
readerRR  &
[RR& '
$strRR' -
]RR- .
.RR. /
ToStringRR/ 7
(RR7 8
)RR8 9
;RR9 :
thisSS 
.SS 
sortSS 
=SS 
ConvertSS  '
.SS' (
ToInt32SS( /
(SS/ 0
readerSS0 6
[SS6 7
$strSS7 =
]SS= >
)SS> ?
;SS? @
}UU 
}WW 
}YY 	
private[[ 
bool[[ 
Create[[ 
([[ 
)[[ 
{\\ 	
Guid]] 
newID]] 
=]] 
Guid]] 
.]] 
NewGuid]] %
(]]% &
)]]& '
;]]' (
this__ 
.__ 
guid__ 
=__ 
newID__ 
;__ 
intaa 
rowsAffectedaa 
=aa 

DBLanguageaa )
.aa) *
Createaa* 0
(aa0 1
thisbb 
.bb 
guidbb 
,bb 
thiscc 
.cc 
namecc 
,cc 
thisdd 
.dd 
codedd 
,dd 
thisee 
.ee 
sortee 
)ee 
;ee 
returngg 
(gg 
rowsAffectedgg  
>gg! "
$numgg# $
)gg$ %
;gg% &
}ii 	
privatekk 
boolkk 
Updatekk 
(kk 
)kk 
{ll 	
returnnn 

DBLanguagenn 
.nn 
Updatenn $
(nn$ %
thisoo 
.oo 
guidoo 
,oo 
thispp 
.pp 
namepp 
,pp 
thisqq 
.qq 
codeqq 
,qq 
thisrr 
.rr 
sortrr 
)rr 
;rr 
}tt 	
public|| 
bool|| 
Save|| 
(|| 
)|| 
{}} 	
if~~ 
(~~ 
this~~ 
.~~ 
guid~~ 
!=~~ 
Guid~~ !
.~~! "
Empty~~" '
)~~' (
{ 
return
ÄÄ 
Update
ÄÄ 
(
ÄÄ 
)
ÄÄ 
;
ÄÄ  
}
ÅÅ 
else
ÇÇ 
{
ÉÉ 
return
ÑÑ 
Create
ÑÑ 
(
ÑÑ 
)
ÑÑ 
;
ÑÑ  
}
ÖÖ 
}
ÜÜ 	
public
çç 
static
çç 
bool
çç 
Delete
çç !
(
çç! "
Guid
çç" &
guid
çç' +
)
çç+ ,
{
éé 	
return
èè 

DBLanguage
èè 
.
èè 
Delete
èè $
(
èè$ %
guid
èè% )
)
èè) *
;
èè* +
}
êê 	
public
íí 
static
íí 
IDataReader
íí !
GetAll
íí" (
(
íí( )
)
íí) *
{
ìì 	
return
îî 

DBLanguage
îî 
.
îî 
GetAll
îî $
(
îî$ %
)
îî% &
;
îî& '
}
ïï 	
public
óó 
static
óó 
IDataReader
óó !
GetPage
óó" )
(
óó) *
int
òò 

pageNumber
òò 
,
òò 
int
ôô 
pageSize
ôô 
,
ôô 
out
öö 
int
öö 

totalPages
öö 
)
öö 
{
õõ 	
return
ùù 

DBLanguage
ùù 
.
ùù 
GetPage
ùù %
(
ùù% &

pageNumber
ùù& 0
,
ùù0 1
pageSize
ùù2 :
,
ùù: ;
out
ùù< ?

totalPages
ùù@ J
)
ùùJ K
;
ùùK L
}
†† 	
}
¶¶ 
}®® ≥-
qD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\CustomModuleSetting.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public		 
class		 
CustomModuleSetting		 !
{

 
public 
CustomModuleSetting "
(" #
Guid 
featureGuid 
, 
int 
defSettingId 
, 
string 
resourceFile 
,  
string 
settingName 
, 
string 
defaultValue 
,  
string 
controlType 
, 
string "
settingValidationRegex )
,) *
string 

controlSrc 
, 
string 
helpKey 
, 
int 
	sortOrder 
, 
string 	

attributes
 
, 
string 	
options
 
) 
{ 	
this 
. 
FeatureGuid 
= 
featureGuid *
;* +
this 
. 
DefSettingId 
= 
defSettingId  ,
;, -
this 
. 
ResourceFile 
= 
resourceFile  ,
;, -
this 
. 
SettingName 
= 
settingName *
;* +
this 
. 
SettingValue 
= 
defaultValue  ,
;, -
this 
. 
SettingControlType #
=$ %
controlType& 1
;1 2
this   
.   "
SettingValidationRegex   '
=  ( )"
settingValidationRegex  * @
;  @ A
this!! 
.!! 

ControlSrc!! 
=!! 

controlSrc!! (
;!!( )
this"" 
."" 
HelpKey"" 
="" 
helpKey"" "
;""" #
this## 
.## 
	SortOrder## 
=## 
	sortOrder## &
;##& '
this$$ 
.$$ 

Attributes$$ 
=$$ 

attributes$$ 
;$$  
this%% 
.%% 
Options%% 
=%% 
options%% 
;%% 
}&& 
public(( 
int((	 
DefSettingId(( 
{(( 
get(( 
;((  
set((! $
;(($ %
}((& '
=((( )
-((* +
$num((+ ,
;((, -
public** 
int**	 
	SortOrder** 
{** 
get** 
;** 
set** !
;**! "
}**# $
=**% &
$num**' *
;*** +
public,, 
Guid,,	 
FeatureGuid,, 
{,, 
get,, 
;,,  
set,,! $
;,,$ %
},,& '
=,,( )
Guid,,* .
.,,. /
Empty,,/ 4
;,,4 5
public.. 
string..	 
ResourceFile.. 
{.. 
get.. "
;.." #
set..$ '
;..' (
}..) *
=..+ ,
$str..- 7
;..7 8
public00 
string00	 
SettingName00 
{00 
get00 !
;00! "
}00# $
=00% &
string00' -
.00- .
Empty00. 3
;003 4
public22 
string22	 
SettingValue22 
{22 
get22 "
;22" #
}22$ %
=22& '
string22( .
.22. /
Empty22/ 4
;224 5
public44 
string44	 
SettingControlType44 "
{44# $
get44% (
;44( )
}44* +
=44, -
string44. 4
.444 5
Empty445 :
;44: ;
public66 
string66	 "
SettingValidationRegex66 &
{66' (
get66) ,
;66, -
}66. /
=660 1
string662 8
.668 9
Empty669 >
;66> ?
public88 
string88	 
ControlType88 
{99 	
get:: 
{:: 
return:: 
SettingControlType:: +
;::+ ,
}::- .
};; 	
public== 
string== %
RegexValidationExpression== /
{>> 	
get?? 
{?? 
return?? "
SettingValidationRegex?? /
;??/ 0
}??1 2
}@@ 	
publicBB 
stringBB	 

ControlSrcBB 
{BB 
getBB  
;BB  !
}BB" #
=BB$ %
stringBB& ,
.BB, -
EmptyBB- 2
;BB2 3
publicDD 
stringDD	 
HelpKeyDD 
{DD 
getDD 
;DD 
}DD  
=DD! "
stringDD# )
.DD) *
EmptyDD* /
;DD/ 0
publicFF 
stringFF	 
	GroupNameFF 
{FF 
getFF 
;FF  
setFF! $
;FF$ %
}FF& '
=FF( )
stringFF* 0
.FF0 1
EmptyFF1 6
;FF6 7
publicHH 
stringHH	 

AttributesHH 
{HH 
getHH  
;HH  !
setHH" %
;HH% &
}HH' (
=HH) *
stringHH+ 1
.HH1 2
EmptyHH2 7
;HH7 8
publicJJ 
stringJJ	 
OptionsJJ 
{JJ 
getJJ 
;JJ 
setJJ "
;JJ" #
}JJ$ %
=JJ& '
stringJJ( .
.JJ. /
EmptyJJ/ 4
;JJ4 5
}LL 
}MM Øµ
lD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\DatabaseHelper.cs
	namespace		 	

mojoPortal		
 
.		 
Business		 
{

 
public 
static 
class 
DatabaseHelper #
{ 
private 
static 
readonly 
ILog  $
log% (
=) *

LogManager+ 5
.5 6
	GetLogger6 ?
(? @
typeof@ F
(F G
DatabaseHelperG U
)U V
)V W
;W X
public 
static 
String 
GetApplicationName /
(/ 0
)0 1
{ 	
return 
$str $
;$ %
} 	
public 
static 
Guid 
GetApplicationId +
(+ ,
), -
{ 	
Guid 
appGuid 
= 
new 
Guid #
(# $
$str$ J
)J K
;K L
return 
appGuid 
; 
} 	
public 
static 
String 

DBPlatform '
(' (
)( )
{ 	
return 
DBPortal 
. 

DBPlatform &
(& '
)' (
;( )
} 	
public!! 
static!! 
Version!! 
DBCodeVersion!! +
(!!+ ,
)!!, -
{"" 	
int$$ 
major$$ 
=$$ 
$num$$ 
;$$ 
int%% 
minor%% 
=%% 
$num%% 
;%% 
int&& 
build&& 
=&& 
$num&& 
;&& 
int'' 
revision'' 
='' 
$num'' 
;'' 
return(( 
new(( 
Version(( 
((( 
major(( $
,(($ %
minor((& +
,((+ ,
build((- 2
,((2 3
revision((4 <
)((< =
;((= >
}** 	
public,, 
static,, 
Version,, 
DBSchemaVersion,, -
(,,- .
),,. /
{-- 	
int00 
major00 
=00 
$num00 
;00 
int11 
minor11 
=11 
$num11 
;11 
int22 
build22 
=22 
$num22 
;22 
int33 
revision33 
=33 
$num33 
;33 
bool55 
found55 
=55 
false55 
;55 
try66 
{77 
using88 
(88 
IDataReader88 !
reader88" (
=88) *
DBPortal88+ 3
.883 4)
SchemaVersionGetSchemaVersion884 Q
(88Q R
GetApplicationId88R b
(88b c
)88c d
)88d e
)88e f
{99 
if:: 
(:: 
reader:: 
.:: 
Read:: #
(::# $
)::$ %
)::% &
{;; 
major<< 
=<< 
Convert<<  '
.<<' (
ToInt32<<( /
(<</ 0
reader<<0 6
[<<6 7
$str<<7 >
]<<> ?
)<<? @
;<<@ A
minor== 
=== 
Convert==  '
.==' (
ToInt32==( /
(==/ 0
reader==0 6
[==6 7
$str==7 >
]==> ?
)==? @
;==@ A
build>> 
=>> 
Convert>>  '
.>>' (
ToInt32>>( /
(>>/ 0
reader>>0 6
[>>6 7
$str>>7 >
]>>> ?
)>>? @
;>>@ A
revision??  
=??! "
Convert??# *
.??* +
ToInt32??+ 2
(??2 3
reader??3 9
[??9 :
$str??: D
]??D E
)??E F
;??F G
foundAA 
=AA 
trueAA  $
;AA$ %
}CC 
}DD 
ifFF 
(FF 
!FF 
foundFF 
)FF 
{GG 
DBPortalHH 
.HH )
SchemaVersionAddSchemaVersionHH :
(HH: ;
GetApplicationIdII (
(II( )
)II) *
,II* +
GetApplicationNameJJ *
(JJ* +
)JJ+ ,
,JJ, -
majorKK 
,KK 
minorLL 
,LL 
buildMM 
,MM 
revisionNN  
)NN  !
;NN! "
}OO 
}QQ 
catchRR 
(RR 
DbExceptionRR 
)RR 
{RR 
}RR  !
catchSS 
(SS %
InvalidOperationExceptionSS ,
)SS, -
{SS. /
}SS0 1
returnVV 
newVV 
VersionVV 
(VV 
majorVV $
,VV$ %
minorVV& +
,VV+ ,
buildVV- 2
,VV2 3
revisionVV4 <
)VV< =
;VV= >
}XX 	
publicZZ 
staticZZ 
voidZZ 
EnsureDatabaseZZ )
(ZZ) *
)ZZ* +
{[[ 	
DBPortal\\ 
.\\ 
EnsureDatabase\\ #
(\\# $
)\\$ %
;\\% &
}]] 	
publicqq 
staticqq 
boolqq 
UpdateSchemaVersionqq .
(qq. /
Guidrr 
applicationIdrr 
,rr 
stringss 
applicationNamess "
,ss" #
inttt 
majortt 
,tt 
intuu 
minoruu 
,uu 
intvv 
buildvv 
,vv 
intww 
revisionww 
)ww 
{xx 	
ifyy 
(yy 
!yy 
DBPortalyy 
.yy 
SchemaVersionExistsyy -
(yy- .
applicationIdyy. ;
)yy; <
)yy< =
{zz 
return{{ 
DBPortal{{ 
.{{  )
SchemaVersionAddSchemaVersion{{  =
({{= >
applicationId|| !
,||! "
applicationName}} #
,}}# $
major~~ 
,~~ 
minor 
, 
build
ÄÄ 
,
ÄÄ 
revision
ÅÅ 
)
ÅÅ 
;
ÅÅ 
}
ÇÇ 
return
ÑÑ 
DBPortal
ÑÑ 
.
ÑÑ .
 SchemaVersionUpdateSchemaVersion
ÑÑ <
(
ÑÑ< =
applicationId
ÖÖ 
,
ÖÖ 
applicationName
ÜÜ 
,
ÜÜ  
major
áá 
,
áá 
minor
àà 
,
àà 
build
ââ 
,
ââ 
revision
ää 
)
ää 
;
ää 
}
åå 	
public
éé 
static
éé 
bool
éé !
DeleteSchemaVersion
éé .
(
éé. /
Guid
éé/ 3
applicationId
éé4 A
)
ééA B
{
èè 	
return
êê 
DBPortal
êê 
.
êê .
 SchemaVersionDeleteSchemaVersion
êê <
(
êê< =
applicationId
êê= J
)
êêJ K
;
êêK L
}
íí 	
public
îî 
static
îî 
Version
îî 
GetSchemaVersion
îî .
(
îî. /
string
îî/ 5
applicationName
îî6 E
)
îîE F
{
ïï 	
Guid
ññ 
appGuid
ññ 
=
ññ 
GetApplicationId
ññ +
(
ññ+ ,
applicationName
ññ, ;
)
ññ; <
;
ññ< =
return
óó 
GetSchemaVersion
óó #
(
óó# $
appGuid
óó$ +
)
óó+ ,
;
óó, -
}
ôô 	
public
õõ 
static
õõ 
Version
õõ 
GetSchemaVersion
õõ .
(
õõ. /
Guid
õõ/ 3
applicationId
õõ4 A
)
õõA B
{
úú 	
int
££ 
major
££ 
=
££ 
$num
££ 
;
££ 
int
§§ 
minor
§§ 
=
§§ 
$num
§§ 
;
§§ 
int
•• 
build
•• 
=
•• 
$num
•• 
;
•• 
int
¶¶ 
revision
¶¶ 
=
¶¶ 
$num
¶¶ 
;
¶¶ 
try
®® 
{
©© 
using
™™ 
(
™™ 
IDataReader
™™ !
reader
™™" (
=
™™) *
DBPortal
™™+ 3
.
™™3 4+
SchemaVersionGetSchemaVersion
™™4 Q
(
™™Q R
applicationId
™™R _
)
™™_ `
)
™™` a
{
´´ 
if
¨¨ 
(
¨¨ 
reader
¨¨ 
.
¨¨ 
Read
¨¨ #
(
¨¨# $
)
¨¨$ %
)
¨¨% &
{
≠≠ 
major
ÆÆ 
=
ÆÆ 
Convert
ÆÆ  '
.
ÆÆ' (
ToInt32
ÆÆ( /
(
ÆÆ/ 0
reader
ÆÆ0 6
[
ÆÆ6 7
$str
ÆÆ7 >
]
ÆÆ> ?
)
ÆÆ? @
;
ÆÆ@ A
minor
ØØ 
=
ØØ 
Convert
ØØ  '
.
ØØ' (
ToInt32
ØØ( /
(
ØØ/ 0
reader
ØØ0 6
[
ØØ6 7
$str
ØØ7 >
]
ØØ> ?
)
ØØ? @
;
ØØ@ A
build
∞∞ 
=
∞∞ 
Convert
∞∞  '
.
∞∞' (
ToInt32
∞∞( /
(
∞∞/ 0
reader
∞∞0 6
[
∞∞6 7
$str
∞∞7 >
]
∞∞> ?
)
∞∞? @
;
∞∞@ A
revision
±±  
=
±±! "
Convert
±±# *
.
±±* +
ToInt32
±±+ 2
(
±±2 3
reader
±±3 9
[
±±9 :
$str
±±: D
]
±±D E
)
±±E F
;
±±F G
}
≤≤ 
}
≥≥ 
}
µµ 
catch
∂∂ 
(
∂∂ 
DbException
∂∂ 
)
∂∂ 
{
∂∂ 
}
∂∂  !
catch
∑∑ 
(
∑∑ '
InvalidOperationException
∑∑ ,
)
∑∑, -
{
∑∑. /
}
∑∑0 1
catch
∏∏ 
(
∏∏ 
	Exception
∏∏ 
ex
∏∏ 
)
∏∏  
{
ππ 
if
ªª 
(
ªª 
DatabaseHelper
ªª "
.
ªª" #

DBPlatform
ªª# -
(
ªª- .
)
ªª. /
!=
ªª0 2
$str
ªª3 :
)
ªª: ;
{
ªª< =
throw
ªª> C
;
ªªC D
}
ªªE F
log
ºº 
.
ºº 
Error
ºº 
(
ºº 
ex
ºº 
)
ºº 
;
ºº 
}
ΩΩ 
return
¿¿ 
new
¿¿ 
Version
¿¿ 
(
¿¿ 
major
¿¿ $
,
¿¿$ %
minor
¿¿& +
,
¿¿+ ,
build
¿¿- 2
,
¿¿2 3
revision
¿¿4 <
)
¿¿< =
;
¿¿= >
}
¡¡ 	
public
√√ 
static
√√ 
int
√√ $
AddSchemaScriptHistory
√√ 0
(
√√0 1
Guid
ƒƒ 
applicationId
ƒƒ 
,
ƒƒ 
string
≈≈ 

scriptFile
≈≈ 
,
≈≈ 
DateTime
∆∆ 
runTime
∆∆ 
,
∆∆ 
bool
«« 
errorOccurred
«« 
,
«« 
string
»» 
errorMessage
»» 
,
»»  
string
…… 

scriptBody
…… 
)
…… 
{
   	
return
ÀÀ 
DBPortal
ÀÀ 
.
ÀÀ 7
)SchemaScriptHistoryAddSchemaScriptHistory
ÀÀ E
(
ÀÀE F
applicationId
ÃÃ 
,
ÃÃ 

scriptFile
ÕÕ 
,
ÕÕ 
runTime
ŒŒ 
,
ŒŒ 
errorOccurred
œœ 
,
œœ 
errorMessage
–– 
,
–– 

scriptBody
—— 
)
—— 
;
—— 
}
‘‘ 	
public
÷÷ 
static
÷÷ 
bool
÷÷ '
DeleteSchemaScriptHistory
÷÷ 4
(
÷÷4 5
int
÷÷5 8
id
÷÷9 ;
)
÷÷; <
{
◊◊ 	
return
ÿÿ 
DBPortal
ÿÿ 
.
ÿÿ :
,SchemaScriptHistoryDeleteSchemaScriptHistory
ÿÿ H
(
ÿÿH I
id
ÿÿI K
)
ÿÿK L
;
ÿÿL M
}
⁄⁄ 	
public
‹‹ 
static
‹‹ 
IDataReader
‹‹ !%
SchemaVersionGetNonCore
‹‹" 9
(
‹‹9 :
)
‹‹: ;
{
›› 	
return
ﬁﬁ 
DBPortal
ﬁﬁ 
.
ﬁﬁ %
SchemaVersionGetNonCore
ﬁﬁ 3
(
ﬁﬁ3 4
)
ﬁﬁ4 5
;
ﬁﬁ5 6
}
ﬂﬂ 	
public
·· 
static
·· 
IDataReader
·· !$
GetSchemaScriptHistory
··" 8
(
··8 9
int
··9 <
id
··= ?
)
··? @
{
‚‚ 	
return
„„ 
DBPortal
„„ 
.
„„ 7
)SchemaScriptHistoryGetSchemaScriptHistory
„„ E
(
„„E F
id
„„F H
)
„„H I
;
„„I J
}
‰‰ 	
public
ÊÊ 
static
ÊÊ 
IDataReader
ÊÊ !$
GetSchemaScriptHistory
ÊÊ" 8
(
ÊÊ8 9
Guid
ÊÊ9 =
applicationId
ÊÊ> K
)
ÊÊK L
{
ÁÁ 	
return
ËË 
DBPortal
ËË 
.
ËË 7
)SchemaScriptHistoryGetSchemaScriptHistory
ËË E
(
ËËE F
applicationId
ËËF S
)
ËËS T
;
ËËT U
}
ÍÍ 	
public
ÏÏ 
static
ÏÏ 
IDataReader
ÏÏ !)
GetSchemaScriptErrorHistory
ÏÏ" =
(
ÏÏ= >
Guid
ÏÏ> B
applicationId
ÏÏC P
)
ÏÏP Q
{
ÌÌ 	
return
ÓÓ 
DBPortal
ÓÓ 
.
ÓÓ <
.SchemaScriptHistoryGetSchemaScriptErrorHistory
ÓÓ J
(
ÓÓJ K
applicationId
ÓÓK X
)
ÓÓX Y
;
ÓÓY Z
}
ÔÔ 	
public
ÛÛ 
static
ÛÛ 
bool
ÛÛ $
SchemaScriptHasBeenRun
ÛÛ 1
(
ÛÛ1 2
Guid
ÛÛ2 6
applicationId
ÛÛ7 D
,
ÛÛD E
String
ÛÛF L

scriptFile
ÛÛM W
)
ÛÛW X
{
ÙÙ 	
try
ıı 
{
ˆˆ 
return
˜˜ 
DBPortal
˜˜ 
.
˜˜  '
SchemaScriptHistoryExists
˜˜  9
(
˜˜9 :
applicationId
˜˜: G
,
˜˜G H

scriptFile
˜˜I S
)
˜˜S T
;
˜˜T U
}
¯¯ 
catch
˘˘ 
(
˘˘ 
DbException
˘˘ 
)
˘˘ 
{
˙˙ 
}
˙˙ 
return
¸¸ 
false
¸¸ 
;
¸¸ 
}
˛˛ 	
public
ÄÄ 
static
ÄÄ 
bool
ÄÄ 
CanAccessDatabase
ÄÄ ,
(
ÄÄ, -
)
ÄÄ- .
{
ÅÅ 	
return
ÇÇ 
DBPortal
ÇÇ 
.
ÇÇ -
DatabaseHelperCanAccessDatabase
ÇÇ ;
(
ÇÇ; <
)
ÇÇ< =
;
ÇÇ= >
}
ÉÉ 	
public
ÖÖ 
static
ÖÖ 
DbException
ÖÖ ! 
GetConnectionError
ÖÖ" 4
(
ÖÖ4 5
String
ÖÖ5 ;$
overrideConnectionInfo
ÖÖ< R
)
ÖÖR S
{
ÜÜ 	
return
áá 
DBPortal
áá 
.
áá .
 DatabaseHelperGetConnectionError
áá <
(
áá< =$
overrideConnectionInfo
áá= S
)
ááS T
;
ááT U
}
àà 	
public
åå 
static
åå 
bool
åå 
CanAlterSchema
åå )
(
åå) *
String
åå* 0$
overrideConnectionInfo
åå1 G
)
ååG H
{
çç 	
try
éé 
{
èè 
return
êê 
DBPortal
êê 
.
êê  *
DatabaseHelperCanAlterSchema
êê  <
(
êê< =$
overrideConnectionInfo
êê= S
)
êêS T
;
êêT U
}
ëë 
catch
íí 
(
íí 
DbException
íí 
ex
íí  
)
íí  !
{
ìì 
log
îî 
.
îî 
Error
îî 
(
îî 
ex
îî 
.
îî 
ToString
îî %
(
îî% &
)
îî& '
)
îî' (
;
îî( )
return
ññ 
false
ññ 
;
ññ 
}
óó 
}
òò 	
public
öö 
static
öö 
bool
öö "
SchemaHasBeenCreated
öö /
(
öö/ 0
)
öö0 1
{
õõ 	
return
úú 
DBPortal
úú 
.
úú ,
DatabaseHelperSitesTableExists
úú :
(
úú: ;
)
úú; <
;
úú< =
}
ùù 	
public
üü 
static
üü 
int
üü 
ExistingSiteCount
üü +
(
üü+ ,
)
üü, -
{
†† 	
int
°° 
	siteCount
°° 
=
°° 
$num
°° 
;
°° 
try
¢¢ 
{
££ 
	siteCount
§§ 
=
§§ 
SiteSettings
§§ (
.
§§( )
	SiteCount
§§) 2
(
§§2 3
)
§§3 4
;
§§4 5
}
•• 
catch
¶¶ 
(
¶¶ 
DbException
¶¶ 
)
¶¶ 
{
¶¶  !
}
¶¶" #
catch
ßß 
(
ßß '
InvalidOperationException
ßß ,
)
ßß, -
{
ßß. /
}
ßß0 1
catch
®® 
(
®® 
	Exception
®® 
ex
®® 
)
®®  
{
©© 
if
¨¨ 
(
¨¨ 

DBPlatform
¨¨ 
(
¨¨ 
)
¨¨  
.
¨¨  !
ToLower
¨¨! (
(
¨¨( )
)
¨¨) *
!=
¨¨+ -
$str
¨¨. 5
)
¨¨5 6
{
¨¨7 8
throw
¨¨9 >
ex
¨¨? A
;
¨¨A B
}
¨¨C D
}
≠≠ 
return
ØØ 
	siteCount
ØØ 
;
ØØ 
}
±± 	
public
¥¥ 
static
¥¥ 
string
¥¥ 
	RunScript
¥¥ &
(
¥¥& '
Guid
µµ 
applicationId
µµ 
,
µµ 
FileInfo
∂∂ 

scriptFile
∂∂ 
,
∂∂  
String
∑∑ $
overrideConnectionInfo
∑∑ )
)
∑∑) *
{
∏∏ 	
string
ªª 
resultMessage
ªª  
=
ªª! "
string
ªª# )
.
ªª) *
Empty
ªª* /
;
ªª/ 0
if
ΩΩ 
(
ΩΩ 

scriptFile
ΩΩ 
==
ΩΩ 
null
ΩΩ "
)
ΩΩ" #
return
ΩΩ$ *
resultMessage
ΩΩ+ 8
;
ΩΩ8 9
try
¡¡ 
{
¬¬ 
bool
√√ 
result
√√ 
=
√√ 
DBPortal
√√ &
.
√√& '%
DatabaseHelperRunScript
√√' >
(
√√> ?

scriptFile
ƒƒ 
,
ƒƒ $
overrideConnectionInfo
ƒƒ  6
)
ƒƒ6 7
;
ƒƒ7 8
if
∆∆ 
(
∆∆ 
!
∆∆ 
result
∆∆ 
)
∆∆ 
{
«« 
resultMessage
»» !
=
»»" #
$str
»»$ I
;
»»I J
}
…… 
}
ÀÀ 
catch
ÃÃ 
(
ÃÃ 
DbException
ÃÃ 
ex
ÃÃ !
)
ÃÃ! "
{
ÕÕ 
resultMessage
ŒŒ 
=
ŒŒ 
ex
ŒŒ  "
.
ŒŒ" #
ToString
ŒŒ# +
(
ŒŒ+ ,
)
ŒŒ, -
;
ŒŒ- .
}
œœ 
return
—— 
resultMessage
——  
;
——  !
}
”” 	
public
’’ 
static
’’ 
IDataReader
’’ !
	GetReader
’’" +
(
’’+ ,
string
’’, 2
query
’’3 8
)
’’8 9
{
÷÷ 	
return
◊◊ 
	GetReader
◊◊ 
(
◊◊ 
string
◊◊ #
.
◊◊# $
Empty
◊◊$ )
,
◊◊) *
query
◊◊+ 0
)
◊◊0 1
;
◊◊1 2
}
ÿÿ 	
public
⁄⁄ 
static
⁄⁄ 
IDataReader
⁄⁄ !
	GetReader
⁄⁄" +
(
⁄⁄+ ,
string
⁄⁄, 2
connectionString
⁄⁄3 C
,
⁄⁄C D
string
⁄⁄E K
query
⁄⁄L Q
)
⁄⁄Q R
{
€€ 	
return
‹‹ 
DBPortal
‹‹ 
.
‹‹ %
DatabaseHelperGetReader
‹‹ 3
(
‹‹3 4
connectionString
‹‹4 D
,
‹‹D E
query
‹‹F K
)
‹‹K L
;
‹‹L M
}
ﬁﬁ 	
public
‡‡ 
static
‡‡ 
int
‡‡ 
ExecteNonQuery
‡‡ (
(
‡‡( )
string
‡‡) /
query
‡‡0 5
)
‡‡5 6
{
·· 	
return
‚‚ 
ExecteNonQuery
‚‚ !
(
‚‚! "
string
‚‚" (
.
‚‚( )
Empty
‚‚) .
,
‚‚. /
query
‚‚0 5
)
‚‚5 6
;
‚‚6 7
}
„„ 	
public
ÂÂ 
static
ÂÂ 
int
ÂÂ 
ExecteNonQuery
ÂÂ (
(
ÂÂ( )
string
ÂÂ) /
connectionString
ÂÂ0 @
,
ÂÂ@ A
string
ÂÂB H
query
ÂÂI N
)
ÂÂN O
{
ÊÊ 	
return
ÁÁ 
DBPortal
ÁÁ 
.
ÁÁ *
DatabaseHelperExecteNonQuery
ÁÁ 8
(
ÁÁ8 9
connectionString
ÁÁ9 I
,
ÁÁI J
query
ÁÁK P
)
ÁÁP Q
;
ÁÁQ R
}
ËË 	
public
ÍÍ 
static
ÍÍ 
Version
ÍÍ &
ParseVersionFromFileName
ÍÍ 6
(
ÍÍ6 7
String
ÍÍ7 =
fileName
ÍÍ> F
)
ÍÍF G
{
ÎÎ 	
Version
ÏÏ 
version
ÏÏ 
=
ÏÏ 
null
ÏÏ "
;
ÏÏ" #
int
ÓÓ 
major
ÓÓ 
=
ÓÓ 
$num
ÓÓ 
;
ÓÓ 
int
ÔÔ 
minor
ÔÔ 
=
ÔÔ 
$num
ÔÔ 
;
ÔÔ 
int
 
build
 
=
 
$num
 
;
 
int
ÒÒ 
revision
ÒÒ 
=
ÒÒ 
$num
ÒÒ 
;
ÒÒ 
bool
ÚÚ 
success
ÚÚ 
=
ÚÚ 
true
ÚÚ 
;
ÚÚ  
if
ıı 
(
ıı 
fileName
ıı 
!=
ıı 
null
ıı  
)
ıı  !
{
ˆˆ 
char
˜˜ 
[
˜˜ 
]
˜˜ 
	separator
˜˜  
=
˜˜! "
{
˜˜# $
$char
˜˜% (
}
˜˜) *
;
˜˜* +
string
¯¯ 
[
¯¯ 
]
¯¯ 
args
¯¯ 
=
¯¯ 
fileName
¯¯  (
.
¯¯( )
Replace
¯¯) 0
(
¯¯0 1
$str
¯¯1 :
,
¯¯: ;
String
¯¯; A
.
¯¯A B
Empty
¯¯B G
)
¯¯G H
.
¯¯H I
Split
¯¯I N
(
¯¯N O
	separator
¯¯O X
)
¯¯X Y
;
¯¯Y Z
if
˘˘ 
(
˘˘ 
args
˘˘ 
.
˘˘ 
Length
˘˘ 
>=
˘˘ !
$num
˘˘" #
)
˘˘# $
{
˙˙ 
if
˚˚ 
(
˚˚ 
!
˚˚ 
(
˚˚ 
int
˚˚ 
.
˚˚ 
TryParse
˚˚ %
(
˚˚% &
args
˚˚& *
[
˚˚* +
$num
˚˚+ ,
]
˚˚, -
,
˚˚- .
out
˚˚/ 2
major
˚˚3 8
)
˚˚8 9
)
˚˚9 :
)
˚˚: ;
{
¸¸ 
major
˝˝ 
=
˝˝ 
$num
˝˝  !
;
˝˝! "
success
˛˛ 
=
˛˛  !
false
˛˛" '
;
˛˛' (
}
ˇˇ 
if
ÅÅ 
(
ÅÅ 
!
ÅÅ 
(
ÅÅ 
int
ÅÅ 
.
ÅÅ 
TryParse
ÅÅ &
(
ÅÅ& '
args
ÅÅ' +
[
ÅÅ+ ,
$num
ÅÅ, -
]
ÅÅ- .
,
ÅÅ. /
out
ÅÅ0 3
minor
ÅÅ4 9
)
ÅÅ9 :
)
ÅÅ: ;
)
ÅÅ; <
{
ÇÇ 
minor
ÉÉ 
=
ÉÉ 
$num
ÉÉ  !
;
ÉÉ! "
success
ÑÑ 
=
ÑÑ  !
false
ÑÑ" '
;
ÑÑ' (
}
ÖÖ 
if
áá 
(
áá 
!
áá 
(
áá 
int
áá 
.
áá 
TryParse
áá &
(
áá& '
args
áá' +
[
áá+ ,
$num
áá, -
]
áá- .
,
áá. /
out
áá0 3
build
áá4 9
)
áá9 :
)
áá: ;
)
áá; <
{
àà 
build
ââ 
=
ââ 
$num
ââ  !
;
ââ! "
success
ää 
=
ää  !
false
ää" '
;
ää' (
}
ãã 
if
çç 
(
çç 
!
çç 
(
çç 
int
çç 
.
çç 
TryParse
çç &
(
çç& '
args
çç' +
[
çç+ ,
$num
çç, -
]
çç- .
,
çç. /
out
çç0 3
revision
çç4 <
)
çç< =
)
çç= >
)
çç> ?
{
éé 
revision
èè  
=
èè! "
$num
èè# $
;
èè$ %
success
êê 
=
êê  !
false
êê" '
;
êê' (
}
ëë 
if
ìì 
(
ìì 
success
ìì 
)
ìì  
{
îî 
version
ïï 
=
ïï  !
new
ïï" %
Version
ïï& -
(
ïï- .
major
ïï. 3
,
ïï3 4
minor
ïï5 :
,
ïï: ;
build
ïï< A
,
ïïA B
revision
ïïC K
)
ïïK L
;
ïïL M
}
ññ 
}
òò 
}
öö 
return
ùù 
version
ùù 
;
ùù 
}
üü 	
public
°° 
static
°° 
Guid
°° 
GetApplicationId
°° +
(
°°+ ,
string
°°, 2
applicationName
°°3 B
)
°°B C
{
¢¢ 	
if
££ 
(
££ 
string
££ 
.
££ 
Equals
££ 
(
££ 
applicationName
££ ,
,
££, -
$str
££. ?
,
££? @
StringComparison
££A Q
.
££Q R(
InvariantCultureIgnoreCase
££R l
)
££l m
)
££m n
return
§§ 
new
§§ 
Guid
§§ 
(
§§  
$str
§§  F
)
§§F G
;
§§G H
Guid
ßß 
appID
ßß 
=
ßß 
Guid
ßß 
.
ßß 
NewGuid
ßß %
(
ßß% &
)
ßß& '
;
ßß' (
using
©© 
(
©© 
IDataReader
©© 
reader
©© %
=
©©& '
DBPortal
©©( 0
.
©©0 1,
DatabaseHelperGetApplicationId
©©1 O
(
©©O P
applicationName
©©P _
)
©©_ `
)
©©` a
{
™™ 
if
´´ 
(
´´ 
reader
´´ 
.
´´ 
Read
´´ 
(
´´  
)
´´  !
)
´´! "
{
¨¨ 
appID
≠≠ 
=
≠≠ 
new
≠≠ 
Guid
≠≠  $
(
≠≠$ %
reader
≠≠% +
[
≠≠+ ,
$str
≠≠, ;
]
≠≠; <
.
≠≠< =
ToString
≠≠= E
(
≠≠E F
)
≠≠F G
)
≠≠G H
;
≠≠H I
}
ØØ 
}
∞∞ 
return
≤≤ 
appID
≤≤ 
;
≤≤ 
}
¥¥ 	
public
∑∑ 
static
∑∑ 
String
∑∑  
GetApplicationName
∑∑ /
(
∑∑/ 0
Guid
∑∑0 4
applicationId
∑∑5 B
)
∑∑B C
{
∏∏ 	
String
ππ 
appName
ππ 
=
ππ 
null
ππ !
;
ππ! "
using
∫∫ 
(
∫∫ 
IDataReader
∫∫ 
reader
∫∫ %
=
∫∫& '
DBPortal
∫∫( 0
.
∫∫0 1+
SchemaVersionGetSchemaVersion
∫∫1 N
(
∫∫N O
applicationId
∫∫O \
)
∫∫\ ]
)
∫∫] ^
{
ªª 
if
ºº 
(
ºº 
reader
ºº 
.
ºº 
Read
ºº 
(
ºº  
)
ºº  !
)
ºº! "
{
ΩΩ 
appName
ææ 
=
ææ 
reader
ææ $
[
ææ$ %
$str
ææ% 6
]
ææ6 7
.
ææ7 8
ToString
ææ8 @
(
ææ@ A
)
ææA B
;
ææB C
}
øø 
}
¿¿ 
return
¬¬ 
appName
¬¬ 
;
¬¬ 
}
ƒƒ 	
public
…… 
static
……	 
bool
…… 
UpdateTableField
…… %
(
……% &
String
   	
connectionString
  
 
,
   
String
ÀÀ 	
	tableName
ÀÀ
 
,
ÀÀ 
String
ÃÃ 	
keyFieldName
ÃÃ
 
,
ÃÃ 
String
ÕÕ 	
keyFieldValue
ÕÕ
 
,
ÕÕ 
String
ŒŒ 	
dataFieldName
ŒŒ
 
,
ŒŒ 
String
œœ 	
dataFieldValue
œœ
 
,
œœ 
String
–– 	
additionalWhere
––
 
)
–– 
{
—— 
return
““ 	
DBPortal
““
 
.
““ ,
DatabaseHelperUpdateTableField
““ 1
(
““1 2
connectionString
”” 
,
”” 
	tableName
‘‘ 
,
‘‘ 
keyFieldName
’’ 
,
’’ 
keyFieldValue
÷÷ 
,
÷÷ 
dataFieldName
◊◊ 
,
◊◊ 
dataFieldValue
ÿÿ 
,
ÿÿ 
additionalWhere
ŸŸ 
)
ŸŸ 
;
ŸŸ 
}
€€ 
public
›› 
static
›› 
bool
›› 
UpdateTableField
›› +
(
››+ ,
String
ﬁﬁ 
	tableName
ﬁﬁ 
,
ﬁﬁ 
String
ﬂﬂ 
keyFieldName
ﬂﬂ 
,
ﬂﬂ  
String
‡‡ 
keyFieldValue
‡‡  
,
‡‡  !
String
·· 
dataFieldName
··  
,
··  !
String
‚‚ 
dataFieldValue
‚‚ !
,
‚‚! "
String
„„ 
additionalWhere
„„ "
)
„„" #
{
‰‰ 	
return
ÂÂ 
DBPortal
ÂÂ 
.
ÂÂ ,
DatabaseHelperUpdateTableField
ÂÂ :
(
ÂÂ: ;
	tableName
ÊÊ 
,
ÊÊ 
keyFieldName
ÁÁ 
,
ÁÁ 
keyFieldValue
ËË 
,
ËË 
dataFieldName
ÈÈ 
,
ÈÈ 
dataFieldValue
ÍÍ 
,
ÍÍ 
additionalWhere
ÎÎ 
)
ÎÎ  
;
ÎÎ  !
}
ÌÌ 	
public
ÔÔ 
static
ÔÔ	 
IDataReader
ÔÔ 
	GetReader
ÔÔ %
(
ÔÔ% &
String
 	
connectionString

 
,
 
String
ÒÒ 	
	tableName
ÒÒ
 
,
ÒÒ 
String
ÚÚ 	
whereClause
ÚÚ
 
)
ÚÚ 
{
ÛÛ 
return
ÙÙ 	
DBPortal
ÙÙ
 
.
ÙÙ %
DatabaseHelperGetReader
ÙÙ *
(
ÙÙ* +
connectionString
ÙÙ+ ;
,
ÙÙ; <
	tableName
ÙÙ= F
,
ÙÙF G
whereClause
ÙÙH S
)
ÙÙS T
;
ÙÙT U
}
ˆˆ 
public
¯¯ 
static
¯¯	 
	DataTable
¯¯ 
GetTable
¯¯ "
(
¯¯" #
String
˘˘ 	
connectionString
˘˘
 
,
˘˘ 
String
˙˙ 	
	tableName
˙˙
 
,
˙˙ 
String
˚˚ 	
whereClause
˚˚
 
)
˚˚ 
{
¸¸ 
return
˝˝ 	
DBPortal
˝˝
 
.
˝˝ $
DatabaseHelperGetTable
˝˝ )
(
˝˝) *
connectionString
˝˝* :
,
˝˝: ;
	tableName
˝˝< E
,
˝˝E F
whereClause
˝˝G R
)
˝˝R S
;
˝˝S T
}
ˇˇ 	
public
ÉÉ 
static
ÉÉ 
void
ÉÉ +
DoVersion2320PostUpgradeTasks
ÉÉ 8
(
ÉÉ8 9
String
ÑÑ $
overrideConnectionInfo
ÑÑ )
)
ÑÑ) *
{
ÖÖ 	
DBPortal
áá 
.
áá 9
+DatabaseHelperDoVersion2320PostUpgradeTasks
áá @
(
áá@ A$
overrideConnectionInfo
ááA W
)
ááW X
;
ááX Y
}
àà 	
public
ää 
static
ää 
void
ää +
DoVersion2230PostUpgradeTasks
ää 8
(
ää8 9
String
ãã $
overrideConnectionInfo
ãã )
)
ãã) *
{
åå 	
DBPortal
çç 
.
çç 9
+DatabaseHelperDoVersion2230PostUpgradeTasks
çç @
(
çç@ A$
overrideConnectionInfo
ççA W
)
ççW X
;
ççX Y
}
èè 	
public
ëë 
static
ëë 
void
ëë +
DoVersion2234PostUpgradeTasks
ëë 8
(
ëë8 9
String
íí $
overrideConnectionInfo
íí )
)
íí) *
{
ìì 	
DBPortal
îî 
.
îî 9
+DatabaseHelperDoVersion2234PostUpgradeTasks
îî @
(
îî@ A$
overrideConnectionInfo
îîA W
)
îîW X
;
îîX Y
}
ññ 	
public
òò 
static
òò 
void
òò +
DoVersion2247PostUpgradeTasks
òò 8
(
òò8 9
String
ôô $
overrideConnectionInfo
ôô )
)
ôô) *
{
öö 	
DBPortal
õõ 
.
õõ 9
+DatabaseHelperDoVersion2247PostUpgradeTasks
õõ @
(
õõ@ A$
overrideConnectionInfo
õõA W
)
õõW X
;
õõX Y
}
ùù 	
public
üü 
static
üü 
void
üü +
DoVersion2253PostUpgradeTasks
üü 8
(
üü8 9
String
†† $
overrideConnectionInfo
†† )
)
††) *
{
°° 	
DBPortal
¢¢ 
.
¢¢ 9
+DatabaseHelperDoVersion2253PostUpgradeTasks
¢¢ @
(
¢¢@ A$
overrideConnectionInfo
¢¢A W
)
¢¢W X
;
¢¢X Y
}
§§ 	
public
¶¶ 
static
¶¶ 
void
¶¶ 0
"DoForumVersion2202PostUpgradeTasks
¶¶ =
(
¶¶= >
String
ßß $
overrideConnectionInfo
ßß )
)
ßß) *
{
®® 	
DBPortal
©© 
.
©© >
0DatabaseHelperDoForumVersion2202PostUpgradeTasks
©© E
(
©©E F$
overrideConnectionInfo
©©F \
)
©©\ ]
;
©©] ^
}
´´ 	
public
≠≠ 
static
≠≠ 
void
≠≠ 0
"DoForumVersion2203PostUpgradeTasks
≠≠ =
(
≠≠= >
String
ÆÆ $
overrideConnectionInfo
ÆÆ )
)
ÆÆ) *
{
ØØ 	
DBPortal
∞∞ 
.
∞∞ >
0DatabaseHelperDoForumVersion2203PostUpgradeTasks
∞∞ E
(
∞∞E F$
overrideConnectionInfo
∞∞F \
)
∞∞\ ]
;
∞∞] ^
}
≤≤ 	
public
∑∑ 
static
∑∑ 
	DataTable
∑∑ $
GetTableFromDataReader
∑∑  6
(
∑∑6 7
IDataReader
∑∑7 B
reader
∑∑C I
)
∑∑I J
{
∏∏ 	
	DataTable
∫∫ 
schemaTable
∫∫ !
=
∫∫" #
reader
∫∫$ *
.
∫∫* +
GetSchemaTable
∫∫+ 9
(
∫∫9 :
)
∫∫: ;
;
∫∫; <
	DataTable
ªª 
	dataTable
ªª 
=
ªª  !
new
ªª" %
	DataTable
ªª& /
(
ªª/ 0
)
ªª0 1
;
ªª1 2

DataColumn
ºº 
column
ºº 
;
ºº 
DataRow
ΩΩ 
row
ΩΩ 
;
ΩΩ 
	ArrayList
ææ 
	arrayList
ææ 
=
ææ  !
new
ææ" %
	ArrayList
ææ& /
(
ææ/ 0
)
ææ0 1
;
ææ1 2
for
¿¿ 
(
¿¿ 
int
¿¿ 
i
¿¿ 
=
¿¿ 
$num
¿¿ 
;
¿¿ 
i
¿¿ 
<
¿¿ 
schemaTable
¿¿  +
.
¿¿+ ,
Rows
¿¿, 0
.
¿¿0 1
Count
¿¿1 6
;
¿¿6 7
i
¿¿8 9
++
¿¿9 ;
)
¿¿; <
{
¡¡ 
column
√√ 
=
√√ 
new
√√ 

DataColumn
√√ '
(
√√' (
)
√√( )
;
√√) *
if
≈≈ 
(
≈≈ 
!
≈≈ 
	dataTable
≈≈ 
.
≈≈ 
Columns
≈≈ &
.
≈≈& '
Contains
≈≈' /
(
≈≈/ 0
schemaTable
≈≈0 ;
.
≈≈; <
Rows
≈≈< @
[
≈≈@ A
i
≈≈A B
]
≈≈B C
[
≈≈C D
$str
≈≈D P
]
≈≈P Q
.
≈≈Q R
ToString
≈≈R Z
(
≈≈Z [
)
≈≈[ \
)
≈≈\ ]
)
≈≈] ^
{
∆∆ 
column
»» 
.
»» 

ColumnName
»» %
=
»»& '
schemaTable
»»( 3
.
»»3 4
Rows
»»4 8
[
»»8 9
i
»»9 :
]
»»: ;
[
»»; <
$str
»»< H
]
»»H I
.
»»I J
ToString
»»J R
(
»»R S
)
»»S T
;
»»T U
column
…… 
.
…… 
Unique
…… !
=
……" #
Convert
……$ +
.
……+ ,
	ToBoolean
……, 5
(
……5 6
schemaTable
……6 A
.
……A B
Rows
……B F
[
……F G
i
……G H
]
……H I
[
……I J
$str
……J T
]
……T U
)
……U V
;
……V W
column
   
.
   
AllowDBNull
   &
=
  ' (
Convert
  ) 0
.
  0 1
	ToBoolean
  1 :
(
  : ;
schemaTable
  ; F
.
  F G
Rows
  G K
[
  K L
i
  L M
]
  M N
[
  N O
$str
  O \
]
  \ ]
)
  ] ^
;
  ^ _
column
ÀÀ 
.
ÀÀ 
ReadOnly
ÀÀ #
=
ÀÀ$ %
Convert
ÀÀ& -
.
ÀÀ- .
	ToBoolean
ÀÀ. 7
(
ÀÀ7 8
schemaTable
ÀÀ8 C
.
ÀÀC D
Rows
ÀÀD H
[
ÀÀH I
i
ÀÀI J
]
ÀÀJ K
[
ÀÀK L
$str
ÀÀL X
]
ÀÀX Y
)
ÀÀY Z
;
ÀÀZ [
	arrayList
ÃÃ 
.
ÃÃ 
Add
ÃÃ !
(
ÃÃ! "
column
ÃÃ" (
.
ÃÃ( )

ColumnName
ÃÃ) 3
)
ÃÃ3 4
;
ÃÃ4 5
	dataTable
ÕÕ 
.
ÕÕ 
Columns
ÕÕ %
.
ÕÕ% &
Add
ÕÕ& )
(
ÕÕ) *
column
ÕÕ* 0
)
ÕÕ0 1
;
ÕÕ1 2
}
œœ 
}
—— 
try
”” 
{
‘‘ 
while
’’ 
(
’’ 
reader
’’ 
.
’’ 
Read
’’ "
(
’’" #
)
’’# $
)
’’$ %
{
÷÷ 
row
ÿÿ 
=
ÿÿ 
	dataTable
ÿÿ #
.
ÿÿ# $
NewRow
ÿÿ$ *
(
ÿÿ* +
)
ÿÿ+ ,
;
ÿÿ, -
for
⁄⁄ 
(
⁄⁄ 
int
⁄⁄ 
i
⁄⁄ 
=
⁄⁄  
$num
⁄⁄! "
;
⁄⁄" #
i
⁄⁄$ %
<
⁄⁄& '
	arrayList
⁄⁄( 1
.
⁄⁄1 2
Count
⁄⁄2 7
;
⁄⁄7 8
i
⁄⁄9 :
++
⁄⁄: <
)
⁄⁄< =
{
€€ 
row
›› 
[
›› 
(
›› 
(
›› 
System
›› $
.
››$ %
String
››% +
)
››+ ,
	arrayList
››, 5
[
››5 6
i
››6 7
]
››7 8
)
››8 9
]
››9 :
=
››; <
reader
››= C
[
››C D
(
››D E
System
››E K
.
››K L
String
››L R
)
››R S
	arrayList
››S \
[
››\ ]
i
››] ^
]
››^ _
]
››_ `
;
››` a
}
ﬂﬂ 
	dataTable
·· 
.
·· 
Rows
·· "
.
··" #
Add
··# &
(
··& '
row
··' *
)
··* +
;
··+ ,
}
„„ 
}
‰‰ 
finally
ÂÂ 
{
ÊÊ 
reader
ÁÁ 
.
ÁÁ 
Close
ÁÁ 
(
ÁÁ 
)
ÁÁ 
;
ÁÁ 
}
ËË 
return
ÍÍ 
	dataTable
ÍÍ 
;
ÍÍ 
}
ÏÏ 	
}
ÔÔ 
} ƒ’
iD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\FriendlyUrl.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 
class 
FriendlyUrl 
{ 
public 
FriendlyUrl	 
( 
) 
{ 
} 
public   
FriendlyUrl  	 
(   
int   
urlId   
)   
{!! 
GetFriendlyUrl"" 
("" 
urlId"" 
)"" 
;"" 
}## 
public%% 
FriendlyUrl%% 
(%% 
string%% !
hostName%%" *
,%%* +
string%%, 2
friendlyUrl%%3 >
)%%> ?
{&& 	
GetFriendlyUrl'' 
('' 
hostName'' #
,''# $
friendlyUrl''% 0
)''0 1
;''1 2
}(( 	
public** 
FriendlyUrl** 
(** 
int** 
siteId** %
,**% &
string**' -
friendlyUrl**. 9
)**9 :
{++ 	
if,, 
(,, 
string,, 
.,, 
IsNullOrEmpty,, $
(,,$ %
friendlyUrl,,% 0
),,0 1
),,1 2
{,,3 4
return,,5 ;
;,,; <
},,= >
GetFriendlyUrl-- 
(-- 
siteId-- !
,--! "
friendlyUrl--# .
)--. /
;--/ 0
}.. 	
private44 
Guid44 
itemGuid44 
=44 
Guid44  $
.44$ %
Empty44% *
;44* +
private55 
Guid55 
siteGuid55 
=55 
Guid55  $
.55$ %
Empty55% *
;55* +
private66 
Guid66 
pageGuid66 
=66 
Guid66  $
.66$ %
Empty66% *
;66* +
private77 	
int77
 
urlID77 
=77 
-77 
$num77 
;77 
private88 	
int88
 
siteID88 
=88 
-88 
$num88 
;88 
private99 	
string99
 
friendlyUrl99 
=99 
string99 %
.99% &
Empty99& +
;99+ ,
private:: 	
string::
 
realUrl:: 
=:: 
string:: !
.::! "
Empty::" '
;::' (
private;; 	
bool;;
 
	isPattern;; 
;;; 
private<< 	
bool<<
 
foundFriendlyUrl<< 
=<<  !
false<<" '
;<<' (
publicDD 
GuidDD 
ItemGuidDD 
{EE 	
getFF 
{FF 
returnFF 
itemGuidFF !
;FF! "
}FF# $
}HH 	
publicJJ 
GuidJJ 
SiteGuidJJ 
{KK 	
getLL 
{LL 
returnLL 
siteGuidLL !
;LL! "
}LL# $
setMM 
{MM 
siteGuidMM 
=MM 
valueMM "
;MM" #
}MM$ %
}NN 	
publicPP 
GuidPP 
PageGuidPP 
{QQ 	
getRR 
{RR 
returnRR 
pageGuidRR !
;RR! "
}RR# $
setSS 
{SS 
pageGuidSS 
=SS 
valueSS "
;SS" #
}SS$ %
}TT 	
publicVV 
boolVV	 
FoundFriendlyUrlVV 
{WW 
getXX 
{XX 
returnXX	 
foundFriendlyUrlXX  
;XX  !
}XX" #
}ZZ 
public\\ 
int\\	 
UrlId\\ 
{]] 
get^^ 
{^^ 
return^^	 
urlID^^ 
;^^ 
}^^ 
set__ 
{__ 
urlID__	 
=__ 
value__ 
;__ 
}__ 
}`` 
publicaa 
intaa	 
SiteIdaa 
{bb 
getcc 
{cc 
returncc	 
siteIDcc 
;cc 
}cc 
setdd 
{dd 
siteIDdd	 
=dd 
valuedd 
;dd 
}dd 
}ee 
publicff 
stringff	 
Urlff 
{gg 
gethh 
{hh 
returnhh	 
friendlyUrlhh 
;hh 
}hh 
setii 
{ii 
friendlyUrlii	 
=ii 
valueii 
;ii 
}ii 
}jj 
publickk 
stringkk	 
RealUrlkk 
{ll 
getmm 
{mm 
returnmm	 
realUrlmm 
;mm 
}mm 
setnn 
{oo 
ifpp 
(pp 
!pp 
valuepp 
.pp 

StartsWithpp 
(pp 
$strpp 
)pp 
)pp 
{qq 
valuerr 

=rr 
$strrr 
+rr 
valuerr 
;rr 
}ss 
realUrltt 
=tt 
valuett 
;tt 
}uu 
}vv 
publicww 
boolww	 
	IsPatternww 
{xx 
getyy 
{yy 
returnyy	 
	isPatternyy 
;yy 
}yy 
setzz 
{zz 
	isPatternzz	 
=zz 
valuezz 
;zz 
}zz 
}{{ 
private
ÅÅ 	
void
ÅÅ
 
GetFriendlyUrl
ÅÅ 
(
ÅÅ 
int
ÅÅ !
urlId
ÅÅ" '
)
ÅÅ' (
{
ÇÇ 
using
ÉÉ 
(
ÉÉ 
IDataReader
ÉÉ 
reader
ÉÉ %
=
ÉÉ& '
DBFriendlyUrl
ÉÉ( 5
.
ÉÉ5 6
GetFriendlyUrl
ÉÉ6 D
(
ÉÉD E
urlId
ÉÉE J
)
ÉÉJ K
)
ÉÉK L
{
ÑÑ 
GetFriendlyUrl
ÖÖ 
(
ÖÖ 
reader
ÖÖ %
)
ÖÖ% &
;
ÖÖ& '
}
ÜÜ 
}
àà 
private
ää 
void
ää 
GetFriendlyUrl
ää #
(
ää# $
int
ää$ '
siteId
ää( .
,
ää. /
string
ää0 6
friendlyUrl
ää7 B
)
ääB C
{
ãã 	
using
åå 
(
åå 
IDataReader
åå 
reader
åå %
=
åå& '
DBFriendlyUrl
åå( 5
.
åå5 6
GetFriendlyUrl
åå6 D
(
ååD E
siteId
ååE K
,
ååK L
friendlyUrl
ååM X
)
ååX Y
)
ååY Z
{
çç 
GetFriendlyUrl
éé 
(
éé 
reader
éé %
)
éé% &
;
éé& '
}
èè 
}
ëë 	
private
ìì 
void
ìì 
GetFriendlyUrl
ìì #
(
ìì# $
string
ìì$ *
hostName
ìì+ 3
,
ìì3 4
string
ìì5 ;
friendlyUrl
ìì< G
)
ììG H
{
îî 	
using
ïï 
(
ïï 
IDataReader
ïï 
reader
ïï %
=
ïï& '
DBFriendlyUrl
ïï( 5
.
ïï5 6
GetByUrl
ïï6 >
(
ïï> ?
hostName
ïï? G
,
ïïG H
friendlyUrl
ïïI T
)
ïïT U
)
ïïU V
{
ññ 
GetFriendlyUrl
óó 
(
óó 
reader
óó %
)
óó% &
;
óó& '
}
òò 
}
öö 	
private
úú 
void
úú 
GetFriendlyUrl
úú #
(
úú# $
IDataReader
úú$ /
reader
úú0 6
)
úú6 7
{
ùù 	
if
ûû 
(
ûû 
reader
ûû 
.
ûû 
Read
ûû 
(
ûû 
)
ûû 
)
ûû 
{
üü 
this
†† 
.
†† 
foundFriendlyUrl
†† %
=
††& '
true
††( ,
;
††, -
this
°° 
.
°° 
urlID
°° 
=
°° 
Convert
°° $
.
°°$ %
ToInt32
°°% ,
(
°°, -
reader
°°- 3
[
°°3 4
$str
°°4 ;
]
°°; <
)
°°< =
;
°°= >
this
¢¢ 
.
¢¢ 
siteID
¢¢ 
=
¢¢ 
Convert
¢¢ %
.
¢¢% &
ToInt32
¢¢& -
(
¢¢- .
reader
¢¢. 4
[
¢¢4 5
$str
¢¢5 =
]
¢¢= >
)
¢¢> ?
;
¢¢? @
this
££ 
.
££ 
friendlyUrl
££  
=
££! "
reader
££# )
[
££) *
$str
££* 7
]
££7 8
.
££8 9
ToString
££9 A
(
££A B
)
££B C
;
££C D
this
§§ 
.
§§ 
realUrl
§§ 
=
§§ 
reader
§§ %
[
§§% &
$str
§§& /
]
§§/ 0
.
§§0 1
ToString
§§1 9
(
§§9 :
)
§§: ;
;
§§; <
this
•• 
.
•• 
	isPattern
•• 
=
••  
Convert
••! (
.
••( )
	ToBoolean
••) 2
(
••2 3
reader
••3 9
[
••9 :
$str
••: E
]
••E F
)
••F G
;
••G H
string
¶¶ 
pg
¶¶ 
=
¶¶ 
reader
¶¶ "
[
¶¶" #
$str
¶¶# -
]
¶¶- .
.
¶¶. /
ToString
¶¶/ 7
(
¶¶7 8
)
¶¶8 9
;
¶¶9 :
if
ßß 
(
ßß 
pg
ßß 
.
ßß 
Length
ßß 
==
ßß  
$num
ßß! #
)
ßß# $
this
ßß% )
.
ßß) *
pageGuid
ßß* 2
=
ßß3 4
new
ßß5 8
Guid
ßß9 =
(
ßß= >
pg
ßß> @
)
ßß@ A
;
ßßA B
this
®® 
.
®® 
siteGuid
®® 
=
®® 
new
®®  #
Guid
®®$ (
(
®®( )
reader
®®) /
[
®®/ 0
$str
®®0 :
]
®®: ;
.
®®; <
ToString
®®< D
(
®®D E
)
®®E F
)
®®F G
;
®®G H
this
©© 
.
©© 
itemGuid
©© 
=
©© 
new
©©  #
Guid
©©$ (
(
©©( )
reader
©©) /
[
©©/ 0
$str
©©0 :
]
©©: ;
.
©©; <
ToString
©©< D
(
©©D E
)
©©E F
)
©©F G
;
©©G H
}
´´ 
}
¨¨ 	
private
ÆÆ 	
bool
ÆÆ
 
Create
ÆÆ 
(
ÆÆ 
)
ÆÆ 
{
ØØ 
int
∞∞ 
newID
∞∞ 
=
∞∞ 
$num
∞∞ 
;
∞∞ 
this
±± 
.
±± 
itemGuid
±± 
=
±± 
Guid
±±  
.
±±  !
NewGuid
±±! (
(
±±( )
)
±±) *
;
±±* +
newID
≥≥ 
=
≥≥	 

DBFriendlyUrl
≥≥ 
.
≥≥ 
AddFriendlyUrl
≥≥ '
(
≥≥' (
this
¥¥ 
.
¥¥ 
itemGuid
¥¥ 
,
¥¥ 
this
µµ 
.
µµ 
siteGuid
µµ 
,
µµ 
this
∂∂ 
.
∂∂ 
pageGuid
∂∂ 
,
∂∂ 
this
∑∑ 
.
∑∑ 	
siteID
∑∑	 
,
∑∑ 
this
∏∏ 
.
∏∏ 	
friendlyUrl
∏∏	 
,
∏∏ 
this
ππ 
.
ππ 	
realUrl
ππ	 
,
ππ 
this
∫∫ 
.
∫∫ 	
	isPattern
∫∫	 
)
∫∫ 
;
∫∫ 
this
ºº 
.
ºº 
urlID
ºº 
=
ºº 
newID
ºº 
;
ºº 
return
ææ 	
(
ææ
 
newID
ææ 
>
ææ 
$num
ææ 
)
ææ 
;
ææ 
}
¿¿ 
private
¬¬ 	
bool
¬¬
 
Update
¬¬ 
(
¬¬ 
)
¬¬ 
{
√√ 
return
≈≈ 	
DBFriendlyUrl
≈≈
 
.
≈≈ 
UpdateFriendlyUrl
≈≈ )
(
≈≈) *
this
∆∆ 
.
∆∆ 	
urlID
∆∆	 
,
∆∆ 
this
«« 
.
«« 	
siteID
««	 
,
«« 
this
»» 
.
»» 
PageGuid
»» 
,
»» 
this
…… 
.
…… 	
friendlyUrl
……	 
,
…… 
this
   
.
   	
realUrl
  	 
,
   
this
ÀÀ 
.
ÀÀ 	
	isPattern
ÀÀ	 
)
ÀÀ 
;
ÀÀ 
}
ÕÕ 
public
‘‘ 
bool
‘‘	 
Save
‘‘ 
(
‘‘ 
)
‘‘ 
{
’’ 
if
÷÷ 
(
÷÷ 
friendlyUrl
÷÷ 
.
÷÷ 
Trim
÷÷  
(
÷÷  !
)
÷÷! "
.
÷÷" #
Length
÷÷# )
==
÷÷* ,
$num
÷÷- .
)
÷÷. /
{
÷÷0 1
return
÷÷2 8
false
÷÷9 >
;
÷÷> ?
}
÷÷@ A
if
◊◊ 
(
◊◊ 
realUrl
◊◊ 
.
◊◊ 
Length
◊◊ 
==
◊◊ !
$num
◊◊" #
)
◊◊# $
{
◊◊% &
return
◊◊' -
false
◊◊. 3
;
◊◊3 4
}
◊◊5 6
if
ŸŸ 
(
ŸŸ 
this
ŸŸ 
.
ŸŸ 
urlID
ŸŸ 
>
ŸŸ 
$num
ŸŸ 
)
ŸŸ 
{
⁄⁄ 
return
€€ 

Update
€€ 
(
€€ 
)
€€ 
;
€€ 
}
‹‹ 
else
›› 
{
ﬁﬁ 
return
ﬂﬂ 

Create
ﬂﬂ 
(
ﬂﬂ 
)
ﬂﬂ 
;
ﬂﬂ 
}
‡‡ 
}
·· 
public
˝˝ 
static
˝˝ 
IDataReader
˝˝ !
GetPage
˝˝" )
(
˝˝) *
int
˛˛ 
siteId
˛˛ 
,
˛˛ 
int
ˇˇ 

pageNumber
ˇˇ 
,
ˇˇ 
int
ÄÄ 
pageSize
ÄÄ 
,
ÄÄ 
out
ÅÅ 
int
ÅÅ 

totalPages
ÅÅ 
)
ÅÅ 
{
ÇÇ 	
return
ÉÉ 
DBFriendlyUrl
ÉÉ  
.
ÉÉ  !
GetPage
ÉÉ! (
(
ÉÉ( )
siteId
ÑÑ 
,
ÑÑ 

pageNumber
ÖÖ 
,
ÖÖ 
pageSize
ÜÜ 
,
ÜÜ 
out
áá 

totalPages
áá 
)
áá 
;
áá  
}
ââ 	
public
ãã 
static
ãã 
IDataReader
ãã !
GetPage
ãã" )
(
ãã) *
int
åå 
siteId
åå 
,
åå 
string
çç 

searchTerm
çç 
,
çç 
int
éé 

pageNumber
éé 
,
éé 
int
èè 
pageSize
èè 
,
èè 
out
êê 
int
êê 

totalPages
êê 
)
êê 
{
ëë 	
return
íí 
DBFriendlyUrl
íí  
.
íí  !
GetPage
íí! (
(
íí( )
siteId
ìì 
,
ìì 

searchTerm
îî 
,
îî 

pageNumber
ïï 
,
ïï 
pageSize
ññ 
,
ññ 
out
óó 

totalPages
óó 
)
óó 
;
óó  
}
ôô 	
public
úú 
static
úú	 
bool
úú 
	DeleteUrl
úú 
(
úú 
int
úú "
urlId
úú# (
)
úú( )
{
ùù 
return
ûû 	
DBFriendlyUrl
ûû
 
.
ûû 
DeleteFriendlyUrl
ûû )
(
ûû) *
urlId
ûû* /
)
ûû/ 0
;
ûû0 1
}
üü 
public
¶¶ 
static
¶¶ 
bool
¶¶ 
DeleteByPageGuid
¶¶ +
(
¶¶+ ,
Guid
¶¶, 0
pageGuid
¶¶1 9
)
¶¶9 :
{
ßß 	
return
®® 
DBFriendlyUrl
®®  
.
®®  !
DeleteByPageGuid
®®! 1
(
®®1 2
pageGuid
®®2 :
)
®®: ;
;
®®; <
}
©© 	
public
´´ 
static
´´ 
bool
´´ 
Exists
´´ !
(
´´! "
int
´´" %
siteId
´´& ,
,
´´, -
String
´´. 4
friendlyUrl
´´5 @
)
´´@ A
{
¨¨ 	
bool
≠≠ 
result
≠≠ 
=
≠≠ 
false
≠≠ 
;
≠≠  
using
ØØ 
(
ØØ 
IDataReader
ØØ 
reader
ØØ %
=
ØØ& '
DBFriendlyUrl
ØØ( 5
.
ØØ5 6
GetFriendlyUrl
ØØ6 D
(
ØØD E
siteId
ØØE K
,
ØØK L
friendlyUrl
ØØM X
)
ØØX Y
)
ØØY Z
{
∞∞ 
while
±± 
(
±± 
reader
±± 
.
±± 
Read
±± "
(
±±" #
)
±±# $
)
±±$ %
{
≤≤ 
result
≥≥ 
=
≥≥ 
true
≥≥ !
;
≥≥! "
}
¥¥ 
}
µµ 
return
∑∑ 
result
∑∑ 
;
∑∑ 
}
ππ 	
[
ªª 	
Obsolete
ªª	 
(
ªª 
$str
ªª X
)
ªªX Y
]
ªªY Z
public
ºº 
static
ºº 
String
ºº  
SuggestFriendlyUrl
ºº /
(
ºº/ 0
String
ΩΩ 
pageName
ΩΩ 
,
ΩΩ 
SiteSettings
ææ 
siteSettings
ææ %
)
ææ% &
{
øø 	
String
¿¿ 
friendlyUrl
¿¿ 
=
¿¿  
CleanStringForUrl
¿¿! 2
(
¿¿2 3
pageName
¿¿3 ;
)
¿¿; <
;
¿¿< =
switch
¬¬ 
(
¬¬ 
siteSettings
¬¬  
.
¬¬  !'
DefaultFriendlyUrlPattern
¬¬! :
)
¬¬: ;
{
√√ 
case
ƒƒ 
SiteSettings
ƒƒ !
.
ƒƒ! " 
FriendlyUrlPattern
ƒƒ" 4
.
ƒƒ4 5!
PageNameWithDotASPX
ƒƒ5 H
:
ƒƒH I
friendlyUrl
≈≈ 
+=
≈≈  "
$str
≈≈# *
;
≈≈* +
break
∆∆ 
;
∆∆ 
}
»» 
int
   
i
   
=
   
$num
   
;
   
while
ÀÀ 
(
ÀÀ 
FriendlyUrl
ÀÀ 
.
ÀÀ 
Exists
ÀÀ %
(
ÀÀ% &
siteSettings
ÀÀ& 2
.
ÀÀ2 3
SiteId
ÀÀ3 9
,
ÀÀ9 :
friendlyUrl
ÀÀ; F
)
ÀÀF G
)
ÀÀG H
{
ÃÃ 
friendlyUrl
ÕÕ 
=
ÕÕ 
i
ÕÕ 
.
ÕÕ  
ToString
ÕÕ  (
(
ÕÕ( )
)
ÕÕ) *
+
ÕÕ+ ,
friendlyUrl
ÕÕ- 8
;
ÕÕ8 9
}
ŒŒ 
bool
–– 
forceToLowerCase
–– !
=
––" #'
GetBoolPropertyFromConfig
––$ =
(
––= >
$str
––> \
,
––\ ]
true
––^ b
)
––b c
;
––c d
if
““ 
(
““ 
forceToLowerCase
““  
)
““  !
return
““" (
friendlyUrl
““) 4
.
““4 5
ToLower
““5 <
(
““< =
)
““= >
;
““> ?
return
‘‘ 
friendlyUrl
‘‘ 
;
‘‘ 
}
’’ 	
public
ŸŸ 
static
ŸŸ 
String
ŸŸ 
CleanStringForUrl
ŸŸ .
(
ŸŸ. /
String
ŸŸ/ 5
input
ŸŸ6 ;
)
ŸŸ; <
{
⁄⁄ 	
String
€€ 
ouputString
€€ 
=
€€  
RemovePunctuation
€€! 2
(
€€2 3
input
€€3 8
)
€€8 9
.
€€9 :
Replace
€€: A
(
€€A B
$str
€€B G
,
€€G H
$str
€€I L
)
€€L M
.
€€M N
Replace
€€N U
(
€€U V
$str
€€V Y
,
€€Y Z
$str
€€[ ^
)
€€^ _
.
€€_ `
Replace
€€` g
(
€€g h
$str
€€h k
,
€€k l
String
€€m s
.
€€s t
Empty
€€t y
)
€€y z
.
€€z {
Replace€€{ Ç
(€€Ç É
$str€€É á
,€€á à
String€€â è
.€€è ê
Empty€€ê ï
)€€ï ñ
.€€ñ ó
Replace€€ó û
(€€û ü
$str€€ü ¢
,€€¢ £
String€€§ ™
.€€™ ´
Empty€€´ ∞
)€€∞ ±
.€€± ≤
Replace€€≤ π
(€€π ∫
$str€€∫ Ω
,€€Ω æ
String€€ø ≈
.€€≈ ∆
Empty€€∆ À
)€€À Ã
.€€Ã Õ
Replace€€Õ ‘
(€€‘ ’
$str€€’ ÿ
,€€ÿ Ÿ
String€€⁄ ‡
.€€‡ ·
Empty€€· Ê
)€€Ê Á
.€€Á Ë
Replace€€Ë Ô
(€€Ô 
$str€€ Û
,€€Û Ù
String€€ı ˚
.€€˚ ¸
Empty€€¸ Å
)€€Å Ç
.€€Ç É
Replace€€É ä
(€€ä ã
$str€€ã é
,€€é è
String€€ê ñ
.€€ñ ó
Empty€€ó ú
)€€ú ù
.€€ù û
Replace€€û •
(€€• ¶
$str€€¶ ©
,€€© ™
String€€´ ±
.€€± ≤
Empty€€≤ ∑
)€€∑ ∏
.€€∏ π
Replace€€π ¿
(€€¿ ¡
$str€€¡ ƒ
,€€ƒ ≈
String€€∆ Ã
.€€Ã Õ
Empty€€Õ “
)€€“ ”
.€€” ‘
Replace€€‘ €
(€€€ ‹
$str€€‹ ﬂ
,€€ﬂ ‡
String€€· Á
.€€Á Ë
Empty€€Ë Ì
)€€Ì Ó
.€€Ó Ô
Replace€€Ô ˆ
(€€ˆ ˜
$str€€˜ ˙
,€€˙ ˚
String€€¸ Ç
.€€Ç É
Empty€€É à
)€€à â
.€€â ä
Replace€€ä ë
(€€ë í
$str€€í ï
,€€ï ñ
String€€ó ù
.€€ù û
Empty€€û £
)€€£ §
.€€§ •
Replace€€• ¨
(€€¨ ≠
$str€€≠ ∞
,€€∞ ±
String€€≤ ∏
.€€∏ π
Empty€€π æ
)€€æ ø
.€€ø ¿
Replace€€¿ «
(€€« »
$str€€» À
,€€À Ã
String€€Õ ”
.€€” ‘
Empty€€‘ Ÿ
)€€Ÿ ⁄
.€€⁄ €
Replace€€€ ‚
(€€‚ „
$str€€„ Ê
,€€Ê Á
String€€Ë Ó
.€€Ó Ô
Empty€€Ô Ù
)€€Ù ı
.€€ı ˆ
Replace€€ˆ ˝
(€€˝ ˛
$str€€˛ Å
,€€Å Ç
String€€É â
.€€â ä
Empty€€ä è
)€€è ê
.€€ê ë
Replace€€ë ò
(€€ò ô
$str€€ô ú
,€€ú ù
String€€û §
.€€§ •
Empty€€• ™
)€€™ ´
;€€´ ¨
return
›› 
ouputString
›› 
;
›› 
}
ﬂﬂ 	
public
·· 
static
·· 
String
·· 
RemovePunctuation
·· .
(
··. /
String
··/ 5
input
··6 ;
)
··; <
{
‚‚ 	
String
„„ 
outputString
„„ 
=
„„  !
String
„„" (
.
„„( )
Empty
„„) .
;
„„. /
if
‰‰ 
(
‰‰ 
input
‰‰ 
!=
‰‰ 
null
‰‰ 
)
‰‰ 
{
ÂÂ 
outputString
ÊÊ 
=
ÊÊ 
input
ÊÊ $
.
ÊÊ$ %
Replace
ÊÊ% ,
(
ÊÊ, -
$str
ÊÊ- 0
,
ÊÊ0 1
String
ÊÊ2 8
.
ÊÊ8 9
Empty
ÊÊ9 >
)
ÊÊ> ?
.
ÊÊ? @
Replace
ÊÊ@ G
(
ÊÊG H
$str
ÊÊH K
,
ÊÊK L
String
ÊÊM S
.
ÊÊS T
Empty
ÊÊT Y
)
ÊÊY Z
.
ÊÊZ [
Replace
ÊÊ[ b
(
ÊÊb c
$str
ÊÊc f
,
ÊÊf g
String
ÊÊh n
.
ÊÊn o
Empty
ÊÊo t
)
ÊÊt u
.
ÊÊu v
Replace
ÊÊv }
(
ÊÊ} ~
$strÊÊ~ Å
,ÊÊÅ Ç
StringÊÊÉ â
.ÊÊâ ä
EmptyÊÊä è
)ÊÊè ê
.ÊÊê ë
ReplaceÊÊë ò
(ÊÊò ô
$strÊÊô ú
,ÊÊú ù
StringÊÊû §
.ÊÊ§ •
EmptyÊÊ• ™
)ÊÊ™ ´
.ÊÊ´ ¨
ReplaceÊÊ¨ ≥
(ÊÊ≥ ¥
$strÊÊ¥ ∑
,ÊÊ∑ ∏
StringÊÊπ ø
.ÊÊø ¿
EmptyÊÊ¿ ≈
)ÊÊ≈ ∆
.ÊÊ∆ «
ReplaceÊÊ« Œ
(ÊÊŒ œ
$strÊÊœ “
,ÊÊ“ ”
StringÊÊ‘ ⁄
.ÊÊ⁄ €
EmptyÊÊ€ ‡
)ÊÊ‡ ·
.ÊÊ· ‚
ReplaceÊÊ‚ È
(ÊÊÈ Í
$strÊÊÍ Ì
,ÊÊÌ Ó
StringÊÊÔ ı
.ÊÊı ˆ
EmptyÊÊˆ ˚
)ÊÊ˚ ¸
.ÊÊ¸ ˝
ReplaceÊÊ˝ Ñ
(ÊÊÑ Ö
$strÊÊÖ à
,ÊÊà â
StringÊÊä ê
.ÊÊê ë
EmptyÊÊë ñ
)ÊÊñ ó
.ÊÊó ò
ReplaceÊÊò ü
(ÊÊü †
$strÊÊ† £
,ÊÊ£ §
StringÊÊ• ´
.ÊÊ´ ¨
EmptyÊÊ¨ ±
)ÊÊ± ≤
.ÊÊ≤ ≥
ReplaceÊÊ≥ ∫
(ÊÊ∫ ª
$strÊÊª æ
,ÊÊæ ø
StringÊÊ¿ ∆
.ÊÊ∆ «
EmptyÊÊ« Ã
)ÊÊÃ Õ
;ÊÊÕ Œ
}
ÁÁ 
return
ËË 
outputString
ËË 
;
ËË  
}
ÈÈ 	
private
ÏÏ 
static
ÏÏ 
bool
ÏÏ '
GetBoolPropertyFromConfig
ÏÏ 5
(
ÏÏ5 6
string
ÏÏ6 <
key
ÏÏ= @
,
ÏÏ@ A
bool
ÏÏB F
defaultValue
ÏÏG S
)
ÏÏS T
{
ÌÌ 	
if
ÓÓ 
(
ÓÓ "
ConfigurationManager
ÓÓ $
.
ÓÓ$ %
AppSettings
ÓÓ% 0
[
ÓÓ0 1
key
ÓÓ1 4
]
ÓÓ4 5
==
ÓÓ6 8
null
ÓÓ9 =
)
ÓÓ= >
return
ÓÓ? E
defaultValue
ÓÓF R
;
ÓÓR S
if
 
(
 
string
 
.
 
Equals
 
(
 "
ConfigurationManager
 2
.
2 3
AppSettings
3 >
[
> ?
key
? B
]
B C
,
C D
$str
E K
,
K L
StringComparison
M ]
.
] ^(
InvariantCultureIgnoreCase
^ x
)
x y
)
y z
return
ÒÒ 
true
ÒÒ 
;
ÒÒ 
if
ÛÛ 
(
ÛÛ 
string
ÛÛ 
.
ÛÛ 
Equals
ÛÛ 
(
ÛÛ "
ConfigurationManager
ÛÛ 2
.
ÛÛ2 3
AppSettings
ÛÛ3 >
[
ÛÛ> ?
key
ÛÛ? B
]
ÛÛB C
,
ÛÛC D
$str
ÛÛE L
,
ÛÛL M
StringComparison
ÛÛN ^
.
ÛÛ^ _(
InvariantCultureIgnoreCase
ÛÛ_ y
)
ÛÛy z
)
ÛÛz {
return
ÙÙ 
false
ÙÙ 
;
ÙÙ 
return
ˆˆ 
defaultValue
ˆˆ 
;
ˆˆ  
}
˘˘ 	
}
ˇˇ 
}ÅÅ Õó
hD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\LdapHelper.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

sealed 
class 

LdapHelper "
{ 
private 

LdapHelper 
( 
) 
{ 	
} 	
private!! 
static!! 
readonly!! 
ILog!!  $
log!!% (
=!!) *

LogManager!!+ 5
.!!5 6
	GetLogger!!6 ?
(!!? @
typeof!!@ F
(!!F G

LdapHelper!!G Q
)!!Q R
)!!R S
;!!S T
private%% 
static%% 
LdapConnection%% %
GetConnection%%& 3
(%%3 4
LdapSettings%%4 @
ldapSettings%%A M
)%%M N
{&& 	
LdapConnection'' 
conn'' 
=''  !
new''" %
LdapConnection''& 4
(''4 5
)''5 6
;''6 7
bool)) 
useSsl)) 
=)) 
false)) 
;))  
if** 
(**  
ConfigurationManager** $
.**$ %
AppSettings**% 0
[**0 1
$str**1 @
]**@ A
!=**B D
null**E I
)**I J
{++ 
useSsl,, 
=,, 
Convert,,  
.,,  !
	ToBoolean,,! *
(,,* + 
ConfigurationManager,,+ ?
.,,? @
AppSettings,,@ K
[,,K L
$str,,L [
],,[ \
),,\ ]
;,,] ^
}-- 
if// 
(// 
useSsl// 
)// 
{00 
conn33 
.33 
SecureSocketLayer33 &
=33' (
true33) -
;33- .
conn44 
.44 3
'UserDefinedServerCertValidationDelegate44 <
+=44= ?
new44@ C)
CertificateValidationCallback44D a
(44a b
LdapSSLHandler44b p
)44p q
;44q r
}66 
conn88 
.88 
Connect88 
(88 
ldapSettings88 %
.88% &
Server88& ,
,88, -
ldapSettings88. :
.88: ;
Port88; ?
)88? @
;88@ A
return:: 
conn:: 
;:: 
};; 	
public== 
static== 
bool== 
LdapSSLHandler== )
(==) *
System==* 0
.==0 1
Security==1 9
.==9 :
Cryptography==: F
.==F G
X509Certificates==G W
.==W X
X509Certificate==X g
certificate==h s
,==s t
int==u x
[==x y
]==y z
certificateErrors	=={ å
)
==å ç
{>> 	
	X509StoreAA 
storeAA 
=AA 
nullAA "
;AA" #

X509StoresBB 
storesBB 
=BB 
X509StoreManagerBB  0
.BB0 1
LocalMachineBB1 =
;BB= >
storeCC 
=CC 
storesCC 
.CC 
TrustedRootCC &
;CC& '
X509CertificateDD 
x509DD  
=DD! "
nullDD# '
;DD' (
byteFF 
[FF 
]FF 
dataFF 
=FF 
certificateFF %
.FF% &
GetRawCertDataFF& 4
(FF4 5
)FF5 6
;FF6 7
ifGG 
(GG 
dataGG 
!=GG 
nullGG 
)GG 
{GG 
x509GG  $
=GG% &
newGG' *
X509CertificateGG+ :
(GG: ;
dataGG; ?
)GG? @
;GG@ A
}GGB C
ifII 
(II 
x509II 
!=II 
nullII 
)II 
{JJ 
ifLL 
(LL 
!LL 
storeLL 
.LL 
CertificatesLL '
.LL' (
ContainsLL( 0
(LL0 1
x509LL1 5
)LL5 6
)LL6 7
{MM 
storeOO 
.OO 
ImportOO  
(OO  !
x509OO! %
)OO% &
;OO& '
}PP 
}RR 
returnUU 
trueUU 
;UU 
}VV 	
privateXX 
staticXX 
	LdapEntryXX  
GetOneUserEntryXX! 0
(XX0 1
LdapConnectionYY 
connYY 
,YY  
LdapSettingsZZ 
ldapSettingsZZ %
,ZZ% &
string[[ 
search[[ 
)[[ 
{\\ 	!
LdapSearchConstraints^^ !
constraints^^" -
=^^. /
new^^0 3!
LdapSearchConstraints^^4 I
(^^I J
)^^J K
;^^K L
LdapSearchQueue`` 
queue`` !
=``" #
null``$ (
;``( )
queueaa 
=aa 
connaa 
.aa 
Searchaa 
(aa  
ldapSettingsbb 
.bb 
RootDNbb #
,bb# $
LdapConnectioncc 
.cc 
	SCOPE_SUBcc (
,cc( )
ldapSettingsdd 
.dd 
	UserDNKeydd &
+dd' (
$strdd) ,
+dd- .
searchdd/ 5
,dd5 6
nullee 
,ee 
falseff 
,ff 
(gg 
LdapSearchQueuegg  
)gg  !
nullgg! %
,gg% &
(hh !
LdapSearchConstraintshh &
)hh& '
nullhh' +
)hh+ ,
;hh, -
	LdapEntryjj 
entryjj 
=jj 
nulljj "
;jj" #
ifll 
(ll 
queuell 
!=ll 
nullll 
)ll 
{mm 
LdapMessagenn 
messagenn #
=nn$ %
queuenn& +
.nn+ ,
getResponsenn, 7
(nn7 8
)nn8 9
;nn9 :
ifoo 
(oo 
messageoo 
!=oo 
nulloo #
)oo# $
{pp 
ifqq 
(qq 
messageqq 
isqq  "
LdapSearchResultqq# 3
)qq3 4
{rr 
entryss 
=ss 
(ss  !
(ss! "
LdapSearchResultss" 2
)ss2 3
messagess3 :
)ss: ;
.ss; <
Entryss< A
;ssA B
}tt 
}uu 
}vv 
returnxx 
entryxx 
;xx 
}yy 	
public|| 
static|| 
LdapUser|| 
	LdapLogin|| (
(||( )
LdapSettings||) 5
ldapSettings||6 B
,||B C
string||D J
uid||K N
,||N O
string||P V
password||W _
)||_ `
{}} 	
if~~ 
(~~ 
ldapSettings~~ 
.~~ 
	UserDNKey~~ &
==~~' )
$str~~* /
)~~/ 0
{ 
return
ÄÄ 
LdapStandardLogin
ÄÄ (
(
ÄÄ( )
ldapSettings
ÄÄ) 5
,
ÄÄ5 6
uid
ÄÄ7 :
,
ÄÄ: ;
password
ÄÄ< D
)
ÄÄD E
;
ÄÄE F
}
ÅÅ 
else
ÇÇ 
{
ÉÉ 
return
ÑÑ "
ActiveDirectoryLogin
ÑÑ +
(
ÑÑ+ ,
ldapSettings
ÑÑ, 8
,
ÑÑ8 9
uid
ÑÑ: =
,
ÑÑ= >
password
ÑÑ? G
)
ÑÑG H
;
ÑÑH I
}
ÖÖ 
}
áá 	
private
ââ 
static
ââ 
LdapUser
ââ 
LdapStandardLogin
ââ  1
(
ââ1 2
LdapSettings
ââ2 >
ldapSettings
ââ? K
,
ââK L
string
ââM S
uid
ââT W
,
ââW X
string
ââY _
password
ââ` h
)
ââh i
{
ää 	
bool
ãã 
success
ãã 
=
ãã 
false
ãã  
;
ãã  !
LdapUser
åå 
user
åå 
=
åå 
null
åå  
;
åå  !
LdapConnection
éé 
conn
éé 
=
éé  !
null
éé" &
;
éé& '
try
èè 
{
êê 
conn
ëë 
=
ëë 
GetConnection
ëë $
(
ëë$ %
ldapSettings
ëë% 1
)
ëë1 2
;
ëë2 3
}
íí 
catch
ìì 
(
ìì 
System
ìì 
.
ìì 
Net
ìì 
.
ìì 
Sockets
ìì %
.
ìì% &
SocketException
ìì& 5
ex
ìì6 8
)
ìì8 9
{
îî 
if
ïï 
(
ïï 
log
ïï 
.
ïï 
IsErrorEnabled
ïï &
)
ïï& '
{
ññ 
string
òò 
msg
òò 
=
òò  
$str
òò! ;
+
òò< =
uid
òò> A
+
òòB C
$str
òòD S
;
òòS T
log
ôô 
.
ôô 
Error
ôô 
(
ôô 
msg
ôô !
,
ôô! "
ex
ôô# %
)
ôô% &
;
ôô& '
}
öö 
}
õõ 
if
ùù 
(
ùù 
(
ùù 
conn
ùù 
!=
ùù 
null
ùù 
)
ùù 
&&
ùù !
(
ùù" #
conn
ùù# '
.
ùù' (
	Connected
ùù( 1
)
ùù1 2
)
ùù2 3
{
ûû 
	LdapEntry
üü 
entry
üü 
=
üü  !
null
üü" &
;
üü& '
try
°° 
{
¢¢ 
entry
££ 
=
££ 
GetOneUserEntry
££ +
(
££+ ,
conn
££, 0
,
££0 1
ldapSettings
££2 >
,
££> ?
uid
££@ C
)
££C D
;
££D E
if
§§ 
(
§§ 
entry
§§ 
!=
§§  
null
§§! %
)
§§% &
{
•• 
LdapConnection
¶¶ &
authConn
¶¶' /
=
¶¶0 1
GetConnection
¶¶2 ?
(
¶¶? @
ldapSettings
¶¶@ L
)
¶¶L M
;
¶¶M N
authConn
ßß  
.
ßß  !
Bind
ßß! %
(
ßß% &
entry
ßß& +
.
ßß+ ,
DN
ßß, .
,
ßß. /
password
ßß0 8
)
ßß8 9
;
ßß9 :
authConn
®®  
.
®®  !

Disconnect
®®! +
(
®®+ ,
)
®®, -
;
®®- .
success
©© 
=
©©  !
true
©©" &
;
©©& '
}
´´ 
}
¨¨ 
catch
≠≠ 
(
≠≠ 
Novell
≠≠ 
.
≠≠ 
	Directory
≠≠ '
.
≠≠' (
Ldap
≠≠( ,
.
≠≠, -
LdapException
≠≠- :
ex
≠≠; =
)
≠≠= >
{
ÆÆ 
if
ØØ 
(
ØØ 
log
ØØ 
.
ØØ 
IsErrorEnabled
ØØ *
)
ØØ* +
{
∞∞ 
string
≤≤ 
msg
≤≤ "
=
≤≤# $
$str
≤≤% ?
+
≤≤@ A
uid
≤≤B E
+
≤≤F G
$str
≤≤H W
;
≤≤W X
log
≥≥ 
.
≥≥ 
Error
≥≥ !
(
≥≥! "
msg
≥≥" %
,
≥≥% &
ex
≥≥' )
)
≥≥) *
;
≥≥* +
}
¥¥ 
success
µµ 
=
µµ 
false
µµ #
;
µµ# $
}
∂∂ 
if
∏∏ 
(
∏∏ 
success
∏∏ 
)
∏∏ 
{
ππ 
if
∫∫ 
(
∫∫ 
entry
∫∫ 
!=
∫∫  
null
∫∫! %
)
∫∫% &
{
ªª 
user
ºº 
=
ºº 
new
ºº "
LdapUser
ºº# +
(
ºº+ ,
entry
ºº, 1
)
ºº1 2
;
ºº2 3
}
ΩΩ 
}
ææ 
conn
¿¿ 
.
¿¿ 

Disconnect
¿¿ 
(
¿¿  
)
¿¿  !
;
¿¿! "
}
¡¡ 
return
√√ 
user
√√ 
;
√√ 
}
ƒƒ 	
private
«« 
static
«« 
bool
«« *
UseRootDNWithActiveDirectory
«« 8
(
««8 9
)
««9 :
{
»» 	
if
…… 
(
…… "
ConfigurationManager
…… $
.
……$ %
AppSettings
……% 0
[
……0 1
$str
……1 O
]
……O P
!=
……Q S
null
……T X
)
……X Y
{
   
return
ÀÀ 
Convert
ÀÀ 
.
ÀÀ 
	ToBoolean
ÀÀ (
(
ÀÀ( )"
ConfigurationManager
ÀÀ) =
.
ÀÀ= >
AppSettings
ÀÀ> I
[
ÀÀI J
$str
ÀÀJ h
]
ÀÀh i
)
ÀÀi j
;
ÀÀj k
}
ÃÃ 
return
ŒŒ 
false
ŒŒ 
;
ŒŒ 
}
œœ 	
private
—— 
static
—— 
LdapUser
—— "
ActiveDirectoryLogin
——  4
(
——4 5
LdapSettings
——5 A
ldapSettings
——B N
,
——N O
string
——P V
uid
——W Z
,
——Z [
string
——\ b
password
——c k
)
——k l
{
““ 	
bool
”” 
success
”” 
=
”” 
false
””  
;
””  !
LdapUser
‘‘ 
user
‘‘ 
=
‘‘ 
null
‘‘  
;
‘‘  !
DirectoryEntry
’’ 
adentry
’’ "
=
’’# $
null
’’% )
;
’’) *
try
ÿÿ 
{
ŸŸ 
if
⁄⁄ 
(
⁄⁄ *
UseRootDNWithActiveDirectory
⁄⁄ 0
(
⁄⁄0 1
)
⁄⁄1 2
)
⁄⁄2 3
{
€€ 
adentry
‹‹ 
=
‹‹ 
new
‹‹ !
DirectoryEntry
‹‹" 0
(
‹‹0 1
$str
‹‹1 :
+
‹‹; <
ldapSettings
‹‹= I
.
‹‹I J
Server
‹‹J P
+
‹‹Q R
$str
‹‹S V
+
‹‹W X
ldapSettings
‹‹Y e
.
‹‹e f
RootDN
‹‹f l
,
‹‹l m
ldapSettings
‹‹n z
.
‹‹z {
Domain‹‹{ Å
+‹‹Ç É
$str‹‹Ñ à
+‹‹â ä
uid‹‹ã é
,‹‹é è
password‹‹ê ò
)‹‹ò ô
;‹‹ô ö
}
›› 
else
ﬁﬁ 
{
ﬂﬂ 
adentry
‡‡ 
=
‡‡ 
new
‡‡ !
DirectoryEntry
‡‡" 0
(
‡‡0 1
$str
‡‡1 :
+
‡‡; <
ldapSettings
‡‡= I
.
‡‡I J
Server
‡‡J P
,
‡‡P Q
ldapSettings
‡‡R ^
.
‡‡^ _
Domain
‡‡_ e
+
‡‡f g
$str
‡‡h l
+
‡‡m n
uid
‡‡o r
,
‡‡r s
password
‡‡t |
)
‡‡| }
;
‡‡} ~
}
·· 
}
‚‚ 
catch
„„ 
(
„„ 
System
„„ 
.
„„ 
Runtime
„„ !
.
„„! "
InteropServices
„„" 1
.
„„1 2
COMException
„„2 >
ex
„„? A
)
„„A B
{
‰‰ 
if
ÂÂ 
(
ÂÂ 
log
ÂÂ 
.
ÂÂ 
IsErrorEnabled
ÂÂ &
)
ÂÂ& '
{
ÊÊ 
string
ËË 
msg
ËË 
=
ËË  
$str
ËË! ;
+
ËË< =
uid
ËË> A
+
ËËB C
$str
ËËD S
;
ËËS T
log
ÈÈ 
.
ÈÈ 
Error
ÈÈ 
(
ÈÈ 
msg
ÈÈ !
,
ÈÈ! "
ex
ÈÈ# %
)
ÈÈ% &
;
ÈÈ& '
}
ÍÍ 
}
ÎÎ 
if
ÏÏ 
(
ÏÏ 
adentry
ÏÏ 
!=
ÏÏ 
null
ÏÏ 
)
ÏÏ  
{
ÌÌ 
try
ÔÔ 
{
 
object
ÒÒ 
testobj
ÒÒ "
=
ÒÒ# $
adentry
ÒÒ% ,
.
ÒÒ, -
NativeObject
ÒÒ- 9
;
ÒÒ9 :
success
ÚÚ 
=
ÚÚ 
true
ÚÚ "
;
ÚÚ" #
}
ÛÛ 
catch
ÙÙ 
(
ÙÙ 
System
ÙÙ 
.
ÙÙ 
Runtime
ÙÙ %
.
ÙÙ% &
InteropServices
ÙÙ& 5
.
ÙÙ5 6
COMException
ÙÙ6 B
ex
ÙÙC E
)
ÙÙE F
{
ıı 
if
ˆˆ 
(
ˆˆ 
log
ˆˆ 
.
ˆˆ 
IsErrorEnabled
ˆˆ *
)
ˆˆ* +
{
˜˜ 
log
¯¯ 
.
¯¯ 
Error
¯¯ !
(
¯¯! "
$str
¯¯" 1
,
¯¯1 2
ex
¯¯3 5
)
¯¯5 6
;
¯¯6 7
}
˘˘ 
success
˙˙ 
=
˙˙ 
false
˙˙ #
;
˙˙# $
}
˚˚ 
if
¸¸ 
(
¸¸ 
success
¸¸ 
&&
¸¸ 
adentry
¸¸ &
!=
¸¸' )
null
¸¸* .
)
¸¸. /
{
˝˝ 
if
˛˛ 
(
˛˛ *
UseRootDNWithActiveDirectory
˛˛ 4
(
˛˛4 5
)
˛˛5 6
)
˛˛6 7
{
ˇˇ 
DirectorySearcher
ÄÄ )
ds
ÄÄ* ,
=
ÄÄ- .
new
ÄÄ/ 2
DirectorySearcher
ÄÄ3 D
(
ÄÄD E
adentry
ÄÄE L
)
ÄÄL M
;
ÄÄM N
ds
ÅÅ 
.
ÅÅ 
Filter
ÅÅ !
=
ÅÅ" #
$str
ÅÅ$ 8
+
ÅÅ9 :
uid
ÅÅ; >
+
ÅÅ? @
$str
ÅÅA E
;
ÅÅE F
SearchResult
ÇÇ $
result
ÇÇ% +
=
ÇÇ, -
ds
ÇÇ. 0
.
ÇÇ0 1
FindOne
ÇÇ1 8
(
ÇÇ8 9
)
ÇÇ9 :
;
ÇÇ: ;
if
ÉÉ 
(
ÉÉ 
result
ÉÉ "
!=
ÉÉ# %
null
ÉÉ& *
)
ÉÉ* +
{
ÑÑ 
user
ÜÜ  
=
ÜÜ! "
new
ÜÜ# &
LdapUser
ÜÜ' /
(
ÜÜ/ 0
adentry
ÜÜ0 7
,
ÜÜ7 8
uid
ÜÜ9 <
,
ÜÜ< =
ldapSettings
ÜÜ> J
)
ÜÜJ K
;
ÜÜK L
}
áá 
else
àà 
{
ââ 
log
ää 
.
ää  
Info
ää  $
(
ää$ %
$str
ää% _
+
ää` a
ldapSettings
ääb n
.
ään o
Server
ääo u
+
ääv w
$strääx Ñ
+ääÖ Ü
ldapSettingsääá ì
.ääì î
RootDNääî ö
+ääõ ú
$strääù •
+ää¶ ß
uidää® ´
)ää´ ¨
;ää¨ ≠
}
åå 
}
èè 
else
êê 
{
ëë 
user
íí 
=
íí 
new
íí "
LdapUser
íí# +
(
íí+ ,
adentry
íí, 3
,
íí3 4
uid
íí5 8
,
íí8 9
ldapSettings
íí: F
)
ííF G
;
ííG H
}
ìì 
}
îî 
}
ïï 
return
òò 
user
òò 
;
òò 
}
ôô 	
public
ÓÓ 
static
ÓÓ 
bool
ÓÓ 
TestUser
ÓÓ #
(
ÓÓ# $
LdapSettings
ÓÓ$ 0
ldapSettings
ÓÓ1 =
,
ÓÓ= >
string
ÓÓ? E
uid
ÓÓF I
,
ÓÓI J
string
ÓÓK Q
password
ÓÓR Z
)
ÓÓZ [
{
ÔÔ 	
bool
 
result
 
=
 
false
 
;
  
LdapUser
ÚÚ 
testUser
ÚÚ 
=
ÚÚ 
	LdapLogin
ÚÚ  )
(
ÚÚ) *
ldapSettings
ÚÚ* 6
,
ÚÚ6 7
uid
ÚÚ8 ;
,
ÚÚ; <
password
ÚÚ= E
)
ÚÚE F
;
ÚÚF G
if
ÛÛ 
(
ÛÛ 
testUser
ÛÛ 
!=
ÛÛ 
null
ÛÛ  
)
ÛÛ  !
{
ÙÙ 
result
ıı 
=
ıı 
true
ıı 
;
ıı 
}
ˆˆ 
return
¯¯ 
result
¯¯ 
;
¯¯ 
}
˘˘ 	
}
≤≤ 
}≥≥ ∞
jD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\LdapSettings.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 
class 
LdapSettings 
{ 
private 	
string
 
rootDN 
= 
String  
.  !
Empty! &
;& '
private 	
string
 
server 
= 
String  
.  !
Empty! &
;& '
private 
String 
domain 
= 
String  &
.& '
Empty' ,
;, -
private 	
int
 
port 
= 
$num 
; 
private 	
String
 
	userDNKey 
= 
$str !
;! "
public 
LdapSettings	 
( 
) 
{   
}!! 
public## 
string##	 
Server## 
{$$ 
get%% 
{%% 
return%%	 
server%% 
;%% 
}%% 
set&& 
{&& 
server&&	 
=&& 
value&& 
;&& 
}&& 
}'' 
public)) 
string)) 
Domain)) 
{** 	
get++ 
{++ 
return++ 
domain++ 
;++  
}++! "
set,, 
{,, 
domain,, 
=,, 
value,,  
;,,  !
},," #
}-- 	
public// 
int//	 
Port// 
{00 
get11 
{11 
return11	 
port11 
;11 
}11 
set22 
{22 
port22	 
=22 
value22 
;22 
}22 
}33 
public66 
string66	 
RootDN66 
{77 
get88 
{88 
return88	 
rootDN88 
;88 
}88 
set99 
{99 
rootDN99	 
=99 
value99 
;99 
}99 
}:: 
public<< 
string<<	 
	UserDNKey<< 
{== 
get>> 
{>> 
return>>	 
	userDNKey>> 
;>> 
}>> 
set?? 
{?? 
	userDNKey??	 
=?? 
value?? 
;?? 
}?? 
}@@ 
}CC 
}DD ÀG
fD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\LdapUser.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 
class 
LdapUser 
{ 
private 	
LdapAttribute
 
email 
= 
null  $
;$ %
private 	
LdapAttribute
 

commonname "
=# $
null% )
;) *
private 	
LdapAttribute
 
password  
=! "
null# '
;' (
private 	
LdapAttribute
 
userid 
=  
null! %
;% &
private 	
LdapAttribute
 
	uidNumber !
=" #
null$ (
;( )
private   	
string  
 
dn   
=   
String   
.   
Empty   "
;  " #
private!! 
string!! 
	firstName!!  
=!!! "
string!!# )
.!!) *
Empty!!* /
;!!/ 0
private"" 
string"" 
lastName"" 
=""  !
string""" (
.""( )
Empty"") .
;"". /
public$$ 
LdapUser$$	 
($$ 
)$$ 
{$$ 
}$$ 
public'' 
LdapUser'' 
('' 
DirectoryEntry'' &
adentry''' .
,''. /
String''0 6
userName''7 ?
,''? @
LdapSettings''A M
ldapSettings''N Z
)''Z [
{(( 	
userid)) 
=)) 
new)) 
LdapAttribute)) &
())& '
$str))' /
,))/ 0
userName))1 9
)))9 :
;)): ;
DirectorySearcher** 
ds**  
=**! "
new**# &
DirectorySearcher**' 8
(**8 9
adentry**9 @
)**@ A
;**A B
ds++ 
.++ 
Filter++ 
=++ 
$str++ ,
+++- .
userName++/ 7
+++8 9
$str++: >
;++> ?
SearchResult,, 
result,, 
=,,  !
ds,," $
.,,$ %
FindOne,,% ,
(,,, -
),,- .
;,,. /
DirectoryEntry-- 
ent-- 
=--  
null--! %
;--% &
if// 
(// 
result// 
!=// 
null// 
)// 
{00 
ent11 
=11 
result11 
.11 
GetDirectoryEntry11 .
(11. /
)11/ 0
;110 1
}22 
if44 
(44 
ent44 
!=44 
null44 
)44 
{55 
if66 
(66 
ent66 
.66 

Properties66 "
[66" #
$str66# '
]66' (
.66( )
Value66) .
!=66/ 1
null662 6
)666 7
{77 

commonname88 
=88  
new88! $
LdapAttribute88% 2
(882 3
$str883 ?
,88? @
ent88A D
.88D E

Properties88E O
[88O P
$str88P T
]88T U
.88U V
Value88V [
.88[ \
ToString88\ d
(88d e
)88e f
)88f g
;88g h
}99 
else:: 
{;; 

commonname<< 
=<<  
new<<! $
LdapAttribute<<% 2
(<<2 3
$str<<3 ?
,<<? @
userName<<A I
)<<I J
;<<J K
}== 
if>> 
(>> 
ent>> 
.>> 

Properties>> "
[>>" #
$str>># )
]>>) *
.>>* +
Value>>+ 0
!=>>1 3
null>>4 8
)>>8 9
{?? 
email@@ 
=@@ 
new@@ 
LdapAttribute@@  -
(@@- .
$str@@. 5
,@@5 6
ent@@7 :
.@@: ;

Properties@@; E
[@@E F
$str@@F L
]@@L M
.@@M N
Value@@N S
.@@S T
ToString@@T \
(@@\ ]
)@@] ^
)@@^ _
;@@_ `
}AA 
elseBB 
{CC 
emailDD 
=DD 
newDD 
LdapAttributeDD  -
(DD- .
$strDD. 5
,DD5 6
userNameDD7 ?
+DD@ A
$strDDB E
+DDF G
ldapSettingsDDH T
.DDT U
DomainDDU [
)DD[ \
;DD\ ]
}EE 
}FF 
}GG 	
publicYY 
LdapUserYY	 
(YY 
	LdapEntryYY 
entryYY !
)YY! "
{ZZ 
dn[[ 
=[[ 
entry[[ 
.[[ 
DN[[ 
;[[ 
LdapAttributeSet]] 
las]] 
=]] 
entry]] 
.]]  
getAttributeSet]]  /
(]]/ 0
)]]0 1
;]]1 2
foreach__ 

(__
 
LdapAttribute__ 
a__ 
in__ 
las__ !
)__! "
{`` 
switchaa 

(aa
 
aaa 
.aa 
Nameaa 
)aa 
{bb 
casecc 	
$strcc
 
:cc 
thisdd 

.dd
 
emaildd 
=dd 
add 
;dd 
breakee 
;ee 
caseff 	
$strff
 
:ff 
thisgg 

.gg
 

commonnamegg 
=gg 
agg 
;gg 
breakhh 
;hh 
caseii 	
$strii
 
:ii 
thisjj 

.jj
 
passwordjj 
=jj 
ajj 
;jj 
breakkk 
;kk 
casell 	
$strll
 
:ll 
thismm 

.mm
 
	uidNumbermm 
=mm 
amm 
;mm 
breaknn 
;nn 
caseoo 	
$stroo
 
:oo 
thispp 

.pp
 
useridpp 
=pp 
app 
;pp 
breakqq 
;qq 
caserr 
$strrr )
:rr) *
thisss 
.ss 
useridss #
=ss$ %
ass& '
;ss' (
breaktt 
;tt 
caseuu 
$struu $
:uu$ %
thisvv 
.vv 
	firstNamevv &
=vv' (
avv) *
.vv* +
StringValuevv+ 6
;vv6 7
breakww 
;ww 
casexx 
$strxx 
:xx 
thisyy 
.yy 
lastNameyy %
=yy& '
ayy( )
.yy) *
StringValueyy* 5
;yy5 6
breakzz 
;zz 
}{{ 
}|| 
}}} 
public 
string	 
Email 
{
ÄÄ 
get
ÅÅ 
{
ÅÅ 
return
ÅÅ 
ConvNull2Blank
ÅÅ '
(
ÅÅ' (
email
ÅÅ( -
)
ÅÅ- .
;
ÅÅ. /
}
ÅÅ0 1
}
ÇÇ 
public
ÑÑ 
string
ÑÑ	 
UserId
ÑÑ 
{
ÖÖ 
get
ÜÜ 
{
ÜÜ 
return
ÜÜ	 
ConvNull2Blank
ÜÜ 
(
ÜÜ 
userid
ÜÜ %
)
ÜÜ% &
;
ÜÜ& '
}
ÜÜ( )
}
áá 
public
ââ 
string
ââ	 

CommonName
ââ 
{
ää 
get
ãã 
{
ãã 
return
ãã 
ConvNull2Blank
ãã '
(
ãã' (

commonname
ãã( 2
)
ãã2 3
;
ãã3 4
}
ãã5 6
}
çç 
public
èè 
string
èè	 
Password
èè 
{
êê 
get
ëë 
{
ëë 
return
ëë 
ConvNull2Blank
ëë '
(
ëë' (
password
ëë( 0
)
ëë0 1
;
ëë1 2
}
ëë3 4
}
íí 
public
îî 
string
îî	 
DN
îî 
{
ïï 
get
ññ 
{
ññ 
return
ññ	 
dn
ññ 
;
ññ 
}
ññ 
}
óó 
public
ôô 
string
ôô 
	FirstName
ôô 
{
öö 	
get
õõ 
{
õõ 
return
õõ 
	firstName
õõ "
;
õõ" #
}
õõ$ %
}
úú 	
public
ûû 
string
ûû 
LastName
ûû 
{
üü 	
get
†† 
{
†† 
return
†† 
lastName
†† !
;
††! "
}
††# $
}
°° 	
public
££ 
String
££ 
ConvNull2Blank
££ $
(
££$ %
LdapAttribute
££% 2
str
££3 6
)
££6 7
{
§§ 	
if
•• 
(
•• 
str
•• 
==
•• 
null
•• 
)
•• 
return
¶¶ 
$str
¶¶ 
;
¶¶ 
else
ßß 
return
®® 
str
®® 
.
®® 
StringValue
®® &
;
®®& '
}
©© 	
}
´´ 
}¨¨ ƒ≈
dD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Module.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 
class 
Module 
: 
IComparable "
{ 
public 
Module	 
( 
) 
{ 
} 
public 
Module 
( 
Guid 

moduleGuid %
)% &
{ 	
	GetModule 
( 

moduleGuid  
)  !
;! "
} 	
public 
Module 
( 
int 
moduleId "
)" #
{   	
	GetModule!! 
(!! 
moduleId!! 
)!! 
;!!  
}"" 	
public$$ 
Module$$ 
($$ 
int$$ 
moduleId$$ "
,$$" #
int$$$ '
pageId$$( .
)$$. /
{%% 	
this&& 
.&& 
PageId&& 
=&& 
pageId&&  
;&&  !
	GetModule'' 
('' 
moduleId'' 
,'' 
pageId''  &
)''& '
;''' (
}(( 	
public.. 
Guid..	 

ModuleGuid.. 
{.. 
get.. 
;.. 
set..  #
;..# $
}..% &
=..' (
Guid..) -
...- .
Empty... 3
;..3 4
public00 
Guid00	 
SiteGuid00 
{00 
get00 
;00 
set00 !
;00! "
}00# $
=00% &
Guid00' +
.00+ ,
Empty00, 1
;001 2
public22 
Guid22	 
FeatureGuid22 
{22 
get22 
;22  
set22! $
;22$ %
}22& '
=22( )
Guid22* .
.22. /
Empty22/ 4
;224 5
public44 
int44	 
ModuleId44 
{44 
get44 
;44 
set44  
;44  !
}44" #
=44$ %
-44& '
$num44' (
;44( )
public66 
int66	 
SiteId66 
{66 
get66 
;66 
set66 
;66 
}66  !
=66" #
$num66$ %
;66% &
public88 
int88	 

EditUserId88 
{88 
get88 
;88 
set88 "
;88" #
}88$ %
=88& '
-88( )
$num88) *
;88* +
public:: 
Guid::	 
EditUserGuid:: 
{:: 
get::  
;::  !
set::" %
;::% &
}::' (
=::) *
Guid::+ /
.::/ 0
Empty::0 5
;::5 6
public<< 
int<<	 
PageId<< 
{<< 
get<< 
;<< 
set<< 
;<< 
}<<  !
=<<" #
-<<$ %
$num<<% &
;<<& '
public== 
int==	 
ModuleDefId== 
{== 
get== 
;== 
set==  #
;==# $
}==% &
public?? 
int??	 
ModuleOrder?? 
{?? 
get?? 
;?? 
set??  #
;??# $
}??% &
=??' (
$num??) ,
;??, -
publicAA 
intAA	 
PublishModeAA 
{AA 
getAA 
;AA 
setAA  #
;AA# $
}AA% &
=AA' (
$numAA) *
;AA* +
publicCC 
stringCC	 
PaneNameCC 
{CC 
getCC 
;CC 
setCC  #
;CC# $
}CC% &
=CC' (
StringCC) /
.CC/ 0
EmptyCC0 5
;CC5 6
publicEE 
stringEE	 
ModuleTitleEE 
{EE 
getEE !
;EE! "
setEE# &
;EE& '
}EE( )
=EE* +
StringEE, 2
.EE2 3
EmptyEE3 8
;EE8 9
publicGG 
stringGG	 
HeadElementGG 
{GG 
getGG !
;GG! "
setGG# &
;GG& '
}GG( )
=GG* +
$strGG, 0
;GG0 1
publicII 
stringII	 
	ViewRolesII 
{II 
getII 
;II  
setII! $
;II$ %
}II& '
=II( )
$strII* 6
;II6 7
publicKK 
stringKK	 
AuthorizedEditRolesKK #
{KK$ %
getKK& )
;KK) *
setKK+ .
;KK. /
}KK0 1
=KK2 3
stringKK4 :
.KK: ;
EmptyKK; @
;KK@ A
publicMM 
stringMM	 
DraftEditRolesMM 
{MM  
getMM! $
;MM$ %
setMM& )
;MM) *
}MM+ ,
=MM- .
StringMM/ 5
.MM5 6
EmptyMM6 ;
;MM; <
publicOO 
stringOO	 
DraftApprovalRolesOO "
{OO# $
getOO% (
;OO( )
setOO* -
;OO- .
}OO/ 0
=OO1 2
StringOO3 9
.OO9 :
EmptyOO: ?
;OO? @
publicQQ 
intQQ	 
	CacheTimeQQ 
{QQ 
getQQ 
;QQ 
setQQ !
;QQ! "
}QQ# $
=QQ% &
$numQQ' (
;QQ( )
publicSS 
boolSS	 
	ShowTitleSS 
{SS 
getSS 
;SS 
setSS "
;SS" #
}SS$ %
=SS& '
trueSS( ,
;SS, -
publicUU 
stringUU	 
ControlSourceUU 
{UU 
getUU  #
;UU# $
setUU% (
;UU( )
}UU* +
=UU, -
stringUU. 4
.UU4 5
EmptyUU5 :
;UU: ;
publicWW 
boolWW	 
AvailableForMyPageWW  
{WW! "
getWW# &
;WW& '
setWW( +
;WW+ ,
}WW- .
=WW/ 0
falseWW1 6
;WW6 7
publicYY 
boolYY	 *
AllowMultipleInstancesOnMyPageYY ,
{YY- .
getYY/ 2
;YY2 3
setYY4 7
;YY7 8
}YY9 :
=YY; <
trueYY= A
;YYA B
public[[ 
int[[	 
CreatedByUserId[[ 
{[[ 
get[[ "
;[[" #
set[[$ '
;[[' (
}[[) *
=[[+ ,
-[[- .
$num[[. /
;[[/ 0
public]] 
DateTime]]	 
CreatedDate]] 
{]] 
get]]  #
;]]# $
set]]% (
;]]( )
}]]* +
=]], -
DateTime]]. 6
.]]6 7
MinValue]]7 ?
;]]? @
public__ 
string__	 
FeatureName__ 
{__ 
get__ !
;__! "
private__# *
set__+ .
;__. /
}__0 1
=__2 3
String__4 :
.__: ;
Empty__; @
;__@ A
publicaa 
stringaa	 
Iconaa 
{aa 
getaa 
;aa 
setaa 
;aa  
}aa! "
=aa# $
Stringaa% +
.aa+ ,
Emptyaa, 1
;aa1 2
publiccc 
boolcc	 !
HideFromAuthenticatedcc #
{cc$ %
getcc& )
;cc) *
setcc+ .
;cc. /
}cc0 1
=cc2 3
falsecc4 9
;cc9 :
publicee 
boolee	 #
HideFromUnauthenticatedee %
{ee& '
getee( +
;ee+ ,
setee- 0
;ee0 1
}ee2 3
=ee4 5
falseee6 ;
;ee; <
publicgg 
boolgg	 
IncludeInSearchgg 
{gg 
getgg  #
;gg# $
setgg% (
;gg( )
}gg* +
=gg, -
truegg. 2
;gg2 3
publicii 
boolii	 
IsGlobalii 
{ii 
getii 
;ii 
setii !
;ii! "
}ii# $
=ii% &
falseii' ,
;ii, -
privateoo 	
voidoo
 
PopulateFromReaderoo !
(oo! "
IDataReaderoo" -
readeroo. 4
)oo4 5
{pp 	
ifqq 
(qq 
readerqq 
.qq 
Readqq 
(qq 
)qq 
)qq 
{rr 
thisss 
.ss 
ModuleIdss 
=ss 
Convertss  '
.ss' (
ToInt32ss( /
(ss/ 0
readerss0 6
[ss6 7
$strss7 A
]ssA B
)ssB C
;ssC D
thistt 
.tt 
SiteIdtt 
=tt 
Converttt %
.tt% &
ToInt32tt& -
(tt- .
readertt. 4
[tt4 5
$strtt5 =
]tt= >
)tt> ?
;tt? @
thisvv 
.vv 
ModuleDefIdvv  
=vv! "
Convertvv# *
.vv* +
ToInt32vv+ 2
(vv2 3
readervv3 9
[vv9 :
$strvv: G
]vvG H
)vvH I
;vvI J
thisyy 
.yy 
ModuleTitleyy  
=yy! "
readeryy# )
[yy) *
$stryy* 7
]yy7 8
.yy8 9
ToStringyy9 A
(yyA B
)yyB C
;yyC D
thiszz 
.zz 
AuthorizedEditRoleszz (
=zz) *
readerzz+ 1
[zz1 2
$strzz2 G
]zzG H
.zzH I
ToStringzzI Q
(zzQ R
)zzR S
;zzS T
this{{ 
.{{ 
DraftEditRoles{{ #
={{$ %
reader{{& ,
[{{, -
$str{{- =
]{{= >
.{{> ?
ToString{{? G
({{G H
){{H I
;{{I J
this|| 
.|| 
DraftApprovalRoles|| '
=||( )
reader||* 0
[||0 1
$str||1 E
]||E F
.||F G
ToString||G O
(||O P
)||P Q
;||Q R
this}} 
.}} 
	CacheTime}} 
=}}  
Convert}}! (
.}}( )
ToInt32}}) 0
(}}0 1
reader}}1 7
[}}7 8
$str}}8 C
]}}C D
)}}D E
;}}E F
this~~ 
.~~ 
	ShowTitle~~ 
=~~  
Convert~~! (
.~~( )
	ToBoolean~~) 2
(~~2 3
reader~~3 9
[~~9 :
$str~~: E
]~~E F
)~~F G
;~~G H
if 
( 
reader 
[ 
$str '
]' (
!=) +
DBNull, 2
.2 3
Value3 8
)8 9
{
ÄÄ 
this
ÅÅ 
.
ÅÅ 

EditUserId
ÅÅ #
=
ÅÅ$ %
Convert
ÅÅ& -
.
ÅÅ- .
ToInt32
ÅÅ. 5
(
ÅÅ5 6
reader
ÅÅ6 <
[
ÅÅ< =
$str
ÅÅ= I
]
ÅÅI J
)
ÅÅJ K
;
ÅÅK L
}
ÇÇ 
this
ÉÉ 
.
ÉÉ  
AvailableForMyPage
ÉÉ '
=
ÉÉ( )
Convert
ÉÉ* 1
.
ÉÉ1 2
	ToBoolean
ÉÉ2 ;
(
ÉÉ; <
reader
ÉÉ< B
[
ÉÉB C
$str
ÉÉC W
]
ÉÉW X
)
ÉÉX Y
;
ÉÉY Z
this
ÑÑ 
.
ÑÑ ,
AllowMultipleInstancesOnMyPage
ÑÑ 3
=
ÑÑ4 5
Convert
ÑÑ6 =
.
ÑÑ= >
	ToBoolean
ÑÑ> G
(
ÑÑG H
reader
ÑÑH N
[
ÑÑN O
$str
ÑÑO o
]
ÑÑo p
)
ÑÑp q
;
ÑÑq r
if
ÖÖ 
(
ÖÖ 
reader
ÖÖ 
[
ÖÖ 
$str
ÖÖ ,
]
ÖÖ, -
!=
ÖÖ. 0
DBNull
ÖÖ1 7
.
ÖÖ7 8
Value
ÖÖ8 =
)
ÖÖ= >
{
ÜÜ 
this
áá 
.
áá 
CreatedByUserId
áá (
=
áá) *
Convert
áá+ 2
.
áá2 3
ToInt32
áá3 :
(
áá: ;
reader
áá; A
[
ááA B
$str
ááB S
]
ááS T
)
ááT U
;
ááU V
}
àà 
if
ââ 
(
ââ 
reader
ââ 
[
ââ 
$str
ââ (
]
ââ( )
!=
ââ* ,
DBNull
ââ- 3
.
ââ3 4
Value
ââ4 9
)
ââ9 :
{
ää 
this
ãã 
.
ãã 
CreatedDate
ãã $
=
ãã% &
Convert
ãã' .
.
ãã. /

ToDateTime
ãã/ 9
(
ãã9 :
reader
ãã: @
[
ãã@ A
$str
ããA N
]
ããN O
)
ããO P
;
ããP Q
}
åå 
this
éé 
.
éé 
Icon
éé 
=
éé 
reader
éé "
[
éé" #
$str
éé# )
]
éé) *
.
éé* +
ToString
éé+ 3
(
éé3 4
)
éé4 5
;
éé5 6
this
ëë 
.
ëë 

ModuleGuid
ëë 
=
ëë  !
new
ëë" %
Guid
ëë& *
(
ëë* +
reader
ëë+ 1
[
ëë1 2
$str
ëë2 8
]
ëë8 9
.
ëë9 :
ToString
ëë: B
(
ëëB C
)
ëëC D
)
ëëD E
;
ëëE F
this
íí 
.
íí 
FeatureGuid
íí  
=
íí! "
new
íí# &
Guid
íí' +
(
íí+ ,
reader
íí, 2
[
íí2 3
$str
íí3 @
]
íí@ A
.
ííA B
ToString
ííB J
(
ííJ K
)
ííK L
)
ííL M
;
ííM N
this
ìì 
.
ìì 
SiteGuid
ìì 
=
ìì 
new
ìì  #
Guid
ìì$ (
(
ìì( )
reader
ìì) /
[
ìì/ 0
$str
ìì0 :
]
ìì: ;
.
ìì; <
ToString
ìì< D
(
ììD E
)
ììE F
)
ììF G
;
ììG H
string
ïï 

edUserGuid
ïï !
=
ïï" #
reader
ïï$ *
[
ïï* +
$str
ïï+ 9
]
ïï9 :
.
ïï: ;
ToString
ïï; C
(
ïïC D
)
ïïD E
;
ïïE F
if
ññ 
(
ññ 

edUserGuid
ññ 
.
ññ 
Length
ññ %
==
ññ& (
$num
ññ) +
)
ññ+ ,
this
ññ- 1
.
ññ1 2
EditUserGuid
ññ2 >
=
ññ? @
new
ññA D
Guid
ññE I
(
ññI J

edUserGuid
ññJ T
)
ññT U
;
ññU V
this
òò 
.
òò #
HideFromAuthenticated
òò *
=
òò+ ,
Convert
òò- 4
.
òò4 5
	ToBoolean
òò5 >
(
òò> ?
reader
òò? E
[
òòE F
$str
òòF T
]
òòT U
)
òòU V
;
òòV W
this
ôô 
.
ôô %
HideFromUnauthenticated
ôô ,
=
ôô- .
Convert
ôô/ 6
.
ôô6 7
	ToBoolean
ôô7 @
(
ôô@ A
reader
ôôA G
[
ôôG H
$str
ôôH X
]
ôôX Y
)
ôôY Z
;
ôôZ [
this
õõ 
.
õõ 
	ViewRoles
õõ 
=
õõ  
reader
õõ! '
[
õõ' (
$str
õõ( 3
]
õõ3 4
.
õõ4 5
ToString
õõ5 =
(
õõ= >
)
õõ> ?
;
õõ? @
this
°° 
.
°° 
ControlSource
°° "
=
°°# $
reader
°°% +
[
°°+ ,
$str
°°, 8
]
°°8 9
.
°°9 :
ToString
°°: B
(
°°B C
)
°°C D
;
°°D E
this
¢¢ 
.
¢¢ 
FeatureName
¢¢  
=
¢¢! "
reader
¢¢# )
[
¢¢) *
$str
¢¢* 7
]
¢¢7 8
.
¢¢8 9
ToString
¢¢9 A
(
¢¢A B
)
¢¢B C
;
¢¢C D
this
§§ 
.
§§ 
IncludeInSearch
§§ $
=
§§% &
Convert
§§' .
.
§§. /
	ToBoolean
§§/ 8
(
§§8 9
reader
§§9 ?
[
§§? @
$str
§§@ Q
]
§§Q R
)
§§R S
;
§§S T
this
•• 
.
•• 
IsGlobal
•• 
=
•• 
Convert
••  '
.
••' (
	ToBoolean
••( 1
(
••1 2
reader
••2 8
[
••8 9
$str
••9 C
]
••C D
)
••D E
;
••E F
this
¶¶ 
.
¶¶ 
HeadElement
¶¶  
=
¶¶! "
reader
¶¶# )
[
¶¶) *
$str
¶¶* 7
]
¶¶7 8
.
¶¶8 9
ToString
¶¶9 A
(
¶¶A B
)
¶¶B C
;
¶¶C D
this
®® 
.
®® 
PublishMode
®®  
=
®®! "
Convert
®®# *
.
®®* +
ToInt32
®®+ 2
(
®®2 3
reader
®®3 9
[
®®9 :
$str
®®: G
]
®®G H
)
®®H I
;
®®I J
}
©© 
}
´´ 	
private
≠≠ 
void
≠≠ 
	GetModule
≠≠ 
(
≠≠ 
Guid
≠≠ #

moduleGuid
≠≠$ .
)
≠≠. /
{
ÆÆ 	
using
ØØ 
(
ØØ 
IDataReader
ØØ 
reader
ØØ %
=
ØØ& '
DBModule
ØØ( 0
.
ØØ0 1
	GetModule
ØØ1 :
(
ØØ: ;

moduleGuid
ØØ; E
)
ØØE F
)
ØØF G
{
∞∞  
PopulateFromReader
±± "
(
±±" #
reader
±±# )
)
±±) *
;
±±* +
}
≤≤ 
}
≥≥ 	
private
µµ 	
void
µµ
 
	GetModule
µµ 
(
µµ 
int
µµ 
moduleId
µµ %
)
µµ% &
{
∂∂ 
using
∑∑ 
(
∑∑ 
IDataReader
∑∑ 
reader
∑∑ %
=
∑∑& '
DBModule
∑∑( 0
.
∑∑0 1
	GetModule
∑∑1 :
(
∑∑: ;
moduleId
∑∑; C
)
∑∑C D
)
∑∑D E
{
∏∏  
PopulateFromReader
ππ "
(
ππ" #
reader
ππ# )
)
ππ) *
;
ππ* +
}
ªª 
}
ΩΩ 
private
øø 
void
øø 
	GetModule
øø 
(
øø 
int
øø "
moduleId
øø# +
,
øø+ ,
int
øø- 0
pageId
øø1 7
)
øø7 8
{
¿¿ 	
using
¡¡ 
(
¡¡ 
IDataReader
¡¡ 
reader
¡¡ %
=
¡¡& '
DBModule
¡¡( 0
.
¡¡0 1
	GetModule
¡¡1 :
(
¡¡: ;
moduleId
¡¡; C
,
¡¡C D
pageId
¡¡E K
)
¡¡K L
)
¡¡L M
{
¬¬  
PopulateFromReader
√√ "
(
√√" #
reader
√√# )
)
√√) *
;
√√* +
}
ƒƒ 
}
≈≈ 	
public
ÀÀ 
int
ÀÀ	 
	CompareTo
ÀÀ 
(
ÀÀ 
object
ÀÀ 
value
ÀÀ #
)
ÀÀ# $
{
ÃÃ 
if
ŒŒ 
(
ŒŒ 
value
ŒŒ 
==
ŒŒ 
null
ŒŒ 
)
ŒŒ 
return
ŒŒ 
$num
ŒŒ 
;
ŒŒ 
int
–– 
compareOrder
–– 
=
–– 
(
–– 
(
–– 
Module
–– 
)
–– 
value
–– $
)
––$ %
.
––% &
ModuleOrder
––& 1
;
––1 2
if
““ 
(
““ 
this
““ 
.
““ 
ModuleOrder
““ 
==
““ 
compareOrder
““ '
)
““' (
return
““) /
$num
““0 1
;
““1 2
if
”” 
(
”” 
this
”” 
.
”” 
ModuleOrder
”” 
<
”” 
compareOrder
”” &
)
””& '
return
””( .
-
””/ 0
$num
””0 1
;
””1 2
if
‘‘ 
(
‘‘ 
this
‘‘ 
.
‘‘ 
ModuleOrder
‘‘ 
>
‘‘ 
compareOrder
‘‘ &
)
‘‘& '
return
‘‘( .
$num
‘‘/ 0
;
‘‘0 1
return
’’ 	
$num
’’
 
;
’’ 
}
÷÷ 
public
ÿÿ 
bool
ÿÿ	 
Save
ÿÿ 
(
ÿÿ 
)
ÿÿ 
{
ŸŸ 
if
⁄⁄ 
(
⁄⁄ 
this
⁄⁄ 

.
⁄⁄
 
ModuleId
⁄⁄ 
>
⁄⁄ 
-
⁄⁄ 
$num
⁄⁄ 
)
⁄⁄ 
{
€€ 
return
‹‹ 

Update
‹‹ 
(
‹‹ 
)
‹‹ 
;
‹‹ 
}
›› 
else
ﬁﬁ 
{
ﬂﬂ 
return
‡‡ 

Create
‡‡ 
(
‡‡ 
)
‡‡ 
;
‡‡ 
}
·· 
}
‚‚ 
private
‰‰ 	
bool
‰‰
 
Create
‰‰ 
(
‰‰ 
)
‰‰ 
{
ÂÂ 
bool
ÊÊ 
created
ÊÊ 
=
ÊÊ 
false
ÊÊ 
;
ÊÊ 
int
ÁÁ 
newID
ÁÁ 
=
ÁÁ 
-
ÁÁ 
$num
ÁÁ 
;
ÁÁ 
if
ÈÈ 
(
ÈÈ 
this
ÈÈ 
.
ÈÈ 

ModuleGuid
ÈÈ 
==
ÈÈ  "
Guid
ÈÈ# '
.
ÈÈ' (
Empty
ÈÈ( -
)
ÈÈ- .
this
ÍÍ 
.
ÍÍ 

ModuleGuid
ÍÍ 
=
ÍÍ  !
Guid
ÍÍ" &
.
ÍÍ& '
NewGuid
ÍÍ' .
(
ÍÍ. /
)
ÍÍ/ 0
;
ÍÍ0 1
newID
ÏÏ 
=
ÏÏ	 

DBModule
ÏÏ 
.
ÏÏ 
	AddModule
ÏÏ 
(
ÏÏ 
this
ÌÌ 
.
ÌÌ 	
PageId
ÌÌ	 
,
ÌÌ 
this
ÓÓ 
.
ÓÓ 
SiteId
ÓÓ 
,
ÓÓ 
this
ÔÔ 
.
ÔÔ 
SiteGuid
ÔÔ 
,
ÔÔ 
this
 
.
 	
ModuleDefId
	 
,
 
this
ÒÒ 
.
ÒÒ 	
ModuleOrder
ÒÒ	 
,
ÒÒ 
this
ÚÚ 
.
ÚÚ 	
PaneName
ÚÚ	 
,
ÚÚ 
this
ÛÛ 
.
ÛÛ 	
ModuleTitle
ÛÛ	 
,
ÛÛ 
this
ÙÙ 
.
ÙÙ 
	ViewRoles
ÙÙ 
,
ÙÙ 
this
ıı 
.
ıı 	!
AuthorizedEditRoles
ıı	 
,
ıı 
this
ˆˆ 
.
ˆˆ 
DraftEditRoles
ˆˆ #
,
ˆˆ# $
this
˜˜ 
.
˜˜  
DraftApprovalRoles
˜˜ '
,
˜˜' (
this
¯¯ 
.
¯¯ 	
	CacheTime
¯¯	 
,
¯¯ 
this
˘˘ 
.
˘˘ 	
	ShowTitle
˘˘	 
,
˘˘ 
this
˙˙ 
.
˙˙  
AvailableForMyPage
˙˙ '
,
˙˙' (
this
˚˚ 
.
˚˚ ,
AllowMultipleInstancesOnMyPage
˚˚ 3
,
˚˚3 4
this
¸¸ 
.
¸¸ 
Icon
¸¸ 
,
¸¸ 
this
˝˝ 
.
˝˝ 
CreatedByUserId
˝˝ $
,
˝˝$ %
DateTime
˛˛ 
.
˛˛ 
UtcNow
˛˛ 
,
˛˛  
this
ˇˇ 
.
ˇˇ 

ModuleGuid
ˇˇ 
,
ˇˇ  
this
ÄÄ 
.
ÄÄ 
FeatureGuid
ÄÄ  
,
ÄÄ  !
this
ÅÅ 
.
ÅÅ #
HideFromAuthenticated
ÅÅ *
,
ÅÅ* +
this
ÇÇ 
.
ÇÇ %
HideFromUnauthenticated
ÇÇ ,
,
ÇÇ, -
this
ÉÉ 
.
ÉÉ 
HeadElement
ÉÉ  
,
ÉÉ  !
this
ÑÑ 
.
ÑÑ 
PublishMode
ÑÑ  
)
ÑÑ  !
;
ÑÑ! "
this
ÜÜ 
.
ÜÜ 
ModuleId
ÜÜ 
=
ÜÜ 
newID
ÜÜ 
;
ÜÜ 
created
áá 

=
áá 
(
áá 
newID
áá 
>
áá 
-
áá 
$num
áá 
)
áá 
;
áá 
if
àà 
(
àà 
created
àà 
)
àà 
{
ââ 
ModuleSettings
ää 
.
ää )
CreateDefaultModuleSettings
ää .
(
ää. /
this
ää/ 3
.
ää3 4
ModuleId
ää4 <
)
ää< =
;
ää= >
}
ãã 
return
çç 	
created
çç
 
;
çç 
}
èè 
private
ëë 	
bool
ëë
 
Update
ëë 
(
ëë 
)
ëë 
{
íí 
return
îî 	
DBModule
îî
 
.
îî 
UpdateModule
îî 
(
îî  
this
ïï 
.
ïï 	
ModuleId
ïï	 
,
ïï 
this
ññ 
.
ññ 	
ModuleDefId
ññ	 
,
ññ 
this
óó 
.
óó 	
ModuleTitle
óó	 
,
óó 
this
òò 
.
òò 
	ViewRoles
òò 
,
òò 
this
ôô 
.
ôô 	!
AuthorizedEditRoles
ôô	 
,
ôô 
this
öö 
.
öö 
DraftEditRoles
öö #
,
öö# $
this
õõ 
.
õõ  
DraftApprovalRoles
õõ '
,
õõ' (
this
úú 
.
úú 	
	CacheTime
úú	 
,
úú 
this
ùù 
.
ùù 	
	ShowTitle
ùù	 
,
ùù 
this
ûû 
.
ûû 	

EditUserId
ûû	 
,
ûû 
this
üü 
.
üü  
AvailableForMyPage
üü '
,
üü' (
this
†† 
.
†† ,
AllowMultipleInstancesOnMyPage
†† 3
,
††3 4
this
°° 
.
°° 
Icon
°° 
,
°° 
this
¢¢ 
.
¢¢ #
HideFromAuthenticated
¢¢ *
,
¢¢* +
this
££ 
.
££ %
HideFromUnauthenticated
££ ,
,
££, -
this
§§ 
.
§§ 
IncludeInSearch
§§ $
,
§§$ %
this
•• 
.
•• 
IsGlobal
•• 
,
•• 
this
¶¶ 
.
¶¶ 
HeadElement
¶¶  
,
¶¶  !
this
ßß 
.
ßß 
PublishMode
ßß  
)
ßß  !
;
ßß! "
}
©© 
public
≥≥ 
static
≥≥	 
IDataReader
≥≥ 
GetPageModules
≥≥ *
(
≥≥* +
int
≥≥+ .
pageId
≥≥/ 5
)
≥≥5 6
{
¥¥ 
return
µµ 	
DBModule
µµ
 
.
µµ 
GetPageModules
µµ !
(
µµ! "
pageId
µµ" (
)
µµ( )
;
µµ) *
}
∂∂ 
public
∏∏ 
static
∏∏ 
	DataTable
∏∏ !
GetPageModulesTable
∏∏  3
(
∏∏3 4
int
∏∏4 7
moduleId
∏∏8 @
)
∏∏@ A
{
ππ 	
return
∫∫ 
DBModule
∫∫ 
.
∫∫ #
PageModuleGetByModule
∫∫ 1
(
∫∫1 2
moduleId
∫∫2 :
)
∫∫: ;
;
∫∫; <
}
ªª 	
public
ΩΩ 
static
ΩΩ 
void
ΩΩ 
DeletePageModules
ΩΩ ,
(
ΩΩ, -
int
ΩΩ- 0
pageId
ΩΩ1 7
)
ΩΩ7 8
{
ææ 	
DBModule
øø 
.
øø $
PageModuleDeleteByPage
øø +
(
øø+ ,
pageId
øø, 2
)
øø2 3
;
øø3 4
}
¿¿ 	
public
¬¬ 
static
¬¬ 
bool
¬¬ 
UpdateModuleOrder
¬¬ ,
(
¬¬, -
int
¬¬- 0
pageId
¬¬1 7
,
¬¬7 8
int
¬¬9 <
moduleId
¬¬= E
,
¬¬E F
int
¬¬G J
moduleOrder
¬¬K V
,
¬¬V W
string
¬¬X ^
paneName
¬¬_ g
)
¬¬g h
{
√√ 	
return
ƒƒ 
DBModule
ƒƒ 
.
ƒƒ 
UpdateModuleOrder
ƒƒ -
(
ƒƒ- .
pageId
ƒƒ. 4
,
ƒƒ4 5
moduleId
ƒƒ6 >
,
ƒƒ> ?
moduleOrder
ƒƒ@ K
,
ƒƒK L
paneName
ƒƒM U
)
ƒƒU V
;
ƒƒV W
}
≈≈ 	
public
«« 
static
««	 
bool
«« 
DeleteModule
«« !
(
««! "
int
««" %
moduleId
««& .
)
««. /
{
»» 
ModuleSettings
…… 
.
…… "
DeleteModuleSettings
…… &
(
……& '
moduleId
……' /
)
……/ 0
;
……0 1
return
   	
DBModule
  
 
.
   
DeleteModule
   
(
    
moduleId
    (
)
  ( )
;
  ) *
}
ÀÀ 
public
ÕÕ 
static
ÕÕ 
bool
ÕÕ "
DeleteModuleInstance
ÕÕ /
(
ÕÕ/ 0
int
ÕÕ0 3
moduleId
ÕÕ4 <
,
ÕÕ< =
int
ÕÕ> A
pageId
ÕÕB H
)
ÕÕH I
{
ŒŒ 	
return
œœ 
DBModule
œœ 
.
œœ "
DeleteModuleInstance
œœ 0
(
œœ0 1
moduleId
œœ1 9
,
œœ9 :
pageId
œœ; A
)
œœA B
;
œœB C
}
–– 	
public
““ 
static
““ 
bool
““ 
Publish
““ "
(
““" #
Guid
”” 
pageGuid
”” 
,
”” 
Guid
‘‘ 

moduleGuid
‘‘ 
,
‘‘ 
int
’’ 
moduleId
’’ 
,
’’ 
int
÷÷ 
pageId
÷÷ 
,
÷÷ 
String
◊◊ 
paneName
◊◊ 
,
◊◊ 
int
ÿÿ 
moduleOrder
ÿÿ 
,
ÿÿ 
DateTime
ŸŸ 
publishBeginDate
ŸŸ %
,
ŸŸ% &
DateTime
⁄⁄ 
publishEndDate
⁄⁄ #
)
⁄⁄# $
{
€€ 	
return
‹‹ 
DBModule
‹‹ 
.
‹‹ 
Publish
‹‹ #
(
‹‹# $
pageGuid
›› 
,
›› 

moduleGuid
ﬁﬁ 
,
ﬁﬁ 
moduleId
ﬂﬂ 
,
ﬂﬂ 
pageId
‡‡ 
,
‡‡ 
paneName
·· 
,
·· 
moduleOrder
‚‚ 
,
‚‚ 
publishBeginDate
„„  
,
„„  !
publishEndDate
‰‰ 
)
‰‰ 
;
‰‰  
}
ÂÂ 	
public
ÁÁ 
static
ÁÁ 
bool
ÁÁ 

UpdatePage
ÁÁ %
(
ÁÁ% &
int
ÁÁ& )
	oldPageId
ÁÁ* 3
,
ÁÁ3 4
int
ÁÁ5 8
	newPageId
ÁÁ9 B
,
ÁÁB C
int
ÁÁD G
moduleId
ÁÁH P
)
ÁÁP Q
{
ËË 	
return
ÈÈ 
DBModule
ÈÈ 
.
ÈÈ 

UpdatePage
ÈÈ &
(
ÈÈ& '
	oldPageId
ÈÈ' 0
,
ÈÈ0 1
	newPageId
ÈÈ2 ;
,
ÈÈ; <
moduleId
ÈÈ= E
)
ÈÈE F
;
ÈÈF G
}
ÍÍ 	
public
ÏÏ 
static
ÏÏ 
	DataTable
ÏÏ 

SelectPage
ÏÏ  *
(
ÏÏ* +
int
ÌÌ 
siteId
ÌÌ 
,
ÌÌ 
int
ÓÓ 
moduleDefId
ÓÓ 
,
ÓÓ 
string
ÔÔ 
title
ÔÔ 
,
ÔÔ 
int
 

pageNumber
 
,
 
int
ÒÒ 
pageSize
ÒÒ 
,
ÒÒ 
bool
ÚÚ 
sortByModuleType
ÚÚ !
,
ÚÚ! "
bool
ÛÛ 
sortByAuthor
ÛÛ 
,
ÛÛ 
out
ÙÙ 
int
ÙÙ 

totalPages
ÙÙ 
)
ÙÙ 
{
ıı 	
return
ˆˆ 
DBModule
ˆˆ 
.
ˆˆ 

SelectPage
ˆˆ &
(
ˆˆ& '
siteId
˜˜ 
,
˜˜ 
moduleDefId
¯¯ 
,
¯¯ 
title
˘˘ 
,
˘˘ 

pageNumber
˙˙ 
,
˙˙ 
pageSize
˚˚ 
,
˚˚ 
sortByModuleType
¸¸  
,
¸¸  !
sortByAuthor
˝˝ 
,
˝˝ 
out
˛˛ 

totalPages
˛˛ 
)
˛˛ 
;
˛˛  
}
ˇˇ 	
public
ÅÅ 
static
ÅÅ 
int
ÅÅ 
GetGlobalCount
ÅÅ (
(
ÅÅ( )
int
ÅÅ) ,
siteId
ÅÅ- 3
,
ÅÅ3 4
int
ÅÅ5 8
moduleDefId
ÅÅ9 D
,
ÅÅD E
int
ÅÅF I
pageId
ÅÅJ P
)
ÅÅP Q
{
ÇÇ 	
return
ÉÉ 
DBModule
ÉÉ 
.
ÉÉ 
GetGlobalCount
ÉÉ *
(
ÉÉ* +
siteId
ÉÉ+ 1
,
ÉÉ1 2
moduleDefId
ÉÉ3 >
,
ÉÉ> ?
pageId
ÉÉ@ F
)
ÉÉF G
;
ÉÉG H
}
ÑÑ 	
public
àà 
static
àà 
	DataTable
àà 
SelectGlobalPage
àà  0
(
àà0 1
int
ââ 
siteId
ââ 
,
ââ 
int
ää 
moduleDefId
ää 
,
ää 
int
ãã 
pageId
ãã 
,
ãã 
int
åå 

pageNumber
åå 
,
åå 
int
çç 
pageSize
çç 
,
çç 
out
éé 
int
éé 

totalPages
éé 
)
éé 
{
èè 	
return
êê 
DBModule
êê 
.
êê 
SelectGlobalPage
êê ,
(
êê, -
siteId
ëë 
,
ëë 
moduleDefId
íí 
,
íí 
pageId
ìì 
,
ìì 

pageNumber
îî 
,
îî 
pageSize
ïï 
,
ïï 
out
ññ 

totalPages
ññ 
)
ññ 
;
ññ  
}
óó 	
public
ôô 
static
ôô	 
List
ôô 
<
ôô 
GlobalContent
ôô "
>
ôô" #
GetGlobalContent
ôô$ 4
(
ôô4 5
int
ôô5 8
siteId
ôô9 ?
)
ôô? @
{
öö 
List
õõ 
<
õõ 
GlobalContent
õõ 
>
õõ 
globalContents
õõ %
=
õõ& '
new
õõ( +
List
õõ, 0
<
õõ0 1
GlobalContent
õõ1 >
>
õõ> ?
(
õõ? @
)
õõ@ A
;
õõA B
using
úú 
(
úú	 

IDataReader
úú
 
reader
úú 
=
úú 
DBModule
úú '
.
úú' (
GetGlobalContent
úú( 8
(
úú8 9
siteId
úú9 ?
)
úú? @
)
úú@ A
{
ùù 
while
ûû 	
(
ûû
 
reader
ûû 
.
ûû 
Read
ûû 
(
ûû 
)
ûû 
)
ûû 
{
üü 
globalContents
†† 
.
†† 
Add
†† 
(
†† 
new
†† 
GlobalContent
†† )
{
††* +

ModuleGuid
°° 
=
°° 
Guid
°° 
.
°° 
Parse
°° 
(
°° 
reader
°° $
[
°°$ %
$str
°°% 1
]
°°1 2
.
°°2 3
ToString
°°3 ;
(
°°; <
)
°°< =
)
°°= >
,
°°> ?
ModuleID
¢¢ 
=
¢¢ 
Convert
¢¢ 
.
¢¢ 
ToInt32
¢¢  
(
¢¢  !
reader
¢¢! '
[
¢¢' (
$str
¢¢( 2
]
¢¢2 3
)
¢¢3 4
,
¢¢4 5
ModuleTitle
££ 
=
££ 
reader
££ 
[
££ 
$str
££ (
]
££( )
.
££) *
ToString
££* 2
(
££2 3
)
££3 4
,
££4 5
FeatureName
§§ 
=
§§ 
reader
§§ 
[
§§ 
$str
§§ (
]
§§( )
.
§§) *
ToString
§§* 2
(
§§2 3
)
§§3 4
,
§§4 5
ResourceFile
•• 
=
•• 
reader
•• 
[
•• 
$str
•• *
]
••* +
.
••+ ,
ToString
••, 4
(
••4 5
)
••5 6
,
••6 7
	CreatedBy
¶¶ 
=
¶¶ 
reader
¶¶ 
[
¶¶ 
$str
¶¶ $
]
¶¶$ %
.
¶¶% &
ToString
¶¶& .
(
¶¶. /
)
¶¶/ 0
,
¶¶0 1
CreatedById
ßß 
=
ßß 
Convert
ßß 
.
ßß 
ToInt32
ßß #
(
ßß# $
reader
ßß$ *
[
ßß* +
$str
ßß+ 8
]
ßß8 9
)
ßß9 :
,
ßß: ;

ControlSrc
®® 
=
®® 
reader
®® 
[
®® 
$str
®® %
]
®®% &
.
®®& '
ToString
®®' /
(
®®/ 0
)
®®0 1
,
®®1 2
UseCount
©© 
=
©© 
Convert
©© 
.
©© 
ToInt32
©©  
(
©©  !
reader
©©! '
[
©©' (
$str
©©( 2
]
©©2 3
)
©©3 4
}
™™ 
)
™™ 
;
™™ 
}
´´ 
}
¨¨ 
return
≠≠ 	
globalContents
≠≠
 
;
≠≠ 
}
ÆÆ 
public
∞∞ 
static
∞∞ 
IDataReader
∞∞ !
GetMyPageModules
∞∞" 2
(
∞∞2 3
int
∞∞3 6
siteId
∞∞7 =
)
∞∞= >
{
±± 	
return
≤≤ 
DBModule
≤≤ 
.
≤≤ 
GetMyPageModules
≤≤ ,
(
≤≤, -
siteId
≤≤- 3
)
≤≤3 4
;
≤≤4 5
}
≥≥ 	
public
µµ 
static
µµ 
bool
µµ &
UpdateCountOfUseOnMyPage
µµ 3
(
µµ3 4
int
µµ4 7
moduleId
µµ8 @
,
µµ@ A
int
µµB E
	increment
µµF O
)
µµO P
{
∂∂ 	
return
∑∑ 
DBModule
∑∑ 
.
∑∑ &
UpdateCountOfUseOnMyPage
∑∑ 4
(
∑∑4 5
moduleId
∑∑5 =
,
∑∑= >
	increment
∑∑? H
)
∑∑H I
;
∑∑I J
}
∏∏ 	
public
∫∫ 
static
∫∫ 
IDataReader
∫∫ !
GetModulesForSite
∫∫" 3
(
∫∫3 4
int
∫∫4 7
siteId
∫∫8 >
,
∫∫> ?
Guid
∫∫@ D
featureGuid
∫∫E P
)
∫∫P Q
{
ªª 	
return
ºº 
DBModule
ºº 
.
ºº 
GetModulesForSite
ºº -
(
ºº- .
siteId
ºº. 4
,
ºº4 5
featureGuid
ºº6 A
)
ººA B
;
ººB C
}
ΩΩ 	
public
øø 
static
øø 
int
øø 
GetCountByFeature
øø +
(
øø+ ,
int
øø, /
moduleDefId
øø0 ;
)
øø; <
{
¿¿ 	
return
¡¡ 
DBModule
¡¡ 
.
¡¡ 
GetCountByFeature
¡¡ -
(
¡¡- .
moduleDefId
¡¡. 9
)
¡¡9 :
;
¡¡: ;
}
¬¬ 	
public
ƒƒ 
static
ƒƒ 
List
ƒƒ 
<
ƒƒ 
Module
ƒƒ !
>
ƒƒ! ""
GetModuleListForSite
ƒƒ# 7
(
ƒƒ7 8
int
ƒƒ8 ;
siteId
ƒƒ< B
,
ƒƒB C
Guid
ƒƒD H
featureGuid
ƒƒI T
)
ƒƒT U
{
≈≈ 	
List
∆∆ 
<
∆∆ 
Module
∆∆ 
>
∆∆ 
modules
∆∆  
=
∆∆! "
new
∆∆# &
List
∆∆' +
<
∆∆+ ,
Module
∆∆, 2
>
∆∆2 3
(
∆∆3 4
)
∆∆4 5
;
∆∆5 6
using
«« 
(
«« 
IDataReader
«« 
reader
«« %
=
««& '
Module
««( .
.
««. /
GetModulesForSite
««/ @
(
««@ A
siteId
««A G
,
««G H
featureGuid
««I T
)
««T U
)
««U V
{
»» 
while
…… 
(
…… 
reader
…… 
.
…… 
Read
…… "
(
……" #
)
……# $
)
……$ %
{
   
Module
ÀÀ 
module
ÀÀ !
=
ÀÀ" #
new
ÀÀ$ '
Module
ÀÀ( .
(
ÀÀ. /
Convert
ÀÀ/ 6
.
ÀÀ6 7
ToInt32
ÀÀ7 >
(
ÀÀ> ?
reader
ÀÀ? E
[
ÀÀE F
$str
ÀÀF P
]
ÀÀP Q
)
ÀÀQ R
)
ÀÀR S
;
ÀÀS T
if
ÃÃ 
(
ÃÃ 
module
ÃÃ 
!=
ÃÃ !
null
ÃÃ" &
)
ÃÃ& '
{
ÕÕ 
modules
ŒŒ 
.
ŒŒ  
Add
ŒŒ  #
(
ŒŒ# $
module
ŒŒ$ *
)
ŒŒ* +
;
ŒŒ+ ,
}
œœ 
}
–– 
}
—— 
return
““ 
modules
““ 
;
““ 
}
”” 	
public
÷÷ 
class
÷÷	 
GlobalContent
÷÷ 
{
◊◊ 
public
ÿÿ 	
int
ÿÿ
 
ModuleID
ÿÿ 
{
ÿÿ 
get
ÿÿ 
;
ÿÿ 
set
ÿÿ !
;
ÿÿ! "
}
ÿÿ# $
public
ŸŸ 	
Guid
ŸŸ
 

ModuleGuid
ŸŸ 
{
ŸŸ 
get
ŸŸ 
;
ŸŸ  
set
ŸŸ! $
;
ŸŸ$ %
}
ŸŸ& '
public
⁄⁄ 	
string
⁄⁄
 
ModuleTitle
⁄⁄ 
{
⁄⁄ 
get
⁄⁄ "
;
⁄⁄" #
set
⁄⁄$ '
;
⁄⁄' (
}
⁄⁄) *
public
€€ 	
string
€€
 
FeatureName
€€ 
{
€€ 
get
€€ "
;
€€" #
set
€€$ '
;
€€' (
}
€€) *
public
‹‹ 	
string
‹‹
 
ResourceFile
‹‹ 
{
‹‹ 
get
‹‹  #
;
‹‹# $
set
‹‹% (
;
‹‹( )
}
‹‹* +
public
›› 	
string
››
 
	CreatedBy
›› 
{
›› 
get
››  
;
››  !
set
››" %
;
››% &
}
››' (
public
ﬁﬁ 	
int
ﬁﬁ
 
CreatedById
ﬁﬁ 
{
ﬁﬁ 
get
ﬁﬁ 
;
ﬁﬁ  
set
ﬁﬁ! $
;
ﬁﬁ$ %
}
ﬁﬁ& '
public
ﬂﬂ 	
string
ﬂﬂ
 

ControlSrc
ﬂﬂ 
{
ﬂﬂ 
get
ﬂﬂ !
;
ﬂﬂ! "
set
ﬂﬂ# &
;
ﬂﬂ& '
}
ﬂﬂ( )
public
‡‡ 	
int
‡‡
 
UseCount
‡‡ 
{
‡‡ 
get
‡‡ 
;
‡‡ 
set
‡‡ !
;
‡‡! "
}
‡‡# $
}
·· 
}
‚‚ 
}„„ ¥Ñ
nD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ModuleDefinition.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 
class 
ModuleDefinition 
{ 
public 
ModuleDefinition	 
( 
) 
{ 
} 
public   
ModuleDefinition  	 
(   
int   
moduleDefId   )
)  ) *
{!! 
GetModuleDefinition"" 
("" 
moduleDefId"" "
)""" #
;""# $
}## 
public%% 
ModuleDefinition%% 
(%%  
Guid%%  $
featureGuid%%% 0
)%%0 1
{&& 	
providedFeatureGuid'' 
=''  !
featureGuid''" -
;''- .
GetModuleDefinition(( 
(((  
featureGuid((  +
)((+ ,
;((, -
})) 	
private// 	
int//
 
moduleDefID// 
=// 
-// 
$num// 
;// 
private00 
Guid00 
featureGuid00  
=00! "
Guid00# '
.00' (
Empty00( -
;00- .
private11 
Guid11 
providedFeatureGuid11 (
=11) *
Guid11+ /
.11/ 0
Empty110 5
;115 6
private22 	
int22
 
siteID22 
=22 
-22 
$num22 
;22 
private33 
string33 
resourceFile33 #
=33$ %
$str33& 0
;330 1
private44 	
string44
 
featureName44 
=44 
string44 %
.44% &
Empty44& +
;44+ ,
private55 	
string55
 

controlSrc55 
=55 
string55 $
.55$ %
Empty55% *
;55* +
private66 	
int66
 
	sortOrder66 
=66 
$num66 
;66 
private77 
bool77 
isCacheable77  
=77! "
false77# (
;77( )
private88 
int88 
defaultCacheTime88 $
=88% &
$num88' (
;88( )
private99 	
bool99
 
isAdmin99 
=99 
false99 
;99 
private:: 
String:: 
icon:: 
=:: 
String:: $
.::$ %
Empty::% *
;::* +
private;; 
bool;; 
isSearchable;; !
=;;" #
false;;$ )
;;;) *
private<< 
string<< 
searchListName<< %
=<<& '
string<<( .
.<<. /
Empty<</ 4
;<<4 5
private== 
bool== 
supportsPageReuse== &
===' (
true==) -
;==- .
private>> 
string>> 
deleteProvider>> %
=>>& '
string>>( .
.>>. /
Empty>>/ 4
;>>4 5
private?? 
string?? 
partialView?? "
=??# $
string??% +
.??+ ,
Empty??, 1
;??1 2
private@@ 
string@@ 
skinFileName@@ #
=@@$ %
string@@& ,
.@@, -
Empty@@- 2
;@@2 3
publicHH 
intHH	 
ModuleDefIdHH 
{II 
getJJ 
{JJ 
returnJJ	 
moduleDefIDJJ 
;JJ 
}JJ 
setKK 
{KK 
moduleDefIDKK	 
=KK 
valueKK 
;KK 
}KK 
}LL 
publicNN 
GuidNN 
FeatureGuidNN 
{OO 	
getPP 
{PP 
returnPP 
featureGuidPP $
;PP$ %
}PP& '
setQQ 
{QQ 
featureGuidQQ 
=QQ 
valueQQ  %
;QQ% &
}QQ' (
}RR 	
publicTT 
intTT 
SiteIdTT 
{UU 	
getVV 
{VV 
returnVV 
siteIDVV 
;VV  
}VV! "
setWW 
{WW 
siteIDWW 
=WW 
valueWW  
;WW  !
}WW" #
}XX 	
publicZZ 
stringZZ 
ResourceFileZZ "
{[[ 	
get\\ 
{\\ 
return\\ 
resourceFile\\ %
;\\% &
}\\' (
set]] 
{]] 
resourceFile]] 
=]]  
value]]! &
;]]& '
}]]( )
}^^ 	
public`` 
string``	 
FeatureName`` 
{aa 
getbb 
{bb 
returnbb	 
featureNamebb 
;bb 
}bb 
setcc 
{cc 
featureNamecc	 
=cc 
valuecc 
;cc 
}cc 
}dd 
publicff 
boolff 
IsCacheableff 
{gg 	
gethh 
{hh 
returnhh 
isCacheablehh $
;hh$ %
}hh& '
setii 
{ii 
isCacheableii 
=ii 
valueii  %
;ii% &
}ii' (
}jj 	
publicll 
boolll 
IsSearchablell  
{mm 	
getnn 
{nn 
returnnn 
isSearchablenn %
;nn% &
}nn' (
setoo 
{oo 
isSearchableoo 
=oo  
valueoo! &
;oo& '
}oo( )
}pp 	
publicrr 
stringrr 
SearchListNamerr $
{ss 	
gettt 
{tt 
returntt 
searchListNamett '
;tt' (
}tt) *
setuu 
{uu 
searchListNameuu  
=uu! "
valueuu# (
;uu( )
}uu* +
}vv 	
publicxx 
boolxx 
SupportsPageReusexx %
{yy 	
getzz 
{zz 
returnzz 
supportsPageReusezz *
;zz* +
}zz, -
set{{ 
{{{ 
supportsPageReuse{{ #
={{$ %
value{{& +
;{{+ ,
}{{- .
}|| 	
public~~ 
string~~ 
DeleteProvider~~ $
{ 	
get
ÄÄ 
{
ÄÄ 
return
ÄÄ 
deleteProvider
ÄÄ '
;
ÄÄ' (
}
ÄÄ) *
set
ÅÅ 
{
ÅÅ 
deleteProvider
ÅÅ  
=
ÅÅ! "
value
ÅÅ# (
;
ÅÅ( )
}
ÅÅ* +
}
ÇÇ 	
public
ÑÑ 
string
ÑÑ	 

ControlSrc
ÑÑ 
{
ÖÖ 
get
ÜÜ 
{
ÜÜ 
return
ÜÜ	 

controlSrc
ÜÜ 
;
ÜÜ 
}
ÜÜ 
set
áá 
{
áá 

controlSrc
áá	 
=
áá 
value
áá 
;
áá 
}
áá 
}
àà 
public
ââ 
int
ââ	 
	SortOrder
ââ 
{
ää 
get
ãã 
{
ãã 
return
ãã	 
	sortOrder
ãã 
;
ãã 
}
ãã 
set
åå 
{
åå 
	sortOrder
åå	 
=
åå 
value
åå 
;
åå 
}
åå 
}
çç 
public
éé 
int
éé 
DefaultCacheTime
éé #
{
èè 	
get
êê 
{
êê 
return
êê 
defaultCacheTime
êê )
;
êê) *
}
êê+ ,
set
ëë 
{
ëë 
defaultCacheTime
ëë "
=
ëë# $
value
ëë% *
;
ëë* +
}
ëë, -
}
íí 	
public
ìì 
bool
ìì	 
IsAdmin
ìì 
{
îî 
get
ïï 
{
ïï 
return
ïï	 
isAdmin
ïï 
;
ïï 
}
ïï 
set
ññ 
{
ññ 
isAdmin
ññ	 
=
ññ 
value
ññ 
;
ññ 
}
ññ 
}
óó 
public
ôô 
string
ôô 
Icon
ôô 
{
öö 	
get
õõ 
{
õõ 
return
õõ 
icon
õõ 
;
õõ 
}
õõ  
set
úú 
{
úú 
icon
úú 
=
úú 
value
úú 
;
úú 
}
úú  !
}
ùù 	
public
üü 
string
üü 
PartialView
üü !
{
†† 	
get
°° 
{
°° 
return
°° 
partialView
°° $
;
°°$ %
}
°°& '
set
¢¢ 
{
¢¢ 
partialView
¢¢ 
=
¢¢ 
value
¢¢  %
;
¢¢% &
}
¢¢' (
}
££ 	
public
•• 
string
••	 
SkinFileName
•• 
{
¶¶ 
get
ßß 
=>
ßß 	
skinFileName
ßß
 
;
ßß 
set
®® 
=>
®® 	
skinFileName
®®
 
=
®® 
value
®® 
;
®® 
}
©© 
private
ØØ 
void
ØØ !
GetModuleDefinition
ØØ (
(
ØØ( )
Guid
ØØ) -
featureGuid
ØØ. 9
)
ØØ9 :
{
∞∞ 	
using
±± 
(
±± 
IDataReader
±± 
reader
±± %
=
±±& ' 
DBModuleDefinition
±±( :
.
±±: ;!
GetModuleDefinition
±±; N
(
±±N O
featureGuid
±±O Z
)
±±Z [
)
±±[ \
{
≤≤ !
GetModuleDefinition
≥≥ #
(
≥≥# $
reader
≥≥$ *
)
≥≥* +
;
≥≥+ ,
}
¥¥ 
}
µµ 	
private
∑∑ 	
void
∑∑
 !
GetModuleDefinition
∑∑ "
(
∑∑" #
int
∑∑# &
moduleDefId
∑∑' 2
)
∑∑2 3
{
∏∏ 
using
ππ 
(
ππ 
IDataReader
ππ 
reader
ππ %
=
ππ& ' 
DBModuleDefinition
ππ( :
.
ππ: ;!
GetModuleDefinition
ππ; N
(
ππN O
moduleDefId
ππO Z
)
ππZ [
)
ππ[ \
{
∫∫ !
GetModuleDefinition
ªª #
(
ªª# $
reader
ªª$ *
)
ªª* +
;
ªª+ ,
}
ºº 
}
ææ 
private
¿¿ 
void
¿¿ !
GetModuleDefinition
¿¿ (
(
¿¿( )
IDataReader
¿¿) 4
reader
¿¿5 ;
)
¿¿; <
{
¡¡ 	
if
¬¬ 
(
¬¬ 
reader
¬¬ 
.
¬¬ 
Read
¬¬ 
(
¬¬ 
)
¬¬ 
)
¬¬ 
{
√√ 
this
ƒƒ 
.
ƒƒ 
moduleDefID
ƒƒ  
=
ƒƒ! "
Convert
ƒƒ# *
.
ƒƒ* +
ToInt32
ƒƒ+ 2
(
ƒƒ2 3
reader
ƒƒ3 9
[
ƒƒ9 :
$str
ƒƒ: G
]
ƒƒG H
)
ƒƒH I
;
ƒƒI J
this
«« 
.
«« 
featureName
««  
=
««! "
reader
««# )
[
««) *
$str
««* 7
]
««7 8
.
««8 9
ToString
««9 A
(
««A B
)
««B C
;
««C D
this
»» 
.
»» 

controlSrc
»» 
=
»»  !
reader
»»" (
[
»»( )
$str
»») 5
]
»»5 6
.
»»6 7
ToString
»»7 ?
(
»»? @
)
»»@ A
;
»»A B
this
…… 
.
…… 
	sortOrder
…… 
=
……  
Convert
……! (
.
……( )
ToInt32
……) 0
(
……0 1
reader
……1 7
[
……7 8
$str
……8 C
]
……C D
)
……D E
;
……E F
this
   
.
   
defaultCacheTime
   %
=
  & '
Convert
  ( /
.
  / 0
ToInt32
  0 7
(
  7 8
reader
  8 >
[
  > ?
$str
  ? Q
]
  Q R
)
  R S
;
  S T
this
ÀÀ 
.
ÀÀ 
isAdmin
ÀÀ 
=
ÀÀ 
Convert
ÀÀ &
.
ÀÀ& '
	ToBoolean
ÀÀ' 0
(
ÀÀ0 1
reader
ÀÀ1 7
[
ÀÀ7 8
$str
ÀÀ8 A
]
ÀÀA B
)
ÀÀB C
;
ÀÀC D
this
ÃÃ 
.
ÃÃ 
icon
ÃÃ 
=
ÃÃ 
reader
ÃÃ "
[
ÃÃ" #
$str
ÃÃ# )
]
ÃÃ) *
.
ÃÃ* +
ToString
ÃÃ+ 3
(
ÃÃ3 4
)
ÃÃ4 5
;
ÃÃ5 6
this
ÕÕ 
.
ÕÕ 
featureGuid
ÕÕ  
=
ÕÕ! "
new
ÕÕ# &
Guid
ÕÕ' +
(
ÕÕ+ ,
reader
ÕÕ, 2
[
ÕÕ2 3
$str
ÕÕ3 9
]
ÕÕ9 :
.
ÕÕ: ;
ToString
ÕÕ; C
(
ÕÕC D
)
ÕÕD E
)
ÕÕE F
;
ÕÕF G
this
ŒŒ 
.
ŒŒ 
resourceFile
ŒŒ !
=
ŒŒ" #
reader
ŒŒ$ *
[
ŒŒ* +
$str
ŒŒ+ 9
]
ŒŒ9 :
.
ŒŒ: ;
ToString
ŒŒ; C
(
ŒŒC D
)
ŒŒD E
;
ŒŒE F
this
–– 
.
–– 
searchListName
–– #
=
––$ %
reader
––& ,
[
––, -
$str
––- =
]
––= >
.
––> ?
ToString
––? G
(
––G H
)
––H I
;
––I J
if
—— 
(
—— 
reader
—— 
[
—— 
$str
—— '
]
——' (
!=
——) +
DBNull
——, 2
.
——2 3
Value
——3 8
)
——8 9
{
““ 
this
”” 
.
”” 
isCacheable
”” $
=
””% &
Convert
””' .
.
””. /
	ToBoolean
””/ 8
(
””8 9
reader
””9 ?
[
””? @
$str
””@ M
]
””M N
)
””N O
;
””O P
}
‘‘ 
if
÷÷ 
(
÷÷ 
reader
÷÷ 
[
÷÷ 
$str
÷÷ )
]
÷÷) *
!=
÷÷+ -
DBNull
÷÷. 4
.
÷÷4 5
Value
÷÷5 :
)
÷÷: ;
{
◊◊ 
this
ÿÿ 
.
ÿÿ 
isSearchable
ÿÿ %
=
ÿÿ& '
Convert
ÿÿ( /
.
ÿÿ/ 0
	ToBoolean
ÿÿ0 9
(
ÿÿ9 :
reader
ÿÿ: @
[
ÿÿ@ A
$str
ÿÿA O
]
ÿÿO P
)
ÿÿP Q
;
ÿÿQ R
}
ŸŸ 
if
€€ 
(
€€ 
reader
€€ 
[
€€ 
$str
€€ .
]
€€. /
!=
€€0 2
DBNull
€€3 9
.
€€9 :
Value
€€: ?
)
€€? @
{
‹‹ 
this
›› 
.
›› 
supportsPageReuse
›› *
=
››+ ,
Convert
››- 4
.
››4 5
	ToBoolean
››5 >
(
››> ?
reader
››? E
[
››E F
$str
››F Y
]
››Y Z
)
››Z [
;
››[ \
}
ﬁﬁ 
this
‡‡ 
.
‡‡ 
deleteProvider
‡‡ #
=
‡‡$ %
reader
‡‡& ,
[
‡‡, -
$str
‡‡- =
]
‡‡= >
.
‡‡> ?
ToString
‡‡? G
(
‡‡G H
)
‡‡H I
;
‡‡I J
this
‚‚ 
.
‚‚ 
partialView
‚‚  
=
‚‚! "
reader
‚‚# )
[
‚‚) *
$str
‚‚* 7
]
‚‚7 8
.
‚‚8 9
ToString
‚‚9 A
(
‚‚A B
)
‚‚B C
;
‚‚C D
this
‰‰ 
.
‰‰ 	
skinFileName
‰‰	 
=
‰‰ 
reader
‰‰ 
[
‰‰ 
$str
‰‰ -
]
‰‰- .
.
‰‰. /
ToString
‰‰/ 7
(
‰‰7 8
)
‰‰8 9
;
‰‰9 :
}
ÂÂ 
}
ÈÈ 	
private
ÎÎ 	
bool
ÎÎ
 
Create
ÎÎ 
(
ÎÎ 
)
ÎÎ 
{
ÏÏ 
int
ÌÌ 
newID
ÌÌ 
=
ÌÌ 
-
ÌÌ 
$num
ÌÌ 
;
ÌÌ 
if
ÔÔ 
(
ÔÔ 
this
ÔÔ 
.
ÔÔ 
featureGuid
ÔÔ  
==
ÔÔ! #
Guid
ÔÔ$ (
.
ÔÔ( )
Empty
ÔÔ) .
)
ÔÔ. /
{
 
if
ÒÒ 
(
ÒÒ 
this
ÒÒ 
.
ÒÒ !
providedFeatureGuid
ÒÒ ,
!=
ÒÒ- /
Guid
ÒÒ0 4
.
ÒÒ4 5
Empty
ÒÒ5 :
)
ÒÒ: ;
{
ÚÚ 
this
ÛÛ 
.
ÛÛ 
featureGuid
ÛÛ $
=
ÛÛ% &
this
ÛÛ' +
.
ÛÛ+ ,!
providedFeatureGuid
ÛÛ, ?
;
ÛÛ? @
}
ÙÙ 
else
ıı 
{
ˆˆ 
this
˜˜ 
.
˜˜ 
featureGuid
˜˜ $
=
˜˜% &
Guid
˜˜' +
.
˜˜+ ,
NewGuid
˜˜, 3
(
˜˜3 4
)
˜˜4 5
;
˜˜5 6
}
¯¯ 
}
˘˘ 
newID
˚˚ 
=
˚˚	 
 
DBModuleDefinition
˚˚ 
.
˚˚ !
AddModuleDefinition
˚˚ 1
(
˚˚1 2
this
¸¸ 
.
¸¸ 
featureGuid
¸¸  
,
¸¸  !
this
˝˝ 
.
˝˝ 	
siteID
˝˝	 
,
˝˝ 
this
˛˛ 
.
˛˛ 	
featureName
˛˛	 
,
˛˛ 
this
ˇˇ 
.
ˇˇ 	

controlSrc
ˇˇ	 
,
ˇˇ 
this
ÄÄ 
.
ÄÄ 	
	sortOrder
ÄÄ	 
,
ÄÄ 
this
ÅÅ 
.
ÅÅ 
defaultCacheTime
ÅÅ %
,
ÅÅ% &
this
ÇÇ 
.
ÇÇ 
icon
ÇÇ 
,
ÇÇ 
this
ÉÉ 
.
ÉÉ 	
isAdmin
ÉÉ	 
,
ÉÉ 
this
ÑÑ 
.
ÑÑ 
resourceFile
ÑÑ !
,
ÑÑ! "
this
ÖÖ 
.
ÖÖ 
isCacheable
ÖÖ  
,
ÖÖ  !
this
ÜÜ 
.
ÜÜ 
isSearchable
ÜÜ !
,
ÜÜ! "
this
áá 
.
áá 
searchListName
áá #
,
áá# $
this
àà 
.
àà 
supportsPageReuse
àà &
,
àà& '
this
ââ 
.
ââ 
deleteProvider
ââ #
,
ââ# $
this
ää 
.
ää 
partialView
ää  
,
ää  !
this
ãã 
.
ãã 	
skinFileName
ãã	 
)
ãã 
;
ãã 
this
çç 
.
çç 
moduleDefID
çç 
=
çç 
newID
çç 
;
çç 
return
èè 	
(
èè
 
newID
èè 
>
èè 
-
èè 
$num
èè 
)
èè 
;
èè 
}
ëë 
private
ìì 	
bool
ìì
 
Update
ìì 
(
ìì 
)
ìì 
{
îî 
return
ññ 	 
DBModuleDefinition
ññ
 
.
ññ $
UpdateModuleDefinition
ññ 3
(
ññ3 4
this
óó 
.
óó 	
moduleDefID
óó	 
,
óó 
this
òò 
.
òò 	
featureName
òò	 
,
òò 
this
ôô 
.
ôô 	

controlSrc
ôô	 
,
ôô 
this
öö 
.
öö 	
	sortOrder
öö	 
,
öö 
this
õõ 
.
õõ 
defaultCacheTime
õõ %
,
õõ% &
this
úú 
.
úú 
icon
úú 
,
úú 
this
ùù 
.
ùù 	
isAdmin
ùù	 
,
ùù 
this
ûû 
.
ûû 
resourceFile
ûû !
,
ûû! "
this
üü 
.
üü 
isCacheable
üü  
,
üü  !
this
†† 
.
†† 
isSearchable
†† !
,
††! "
this
°° 
.
°° 
searchListName
°° #
,
°°# $
this
¢¢ 
.
¢¢ 
supportsPageReuse
¢¢ &
,
¢¢& '
this
££ 
.
££ 
deleteProvider
££ #
,
££# $
this
§§ 
.
§§ 
partialView
§§  
,
§§  !
this
•• 
.
•• 	
skinFileName
••	 
)
•• 
;
•• 
}
ßß 
public
ØØ 
bool
ØØ	 
Save
ØØ 
(
ØØ 
)
ØØ 
{
∞∞ 
if
±± 
(
±± 
this
±± 

.
±±
 
moduleDefID
±± 
>
±± 
-
±± 
$num
±± 
)
±± 
{
≤≤ 
return
≥≥ 

Update
≥≥ 
(
≥≥ 
)
≥≥ 
;
≥≥ 
}
¥¥ 
else
µµ 
{
∂∂ 
return
∑∑ 

Create
∑∑ 
(
∑∑ 
)
∑∑ 
;
∑∑ 
}
∏∏ 
}
ππ 
public
øø 
static
øø	 
bool
øø $
DeleteModuleDefinition
øø +
(
øø+ ,
int
øø, /
moduleDefId
øø0 ;
)
øø; <
{
¿¿  
DBModuleDefinition
¡¡ 
.
¡¡ -
DeleteModuleDefinitionFromSites
¡¡ >
(
¡¡> ?
moduleDefId
¡¡? J
)
¡¡J K
;
¡¡K L
return
¬¬ 	 
DBModuleDefinition
¬¬
 
.
¬¬ $
DeleteModuleDefinition
¬¬ 3
(
¬¬3 4
moduleDefId
¬¬4 ?
)
¬¬? @
;
¬¬@ A
}
√√ 
public
≈≈ 
static
≈≈ 
bool
≈≈ %
DeleteSettingsByFeature
≈≈ 2
(
≈≈2 3
int
≈≈3 6
moduleDefId
≈≈7 B
)
≈≈B C
{
∆∆ 	
return
««  
DBModuleDefinition
«« %
.
««% &%
DeleteSettingsByFeature
««& =
(
««= >
moduleDefId
««> I
)
««I J
;
««J K
}
»» 	
public
   
static
   
IDataReader
   !"
GetModuleDefinitions
  " 6
(
  6 7
Guid
  7 ;
siteGuid
  < D
)
  D E
{
ÀÀ 
return
ÃÃ  
DBModuleDefinition
ÃÃ %
.
ÃÃ% &"
GetModuleDefinitions
ÃÃ& :
(
ÃÃ: ;
siteGuid
ÃÃ; C
)
ÃÃC D
;
ÃÃD E
}
ÕÕ 
public
œœ 
static
œœ 
	DataTable
œœ (
GetModuleDefinitionsBySite
œœ  :
(
œœ: ;
Guid
œœ; ?
siteGuid
œœ@ H
)
œœH I
{
–– 	
return
——  
DBModuleDefinition
—— %
.
——% &(
GetModuleDefinitionsBySite
——& @
(
——@ A
siteGuid
——A I
)
——I J
;
——J K
}
““ 	
public
‘‘ 
static
‘‘ "
SiteModuleDefinition
‘‘ *
GetSiteFeature
‘‘+ 9
(
‘‘9 :
Guid
‘‘: >
siteGuid
‘‘? G
,
‘‘G H
int
‘‘I L
moduleDefId
‘‘M X
)
‘‘X Y
{
’’ 	
	DataTable
÷÷ 
features
÷÷ 
=
÷÷  (
GetModuleDefinitionsBySite
÷÷! ;
(
÷÷; <
siteGuid
÷÷< D
)
÷÷D E
;
÷÷E F
foreach
ÿÿ 
(
ÿÿ 
DataRow
ÿÿ 
row
ÿÿ  
in
ÿÿ! #
features
ÿÿ$ ,
.
ÿÿ, -
Rows
ÿÿ- 1
)
ÿÿ1 2
{
ŸŸ 
int
⁄⁄ 
id
⁄⁄ 
=
⁄⁄ 
Convert
⁄⁄  
.
⁄⁄  !
ToInt32
⁄⁄! (
(
⁄⁄( )
row
⁄⁄) ,
[
⁄⁄, -
$str
⁄⁄- :
]
⁄⁄: ;
)
⁄⁄; <
;
⁄⁄< =
if
€€ 
(
€€ 
id
€€ 
==
€€ 
moduleDefId
€€ %
)
€€% &
{
‹‹ "
SiteModuleDefinition
›› (
feature
››) 0
=
››1 2
new
››3 6"
SiteModuleDefinition
››7 K
(
››K L
)
››L M
;
››M N
feature
ﬁﬁ 
.
ﬁﬁ 

ModueDefId
ﬁﬁ &
=
ﬁﬁ' (
id
ﬁﬁ) +
;
ﬁﬁ+ ,
feature
ﬂﬂ 
.
ﬂﬂ 
FeatureGuid
ﬂﬂ '
=
ﬂﬂ( )
new
ﬂﬂ* -
Guid
ﬂﬂ. 2
(
ﬂﬂ2 3
row
ﬂﬂ3 6
[
ﬂﬂ6 7
$str
ﬂﬂ7 D
]
ﬂﬂD E
.
ﬂﬂE F
ToString
ﬂﬂF N
(
ﬂﬂN O
)
ﬂﬂO P
)
ﬂﬂP Q
;
ﬂﬂQ R
feature
‡‡ 
.
‡‡ 
FeatureName
‡‡ '
=
‡‡( )
row
‡‡* -
[
‡‡- .
$str
‡‡. ;
]
‡‡; <
.
‡‡< =
ToString
‡‡= E
(
‡‡E F
)
‡‡F G
;
‡‡G H
feature
·· 
.
·· 
AuthorizedRoles
·· +
=
··, -
row
··. 1
[
··1 2
$str
··2 C
]
··C D
.
··D E
ToString
··E M
(
··M N
)
··N O
;
··O P
return
‚‚ 
feature
‚‚ "
;
‚‚" #
}
„„ 
}
‰‰ 
return
ÊÊ 
null
ÊÊ 
;
ÊÊ 
}
ËË 	
public
ÍÍ 
static
ÍÍ	 
ModuleDefinition
ÍÍ  /
!GetModuleDefinitionBySkinFileName
ÍÍ! B
(
ÍÍC D
string
ÍÍD J
skinFileName
ÍÍK W
)
ÍÍW X
{
ÎÎ 
ModuleDefinition
ÏÏ 
md
ÏÏ 
=
ÏÏ 
new
ÏÏ 
ModuleDefinition
ÏÏ -
(
ÏÏ- .
)
ÏÏ. /
;
ÏÏ/ 0
md
ÌÌ 
.
ÌÌ !
GetModuleDefinition
ÌÌ 
(
ÌÌ  
DBModuleDefinition
ÌÌ ,
.
ÌÌ, -/
!GetModuleDefinitionBySkinFileName
ÌÌ- N
(
ÌÌN O
skinFileName
ÌÌO [
)
ÌÌ[ \
)
ÌÌ\ ]
;
ÌÌ] ^
return
ÓÓ 	
md
ÓÓ
 
;
ÓÓ 
}
ÔÔ 
public
ÒÒ 
static
ÒÒ	 
List
ÒÒ 
<
ÒÒ 
String
ÒÒ 
>
ÒÒ '
GetAllModuleSkinFileNames
ÒÒ 6
(
ÒÒ6 7
)
ÒÒ7 8
{
ÚÚ 
List
ÛÛ 
<
ÛÛ 
string
ÛÛ 
>
ÛÛ 
list
ÛÛ 
=
ÛÛ 
new
ÛÛ 
List
ÛÛ 
<
ÛÛ  
string
ÛÛ  &
>
ÛÛ& '
(
ÛÛ' (
)
ÛÛ( )
;
ÛÛ) *
using
ÙÙ 
(
ÙÙ	 

IDataReader
ÙÙ
 
reader
ÙÙ 
=
ÙÙ  
DBModuleDefinition
ÙÙ 1
.
ÙÙ1 2'
GetAllModuleSkinFileNames
ÙÙ2 K
(
ÙÙK L
)
ÙÙL M
)
ÙÙM N
{
ıı 
while
ˆˆ 	
(
ˆˆ
 
reader
ˆˆ 
.
ˆˆ 
Read
ˆˆ 
(
ˆˆ 
)
ˆˆ 
)
ˆˆ 
{
˜˜ 
list
¯¯ 	
.
¯¯	 

Add
¯¯
 
(
¯¯ 
reader
¯¯ 
[
¯¯ 
$str
¯¯ #
]
¯¯# $
.
¯¯$ %
ToString
¯¯% -
(
¯¯- .
)
¯¯. /
)
¯¯/ 0
;
¯¯0 1
}
˘˘ 
}
˙˙ 
return
¸¸ 	
list
¸¸
 
;
¸¸ 
}
˝˝ 
public
ˇˇ 
static
ˇˇ	 
IDataReader
ˇˇ 
GetUserModules
ˇˇ *
(
ˇˇ* +
int
ˇˇ+ .
siteId
ˇˇ/ 5
)
ˇˇ5 6
{
ÄÄ 
return
ÅÅ 	 
DBModuleDefinition
ÅÅ
 
.
ÅÅ 
GetUserModules
ÅÅ +
(
ÅÅ+ ,
siteId
ÅÅ, 2
)
ÅÅ2 3
;
ÅÅ3 4
}
ÇÇ 
public
ÑÑ 
static
ÑÑ 
IDataReader
ÑÑ !"
GetSearchableModules
ÑÑ" 6
(
ÑÑ6 7
int
ÑÑ7 :
siteId
ÑÑ; A
)
ÑÑA B
{
ÖÖ 	
return
ÜÜ  
DBModuleDefinition
ÜÜ %
.
ÜÜ% &"
GetSearchableModules
ÜÜ& :
(
ÜÜ: ;
siteId
ÜÜ; A
)
ÜÜA B
;
ÜÜB C
}
áá 	
public
ââ 
static
ââ 
bool
ââ +
UpdateModuleDefinitionSetting
ââ 8
(
ââ8 9
Guid
ää 
featureGuid
ää 
,
ää 
int
ãã 
moduleDefId
ãã 
,
ãã 
string
åå 
resourceFile
åå 
,
åå  
string
çç 
	groupName
çç 
,
çç 
string
éé 
settingName
éé 
,
éé 
string
èè 
settingValue
èè 
,
èè  
string
êê 
controlType
êê 
,
êê 
string
ëë '
regexValidationExpression
ëë ,
,
ëë, -
string
íí 

controlSrc
íí 
,
íí 
string
ìì 
helpKey
ìì 
,
ìì 
int
îî 
	sortOrder
îî 
,
îî 
string
ïï 	

attributes
ïï
 
,
ïï 
string
ññ 	
options
ññ
 
)
ññ 
{
óó 	
return
òò  
DBModuleDefinition
òò %
.
òò% &+
UpdateModuleDefinitionSetting
òò& C
(
òòC D
featureGuid
ôô 
,
ôô 
moduleDefId
öö 
,
öö 
resourceFile
õõ 
,
õõ 
	groupName
úú 
,
úú 
settingName
ùù 
,
ùù 
settingValue
ûû 
,
ûû 
controlType
üü 
,
üü '
regexValidationExpression
†† )
,
††) *

controlSrc
°° 
,
°° 
helpKey
¢¢ 
,
¢¢ 
	sortOrder
££ 
,
££ 

attributes
§§ 
,
§§ 
options
•• 
)
•• 
;
•• 
}
ßß 	
public
©© 
static
©© 
bool
©© /
!UpdateModuleDefinitionSettingById
©© <
(
©©< =
int
™™ 
id
™™ 
,
™™ 
int
´´ 
moduleDefId
´´ 
,
´´ 
string
¨¨ 
resourceFile
¨¨ 
,
¨¨  
string
≠≠ 
	groupName
≠≠ 
,
≠≠ 
string
ÆÆ 
settingName
ÆÆ 
,
ÆÆ 
string
ØØ 
settingValue
ØØ 
,
ØØ  
string
∞∞ 
controlType
∞∞ 
,
∞∞ 
string
±± '
regexValidationExpression
±± ,
,
±±, -
string
≤≤ 

controlSrc
≤≤ 
,
≤≤ 
string
≥≥ 
helpKey
≥≥ 
,
≥≥ 
int
¥¥ 
	sortOrder
¥¥ 
,
¥¥ 
string
µµ 	

attributes
µµ
 
,
µµ 
string
∂∂ 	
options
∂∂
 
)
∂∂ 
{
∑∑ 	
return
∏∏  
DBModuleDefinition
∏∏ %
.
∏∏% &/
!UpdateModuleDefinitionSettingById
∏∏& G
(
∏∏G H
id
ππ 
,
ππ 
moduleDefId
∫∫ 
,
∫∫ 
resourceFile
ªª 
,
ªª 
	groupName
ºº 
,
ºº 
settingName
ΩΩ 
,
ΩΩ 
settingValue
ææ 
,
ææ 
controlType
øø 
,
øø '
regexValidationExpression
¿¿ )
,
¿¿) *

controlSrc
¡¡ 
,
¡¡ 
helpKey
¬¬ 
,
¬¬ 
	sortOrder
√√ 
,
√√ 

attributes
ƒƒ 
,
ƒƒ 
options
≈≈ 
)
≈≈ 
;
≈≈ 
}
«« 	
public
ÿÿ 
static
ÿÿ 
bool
ÿÿ 
DeleteSettingById
ÿÿ ,
(
ÿÿ, -
int
ÿÿ- 0
id
ÿÿ1 3
)
ÿÿ3 4
{
ŸŸ 	
return
⁄⁄  
DBModuleDefinition
⁄⁄ %
.
⁄⁄% &
DeleteSettingById
⁄⁄& 7
(
⁄⁄7 8
id
⁄⁄8 :
)
⁄⁄: ;
;
⁄⁄; <
}
‹‹ 	
public
ﬁﬁ 
static
ﬁﬁ 
bool
ﬁﬁ 
SettingExists
ﬁﬁ (
(
ﬁﬁ( )
Guid
ﬁﬁ) -
featureGuid
ﬁﬁ. 9
,
ﬁﬁ9 :
string
ﬁﬁ; A
settingName
ﬁﬁB M
)
ﬁﬁM N
{
ﬂﬂ 	
bool
‡‡ 
result
‡‡ 
=
‡‡ 
false
‡‡ 
;
‡‡  
using
‚‚ 
(
‚‚ 
IDataReader
‚‚ 
reader
‚‚ %
=
‚‚& ' 
DBModuleDefinition
‚‚( :
.
‚‚: ;0
"ModuleDefinitionSettingsGetSetting
‚‚; ]
(
‚‚] ^
featureGuid
„„ 
,
„„ 
settingName
‰‰ 
)
‰‰ 
)
‰‰ 
{
ÂÂ 
if
ÊÊ 
(
ÊÊ 
reader
ÊÊ 
.
ÊÊ 
Read
ÊÊ 
(
ÊÊ  
)
ÊÊ  !
)
ÊÊ! "
{
ÁÁ 
result
ËË 
=
ËË 
true
ËË !
;
ËË! "
}
ÈÈ 
}
ÍÍ 
return
ÏÏ 
result
ÏÏ 
;
ÏÏ 
}
ÌÌ 	
public
ÔÔ 
static
ÔÔ 
void
ÔÔ ,
EnsureInstallationInAdminSites
ÔÔ 9
(
ÔÔ9 :
)
ÔÔ: ;
{
 	 
DBModuleDefinition
ÒÒ 
.
ÒÒ ,
EnsureInstallationInAdminSites
ÒÒ =
(
ÒÒ= >
)
ÒÒ> ?
;
ÒÒ? @
}
ÚÚ 	
public
ÙÙ 
static
ÙÙ 
bool
ÙÙ )
UpdateSiteModulePermissions
ÙÙ 6
(
ÙÙ6 7
int
ÙÙ7 :
siteId
ÙÙ; A
,
ÙÙA B
int
ÙÙC F
moduleDefId
ÙÙG R
,
ÙÙR S
string
ÙÙT Z
authorizedRoles
ÙÙ[ j
)
ÙÙj k
{
ıı 	
return
ˆˆ  
DBModuleDefinition
ˆˆ %
.
ˆˆ% &)
UpdateSiteModulePermissions
ˆˆ& A
(
ˆˆA B
siteId
ˆˆB H
,
ˆˆH I
moduleDefId
ˆˆJ U
,
ˆˆU V
authorizedRoles
ˆˆW f
)
ˆˆf g
;
ˆˆg h
}
˜˜ 	
}
¸¸ 
}ÄÄ Y
lD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\ModuleSettings.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 
sealed 
class 
ModuleSettings #
{ 
public 
ModuleSettings	 
( 
) 
{ 
} 
public"" 
static""	 
bool"" '
CreateDefaultModuleSettings"" 0
(""0 1
int""1 4
moduleId""5 =
)""= >
{## 
return$$ 	
DBModuleSettings$$
 
.$$ '
CreateDefaultModuleSettings$$ 6
($$6 7
moduleId$$7 ?
)$$? @
;$$@ A
}%% 
public'' 
static''	 
bool''  
DeleteModuleSettings'' )
('') *
int''* -
moduleId''. 6
)''6 7
{(( 
return)) 	
DBModuleSettings))
 
.))  
DeleteModuleSettings)) /
())/ 0
moduleId))0 8
)))8 9
;))9 :
}** 
public-- 
static--	 
	Hashtable-- 
GetModuleSettings-- +
(--+ ,
int--, /
moduleId--0 8
)--8 9
{.. 
	Hashtable// 
settings// 
=// 
new// 
	Hashtable// %
(//% &
)//& '
;//' (
using11 
(11 
IDataReader11 
dr11 !
=11" #
DBModuleSettings11$ 4
.114 5
GetModuleSettings115 F
(11F G
moduleId11G O
)11O P
)11P Q
{22 
while33 
(33 
dr33 
.33 
Read33 
(33 
)33  
)33  !
{44 
settings66 
[66 
dr66 
[66  
$str66  -
]66- .
.66. /
ToString66/ 7
(667 8
)668 9
.669 :
Trim66: >
(66> ?
)66? @
]66@ A
=66B C
dr66D F
[66F G
$str66G U
]66U V
.66V W
ToString66W _
(66_ `
)66` a
;66a b
}77 
}99 
return;; 	
settings;;
 
;;; 
}<< 
public>> 
static>>	 
	ArrayList>> 
GetDefaultSettings>> ,
(>>, -
int>>- 0
moduleDefId>>1 <
)>>< =
{?? 
	ArrayList@@ !
defaultCustomSettings@@ "
=@@# $
new@@% (
	ArrayList@@) 2
(@@2 3
)@@3 4
;@@4 5
usingAA 
(AA 
IDataReaderAA 
readerAA %
=AA& '
DBModuleSettingsAA( 8
.AA8 9$
GetDefaultModuleSettingsAA9 Q
(AAQ R
moduleDefIdAAR ]
)AA] ^
)AA^ _
{BB 
whileCC 
(CC 
readerCC 
.CC 
ReadCC "
(CC" #
)CC# $
)CC$ %
{DD 
intEE 
	sortOrderEE !
=EE" #
$numEE$ '
;EE' (
ifFF 
(FF 
readerFF 
[FF 
$strFF *
]FF* +
!=FF, .
DBNullFF/ 5
.FF5 6
ValueFF6 ;
)FF; <
	sortOrderGG !
=GG" #
ConvertGG$ +
.GG+ ,
ToInt32GG, 3
(GG3 4
readerGG4 :
[GG: ;
$strGG; F
]GGF G
)GGG H
;GGH I
CustomModuleSettingII '
settingII( /
=II0 1
newII2 5
CustomModuleSettingII6 I
(III J
newJJ 
GuidJJ  
(JJ  !
readerJJ! '
[JJ' (
$strJJ( 5
]JJ5 6
.JJ6 7
ToStringJJ7 ?
(JJ? @
)JJ@ A
)JJA B
,JJB C
ConvertKK 
.KK  
ToInt32KK  '
(KK' (
readerKK( .
[KK. /
$strKK/ 3
]KK3 4
)KK4 5
,KK5 6
readerLL 
[LL 
$strLL -
]LL- .
.LL. /
ToStringLL/ 7
(LL7 8
)LL8 9
,LL9 :
readerMM 
[MM 
$strMM ,
]MM, -
.MM- .
ToStringMM. 6
(MM6 7
)MM7 8
.MM8 9
TrimMM9 =
(MM= >
)MM> ?
,MM? @
readerNN 
[NN 
$strNN -
]NN- .
.NN. /
ToStringNN/ 7
(NN7 8
)NN8 9
,NN9 :
readerOO 
[OO 
$strOO ,
]OO, -
.OO- .
ToStringOO. 6
(OO6 7
)OO7 8
,OO8 9
readerPP 
[PP 
$strPP :
]PP: ;
.PP; <
ToStringPP< D
(PPD E
)PPE F
,PPF G
readerQQ 
[QQ 
$strQQ +
]QQ+ ,
.QQ, -
ToStringQQ- 5
(QQ5 6
)QQ6 7
,QQ7 8
readerRR 
[RR 
$strRR (
]RR( )
.RR) *
ToStringRR* 2
(RR2 3
)RR3 4
,RR4 5
	sortOrderSS !
,SS! "
readerTT 
[TT 
$strTT 
]TT 
.TT 
ToStringTT #
(TT# $
)TT$ %
,TT% &
readerUU 
[UU 
$strUU 
]UU 
.UU 
ToStringUU  
(UU  !
)UU! "
)VV 
;VV 
settingXX 
.XX 
	GroupNameXX %
=XX& '
readerXX( .
[XX. /
$strXX/ :
]XX: ;
.XX; <
ToStringXX< D
(XXD E
)XXE F
;XXF G!
defaultCustomSettingsYY )
.YY) *
AddYY* -
(YY- .
settingYY. 5
)YY5 6
;YY6 7
}ZZ 
}[[ 
return]] 	!
defaultCustomSettings]]
 
;]]  
}^^ 
public`` 
static``	 
	ArrayList`` "
GetCustomSettingValues`` 0
(``0 1
int``1 4
moduleId``5 =
)``= >
{aa 
	ArrayListbb 
customSettingsbb 
=bb 
newbb !
	ArrayListbb" +
(bb+ ,
)bb, -
;bb- .
usingcc 
(cc 
IDataReadercc 
readercc %
=cc& '
DBModuleSettingscc( 8
.cc8 9
GetModuleSettingscc9 J
(ccJ K
moduleIdccK S
)ccS T
)ccT U
{dd 
whileee 
(ee 
readeree 
.ee 
Readee "
(ee" #
)ee# $
)ee$ %
{ff 
intgg 
	sortOrdergg !
=gg" #
$numgg$ '
;gg' (
ifhh 
(hh 
readerhh 
[hh 
$strhh *
]hh* +
!=hh, .
DBNullhh/ 5
.hh5 6
Valuehh6 ;
)hh; <
	sortOrderii !
=ii" #
Convertii$ +
.ii+ ,
ToInt32ii, 3
(ii3 4
readerii4 :
[ii: ;
$strii; F
]iiF G
)iiG H
;iiH I
CustomModuleSettingkk '
settingkk( /
=ll 
newll 
CustomModuleSettingll 1
(ll1 2
newmm 

Guidmm 
(mm 
readermm 
[mm 
$strmm $
]mm$ %
.mm% &
ToStringmm& .
(mm. /
)mm/ 0
)mm0 1
,mm1 2
-nn 
$numnn 	
,nn	 

readeroo 
[oo 
$stroo 
]oo 
.oo 
ToStringoo &
(oo& '
)oo' (
,oo( )
readerpp 
[pp 
$strpp 
]pp 
.pp 
ToStringpp %
(pp% &
)pp& '
.pp' (
Trimpp( ,
(pp, -
)pp- .
,pp. /
readerqq 
[qq 
$strqq 
]qq 
.qq 
ToStringqq &
(qq& '
)qq' (
,qq( )
readerrr 
[rr 
$strrr 
]rr 
.rr 
ToStringrr %
(rr% &
)rr& '
,rr' (
readerss 
[ss 
$strss )
]ss) *
.ss* +
ToStringss+ 3
(ss3 4
)ss4 5
,ss5 6
readertt 
[tt 
$strtt 
]tt 
.tt 
ToStringtt $
(tt$ %
)tt% &
,tt& '
readeruu 
[uu 
$struu 
]uu 
.uu 
ToStringuu !
(uu! "
)uu" #
,uu# $
	sortOrdervv 
,vv 
readerww 
[ww 
$strww 
]ww 
.ww 
ToStringww $
(ww$ %
)ww% &
,ww& '
readerxx 
[xx 
$strxx 
]xx 
.xx 
ToStringxx !
(xx! "
)xx" #
)yy 
;yy 
customSettingszz "
.zz" #
Addzz# &
(zz& '
settingzz' .
)zz. /
;zz/ 0
}{{ 
}|| 
return~~ 	
customSettings~~
 
;~~ 
} 
public
ÅÅ 
static
ÅÅ	 
bool
ÅÅ !
CreateModuleSetting
ÅÅ (
(
ÅÅ( )
Guid
ÇÇ 

moduleGuid
ÇÇ 
,
ÇÇ 
int
ÉÉ 
moduleId
ÉÉ 
,
ÉÉ 
string
ÑÑ 	
settingName
ÑÑ
 
,
ÑÑ 
string
ÖÖ 	
settingValue
ÖÖ
 
,
ÖÖ 
string
ÜÜ 	
controlType
ÜÜ
 
,
ÜÜ 
string
áá 	'
regexValidationExpression
áá
 #
,
áá# $
string
àà 

controlSrc
àà 
,
àà 
string
ââ 
helpKey
ââ 
,
ââ 
int
ää 
	sortOrder
ää 
)
ää 
{
ãã 
return
çç 	
DBModuleSettings
çç
 
.
çç !
CreateModuleSetting
çç .
(
çç. /
Guid
éé 
.
éé 
NewGuid
éé 
(
éé 
)
éé 
,
éé 

moduleGuid
èè 
,
èè 
moduleId
êê 
,
êê 
settingName
ëë 
,
ëë 
settingValue
íí 
,
íí 
controlType
ìì 
,
ìì '
regexValidationExpression
îî 
,
îî 

controlSrc
ïï 
,
ïï 
helpKey
ññ 
,
ññ 
	sortOrder
óó 
)
óó 
;
óó 
}
ôô 
public
õõ 
static
õõ	 
bool
õõ !
UpdateModuleSetting
õõ (
(
õõ( )
Guid
úú 

moduleGuid
úú 
,
úú 
int
ùù 
moduleId
ùù 
,
ùù 
string
ûû 
settingName
ûû 
,
ûû 
string
üü 
settingValue
üü 
)
üü  
{
†† 
return
°° 
DBModuleSettings
°° #
.
°°# $!
UpdateModuleSetting
°°$ 7
(
°°7 8

moduleGuid
°°8 B
,
°°B C
moduleId
°°D L
,
°°L M
settingName
°°N Y
,
°°Y Z
settingValue
°°[ g
)
°°g h
;
°°h i
}
¢¢ 
}
ßß 
}™™ ©
qD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\PageChangeFrequency.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public		 

enum		 
PageChangeFrequency		 #
{

 
Always 
, 
Hourly 
, 
Daily 
, 
Weekly 
, 
Monthly 
, 
Yearly"" 
,"" 
Never&& 
}'' 
}(( ÏI
hD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\PageModule.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 

PageModule 
{ 
private 
int 
moduleID 
= 
-  
$num  !
;! "
private 
int 
pageID 
= 
- 
$num 
;  
private 
int 
moduleOrder 
=  !
$num" %
;% &
private 
string 
paneName 
=  !
String" (
.( )
Empty) .
;. /
private   
DateTime   
publishBeginDate   )
=  * +
DateTime  , 4
.  4 5
MinValue  5 =
;  = >
private!! 
DateTime!! 
publishEndDate!! '
=!!( )
DateTime!!* 2
.!!2 3
MaxValue!!3 ;
;!!; <
private"" 
string"" 
moduleTitle"" "
=""# $
string""% +
.""+ ,
Empty"", 1
;""1 2
private## 
string## 
pageName## 
=##  !
string##" (
.##( )
Empty##) .
;##. /
private$$ 
string$$ 
pageUrl$$ 
=$$  
string$$! '
.$$' (
Empty$$( -
;$$- .
public&& 
int&& 
ModuleId&& 
{'' 	
get(( 
{(( 
return(( 
moduleID(( !
;((! "
}((# $
})) 	
public++ 
int++ 
PageId++ 
{,, 	
get-- 
{-- 
return-- 
pageID-- 
;--  
}--! "
}.. 	
public00 
int00 
ModuleOrder00 
{11 	
get22 
{22 
return22 
moduleOrder22 $
;22$ %
}22& '
}33 	
public44 
string44 
PaneName44 
{55 	
get66 
{66 
return66 
paneName66 !
;66! "
}66# $
}77 	
public99 
DateTime99 
PublishBeginDate99 (
{:: 	
get;; 
{;; 
return;; 
publishBeginDate;; )
;;;) *
};;+ ,
}== 	
public?? 
DateTime?? 
PublishEndDate?? &
{@@ 	
getAA 
{AA 
returnAA 
publishEndDateAA '
;AA' (
}AA) *
}CC 	
publicEE 
stringEE 
ModuleTitleEE !
{FF 	
getGG 
{GG 
returnGG 
moduleTitleGG $
;GG$ %
}GG& '
}HH 	
publicJJ 
stringJJ 
PageNameJJ 
{KK 	
getLL 
{LL 
returnLL 
pageNameLL !
;LL! "
}LL# $
}MM 	
publicOO 
stringOO 
PageUrlOO 
{PP 	
getQQ 
{QQ 
returnQQ 
pageUrlQQ  
;QQ  !
}QQ" #
}RR 	
privateTT 
staticTT 
ListTT 
<TT 

PageModuleTT &
>TT& '
LoadListFromReaderTT( :
(TT: ;
IDataReaderTT; F
readerTTG M
)TTM N
{UU 	
ListVV 
<VV 

PageModuleVV 
>VV 
pageModulesVV (
=VV) *
newVV+ .
ListVV/ 3
<VV3 4

PageModuleVV4 >
>VV> ?
(VV? @
)VV@ A
;VVA B
whileXX 
(XX 
readerXX 
.XX 
ReadXX 
(XX 
)XX  
)XX  !
{YY 

PageModuleZZ 

pageModuleZZ %
=ZZ& '
newZZ( +

PageModuleZZ, 6
(ZZ6 7
)ZZ7 8
;ZZ8 9

pageModule[[ 
.[[ 
moduleID[[ #
=[[$ %
Convert[[& -
.[[- .
ToInt32[[. 5
([[5 6
reader[[6 <
[[[< =
$str[[= G
][[G H
)[[H I
;[[I J

pageModule\\ 
.\\ 
pageID\\ !
=\\" #
Convert\\$ +
.\\+ ,
ToInt32\\, 3
(\\3 4
reader\\4 :
[\\: ;
$str\\; C
]\\C D
)\\D E
;\\E F

pageModule]] 
.]] 
paneName]] #
=]]$ %
reader]]& ,
[]], -
$str]]- 7
]]]7 8
.]]8 9
ToString]]9 A
(]]A B
)]]B C
;]]C D

pageModule^^ 
.^^ 
moduleOrder^^ &
=^^' (
Convert^^) 0
.^^0 1
ToInt32^^1 8
(^^8 9
reader^^9 ?
[^^? @
$str^^@ M
]^^M N
)^^N O
;^^O P
if__ 
(__ 
reader__ 
[__ 
$str__ -
]__- .
!=__/ 1
DBNull__2 8
.__8 9
Value__9 >
)__> ?
{`` 

pageModuleaa 
.aa 
publishBeginDateaa /
=bb 
Convertbb !
.bb! "

ToDateTimebb" ,
(bb, -
readerbb- 3
[bb3 4
$strbb4 F
]bbF G
)bbG H
;bbH I
}cc 
ifee 
(ee 
readeree 
[ee 
$stree +
]ee+ ,
!=ee- /
DBNullee0 6
.ee6 7
Valueee7 <
)ee< =
{ff 

pageModulegg 
.gg 
publishEndDategg -
=hh 
Converthh !
.hh! "

ToDateTimehh" ,
(hh, -
readerhh- 3
[hh3 4
$strhh4 D
]hhD E
)hhE F
;hhF G
}ii 

pageModulekk 
.kk 
pageNamekk #
=kk$ %
readerkk& ,
[kk, -
$strkk- 7
]kk7 8
.kk8 9
ToStringkk9 A
(kkA B
)kkB C
;kkC D
boolll 
useUrlll 
=ll 
Convertll %
.ll% &
	ToBooleanll& /
(ll/ 0
readerll0 6
[ll6 7
$strll7 ?
]ll? @
)ll@ A
;llA B
ifmm 
(mm 
useUrlmm 
)mm 
{nn 

pageModuleoo 
.oo 
pageUrloo &
=oo' (
readeroo) /
[oo/ 0
$stroo0 5
]oo5 6
.oo6 7
ToStringoo7 ?
(oo? @
)oo@ A
;ooA B
}pp 
elseqq 
{rr 

pageModuless 
.ss 
pageUrlss &
=ss' (
$strss) A
+ssB C

pageModulessD N
.ssN O
pageIDssO U
.ssU V
ToStringssV ^
(ss^ _
)ss_ `
;ss` a
}tt 
pageModulesvv 
.vv 
Addvv 
(vv  

pageModulevv  *
)vv* +
;vv+ ,
}ww 
returnyy 
pageModulesyy 
;yy 
}zz 	
public
ÅÅ 
static
ÅÅ 
List
ÅÅ 
<
ÅÅ 

PageModule
ÅÅ %
>
ÅÅ% &"
GetPageModulesByPage
ÅÅ' ;
(
ÅÅ; <
int
ÅÅ< ?
pageId
ÅÅ@ F
)
ÅÅF G
{
ÇÇ 	
List
ÉÉ 
<
ÉÉ 

PageModule
ÉÉ 
>
ÉÉ 
pageModules
ÉÉ (
=
ÉÉ) *
new
ÉÉ+ .
List
ÉÉ/ 3
<
ÉÉ3 4

PageModule
ÉÉ4 >
>
ÉÉ> ?
(
ÉÉ? @
)
ÉÉ@ A
;
ÉÉA B
using
ÖÖ 
(
ÖÖ 
IDataReader
ÖÖ 
reader
ÖÖ %
=
ÖÖ& '
DBModule
ÖÖ( 0
.
ÖÖ0 1'
PageModuleGetReaderByPage
ÖÖ1 J
(
ÖÖJ K
pageId
ÖÖK Q
)
ÖÖQ R
)
ÖÖR S
{
ÜÜ 
pageModules
áá 
=
áá  
LoadListFromReader
áá 0
(
áá0 1
reader
áá1 7
)
áá7 8
;
áá8 9
}
àà 
return
ää 
pageModules
ää 
;
ää 
}
ãã 	
public
çç 
static
çç 
List
çç 
<
çç 

PageModule
çç %
>
çç% &$
GetPageModulesByModule
çç' =
(
çç= >
int
çç> A
moduleId
ççB J
)
ççJ K
{
éé 	
List
èè 
<
èè 

PageModule
èè 
>
èè 
pageModules
èè (
=
èè) *
new
èè+ .
List
èè/ 3
<
èè3 4

PageModule
èè4 >
>
èè> ?
(
èè? @
)
èè@ A
;
èèA B
using
ëë 
(
ëë 
IDataReader
ëë 
reader
ëë %
=
ëë& '
DBModule
ëë( 0
.
ëë0 1)
PageModuleGetReaderByModule
ëë1 L
(
ëëL M
moduleId
ëëM U
)
ëëU V
)
ëëV W
{
íí 
pageModules
ìì 
=
ìì  
LoadListFromReader
ìì 0
(
ìì0 1
reader
ìì1 7
)
ìì7 8
;
ìì8 9
}
ïï 
return
óó 
pageModules
óó 
;
óó 
}
òò 	
}
úú 
}ùù ˆ©
jD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\PageSettings.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 
class 
PageSettings 
: 
IComparable (
{ 
public 
PageSettings	 
( 
) 
{ 
} 	
public 
PageSettings 
( 
Guid  
pageGuid! )
)) *
{ 	
if   
(   
pageGuid   
==   
null    
)    !
{  " #
return  $ *
;  * +
}  , -
if!! 
(!! 
pageGuid!! 
==!! 
Guid!!  
.!!  !
Empty!!! &
)!!& '
{!!( )
return!!* 0
;!!0 1
}!!2 3
GetPage## 
(## 
pageGuid## 
)## 
;## 
}%% 	
public'' 
PageSettings'' 
('' 
int'' 
siteId''  &
,''& '
int''( +
pageId'', 2
)''2 3
{(( 	
if)) 
()) 
siteId)) 
>)) 
-)) 
$num)) 
))) 
{** 
GetPage++ 
(++ 
siteId++ 
,++ 
pageId++  &
)++& '
;++' (
},, 
}.. 	
public44 
string44	 
LinkRel44 
{44 
get44 
;44 
set44 "
;44" #
}44$ %
=44& '
string44( .
.44. /
Empty44/ 4
;444 5
public66 
string66	 
PageHeading66 
{66 
get66 !
;66! "
set66# &
;66& '
}66( )
=66* +
string66, 2
.662 3
Empty663 8
;668 9
public88 
bool88	 
ShowPageHeading88 
{88 
get88  #
;88# $
set88% (
;88( )
}88* +
=88, -
true88. 2
;882 3
public<< 
DateTime<<	 

PubDateUtc<< 
{<< 
get<< "
;<<" #
set<<$ '
;<<' (
}<<) *
=<<+ ,
DateTime<<- 5
.<<5 6
UtcNow<<6 <
;<<< =
public>> 
string>>	 
MenuDescription>> 
{>>  !
get>>" %
;>>% &
set>>' *
;>>* +
}>>, -
=>>. /
string>>0 6
.>>6 7
Empty>>7 <
;>>< =
public@@ 
DateTime@@	 

CreatedUtc@@ 
{@@ 
get@@ "
;@@" #
set@@$ '
;@@' (
}@@) *
=@@+ ,
DateTime@@- 5
.@@5 6
UtcNow@@6 <
;@@< =
publicBB 
GuidBB	 
	CreatedByBB 
{BB 
getBB 
;BB 
setBB "
;BB" #
}BB$ %
=BB& '
GuidBB( ,
.BB, -
EmptyBB- 2
;BB2 3
publicDD 
stringDD	 
CreatedFromIpDD 
{DD 
getDD  #
;DD# $
setDD% (
;DD( )
}DD* +
=DD, -
stringDD. 4
.DD4 5
EmptyDD5 :
;DD: ;
publicHH 
DateTimeHH	 

LastModUtcHH 
{HH 
getHH "
;HH" #
setHH$ '
;HH' (
}HH) *
=HH+ ,
DateTimeHH- 5
.HH5 6
UtcNowHH6 <
;HH< =
publicJJ 
GuidJJ	 
	LastModByJJ 
{JJ 
getJJ 
;JJ 
setJJ "
;JJ" #
}JJ$ %
=JJ& '
GuidJJ( ,
.JJ, -
EmptyJJ- 2
;JJ2 3
publicLL 
stringLL	 
LastModFromIpLL 
{LL 
getLL  #
;LL# $
setLL% (
;LL( )
}LL* +
=LL, -
stringLL. 4
.LL4 5
EmptyLL5 :
;LL: ;
publicNN 
GuidNN	 
SiteGuidNN 
{NN 
getNN 
;NN 
setNN !
;NN! "
}NN# $
=NN% &
GuidNN' +
.NN+ ,
EmptyNN, 1
;NN1 2
publicPP 
stringPP	 
CompiledMetaPP 
{PP 
getPP "
;PP" #
setPP$ '
;PP' (
}PP) *
=PP+ ,
stringPP- 3
.PP3 4
EmptyPP4 9
;PP9 :
publicRR 
DateTimeRR	 
CompiledMetaUtcRR !
{RR" #
getRR$ '
;RR' (
setRR) ,
;RR, -
}RR. /
=RR0 1
DateTimeRR2 :
.RR: ;
UtcNowRR; A
;RRA B
publicTT 
	ArrayListTT	 
ModulesTT 
{TT 
getTT  
;TT  !
setTT" %
;TT% &
}TT' (
=TT) *
newTT+ .
	ArrayListTT/ 8
(TT8 9
)TT9 :
;TT: ;
publicVV 
GuidVV	 
PageGuidVV 
{VV 
getVV 
;VV 
setVV !
;VV! "
}VV# $
=VV% &
GuidVV' +
.VV+ ,
EmptyVV, 1
;VV1 2
publicXX 
intXX	 
PageIdXX 
{XX 
getXX 
;XX 
setXX 
;XX 
}XX  !
=XX" #
-XX$ %
$numXX% &
;XX& '
publicZZ 
GuidZZ	 

ParentGuidZZ 
{ZZ 
getZZ 
;ZZ 
setZZ  #
;ZZ# $
}ZZ% &
=ZZ' (
GuidZZ) -
.ZZ- .
EmptyZZ. 3
;ZZ3 4
public\\ 
int\\	 
ParentId\\ 
{\\ 
get\\ 
;\\ 
set\\  
;\\  !
}\\" #
=\\$ %
-\\& '
$num\\' (
;\\( )
public^^ 
int^^	 
SiteId^^ 
{^^ 
get^^ 
;^^ 
set^^ 
;^^ 
}^^  !
=^^" #
$num^^$ %
;^^% &
public`` 
int``	 
	PageIndex`` 
{`` 
get`` 
;`` 
set`` !
;``! "
}``# $
publicbb 
intbb	 
	PageOrderbb 
{bb 
getbb 
;bb 
setbb !
;bb! "
}bb# $
=bb% &
$numbb' (
;bb( )
publicdd 
stringdd	 
PageNamedd 
{dd 
getdd 
;dd 
setdd  #
;dd# $
}dd% &
=dd' (
stringdd) /
.dd/ 0
Emptydd0 5
;dd5 6
publicff 
stringff	 
	PageTitleff 
{ff 
getff 
;ff  
setff! $
;ff$ %
}ff& '
=ff( )
Stringff* 0
.ff0 1
Emptyff1 6
;ff6 7
publichh 
inthh	 
PublishModehh 
{hh 
gethh 
;hh 
sethh  #
;hh# $
}hh% &
=hh' (
$numhh) *
;hh* +
publicjj 
stringjj	 
Skinjj 
{jj 
getjj 
;jj 
setjj 
;jj  
}jj! "
=jj# $
stringjj% +
.jj+ ,
Emptyjj, 1
;jj1 2
publicll 
stringll	 
BodyCssClassll 
{ll 
getll "
;ll" #
setll$ '
;ll' (
}ll) *
=ll+ ,
stringll- 3
.ll3 4
Emptyll4 9
;ll9 :
publicnn 
stringnn	 
MenuCssClassnn 
{nn 
getnn "
;nn" #
setnn$ '
;nn' (
}nn) *
=nn+ ,
stringnn- 3
.nn3 4
Emptynn4 9
;nn9 :
publicpp 
stringpp	 
AuthorizedRolespp 
{pp  !
getpp" %
;pp% &
setpp' *
;pp* +
}pp, -
=pp. /
stringpp0 6
.pp6 7
Emptypp7 <
;pp< =
publicrr 
stringrr	 
	EditRolesrr 
{rr 
getrr 
;rr  
setrr! $
;rr$ %
}rr& '
=rr( )
stringrr* 0
.rr0 1
Emptyrr1 6
;rr6 7
publictt 
stringtt	 
DraftEditOnlyRolestt "
{tt# $
gettt% (
;tt( )
settt* -
;tt- .
}tt/ 0
=tt1 2
stringtt3 9
.tt9 :
Emptytt: ?
;tt? @
publicvv 
stringvv	 
DraftApprovalRolesvv "
{vv# $
getvv% (
;vv( )
setvv* -
;vv- .
}vv/ 0
=vv1 2
stringvv3 9
.vv9 :
Emptyvv: ?
;vv? @
publicxx 
stringxx	  
CreateChildPageRolesxx $
{xx% &
getxx' *
;xx* +
setxx, /
;xx/ 0
}xx1 2
=xx3 4
stringxx5 ;
.xx; <
Emptyxx< A
;xxA B
publiczz 
stringzz	 !
CreateChildDraftRoleszz %
{zz& '
getzz( +
;zz+ ,
setzz- 0
;zz0 1
}zz2 3
=zz4 5
stringzz6 <
.zz< =
Emptyzz= B
;zzB C
public|| 
bool||	 

RequireSsl|| 
{|| 
get|| 
;|| 
set||  #
;||# $
}||% &
=||' (
false||) .
;||. /
public~~ 
bool~~	 
AllowBrowserCache~~ 
{~~  !
get~~" %
;~~% &
set~~' *
;~~* +
}~~, -
=~~. /
true~~0 4
;~~4 5
public
ÄÄ 
bool
ÄÄ	 
ShowBreadcrumbs
ÄÄ 
{
ÄÄ 
get
ÄÄ  #
;
ÄÄ# $
set
ÄÄ% (
;
ÄÄ( )
}
ÄÄ* +
=
ÄÄ, -
false
ÄÄ. 3
;
ÄÄ3 4
public
ÇÇ 
bool
ÇÇ	 &
ShowChildPageBreadcrumbs
ÇÇ &
{
ÇÇ' (
get
ÇÇ) ,
;
ÇÇ, -
set
ÇÇ. 1
;
ÇÇ1 2
}
ÇÇ3 4
=
ÇÇ5 6
false
ÇÇ7 <
;
ÇÇ< =
public
ÑÑ 
bool
ÑÑ	 
HideMainMenu
ÑÑ 
{
ÑÑ 
get
ÑÑ  
;
ÑÑ  !
set
ÑÑ" %
;
ÑÑ% &
}
ÑÑ' (
=
ÑÑ) *
false
ÑÑ+ 0
;
ÑÑ0 1
public
ÜÜ 
bool
ÜÜ	 
HidePageMenu
ÜÜ 
{
ÜÜ 
get
ÜÜ  
;
ÜÜ  !
set
ÜÜ" %
;
ÜÜ% &
}
ÜÜ' (
=
ÜÜ) *
true
ÜÜ+ /
;
ÜÜ/ 0
public
ââ 
bool
ââ	 
HideAfterLogin
ââ 
{
ââ 
get
ââ "
;
ââ" #
set
ââ$ '
;
ââ' (
}
ââ) *
=
ââ+ ,
false
ââ- 2
;
ââ2 3
public
ãã 
bool
ãã	 
EnableComments
ãã 
{
ãã 
get
ãã "
;
ãã" #
set
ãã$ '
;
ãã' (
}
ãã) *
=
ãã+ ,
false
ãã- 2
;
ãã2 3
public
çç 
bool
çç	 
UseUrl
çç 
{
çç 
get
çç 
;
çç 
set
çç 
;
çç  
}
çç! "
=
çç# $
true
çç% )
;
çç) *
public
èè 
string
èè	 
Url
èè 
{
èè 
get
èè 
;
èè 
set
èè 
;
èè 
}
èè  !
=
èè" #
string
èè$ *
.
èè* +
Empty
èè+ 0
;
èè0 1
public
ëë 
string
ëë	 
UnmodifiedUrl
ëë 
{
ëë 
get
ëë  #
;
ëë# $
set
ëë% (
;
ëë( )
}
ëë* +
=
ëë, -
string
ëë. 4
.
ëë4 5
Empty
ëë5 :
;
ëë: ;
public
ìì 
bool
ìì	 
OpenInNewWindow
ìì 
{
ìì 
get
ìì  #
;
ìì# $
set
ìì% (
;
ìì( )
}
ìì* +
=
ìì, -
false
ìì. 3
;
ìì3 4
public
ïï 
bool
ïï	 
ShowChildPageMenu
ïï 
{
ïï  !
get
ïï" %
;
ïï% &
set
ïï' *
;
ïï* +
}
ïï, -
=
ïï. /
false
ïï0 5
;
ïï5 6
public
óó 
string
óó	 
PageMetaKeyWords
óó  
{
óó! "
get
óó# &
;
óó& '
set
óó( +
;
óó+ ,
}
óó- .
=
óó/ 0
string
óó1 7
.
óó7 8
Empty
óó8 =
;
óó= >
public
ôô 
string
ôô	 !
PageMetaDescription
ôô #
{
ôô$ %
get
ôô& )
;
ôô) *
set
ôô+ .
;
ôô. /
}
ôô0 1
=
ôô2 3
string
ôô4 :
.
ôô: ;
Empty
ôô; @
;
ôô@ A
[
õõ 
Obsolete
õõ 
(
õõ 
$str
õõ (
)
õõ( )
]
õõ) *
public
úú 
string
úú	 
PageMetaEncoding
úú  
{
úú! "
get
úú# &
;
úú& '
set
úú( +
;
úú+ ,
}
úú- .
=
úú/ 0
string
úú1 7
.
úú7 8
Empty
úú8 =
;
úú= >
[
ûû 
Obsolete
ûû 
(
ûû 
$str
ûû (
)
ûû( )
]
ûû) *
public
üü 
string
üü	  
PageMetaAdditional
üü "
{
üü# $
get
üü% (
;
üü( )
set
üü* -
;
üü- .
}
üü/ 0
=
üü1 2
string
üü3 9
.
üü9 :
Empty
üü: ?
;
üü? @
public
°° 
string
°°	 
	IndexPath
°° 
{
°° 
get
°° 
;
°°  
set
°°! $
;
°°$ %
}
°°& '
=
°°( )
string
°°* 0
.
°°0 1
Empty
°°1 6
;
°°6 7
public
££ 
bool
££	 
IncludeInMenu
££ 
{
££ 
get
££ !
;
££! "
set
££# &
;
££& '
}
££( )
=
££* +
true
££, 0
;
££0 1
public
•• 
string
••	 
	MenuImage
•• 
{
•• 
get
•• 
;
••  
set
••! $
;
••$ %
}
••& '
=
••( )
String
••* 0
.
••0 1
Empty
••1 6
;
••6 7
public
ßß !
PageChangeFrequency
ßß	 
ChangeFrequency
ßß ,
{
ßß- .
get
ßß/ 2
;
ßß2 3
set
ßß4 7
;
ßß7 8
}
ßß9 :
=
ßß; <!
PageChangeFrequency
ßß= P
.
ßßP Q
Daily
ßßQ V
;
ßßV W
public
©© 
string
©©	 
SiteMapPriority
©© 
{
©©  !
get
©©" %
;
©©% &
set
©©' *
;
©©* +
}
©©, -
=
©©. /
$str
©©0 5
;
©©5 6
public
∞∞ 
DateTime
∞∞	 
LastModifiedUtc
∞∞ !
{
∞∞" #
get
∞∞$ '
;
∞∞' (
set
∞∞) ,
;
∞∞, -
}
∞∞. /
=
∞∞0 1
DateTime
∞∞2 :
.
∞∞: ;
UtcNow
∞∞; A
;
∞∞A B
public
≤≤ 
string
≤≤	 
DepthIndicator
≤≤ 
{
≤≤  
get
≤≤! $
;
≤≤$ %
set
≤≤& )
;
≤≤) *
}
≤≤+ ,
=
≤≤- .
string
≤≤/ 5
.
≤≤5 6
Empty
≤≤6 ;
;
≤≤; <
public
¥¥ 
bool
¥¥	 
IncludeInSiteMap
¥¥ 
{
¥¥  
get
¥¥! $
;
¥¥$ %
set
¥¥& )
;
¥¥) *
}
¥¥+ ,
=
¥¥- .
true
¥¥/ 3
;
¥¥3 4
public
∂∂ 
bool
∂∂	 
ExpandOnSiteMap
∂∂ 
{
∂∂ 
get
∂∂  #
;
∂∂# $
set
∂∂% (
;
∂∂( )
}
∂∂* +
=
∂∂, -
true
∂∂. 2
;
∂∂2 3
public
∏∏ 
bool
∏∏	 
IsClickable
∏∏ 
{
∏∏ 
get
∏∏ 
;
∏∏  
set
∏∏! $
;
∏∏$ %
}
∏∏& '
=
∏∏( )
true
∏∏* .
;
∏∏. /
public
∫∫ 
bool
∫∫	 
ShowHomeCrumb
∫∫ 
{
∫∫ 
get
∫∫ !
;
∫∫! "
set
∫∫# &
;
∫∫& '
}
∫∫( )
=
∫∫* +
false
∫∫, 1
;
∫∫1 2
public
ºº 
bool
ºº	 .
 UrlHasBeenAdjustedForFolderSites
ºº .
{
ºº/ 0
get
ºº1 4
;
ºº4 5
set
ºº6 9
;
ºº9 :
}
ºº; <
=
ºº= >
false
ºº? D
;
ººD E
public
ææ 
bool
ææ	 
	IsPending
ææ 
{
ææ 
get
ææ 
;
ææ 
set
ææ "
;
ææ" #
}
ææ$ %
=
ææ& '
false
ææ( -
;
ææ- .
public
¿¿ 
string
¿¿	 
CanonicalOverride
¿¿ !
{
¿¿" #
get
¿¿$ '
;
¿¿' (
set
¿¿) ,
;
¿¿, -
}
¿¿. /
=
¿¿0 1
string
¿¿2 8
.
¿¿8 9
Empty
¿¿9 >
;
¿¿> ?
public
¬¬ 
bool
¬¬	  
IncludeInSearchMap
¬¬  
{
¬¬! "
get
¬¬# &
;
¬¬& '
set
¬¬( +
;
¬¬+ ,
}
¬¬- .
=
¬¬/ 0
true
¬¬1 5
;
¬¬5 6
public
ƒƒ 
bool
ƒƒ	 #
IncludeInChildSiteMap
ƒƒ #
{
ƒƒ$ %
get
ƒƒ& )
;
ƒƒ) *
set
ƒƒ+ .
;
ƒƒ. /
}
ƒƒ0 1
=
ƒƒ2 3
true
ƒƒ4 8
;
ƒƒ8 9
public
∆∆ 
Guid
∆∆	 
	PubTeamId
∆∆ 
{
∆∆ 
get
∆∆ 
;
∆∆ 
set
∆∆ "
;
∆∆" #
}
∆∆$ %
=
∆∆& '
Guid
∆∆( ,
.
∆∆, -
Empty
∆∆- 2
;
∆∆2 3
public
»» 
string
»»	 
CreatedByName
»» 
{
»» 
get
»»  #
;
»»# $
private
»»% ,
set
»»- 0
;
»»0 1
}
»»2 3
=
»»4 5
string
»»6 <
.
»»< =
Empty
»»= B
;
»»B C
public
   
string
  	 
CreatedByEmail
   
{
    
get
  ! $
;
  $ %
private
  & -
set
  . 1
;
  1 2
}
  3 4
=
  5 6
string
  7 =
.
  = >
Empty
  > C
;
  C D
public
ÃÃ 
string
ÃÃ	  
CreatedByFirstName
ÃÃ "
{
ÃÃ# $
get
ÃÃ% (
;
ÃÃ( )
private
ÃÃ* 1
set
ÃÃ2 5
;
ÃÃ5 6
}
ÃÃ7 8
=
ÃÃ9 :
string
ÃÃ; A
.
ÃÃA B
Empty
ÃÃB G
;
ÃÃG H
public
ŒŒ 
string
ŒŒ	 
CreatedByLastName
ŒŒ !
{
ŒŒ" #
get
ŒŒ$ '
;
ŒŒ' (
private
ŒŒ) 0
set
ŒŒ1 4
;
ŒŒ4 5
}
ŒŒ6 7
=
ŒŒ8 9
string
ŒŒ: @
.
ŒŒ@ A
Empty
ŒŒA F
;
ŒŒF G
public
–– 
string
––	 
LastModByName
–– 
{
–– 
get
––  #
;
––# $
private
––% ,
set
––- 0
;
––0 1
}
––2 3
=
––4 5
string
––6 <
.
––< =
Empty
––= B
;
––B C
public
““ 
string
““	 
LastModByEmail
““ 
{
““  
get
““! $
;
““$ %
private
““& -
set
““. 1
;
““1 2
}
““3 4
=
““5 6
string
““7 =
.
““= >
Empty
““> C
;
““C D
public
‘‘ 
string
‘‘	  
LastModByFirstName
‘‘ "
{
‘‘# $
get
‘‘% (
;
‘‘( )
private
‘‘* 1
set
‘‘2 5
;
‘‘5 6
}
‘‘7 8
=
‘‘9 :
string
‘‘; A
.
‘‘A B
Empty
‘‘B G
;
‘‘G H
public
÷÷ 
string
÷÷	 
LastModByLastName
÷÷ !
{
÷÷" #
get
÷÷$ '
;
÷÷' (
private
÷÷) 0
set
÷÷1 4
;
÷÷4 5
}
÷÷6 7
=
÷÷8 9
string
÷÷: @
.
÷÷@ A
Empty
÷÷A F
;
÷÷F G
public
‹‹ 
int
‹‹	 
	CompareTo
‹‹ 
(
‹‹ 
object
‹‹ 
value
‹‹ #
)
‹‹# $
{
›› 
if
ﬂﬂ 
(
ﬂﬂ 
value
ﬂﬂ 
==
ﬂﬂ 
null
ﬂﬂ 
)
ﬂﬂ 
return
ﬂﬂ 
$num
ﬂﬂ 
;
ﬂﬂ 
int
·· 
compareOrder
·· 
=
·· 
(
·· 
(
·· 
PageSettings
·· $
)
··$ %
value
··% *
)
··* +
.
··+ ,
	PageOrder
··, 5
;
··5 6
if
„„ 
(
„„ 
this
„„ 
.
„„ 
	PageOrder
„„ 
==
„„ 
compareOrder
„„ %
)
„„% &
return
„„' -
$num
„„. /
;
„„/ 0
if
‰‰ 
(
‰‰ 
this
‰‰ 
.
‰‰ 
	PageOrder
‰‰ 
<
‰‰ 
compareOrder
‰‰ $
)
‰‰$ %
return
‰‰& ,
-
‰‰- .
$num
‰‰. /
;
‰‰/ 0
if
ÂÂ 
(
ÂÂ 
this
ÂÂ 
.
ÂÂ 
	PageOrder
ÂÂ 
>
ÂÂ 
compareOrder
ÂÂ $
)
ÂÂ$ %
return
ÂÂ& ,
$num
ÂÂ- .
;
ÂÂ. /
return
ÊÊ 	
$num
ÊÊ
 
;
ÊÊ 
}
ÁÁ 
private
ÔÔ 	
void
ÔÔ
 
GetPage
ÔÔ 
(
ÔÔ 
int
ÔÔ 
siteId
ÔÔ !
,
ÔÔ! "
int
ÔÔ# &
pageId
ÔÔ' -
)
ÔÔ- .
{
 
using
ÒÒ 
(
ÒÒ 
IDataReader
ÒÒ 
reader
ÒÒ $
=
ÒÒ% &
DBPageSettings
ÒÒ' 5
.
ÒÒ5 6
GetPage
ÒÒ6 =
(
ÒÒ= >
siteId
ÒÒ> D
,
ÒÒD E
pageId
ÒÒF L
)
ÒÒL M
)
ÒÒM N
{
ÚÚ 
LoadFromReader
ÛÛ 
(
ÛÛ 
reader
ÛÛ %
)
ÛÛ% &
;
ÛÛ& '
}
ˆˆ 
}
¯¯ 
private
˙˙ 
void
˙˙ 
GetPage
˙˙ 
(
˙˙ 
Guid
˙˙ !
pageGuid
˙˙" *
)
˙˙* +
{
˚˚ 	
using
¸¸ 
(
¸¸ 
IDataReader
¸¸ 
reader
¸¸ %
=
¸¸& '
DBPageSettings
¸¸( 6
.
¸¸6 7
GetPage
¸¸7 >
(
¸¸> ?
pageGuid
¸¸? G
)
¸¸G H
)
¸¸H I
{
˝˝ 
LoadFromReader
˛˛ 
(
˛˛ 
reader
˛˛ %
)
˛˛% &
;
˛˛& '
}
ÄÄ 
}
ÅÅ 	
private
ÉÉ 
void
ÉÉ 
LoadFromReader
ÉÉ #
(
ÉÉ# $
IDataReader
ÉÉ$ /
reader
ÉÉ0 6
)
ÉÉ6 7
{
ÑÑ 	
if
ÜÜ 
(
ÜÜ 
reader
ÜÜ 
.
ÜÜ 
Read
ÜÜ 
(
ÜÜ 
)
ÜÜ 
)
ÜÜ 
{
áá 
this
àà 
.
àà 
PageId
àà 
=
àà 
int
àà !
.
àà! "
Parse
àà" '
(
àà' (
reader
àà( .
[
àà. /
$str
àà/ 7
]
àà7 8
.
àà8 9
ToString
àà9 A
(
ààA B
)
ààB C
)
ààC D
;
ààD E
this
ââ 
.
ââ 
ParentId
ââ 
=
ââ 
int
ââ  #
.
ââ# $
Parse
ââ$ )
(
ââ) *
reader
ââ* 0
[
ââ0 1
$str
ââ1 ;
]
ââ; <
.
ââ< =
ToString
ââ= E
(
ââE F
)
ââF G
)
ââG H
;
ââH I
this
ää 
.
ää 
SiteId
ää 
=
ää 
int
ää !
.
ää! "
Parse
ää" '
(
ää' (
reader
ää( .
[
ää. /
$str
ää/ 7
]
ää7 8
.
ää8 9
ToString
ää9 A
(
ääA B
)
ääB C
)
ääC D
;
ääD E
this
ãã 
.
ãã 
	PageOrder
ãã 
=
ãã  
int
ãã! $
.
ãã$ %
Parse
ãã% *
(
ãã* +
reader
ãã+ 1
[
ãã1 2
$str
ãã2 =
]
ãã= >
.
ãã> ?
ToString
ãã? G
(
ããG H
)
ããH I
)
ããI J
;
ããJ K
this
åå 
.
åå 
PageName
åå 
=
åå 
reader
åå  &
[
åå& '
$str
åå' 1
]
åå1 2
.
åå2 3
ToString
åå3 ;
(
åå; <
)
åå< =
;
åå= >
this
çç 
.
çç 
	PageTitle
çç 
=
çç  
reader
çç! '
[
çç' (
$str
çç( 3
]
çç3 4
.
çç4 5
ToString
çç5 =
(
çç= >
)
çç> ?
;
çç? @
this
éé 
.
éé 
	MenuImage
éé 
=
éé  
reader
éé! '
[
éé' (
$str
éé( 3
]
éé3 4
.
éé4 5
ToString
éé5 =
(
éé= >
)
éé> ?
;
éé? @
this
èè 
.
èè 
Skin
èè 
=
èè 
reader
èè "
[
èè" #
$str
èè# )
]
èè) *
.
èè* +
ToString
èè+ 3
(
èè3 4
)
èè4 5
;
èè5 6
this
êê 
.
êê 
AuthorizedRoles
êê $
=
êê% &
reader
êê' -
[
êê- .
$str
êê. ?
]
êê? @
.
êê@ A
ToString
êêA I
(
êêI J
)
êêJ K
;
êêK L
this
ëë 
.
ëë 
	EditRoles
ëë 
=
ëë  
reader
ëë! '
[
ëë' (
$str
ëë( 3
]
ëë3 4
.
ëë4 5
ToString
ëë5 =
(
ëë= >
)
ëë> ?
;
ëë? @
this
íí 
.
íí  
DraftEditOnlyRoles
íí '
=
íí( )
reader
íí* 0
[
íí0 1
$str
íí1 A
]
ííA B
.
ííB C
ToString
ííC K
(
ííK L
)
ííL M
;
ííM N
this
ìì 
.
ìì  
DraftApprovalRoles
ìì '
=
ìì( )
reader
ìì* 0
[
ìì0 1
$str
ìì1 E
]
ììE F
.
ììF G
ToString
ììG O
(
ììO P
)
ììP Q
;
ììQ R
this
îî 
.
îî "
CreateChildPageRoles
îî )
=
îî* +
reader
îî, 2
[
îî2 3
$str
îî3 I
]
îîI J
.
îîJ K
ToString
îîK S
(
îîS T
)
îîT U
;
îîU V
this
ïï 
.
ïï #
CreateChildDraftRoles
ïï *
=
ïï+ ,
reader
ïï- 3
[
ïï3 4
$str
ïï4 K
]
ïïK L
.
ïïL M
ToString
ïïM U
(
ïïU V
)
ïïV W
;
ïïW X
this
óó 
.
óó 

RequireSsl
óó 
=
óó  !
Convert
óó" )
.
óó) *
	ToBoolean
óó* 3
(
óó3 4
reader
óó4 :
[
óó: ;
$str
óó; G
]
óóG H
)
óóH I
;
óóI J
this
òò 
.
òò 
AllowBrowserCache
òò &
=
òò' (
Convert
òò) 0
.
òò0 1
	ToBoolean
òò1 :
(
òò: ;
reader
òò; A
[
òòA B
$str
òòB U
]
òòU V
)
òòV W
;
òòW X
this
ôô 
.
ôô 
ShowBreadcrumbs
ôô $
=
ôô% &
Convert
ôô' .
.
ôô. /
	ToBoolean
ôô/ 8
(
ôô8 9
reader
ôô9 ?
[
ôô? @
$str
ôô@ Q
]
ôôQ R
)
ôôR S
;
ôôS T
this
öö 
.
öö &
ShowChildPageBreadcrumbs
öö -
=
öö. /
Convert
öö0 7
.
öö7 8
	ToBoolean
öö8 A
(
ööA B
reader
ööB H
[
ööH I
$str
ööI _
]
öö_ `
)
öö` a
;
ööa b
this
õõ 
.
õõ 
UseUrl
õõ 
=
õõ 
Convert
õõ %
.
õõ% &
	ToBoolean
õõ& /
(
õõ/ 0
reader
õõ0 6
[
õõ6 7
$str
õõ7 ?
]
õõ? @
)
õõ@ A
;
õõA B
this
úú 
.
úú 
Url
úú 
=
úú 
reader
úú !
[
úú! "
$str
úú" '
]
úú' (
.
úú( )
ToString
úú) 1
(
úú1 2
)
úú2 3
;
úú3 4
if
ùù 
(
ùù 
UseUrl
ùù 
)
ùù 
{
ûû 
UnmodifiedUrl
üü !
=
üü" #
reader
üü$ *
[
üü* +
$str
üü+ 0
]
üü0 1
.
üü1 2
ToString
üü2 :
(
üü: ;
)
üü; <
;
üü< =
}
†† 
else
°° 
{
¢¢ 
UnmodifiedUrl
££ !
=
££" #
$str
££$ <
+
££= >
PageId
££? E
.
££E F
ToString
££F N
(
££N O
CultureInfo
££O Z
.
££Z [
InvariantCulture
££[ k
)
££k l
;
££l m
}
§§ 
this
•• 
.
•• 
OpenInNewWindow
•• $
=
••% &
Convert
••' .
.
••. /
	ToBoolean
••/ 8
(
••8 9
reader
••9 ?
[
••? @
$str
••@ Q
]
••Q R
)
••R S
;
••S T
this
¶¶ 
.
¶¶ 
ShowChildPageMenu
¶¶ &
=
¶¶' (
Convert
¶¶) 0
.
¶¶0 1
	ToBoolean
¶¶1 :
(
¶¶: ;
reader
¶¶; A
[
¶¶A B
$str
¶¶B U
]
¶¶U V
)
¶¶V W
;
¶¶W X
this
ßß 
.
ßß 
HideMainMenu
ßß !
=
ßß" #
Convert
ßß$ +
.
ßß+ ,
	ToBoolean
ßß, 5
(
ßß5 6
reader
ßß6 <
[
ßß< =
$str
ßß= K
]
ßßK L
)
ßßL M
;
ßßM N
this
©© 
.
©© 
PageMetaKeyWords
©© %
=
©©& '
reader
©©( .
[
©©. /
$str
©©/ =
]
©©= >
.
©©> ?
ToString
©©? G
(
©©G H
)
©©H I
;
©©I J
this
™™ 
.
™™ !
PageMetaDescription
™™ (
=
™™) *
reader
™™+ 1
[
™™1 2
$str
™™2 C
]
™™C D
.
™™D E
ToString
™™E M
(
™™M N
)
™™N O
;
™™O P
this
´´ 
.
´´ 
PageMetaEncoding
´´ %
=
´´& '
reader
´´( .
[
´´. /
$str
´´/ =
]
´´= >
.
´´> ?
ToString
´´? G
(
´´G H
)
´´H I
;
´´I J
this
¨¨ 
.
¨¨  
PageMetaAdditional
¨¨ '
=
¨¨( )
reader
¨¨* 0
[
¨¨0 1
$str
¨¨1 E
]
¨¨E F
.
¨¨F G
ToString
¨¨G O
(
¨¨O P
)
¨¨P Q
;
¨¨Q R
this
≠≠ 
.
≠≠ 
IncludeInMenu
≠≠ "
=
≠≠# $
Convert
≠≠% ,
.
≠≠, -
	ToBoolean
≠≠- 6
(
≠≠6 7
reader
≠≠7 =
[
≠≠= >
$str
≠≠> M
]
≠≠M N
)
≠≠N O
;
≠≠O P
string
ØØ 
cf
ØØ 
=
ØØ 
reader
ØØ "
[
ØØ" #
$str
ØØ# 4
]
ØØ4 5
.
ØØ5 6
ToString
ØØ6 >
(
ØØ> ?
)
ØØ? @
;
ØØ@ A
switch
∞∞ 
(
∞∞ 
cf
∞∞ 
)
∞∞ 
{
±± 
case
≤≤ 
$str
≤≤ !
:
≤≤! "
this
≥≥ 
.
≥≥ 
ChangeFrequency
≥≥ ,
=
≥≥- .!
PageChangeFrequency
≥≥/ B
.
≥≥B C
Always
≥≥C I
;
≥≥I J
break
¥¥ 
;
¥¥ 
case
∂∂ 
$str
∂∂ !
:
∂∂! "
this
∑∑ 
.
∑∑ 
ChangeFrequency
∑∑ ,
=
∑∑- .!
PageChangeFrequency
∑∑/ B
.
∑∑B C
Hourly
∑∑C I
;
∑∑I J
break
∏∏ 
;
∏∏ 
case
∫∫ 
$str
∫∫  
:
∫∫  !
this
ªª 
.
ªª 
ChangeFrequency
ªª ,
=
ªª- .!
PageChangeFrequency
ªª/ B
.
ªªB C
Daily
ªªC H
;
ªªH I
break
ºº 
;
ºº 
case
ææ 
$str
ææ "
:
ææ" #
this
øø 
.
øø 
ChangeFrequency
øø ,
=
øø- .!
PageChangeFrequency
øø/ B
.
øøB C
Monthly
øøC J
;
øøJ K
break
¿¿ 
;
¿¿ 
case
¬¬ 
$str
¬¬ !
:
¬¬! "
this
√√ 
.
√√ 
ChangeFrequency
√√ ,
=
√√- .!
PageChangeFrequency
√√/ B
.
√√B C
Yearly
√√C I
;
√√I J
break
ƒƒ 
;
ƒƒ 
case
∆∆ 
$str
∆∆  
:
∆∆  !
this
«« 
.
«« 
ChangeFrequency
«« ,
=
««- .!
PageChangeFrequency
««/ B
.
««B C
Never
««C H
;
««H I
break
»» 
;
»» 
case
   
$str
   !
:
  ! "
default
ÀÀ 
:
ÀÀ 
this
ÃÃ 
.
ÃÃ 
ChangeFrequency
ÃÃ ,
=
ÃÃ- .!
PageChangeFrequency
ÃÃ/ B
.
ÃÃB C
Weekly
ÃÃC I
;
ÃÃI J
break
ÕÕ 
;
ÕÕ 
}
–– 
string
““ 
smp
““ 
=
““ 
reader
““ #
[
““# $
$str
““$ 5
]
““5 6
.
““6 7
ToString
““7 ?
(
““? @
)
““@ A
.
““A B
Trim
““B F
(
““F G
)
““G H
;
““H I
if
”” 
(
”” 
smp
”” 
.
”” 
Length
”” 
>
””  
$num
””! "
)
””" #
this
””$ (
.
””( )
SiteMapPriority
””) 8
=
””9 :
smp
””; >
;
””> ?
if
’’ 
(
’’ 
reader
’’ 
[
’’ 
$str
’’ ,
]
’’, -
!=
’’. 0
DBNull
’’1 7
.
’’7 8
Value
’’8 =
)
’’= >
{
÷÷ 
this
◊◊ 
.
◊◊ 
LastModifiedUtc
◊◊ (
=
◊◊) *
Convert
◊◊+ 2
.
◊◊2 3

ToDateTime
◊◊3 =
(
◊◊= >
reader
◊◊> D
[
◊◊D E
$str
◊◊E V
]
◊◊V W
)
◊◊W X
;
◊◊X Y
}
ÿÿ 
this
⁄⁄ 
.
⁄⁄ 
PageGuid
⁄⁄ 
=
⁄⁄ 
new
⁄⁄  #
Guid
⁄⁄$ (
(
⁄⁄( )
reader
⁄⁄) /
[
⁄⁄/ 0
$str
⁄⁄0 :
]
⁄⁄: ;
.
⁄⁄; <
ToString
⁄⁄< D
(
⁄⁄D E
)
⁄⁄E F
)
⁄⁄F G
;
⁄⁄G H
this
€€ 
.
€€ 

ParentGuid
€€ 
=
€€  !
new
€€" %
Guid
€€& *
(
€€* +
reader
€€+ 1
[
€€1 2
$str
€€2 >
]
€€> ?
.
€€? @
ToString
€€@ H
(
€€H I
)
€€I J
)
€€J K
;
€€K L
this
‹‹ 
.
‹‹ 
HideAfterLogin
‹‹ #
=
‹‹$ %
Convert
‹‹& -
.
‹‹- .
	ToBoolean
‹‹. 7
(
‹‹7 8
reader
‹‹8 >
[
‹‹> ?
$str
‹‹? O
]
‹‹O P
)
‹‹P Q
;
‹‹Q R
this
›› 
.
›› 
SiteGuid
›› 
=
›› 
new
››  #
Guid
››$ (
(
››( )
reader
››) /
[
››/ 0
$str
››0 :
]
››: ;
.
››; <
ToString
››< D
(
››D E
)
››E F
)
››F G
;
››G H
this
ﬁﬁ 
.
ﬁﬁ 
CompiledMeta
ﬁﬁ !
=
ﬁﬁ" #
reader
ﬁﬁ$ *
[
ﬁﬁ* +
$str
ﬁﬁ+ 9
]
ﬁﬁ9 :
.
ﬁﬁ: ;
ToString
ﬁﬁ; C
(
ﬁﬁC D
)
ﬁﬁD E
;
ﬁﬁE F
if
ﬂﬂ 
(
ﬂﬂ 
reader
ﬂﬂ 
[
ﬂﬂ 
$str
ﬂﬂ ,
]
ﬂﬂ, -
!=
ﬂﬂ. 0
DBNull
ﬂﬂ1 7
.
ﬂﬂ7 8
Value
ﬂﬂ8 =
)
ﬂﬂ= >
{
‡‡ 
this
·· 
.
·· 
CompiledMetaUtc
·· (
=
··) *
Convert
··+ 2
.
··2 3

ToDateTime
··3 =
(
··= >
reader
··> D
[
··D E
$str
··E V
]
··V W
)
··W X
;
··X Y
}
‚‚ 
this
‰‰ 
.
‰‰ 
IncludeInSiteMap
‰‰ %
=
‰‰& '
Convert
‰‰( /
.
‰‰/ 0
	ToBoolean
‰‰0 9
(
‰‰9 :
reader
‰‰: @
[
‰‰@ A
$str
‰‰A S
]
‰‰S T
)
‰‰T U
;
‰‰U V
this
ÂÂ 
.
ÂÂ 
IsClickable
ÂÂ  
=
ÂÂ! "
Convert
ÂÂ# *
.
ÂÂ* +
	ToBoolean
ÂÂ+ 4
(
ÂÂ4 5
reader
ÂÂ5 ;
[
ÂÂ; <
$str
ÂÂ< I
]
ÂÂI J
)
ÂÂJ K
;
ÂÂK L
this
ÊÊ 
.
ÊÊ 
ShowHomeCrumb
ÊÊ "
=
ÊÊ# $
Convert
ÊÊ% ,
.
ÊÊ, -
	ToBoolean
ÊÊ- 6
(
ÊÊ6 7
reader
ÊÊ7 =
[
ÊÊ= >
$str
ÊÊ> M
]
ÊÊM N
)
ÊÊN O
;
ÊÊO P
this
ÁÁ 
.
ÁÁ 
	IsPending
ÁÁ 
=
ÁÁ  
Convert
ÁÁ! (
.
ÁÁ( )
	ToBoolean
ÁÁ) 2
(
ÁÁ2 3
reader
ÁÁ3 9
[
ÁÁ9 :
$str
ÁÁ: E
]
ÁÁE F
)
ÁÁF G
;
ÁÁG H
this
ÈÈ 
.
ÈÈ  
IncludeInSearchMap
ÈÈ '
=
ÈÈ( )
Convert
ÈÈ* 1
.
ÈÈ1 2
	ToBoolean
ÈÈ2 ;
(
ÈÈ; <
reader
ÈÈ< B
[
ÈÈB C
$str
ÈÈC W
]
ÈÈW X
)
ÈÈX Y
;
ÈÈY Z
this
ÍÍ 
.
ÍÍ 
CanonicalOverride
ÍÍ &
=
ÍÍ' (
reader
ÍÍ) /
[
ÍÍ/ 0
$str
ÍÍ0 C
]
ÍÍC D
.
ÍÍD E
ToString
ÍÍE M
(
ÍÍM N
)
ÍÍN O
;
ÍÍO P
this
ÎÎ 
.
ÎÎ 
EnableComments
ÎÎ #
=
ÎÎ$ %
Convert
ÎÎ& -
.
ÎÎ- .
	ToBoolean
ÎÎ. 7
(
ÎÎ7 8
reader
ÎÎ8 >
[
ÎÎ> ?
$str
ÎÎ? O
]
ÎÎO P
)
ÎÎP Q
;
ÎÎQ R
this
ÌÌ 
.
ÌÌ 
	PubTeamId
ÌÌ 
=
ÌÌ  
new
ÌÌ! $
Guid
ÌÌ% )
(
ÌÌ) *
reader
ÌÌ* 0
[
ÌÌ0 1
$str
ÌÌ1 <
]
ÌÌ< =
.
ÌÌ= >
ToString
ÌÌ> F
(
ÌÌF G
)
ÌÌG H
)
ÌÌH I
;
ÌÌI J
this
ÓÓ 
.
ÓÓ #
IncludeInChildSiteMap
ÓÓ *
=
ÓÓ+ ,
Convert
ÓÓ- 4
.
ÓÓ4 5
	ToBoolean
ÓÓ5 >
(
ÓÓ> ?
reader
ÓÓ? E
[
ÓÓE F
$str
ÓÓF ]
]
ÓÓ] ^
)
ÓÓ^ _
;
ÓÓ_ `
this
ÔÔ 
.
ÔÔ 
ExpandOnSiteMap
ÔÔ $
=
ÔÔ% &
Convert
ÔÔ' .
.
ÔÔ. /
	ToBoolean
ÔÔ/ 8
(
ÔÔ8 9
reader
ÔÔ9 ?
[
ÔÔ? @
$str
ÔÔ@ Q
]
ÔÔQ R
)
ÔÔR S
;
ÔÔS T
this
ÒÒ 
.
ÒÒ 
BodyCssClass
ÒÒ !
=
ÒÒ" #
reader
ÒÒ$ *
[
ÒÒ* +
$str
ÒÒ+ 9
]
ÒÒ9 :
.
ÒÒ: ;
ToString
ÒÒ; C
(
ÒÒC D
)
ÒÒD E
;
ÒÒE F
this
ÚÚ 
.
ÚÚ 
MenuCssClass
ÚÚ !
=
ÚÚ" #
reader
ÚÚ$ *
[
ÚÚ* +
$str
ÚÚ+ 9
]
ÚÚ9 :
.
ÚÚ: ;
ToString
ÚÚ; C
(
ÚÚC D
)
ÚÚD E
;
ÚÚE F
this
ÙÙ 
.
ÙÙ 
PublishMode
ÙÙ  
=
ÙÙ! "
Convert
ÙÙ# *
.
ÙÙ* +
ToInt32
ÙÙ+ 2
(
ÙÙ2 3
reader
ÙÙ3 9
[
ÙÙ9 :
$str
ÙÙ: G
]
ÙÙG H
.
ÙÙH I
ToString
ÙÙI Q
(
ÙÙQ R
)
ÙÙR S
)
ÙÙS T
;
ÙÙT U
if
ˆˆ 
(
ˆˆ 
reader
ˆˆ 
[
ˆˆ 
$str
ˆˆ (
]
ˆˆ( )
!=
ˆˆ* ,
DBNull
ˆˆ- 3
.
ˆˆ3 4
Value
ˆˆ4 9
)
ˆˆ9 :
{
˜˜ 
this
¯¯ 
.
¯¯ 

CreatedUtc
¯¯ #
=
¯¯$ %
Convert
¯¯& -
.
¯¯- .

ToDateTime
¯¯. 8
(
¯¯8 9
reader
¯¯9 ?
[
¯¯? @
$str
¯¯@ M
]
¯¯M N
)
¯¯N O
;
¯¯O P
}
˘˘ 
if
˚˚ 
(
˚˚ 
reader
˚˚ 
[
˚˚ 
$str
˚˚ '
]
˚˚' (
!=
˚˚) +
DBNull
˚˚, 2
.
˚˚2 3
Value
˚˚3 8
)
˚˚8 9
{
¸¸ 
string
˝˝ 
pcg
˝˝ 
=
˝˝  
reader
˝˝! '
[
˝˝' (
$str
˝˝( 4
]
˝˝4 5
.
˝˝5 6
ToString
˝˝6 >
(
˝˝> ?
)
˝˝? @
;
˝˝@ A
if
˛˛ 
(
˛˛ 
pcg
˛˛ 
.
˛˛ 
Length
˛˛ "
==
˛˛# %
$num
˛˛& (
)
˛˛( )
{
ˇˇ 
this
ÄÄ 
.
ÄÄ 
	CreatedBy
ÄÄ &
=
ÄÄ' (
new
ÄÄ) ,
Guid
ÄÄ- 1
(
ÄÄ1 2
pcg
ÄÄ2 5
)
ÄÄ5 6
;
ÄÄ6 7
}
ÅÅ 
}
ÉÉ 
this
ÖÖ 
.
ÖÖ 
CreatedFromIp
ÖÖ "
=
ÖÖ# $
reader
ÖÖ% +
[
ÖÖ+ ,
$str
ÖÖ, <
]
ÖÖ< =
.
ÖÖ= >
ToString
ÖÖ> F
(
ÖÖF G
)
ÖÖG H
;
ÖÖH I
if
áá 
(
áá 
reader
áá 
[
áá 
$str
áá (
]
áá( )
!=
áá* ,
DBNull
áá- 3
.
áá3 4
Value
áá4 9
)
áá9 :
{
àà 
this
ââ 
.
ââ 

LastModUtc
ââ #
=
ââ$ %
Convert
ââ& -
.
ââ- .

ToDateTime
ââ. 8
(
ââ8 9
reader
ââ9 ?
[
ââ? @
$str
ââ@ M
]
ââM N
)
ââN O
;
ââO P
}
ää 
if
åå 
(
åå 
reader
åå 
[
åå 
$str
åå '
]
åå' (
!=
åå) +
DBNull
åå, 2
.
åå2 3
Value
åå3 8
)
åå8 9
{
çç 
string
éé 
pcg
éé 
=
éé  
reader
éé! '
[
éé' (
$str
éé( 4
]
éé4 5
.
éé5 6
ToString
éé6 >
(
éé> ?
)
éé? @
;
éé@ A
if
èè 
(
èè 
pcg
èè 
.
èè 
Length
èè "
==
èè# %
$num
èè& (
)
èè( )
{
êê 
this
ëë 
.
ëë 
	LastModBy
ëë &
=
ëë' (
new
ëë) ,
Guid
ëë- 1
(
ëë1 2
pcg
ëë2 5
)
ëë5 6
;
ëë6 7
}
íí 
}
îî 
this
ññ 
.
ññ 
LastModFromIp
ññ "
=
ññ# $
reader
ññ% +
[
ññ+ ,
$str
ññ, <
]
ññ< =
.
ññ= >
ToString
ññ> F
(
ññF G
)
ññG H
;
ññH I
this
òò 
.
òò 
CreatedByName
òò "
=
òò# $
reader
òò% +
[
òò+ ,
$str
òò, ;
]
òò; <
.
òò< =
ToString
òò= E
(
òòE F
)
òòF G
;
òòG H
this
ôô 
.
ôô 
CreatedByEmail
ôô #
=
ôô$ %
reader
ôô& ,
[
ôô, -
$str
ôô- =
]
ôô= >
.
ôô> ?
ToString
ôô? G
(
ôôG H
)
ôôH I
;
ôôI J
this
öö 
.
öö  
CreatedByFirstName
öö '
=
öö( )
reader
öö* 0
[
öö0 1
$str
öö1 E
]
ööE F
.
ööF G
ToString
ööG O
(
ööO P
)
ööP Q
;
ööQ R
this
õõ 
.
õõ 
CreatedByLastName
õõ &
=
õõ' (
reader
õõ) /
[
õõ/ 0
$str
õõ0 C
]
õõC D
.
õõD E
ToString
õõE M
(
õõM N
)
õõN O
;
õõO P
this
úú 
.
úú 
LastModByName
úú "
=
úú# $
reader
úú% +
[
úú+ ,
$str
úú, ;
]
úú; <
.
úú< =
ToString
úú= E
(
úúE F
)
úúF G
;
úúG H
this
ùù 
.
ùù 
LastModByEmail
ùù #
=
ùù$ %
reader
ùù& ,
[
ùù, -
$str
ùù- =
]
ùù= >
.
ùù> ?
ToString
ùù? G
(
ùùG H
)
ùùH I
;
ùùI J
this
ûû 
.
ûû  
LastModByFirstName
ûû '
=
ûû( )
reader
ûû* 0
[
ûû0 1
$str
ûû1 E
]
ûûE F
.
ûûF G
ToString
ûûG O
(
ûûO P
)
ûûP Q
;
ûûQ R
this
üü 
.
üü 
LastModByLastName
üü &
=
üü' (
reader
üü) /
[
üü/ 0
$str
üü0 C
]
üüC D
.
üüD E
ToString
üüE M
(
üüM N
)
üüN O
;
üüO P
this
†† 
.
†† 
MenuDescription
†† $
=
††% &
reader
††' -
[
††- .
$str
††. 8
]
††8 9
.
††9 :
ToString
††: B
(
††B C
)
††C D
;
††D E
if
¢¢ 
(
¢¢ 
reader
¢¢ 
[
¢¢ 
$str
¢¢ '
]
¢¢' (
!=
¢¢) +
DBNull
¢¢, 2
.
¢¢2 3
Value
¢¢3 8
)
¢¢8 9
{
££ 
this
§§ 
.
§§ 

PubDateUtc
§§ #
=
§§$ %
Convert
§§& -
.
§§- .

ToDateTime
§§. 8
(
§§8 9
reader
§§9 ?
[
§§? @
$str
§§@ L
]
§§L M
)
§§M N
;
§§N O
}
•• 
this
ßß 
.
ßß 
ShowPageHeading
ßß $
=
ßß% &
Convert
ßß' .
.
ßß. /
	ToBoolean
ßß/ 8
(
ßß8 9
reader
ßß9 ?
[
ßß? @
$str
ßß@ Q
]
ßßQ R
)
ßßR S
;
ßßS T
this
®® 
.
®® 
LinkRel
®® 
=
®® 
reader
®® %
[
®®% &
$str
®®& /
]
®®/ 0
.
®®0 1
ToString
®®1 9
(
®®9 :
)
®®: ;
;
®®; <
this
©© 
.
©© 
PageHeading
©©  
=
©©! "
reader
©©# )
[
©©) *
$str
©©* 7
]
©©7 8
.
©©8 9
ToString
©©9 A
(
©©A B
)
©©B C
;
©©C D
}
¨¨ 
}
ØØ 	
private
±± 	
IDataReader
±±
 
GetChildPages
±± #
(
±±# $
)
±±$ %
{
≤≤ 
return
≥≥ 	
DBPageSettings
≥≥
 
.
≥≥ 
GetChildPages
≥≥ &
(
≥≥& '
this
≥≥' +
.
≥≥+ ,
SiteId
≥≥, 2
,
≥≥2 3
this
≥≥4 8
.
≥≥8 9
ParentId
≥≥9 A
)
≥≥A B
;
≥≥B C
}
¥¥ 
private
∂∂ 
	DataTable
∂∂ 
GetChildPageIds
∂∂ )
(
∂∂) *
)
∂∂* +
{
∑∑ 	
	DataTable
∏∏ 
dt
∏∏ 
=
∏∏ 
new
∏∏ 
	DataTable
∏∏ (
(
∏∏( )
)
∏∏) *
;
∏∏* +
dt
ππ 
.
ππ 
Columns
ππ 
.
ππ 
Add
ππ 
(
ππ 
$str
ππ #
,
ππ# $
typeof
ππ% +
(
ππ+ ,
int
ππ, /
)
ππ/ 0
)
ππ0 1
;
ππ1 2
using
∫∫ 
(
∫∫ 
IDataReader
∫∫ 
reader
∫∫ %
=
∫∫& '
GetChildPages
∫∫( 5
(
∫∫5 6
)
∫∫6 7
)
∫∫7 8
{
ªª 
while
ºº 
(
ºº 
reader
ºº 
.
ºº 
Read
ºº "
(
ºº" #
)
ºº# $
)
ºº$ %
{
ΩΩ 
DataRow
ææ 
row
ææ 
=
ææ  !
dt
ææ" $
.
ææ$ %
NewRow
ææ% +
(
ææ+ ,
)
ææ, -
;
ææ- .
row
øø 
[
øø 
$str
øø  
]
øø  !
=
øø" #
reader
øø$ *
[
øø* +
$str
øø+ 3
]
øø3 4
;
øø4 5
dt
¡¡ 
.
¡¡ 
Rows
¡¡ 
.
¡¡ 
Add
¡¡ 
(
¡¡  
row
¡¡  #
)
¡¡# $
;
¡¡$ %
}
¬¬ 
}
√√ 
return
≈≈ 
dt
≈≈ 
;
≈≈ 
}
«« 	
private
…… 	
bool
……
 
Create
…… 
(
…… 
)
…… 
{
   
int
ÀÀ 
newID
ÀÀ 
=
ÀÀ 
-
ÀÀ 
$num
ÀÀ 
;
ÀÀ 
if
ÕÕ 
(
ÕÕ 
this
ÕÕ 
.
ÕÕ 
PageGuid
ÕÕ 
==
ÕÕ  
Guid
ÕÕ! %
.
ÕÕ% &
Empty
ÕÕ& +
)
ÕÕ+ ,
this
ÕÕ- 1
.
ÕÕ1 2
PageGuid
ÕÕ2 :
=
ÕÕ; <
Guid
ÕÕ= A
.
ÕÕA B
NewGuid
ÕÕB I
(
ÕÕI J
)
ÕÕJ K
;
ÕÕK L
newID
œœ 
=
œœ	 

DBPageSettings
œœ 
.
œœ 
Create
œœ  
(
œœ  !
this
–– 
.
–– 	
SiteId
––	 
,
–– 
this
—— 
.
—— 	
ParentId
——	 
,
—— 
this
““ 
.
““ 	
PageName
““	 
,
““ 
this
”” 
.
”” 
	PageTitle
”” 
,
”” 
this
‘‘ 
.
‘‘ 	
Skin
‘‘	 
,
‘‘ 
this
’’ 
.
’’ 	
	PageOrder
’’	 
,
’’ 
this
÷÷ 
.
÷÷ 	
AuthorizedRoles
÷÷	 
,
÷÷ 
this
◊◊ 
.
◊◊ 	
	EditRoles
◊◊	 
,
◊◊ 
this
ÿÿ 
.
ÿÿ  
DraftEditOnlyRoles
ÿÿ '
,
ÿÿ' (
this
ŸŸ 
.
ŸŸ  
DraftApprovalRoles
ŸŸ '
,
ŸŸ' (
this
⁄⁄ 
.
⁄⁄ 	"
CreateChildPageRoles
⁄⁄	 
,
⁄⁄ 
this
€€ 
.
€€ #
CreateChildDraftRoles
€€ *
,
€€* +
this
‹‹ 
.
‹‹ 	

RequireSsl
‹‹	 
,
‹‹ 
this
›› 
.
›› 
AllowBrowserCache
›› &
,
››& '
this
ﬁﬁ 
.
ﬁﬁ 	
ShowBreadcrumbs
ﬁﬁ	 
,
ﬁﬁ 
this
ﬂﬂ 
.
ﬂﬂ 	&
ShowChildPageBreadcrumbs
ﬂﬂ	 !
,
ﬂﬂ! "
this
‡‡ 
.
‡‡ 	
PageMetaKeyWords
‡‡	 
,
‡‡ 
this
·· 
.
·· 	!
PageMetaDescription
··	 
,
·· 
this
‚‚ 
.
‚‚ 	
PageMetaEncoding
‚‚	 
,
‚‚ 
this
„„ 
.
„„ 	 
PageMetaAdditional
„„	 
,
„„ 
this
‰‰ 
.
‰‰ 	
UseUrl
‰‰	 
,
‰‰ 
this
ÂÂ 
.
ÂÂ 	
Url
ÂÂ	 
,
ÂÂ 
this
ÊÊ 
.
ÊÊ 	
OpenInNewWindow
ÊÊ	 
,
ÊÊ 
this
ÁÁ 
.
ÁÁ 	
ShowChildPageMenu
ÁÁ	 
,
ÁÁ 
this
ËË 
.
ËË 	
HideMainMenu
ËË	 
,
ËË 
this
ÈÈ 
.
ÈÈ 
IncludeInMenu
ÈÈ "
,
ÈÈ" #
this
ÍÍ 
.
ÍÍ 
	MenuImage
ÍÍ 
,
ÍÍ 
this
ÎÎ 
.
ÎÎ 
ChangeFrequency
ÎÎ $
.
ÎÎ$ %
ToString
ÎÎ% -
(
ÎÎ- .
)
ÎÎ. /
,
ÎÎ/ 0
this
ÏÏ 
.
ÏÏ 
SiteMapPriority
ÏÏ $
,
ÏÏ$ %
this
ÌÌ 
.
ÌÌ 
PageGuid
ÌÌ 
,
ÌÌ 
this
ÓÓ 
.
ÓÓ 

ParentGuid
ÓÓ 
,
ÓÓ  
this
ÔÔ 
.
ÔÔ 
HideAfterLogin
ÔÔ #
,
ÔÔ# $
this
 
.
 
SiteGuid
 
,
 
this
ÒÒ 
.
ÒÒ 
CompiledMeta
ÒÒ !
,
ÒÒ! "
this
ÚÚ 
.
ÚÚ 
CompiledMetaUtc
ÚÚ $
,
ÚÚ$ %
this
ÛÛ 
.
ÛÛ 
IncludeInSiteMap
ÛÛ %
,
ÛÛ% &
this
ÙÙ 
.
ÙÙ 
IsClickable
ÙÙ  
,
ÙÙ  !
this
ıı 
.
ıı 
ShowHomeCrumb
ıı "
,
ıı" #
this
ˆˆ 
.
ˆˆ 
	IsPending
ˆˆ 
,
ˆˆ 
this
˜˜ 
.
˜˜ 
CanonicalOverride
˜˜ &
,
˜˜& '
this
¯¯ 
.
¯¯  
IncludeInSearchMap
¯¯ '
,
¯¯' (
this
˘˘ 
.
˘˘ 
EnableComments
˘˘ #
,
˘˘# $
this
˙˙ 
.
˙˙ #
IncludeInChildSiteMap
˙˙ *
,
˙˙* +
this
˚˚ 
.
˚˚ 
ExpandOnSiteMap
˚˚ $
,
˚˚$ %
this
¸¸ 
.
¸¸ 
	PubTeamId
¸¸ 
,
¸¸ 
this
˝˝ 
.
˝˝ 
BodyCssClass
˝˝ !
,
˝˝! "
this
˛˛ 
.
˛˛ 
MenuCssClass
˛˛ !
,
˛˛! "
this
ˇˇ 
.
ˇˇ 
PublishMode
ˇˇ  
,
ˇˇ  !
this
ÄÄ 
.
ÄÄ 
	CreatedBy
ÄÄ 
,
ÄÄ 
this
ÅÅ 
.
ÅÅ 
CreatedFromIp
ÅÅ "
,
ÅÅ" #
this
ÇÇ 
.
ÇÇ 
MenuDescription
ÇÇ $
,
ÇÇ$ %
this
ÉÉ 
.
ÉÉ 
LinkRel
ÉÉ 
,
ÉÉ 
this
ÑÑ 
.
ÑÑ 
PageHeading
ÑÑ  
,
ÑÑ  !
this
ÖÖ 
.
ÖÖ 
ShowPageHeading
ÖÖ $
,
ÖÖ$ %
this
ÜÜ 
.
ÜÜ 

PubDateUtc
ÜÜ 
)
ÜÜ  
;
ÜÜ  !
this
àà 
.
àà 
PageId
àà 
=
àà 
newID
àà 
;
àà 
bool
ää 
result
ää 
=
ää 
(
ää 
newID
ää  
>
ää! "
-
ää# $
$num
ää$ %
)
ää% &
;
ää& '
if
çç 
(
çç 
result
çç 
)
çç 
{
éé "
PageCreatedEventArgs
èè $
e
èè% &
=
èè' (
new
èè) ,"
PageCreatedEventArgs
èè- A
(
èèA B
)
èèB C
;
èèC D
OnPageCreated
êê 
(
êê 
e
êê 
)
êê  
;
êê  !
}
ëë 
return
ìì 	
result
ìì
 
;
ìì 
}
îî 
private
ññ 	
bool
ññ
 
Update
ññ 
(
ññ 
)
ññ 
{
óó 
return
ôô 	
DBPageSettings
ôô
 
.
ôô 

UpdatePage
ôô #
(
ôô# $
this
öö 
.
öö 	
SiteId
öö	 
,
öö 
this
õõ 
.
õõ 	
PageId
õõ	 
,
õõ 
this
úú 
.
úú 	
ParentId
úú	 
,
úú 
this
ùù 
.
ùù 	
PageName
ùù	 
,
ùù 
this
ûû 
.
ûû 
	PageTitle
ûû 
,
ûû 
this
üü 
.
üü 	
Skin
üü	 
,
üü 
this
†† 
.
†† 	
	PageOrder
††	 
,
†† 
this
°° 
.
°° 	
AuthorizedRoles
°°	 
,
°° 
this
¢¢ 
.
¢¢ 	
	EditRoles
¢¢	 
,
¢¢ 
this
££ 
.
££  
DraftEditOnlyRoles
££ '
,
££' (
this
§§ 
.
§§  
DraftApprovalRoles
§§ '
,
§§' (
this
•• 
.
•• 	"
CreateChildPageRoles
••	 
,
•• 
this
¶¶ 
.
¶¶ #
CreateChildDraftRoles
¶¶ *
,
¶¶* +
this
ßß 
.
ßß 	

RequireSsl
ßß	 
,
ßß 
this
®® 
.
®® 
AllowBrowserCache
®® &
,
®®& '
this
©© 
.
©© 	
ShowBreadcrumbs
©©	 
,
©© 
this
™™ 
.
™™ 	&
ShowChildPageBreadcrumbs
™™	 !
,
™™! "
this
´´ 
.
´´ 	
PageMetaKeyWords
´´	 
,
´´ 
this
¨¨ 
.
¨¨ 	!
PageMetaDescription
¨¨	 
,
¨¨ 
this
≠≠ 
.
≠≠ 	
PageMetaEncoding
≠≠	 
,
≠≠ 
this
ÆÆ 
.
ÆÆ 	 
PageMetaAdditional
ÆÆ	 
,
ÆÆ 
this
ØØ 
.
ØØ 	
UseUrl
ØØ	 
,
ØØ 
this
∞∞ 
.
∞∞ 	
Url
∞∞	 
,
∞∞ 
this
±± 
.
±± 	
OpenInNewWindow
±±	 
,
±± 
this
≤≤ 
.
≤≤ 	
ShowChildPageMenu
≤≤	 
,
≤≤ 
this
≥≥ 
.
≥≥ 	
HideMainMenu
≥≥	 
,
≥≥ 
this
¥¥ 
.
¥¥ 
IncludeInMenu
¥¥ "
,
¥¥" #
this
µµ 
.
µµ 
	MenuImage
µµ 
,
µµ 
this
∂∂ 
.
∂∂ 
ChangeFrequency
∂∂ $
.
∂∂$ %
ToString
∂∂% -
(
∂∂- .
)
∂∂. /
,
∂∂/ 0
this
∑∑ 
.
∑∑ 
SiteMapPriority
∑∑ $
,
∑∑$ %
this
∏∏ 
.
∏∏ 

ParentGuid
∏∏ 
,
∏∏  
this
ππ 
.
ππ 
HideAfterLogin
ππ #
,
ππ# $
this
∫∫ 
.
∫∫ 
CompiledMeta
∫∫ !
,
∫∫! "
this
ªª 
.
ªª 
CompiledMetaUtc
ªª $
,
ªª$ %
this
ºº 
.
ºº 
IncludeInSiteMap
ºº %
,
ºº% &
this
ΩΩ 
.
ΩΩ 
IsClickable
ΩΩ  
,
ΩΩ  !
this
ææ 
.
ææ 
ShowHomeCrumb
ææ "
,
ææ" #
this
øø 
.
øø 
	IsPending
øø 
,
øø 
this
¿¿ 
.
¿¿ 
CanonicalOverride
¿¿ &
,
¿¿& '
this
¡¡ 
.
¡¡  
IncludeInSearchMap
¡¡ '
,
¡¡' (
this
¬¬ 
.
¬¬ 
EnableComments
¬¬ #
,
¬¬# $
this
√√ 
.
√√ #
IncludeInChildSiteMap
√√ *
,
√√* +
this
ƒƒ 
.
ƒƒ 
ExpandOnSiteMap
ƒƒ $
,
ƒƒ$ %
this
≈≈ 
.
≈≈ 
	PubTeamId
≈≈ 
,
≈≈ 
this
∆∆ 
.
∆∆ 
BodyCssClass
∆∆ !
,
∆∆! "
this
«« 
.
«« 
MenuCssClass
«« !
,
««! "
this
»» 
.
»» 
PublishMode
»»  
,
»»  !
this
…… 
.
…… 

CreatedUtc
…… 
,
……  
this
   
.
   
	CreatedBy
   
,
   
this
ÀÀ 
.
ÀÀ 
	LastModBy
ÀÀ 
,
ÀÀ 
this
ÃÃ 
.
ÃÃ 
LastModFromIp
ÃÃ "
,
ÃÃ" #
this
ÕÕ 
.
ÕÕ 
MenuDescription
ÕÕ $
,
ÕÕ$ %
this
ŒŒ 
.
ŒŒ 
LinkRel
ŒŒ 
,
ŒŒ 
this
œœ 
.
œœ 
PageHeading
œœ  
,
œœ  !
this
–– 
.
–– 
ShowPageHeading
–– $
,
––$ %
this
—— 
.
—— 

PubDateUtc
—— 
)
——  
;
——  !
}
““ 
public
’’ 
void
’’ 
RefreshModules
’’ "
(
’’" #
)
’’# $
{
÷÷ 	
this
◊◊ 
.
◊◊ 
Modules
◊◊ 
.
◊◊ 
Clear
◊◊ 
(
◊◊ 
)
◊◊  
;
◊◊  !
using
ÿÿ 
(
ÿÿ 
IDataReader
ÿÿ 
reader
ÿÿ %
=
ÿÿ& '
Module
ÿÿ( .
.
ÿÿ. /
GetPageModules
ÿÿ/ =
(
ÿÿ= >
this
ÿÿ> B
.
ÿÿB C
PageId
ÿÿC I
)
ÿÿI J
)
ÿÿJ K
{
ŸŸ 
while
⁄⁄ 
(
⁄⁄ 
reader
⁄⁄ 
.
⁄⁄ 
Read
⁄⁄ "
(
⁄⁄" #
)
⁄⁄# $
)
⁄⁄$ %
{
€€ 
Module
‹‹ 
m
‹‹ 
=
‹‹ 
new
‹‹ 
Module
‹‹ 
(
‹‹ 
)
‹‹ 
;
‹‹ 
m
›› 
.
›› 
ModuleId
›› 
=
›› 
Convert
›› 
.
›› 
ToInt32
›› !
(
››! "
reader
››" (
[
››( )
$str
››) 3
]
››3 4
)
››4 5
;
››5 6
m
ﬁﬁ 
.
ﬁﬁ 
SiteId
ﬁﬁ 
=
ﬁﬁ 
Convert
ﬁﬁ 
.
ﬁﬁ 
ToInt32
ﬁﬁ 
(
ﬁﬁ  
reader
ﬁﬁ  &
[
ﬁﬁ& '
$str
ﬁﬁ' /
]
ﬁﬁ/ 0
)
ﬁﬁ0 1
;
ﬁﬁ1 2
m
ﬂﬂ 
.
ﬂﬂ 
ModuleDefId
ﬂﬂ 
=
ﬂﬂ 
Convert
ﬂﬂ 
.
ﬂﬂ 
ToInt32
ﬂﬂ $
(
ﬂﬂ$ %
reader
ﬂﬂ% +
[
ﬂﬂ+ ,
$str
ﬂﬂ, 9
]
ﬂﬂ9 :
)
ﬂﬂ: ;
;
ﬂﬂ; <
m
‡‡ 
.
‡‡ 
ModuleTitle
‡‡ 
=
‡‡ 
reader
‡‡ 
[
‡‡ 
$str
‡‡ )
]
‡‡) *
.
‡‡* +
ToString
‡‡+ 3
(
‡‡3 4
)
‡‡4 5
;
‡‡5 6
m
·· 
.
·· !
AuthorizedEditRoles
·· 
=
·· 
reader
·· #
[
··# $
$str
··$ 9
]
··9 :
.
··: ;
ToString
··; C
(
··C D
)
··D E
;
··E F
m
‚‚ 
.
‚‚ 
	CacheTime
‚‚ 
=
‚‚ 
Convert
‚‚ 
.
‚‚ 
ToInt32
‚‚ "
(
‚‚" #
reader
‚‚# )
[
‚‚) *
$str
‚‚* 5
]
‚‚5 6
)
‚‚6 7
;
‚‚7 8
string
„„ 
	showTitle
„„ 
=
„„ 
reader
„„ 
[
„„ 
$str
„„ *
]
„„* +
.
„„+ ,
ToString
„„, 4
(
„„4 5
)
„„5 6
;
„„6 7
m
‰‰ 
.
‰‰ 
	ShowTitle
‰‰ 
=
‰‰ 
(
‰‰ 
	showTitle
‰‰ 
==
‰‰  
$str
‰‰! '
||
‰‰( *
	showTitle
‰‰+ 4
==
‰‰5 7
$str
‰‰8 ;
)
‰‰; <
;
‰‰< =
if
ÂÂ 
(
ÂÂ 	
reader
ÂÂ	 
[
ÂÂ 
$str
ÂÂ 
]
ÂÂ 
!=
ÂÂ  
DBNull
ÂÂ! '
.
ÂÂ' (
Value
ÂÂ( -
)
ÂÂ- .
{
ÊÊ 
m
ÁÁ 
.
ÁÁ 

EditUserId
ÁÁ 
=
ÁÁ 
Convert
ÁÁ 
.
ÁÁ 
ToInt32
ÁÁ $
(
ÁÁ$ %
reader
ÁÁ% +
[
ÁÁ+ ,
$str
ÁÁ, 8
]
ÁÁ8 9
)
ÁÁ9 :
;
ÁÁ: ;
}
ËË 
m
ÏÏ 
.
ÏÏ 
CreatedByUserId
ÏÏ 
=
ÏÏ 
Convert
ÏÏ  
.
ÏÏ  !
ToInt32
ÏÏ! (
(
ÏÏ( )
reader
ÏÏ) /
[
ÏÏ/ 0
$str
ÏÏ0 A
]
ÏÏA B
)
ÏÏB C
;
ÏÏC D
if
ÌÌ 
(
ÌÌ 	
reader
ÌÌ	 
[
ÌÌ 
$str
ÌÌ 
]
ÌÌ 
!=
ÌÌ !
DBNull
ÌÌ" (
.
ÌÌ( )
Value
ÌÌ) .
)
ÌÌ. /
{
ÓÓ 
m
ÔÔ 
.
ÔÔ 
CreatedDate
ÔÔ 
=
ÔÔ 
Convert
ÔÔ 
.
ÔÔ 

ToDateTime
ÔÔ (
(
ÔÔ( )
reader
ÔÔ) /
[
ÔÔ/ 0
$str
ÔÔ0 =
]
ÔÔ= >
)
ÔÔ> ?
;
ÔÔ? @
}
 
m
ÚÚ 
.
ÚÚ 

ModuleGuid
ÚÚ 
=
ÚÚ 
new
ÚÚ 
Guid
ÚÚ 
(
ÚÚ 
reader
ÚÚ #
[
ÚÚ# $
$str
ÚÚ$ *
]
ÚÚ* +
.
ÚÚ+ ,
ToString
ÚÚ, 4
(
ÚÚ4 5
)
ÚÚ5 6
)
ÚÚ6 7
;
ÚÚ7 8
m
ÛÛ 
.
ÛÛ 
FeatureGuid
ÛÛ 
=
ÛÛ 
new
ÛÛ 
Guid
ÛÛ 
(
ÛÛ 
reader
ÛÛ $
[
ÛÛ$ %
$str
ÛÛ% 2
]
ÛÛ2 3
.
ÛÛ3 4
ToString
ÛÛ4 <
(
ÛÛ< =
)
ÛÛ= >
)
ÛÛ> ?
;
ÛÛ? @
m
ÙÙ 
.
ÙÙ 
SiteGuid
ÙÙ 
=
ÙÙ 
new
ÙÙ 
Guid
ÙÙ 
(
ÙÙ 
reader
ÙÙ !
[
ÙÙ! "
$str
ÙÙ" ,
]
ÙÙ, -
.
ÙÙ- .
ToString
ÙÙ. 6
(
ÙÙ6 7
)
ÙÙ7 8
)
ÙÙ8 9
;
ÙÙ9 :
if
ıı 
(
ıı 	
reader
ıı	 
[
ıı 
$str
ıı 
]
ıı 
!=
ıı  "
DBNull
ıı# )
.
ıı) *
Value
ıı* /
)
ıı/ 0
{
ˆˆ 
m
˜˜ 
.
˜˜ 
EditUserGuid
˜˜ 
=
˜˜ 
new
˜˜ 
Guid
˜˜ 
(
˜˜  
reader
˜˜  &
[
˜˜& '
$str
˜˜' 5
]
˜˜5 6
.
˜˜6 7
ToString
˜˜7 ?
(
˜˜? @
)
˜˜@ A
)
˜˜A B
;
˜˜B C
}
¯¯ 
m
˘˘ 
.
˘˘ %
HideFromUnauthenticated
˘˘ 
=
˘˘  
Convert
˘˘! (
.
˘˘( )
	ToBoolean
˘˘) 2
(
˘˘2 3
reader
˘˘3 9
[
˘˘9 :
$str
˘˘: J
]
˘˘J K
)
˘˘K L
;
˘˘L M
m
˙˙ 
.
˙˙ #
HideFromAuthenticated
˙˙ 
=
˙˙ 
Convert
˙˙ &
.
˙˙& '
	ToBoolean
˙˙' 0
(
˙˙0 1
reader
˙˙1 7
[
˙˙7 8
$str
˙˙8 F
]
˙˙F G
)
˙˙G H
;
˙˙H I
m
˚˚ 
.
˚˚ 
	ViewRoles
˚˚ 
=
˚˚ 
reader
˚˚ 
[
˚˚ 
$str
˚˚ %
]
˚˚% &
.
˚˚& '
ToString
˚˚' /
(
˚˚/ 0
)
˚˚0 1
;
˚˚1 2
m
¸¸ 
.
¸¸ 
DraftEditRoles
¸¸ 
=
¸¸ 
reader
¸¸ 
[
¸¸ 
$str
¸¸ /
]
¸¸/ 0
.
¸¸0 1
ToString
¸¸1 9
(
¸¸9 :
)
¸¸: ;
;
¸¸; <
m
˝˝ 
.
˝˝ 
IncludeInSearch
˝˝ 
=
˝˝ 
Convert
˝˝  
.
˝˝  !
	ToBoolean
˝˝! *
(
˝˝* +
reader
˝˝+ 1
[
˝˝1 2
$str
˝˝2 C
]
˝˝C D
)
˝˝D E
;
˝˝E F
m
˛˛ 
.
˛˛ 
IsGlobal
˛˛ 
=
˛˛ 
Convert
˛˛ 
.
˛˛ 
	ToBoolean
˛˛ #
(
˛˛# $
reader
˛˛$ *
[
˛˛* +
$str
˛˛+ 5
]
˛˛5 6
)
˛˛6 7
;
˛˛7 8
m
ˇˇ 
.
ˇˇ 
HeadElement
ˇˇ 
=
ˇˇ 
reader
ˇˇ 
[
ˇˇ 
$str
ˇˇ )
]
ˇˇ) *
.
ˇˇ* +
ToString
ˇˇ+ 3
(
ˇˇ3 4
)
ˇˇ4 5
;
ˇˇ5 6
m
ÄÄ 
.
ÄÄ 
PublishMode
ÄÄ 
=
ÄÄ 
Convert
ÄÄ 
.
ÄÄ 
ToInt32
ÄÄ $
(
ÄÄ$ %
reader
ÄÄ% +
[
ÄÄ+ ,
$str
ÄÄ, 9
]
ÄÄ9 :
)
ÄÄ: ;
;
ÄÄ; <
m
ÅÅ 
.
ÅÅ  
DraftApprovalRoles
ÅÅ 
=
ÅÅ 
reader
ÅÅ "
[
ÅÅ" #
$str
ÅÅ# 7
]
ÅÅ7 8
.
ÅÅ8 9
ToString
ÅÅ9 A
(
ÅÅA B
)
ÅÅB C
;
ÅÅC D
m
ÉÉ 
.
ÉÉ 
PageId
ÉÉ 
=
ÉÉ 
Convert
ÉÉ 
.
ÉÉ 
ToInt32
ÉÉ 
(
ÉÉ  
reader
ÉÉ  &
[
ÉÉ& '
$str
ÉÉ' /
]
ÉÉ/ 0
)
ÉÉ0 1
;
ÉÉ1 2
m
ÑÑ 
.
ÑÑ 
PaneName
ÑÑ 
=
ÑÑ 
reader
ÑÑ 
[
ÑÑ 
$str
ÑÑ #
]
ÑÑ# $
.
ÑÑ$ %
ToString
ÑÑ% -
(
ÑÑ- .
)
ÑÑ. /
;
ÑÑ/ 0
m
ÖÖ 
.
ÖÖ 
ModuleOrder
ÖÖ 
=
ÖÖ 
Convert
ÖÖ 
.
ÖÖ 
ToInt32
ÖÖ $
(
ÖÖ$ %
reader
ÖÖ% +
[
ÖÖ+ ,
$str
ÖÖ, 9
]
ÖÖ9 :
)
ÖÖ: ;
;
ÖÖ; <
m
ÜÜ 
.
ÜÜ 
ControlSource
ÜÜ 
=
ÜÜ 
reader
ÜÜ 
[
ÜÜ 
$str
ÜÜ *
]
ÜÜ* +
.
ÜÜ+ ,
ToString
ÜÜ, 4
(
ÜÜ4 5
)
ÜÜ5 6
;
ÜÜ6 7
this
àà 	
.
àà	 

Modules
àà
 
.
àà 
Add
àà 
(
àà 
m
àà 
)
àà 
;
àà 
}
ââ 
}
ää 
}
çç 	
public
ññ 
bool
ññ	 
Save
ññ 
(
ññ 
)
ññ 
{
óó 
if
òò 
(
òò 
this
òò 

.
òò
 
PageId
òò 
>
òò 
-
òò 
$num
òò 
)
òò 
{
ôô 
return
öö 

Update
öö 
(
öö 
)
öö 
;
öö 
}
õõ 
else
úú 
{
ùù 
return
ûû 

Create
ûû 
(
ûû 
)
ûû 
;
ûû 
}
üü 
}
°° 
public
§§ 
void
§§ 
	MoveToTop
§§ 
(
§§ 
)
§§ 
{
•• 	
this
¶¶ 
.
¶¶ 
	PageOrder
¶¶ 
=
¶¶ 
$num
¶¶ 
;
¶¶ 
PageSettings
ßß 
.
ßß 
UpdatePageOrder
ßß (
(
ßß( )
this
ßß) -
.
ßß- .
PageId
ßß. 4
,
ßß4 5
this
ßß6 :
.
ßß: ;
	PageOrder
ßß; D
)
ßßD E
;
ßßE F
ResortPages
©© 
(
©© 
)
©© 
;
©© 
}
´´ 	
public
≠≠ 
void
≠≠ 
MoveToBottom
≠≠  
(
≠≠  !
)
≠≠! "
{
ÆÆ 	
this
ØØ 
.
ØØ 
	PageOrder
ØØ 
=
ØØ 
$num
ØØ #
;
ØØ# $
PageSettings
∞∞ 
.
∞∞ 
UpdatePageOrder
∞∞ (
(
∞∞( )
this
∞∞) -
.
∞∞- .
PageId
∞∞. 4
,
∞∞4 5
this
∞∞6 :
.
∞∞: ;
	PageOrder
∞∞; D
)
∞∞D E
;
∞∞E F
ResortPages
≤≤ 
(
≤≤ 
)
≤≤ 
;
≤≤ 
}
¥¥ 	
public
∏∏ 
void
∏∏	 
MoveUp
∏∏ 
(
∏∏ 
)
∏∏ 
{
ππ 
if
øø 
(
øø 
this
øø 

.
øø
 
	PageOrder
øø 
>
øø 
$num
øø 
)
øø 
{
¿¿ 
this
¬¬ 
.
¬¬ 	
	PageOrder
¬¬	 
-=
¬¬ 
$num
¬¬ 
;
¬¬ 
PageSettings
√√ 
.
√√ 
UpdatePageOrder
√√  
(
√√  !
this
√√! %
.
√√% &
PageId
√√& ,
,
√√, -
this
√√. 2
.
√√2 3
	PageOrder
√√3 <
)
√√< =
;
√√= >
ResortPages
≈≈ 
(
≈≈ 
)
≈≈ 
;
≈≈ 
}
«« 
else
»» 
{
…… 
if
   
(
   
this
   
.
   
	PageOrder
   
<
   
$num
   
)
   
{
ÀÀ 
this
ÃÃ 	
.
ÃÃ	 

	PageOrder
ÃÃ
 
=
ÃÃ 
$num
ÃÃ 
;
ÃÃ 
PageSettings
ÕÕ 
.
ÕÕ 
UpdatePageOrder
ÕÕ !
(
ÕÕ! "
this
ÕÕ" &
.
ÕÕ& '
PageId
ÕÕ' -
,
ÕÕ- .
this
ÕÕ/ 3
.
ÕÕ3 4
	PageOrder
ÕÕ4 =
)
ÕÕ= >
;
ÕÕ> ?
ResortPages
ŒŒ 
(
ŒŒ 
)
ŒŒ 
;
ŒŒ 
}
–– 
}
”” 
}
’’ 
public
◊◊ 
void
◊◊	 
MoveDown
◊◊ 
(
◊◊ 
)
◊◊ 
{
ÿÿ 
this
ŸŸ 
.
ŸŸ 
	PageOrder
ŸŸ 
+=
ŸŸ 
$num
ŸŸ 
;
ŸŸ 
PageSettings
⁄⁄ 
.
⁄⁄ 
UpdatePageOrder
⁄⁄ 
(
⁄⁄  
this
⁄⁄  $
.
⁄⁄$ %
PageId
⁄⁄% +
,
⁄⁄+ ,
this
⁄⁄- 1
.
⁄⁄1 2
	PageOrder
⁄⁄2 ;
)
⁄⁄; <
;
⁄⁄< =
ResortPages
‹‹ 
(
‹‹ 
)
‹‹ 
;
‹‹ 
}
ﬁﬁ 
public
‡‡ 
void
‡‡	 
ResortPages
‡‡ 
(
‡‡ 
)
‡‡ 
{
·· 
int
‚‚ 
i
‚‚ 
=
‚‚	 

$num
‚‚ 
;
‚‚ 
	DataTable
„„ 
table
„„ 
=
„„ 
GetChildPageIds
„„ -
(
„„- .
)
„„. /
;
„„/ 0
foreach
ÂÂ 

(
ÂÂ
 
DataRow
ÂÂ 
row
ÂÂ 
in
ÂÂ 
table
ÂÂ 
.
ÂÂ  
Rows
ÂÂ  $
)
ÂÂ$ %
{
ÊÊ 
int
ÁÁ 
pageID
ÁÁ 
=
ÁÁ 
Convert
ÁÁ 
.
ÁÁ 
ToInt32
ÁÁ  
(
ÁÁ  !
row
ÁÁ! $
[
ÁÁ$ %
$str
ÁÁ% -
]
ÁÁ- .
)
ÁÁ. /
;
ÁÁ/ 0
PageSettings
ËË 
.
ËË 
UpdatePageOrder
ËË  
(
ËË  !
pageID
ËË! '
,
ËË' (
i
ËË) *
)
ËË* +
;
ËË+ ,
i
ÈÈ 
+=
ÈÈ 
$num
ÈÈ	 

;
ÈÈ
 
}
ÍÍ 
}
ÎÎ 
public
ÌÌ 
void
ÌÌ '
ResortPagesAlphabetically
ÌÌ -
(
ÌÌ- .
)
ÌÌ. /
{
ÓÓ 	
int
ÔÔ 
i
ÔÔ 
=
ÔÔ 
$num
ÔÔ 
;
ÔÔ 
	DataTable
 
	dataTable
 
=
  !
new
" %
	DataTable
& /
(
/ 0
)
0 1
;
1 2
using
ÒÒ 
(
ÒÒ 
IDataReader
ÒÒ 
reader
ÒÒ %
=
ÒÒ& '
PageSettings
ÒÒ( 4
.
ÒÒ4 5+
GetChildPagesSortedAlphabetic
ÒÒ5 R
(
ÒÒR S
SiteId
ÒÒS Y
,
ÒÒY Z
PageId
ÒÒ[ a
)
ÒÒa b
)
ÒÒb c
{
ÚÚ 
	dataTable
ÛÛ 
.
ÛÛ 
Load
ÛÛ 
(
ÛÛ 
reader
ÛÛ %
)
ÛÛ% &
;
ÛÛ& '
}
ÙÙ 
foreach
ˆˆ 
(
ˆˆ 
DataRow
ˆˆ 
row
ˆˆ  
in
ˆˆ! #
	dataTable
ˆˆ$ -
.
ˆˆ- .
Rows
ˆˆ. 2
)
ˆˆ2 3
{
˜˜ 
int
¯¯ 
pageID
¯¯ 
=
¯¯ 
Convert
¯¯ $
.
¯¯$ %
ToInt32
¯¯% ,
(
¯¯, -
row
¯¯- 0
[
¯¯0 1
$str
¯¯1 9
]
¯¯9 :
)
¯¯: ;
;
¯¯; <
PageSettings
˘˘ 
.
˘˘ 
UpdatePageOrder
˘˘ ,
(
˘˘, -
pageID
˘˘- 3
,
˘˘3 4
i
˘˘5 6
)
˘˘6 7
;
˘˘7 8
i
˙˙ 
+=
˙˙ 
$num
˙˙ 
;
˙˙ 
}
˚˚ 
}
¸¸ 	
public
˛˛ 
bool
˛˛ 
ContainsModule
˛˛ "
(
˛˛" #
int
˛˛# &
moduleId
˛˛' /
)
˛˛/ 0
{
ˇˇ 	
bool
ÄÄ 
result
ÄÄ 
=
ÄÄ 
false
ÄÄ 
;
ÄÄ  
foreach
ÇÇ 
(
ÇÇ 
Module
ÇÇ 
m
ÇÇ 
in
ÇÇ  
Modules
ÇÇ! (
)
ÇÇ( )
{
ÉÉ 
if
ÑÑ 
(
ÑÑ 
m
ÑÑ 
.
ÑÑ 
ModuleId
ÑÑ 
==
ÑÑ !
moduleId
ÑÑ" *
)
ÑÑ* +
result
ÑÑ, 2
=
ÑÑ3 4
true
ÑÑ5 9
;
ÑÑ9 :
}
ÖÖ 
return
áá 
result
áá 
;
áá 
}
àà 	
public
ää 
bool
ää &
ContainsModuleInProgress
ää ,
(
ää, -
)
ää- .
{
ãã 	
int
åå 
count
åå 
=
åå 
ContentWorkflow
åå '
.
åå' (*
GetWorkInProgressCountByPage
åå( D
(
ååD E
this
ååE I
.
ååI J
PageGuid
ååJ R
)
ååR S
;
ååS T
return
çç 
(
çç 
count
çç 
>
çç 
$num
çç 
)
çç 
;
çç 
}
éé 	
[
êê 	
Obsolete
êê	 
(
êê 
$str
êê V
)
êêV W
]
êêW X
public
ëë 
string
ëë 

ResolveUrl
ëë  
(
ëë  !
SiteSettings
ëë! -
siteSettings
ëë. :
)
ëë: ;
{
íí 	
if
ìì 
(
ìì 
siteSettings
ìì 
==
ìì 
null
ìì  $
)
ìì$ %
return
ìì& ,
Url
ìì- 0
;
ìì0 1
string
îî 
resolvedUrl
îî 
;
îî 
if
ïï 
(
ïï 
this
ïï 
.
ïï 
UseUrl
ïï 
)
ïï 
{
ññ 
if
óó 
(
óó 
(
óó 
this
óó 
.
óó 
Url
óó 
.
óó 

StartsWith
óó '
(
óó' (
$str
óó( ,
)
óó, -
)
óó- .
&&
óó. 0
(
óó0 1
this
óó1 5
.
óó5 6
Url
óó6 9
.
óó9 :
EndsWith
óó: B
(
óóB C
$str
óóC J
)
óóJ K
)
óóK L
)
óóL M
{
òò 
if
ôô 
(
ôô .
 UrlHasBeenAdjustedForFolderSites
ôô 8
)
ôô8 9
{
öö 
resolvedUrl
õõ #
=
õõ$ %
Url
õõ& )
.
õõ) *
Replace
õõ* 1
(
õõ1 2
$str
õõ2 6
,
õõ6 7
$str
õõ8 ;
)
õõ; <
;
õõ< =
}
úú 
else
ùù 
{
ûû 
resolvedUrl
üü #
=
üü$ %
siteSettings
üü& 2
.
üü2 3
SiteRoot
üü3 ;
+
†† 
Url
†† !
.
††! "
Replace
††" )
(
††) *
$str
††* .
,
††. /
$str
††0 3
)
††3 4
;
††4 5
}
°° 
}
££ 
else
§§ 
{
•• 
resolvedUrl
¶¶ 
=
¶¶  !
Url
¶¶" %
;
¶¶% &
}
ßß 
}
©© 
else
™™ 
{
´´ 
resolvedUrl
¨¨ 
=
¨¨ 
siteSettings
¨¨ *
.
¨¨* +
SiteRoot
¨¨+ 3
+
≠≠ 
$str
≠≠ -
+
ÆÆ 
this
ÆÆ 
.
ÆÆ 
PageId
ÆÆ !
.
ÆÆ! "
ToString
ÆÆ" *
(
ÆÆ* +
)
ÆÆ+ ,
;
ÆÆ, -
}
ØØ 
return
±± 
resolvedUrl
±± 
;
±± 
}
≥≥ 	
public
µµ 
bool
µµ $
UpdateLastModifiedTime
µµ *
(
µµ* +
)
µµ+ ,
{
∂∂ 	
if
∑∑ 
(
∑∑ 
this
∑∑ 
.
∑∑ 
PageId
∑∑ 
==
∑∑ 
-
∑∑  
$num
∑∑  !
)
∑∑! "
return
∑∑# )
false
∑∑* /
;
∑∑/ 0
return
∏∏ 
UpdateTimestamp
∏∏ "
(
∏∏" #
this
∏∏# '
.
∏∏' (
PageId
∏∏( .
,
∏∏. /
DateTime
∏∏0 8
.
∏∏8 9
UtcNow
∏∏9 ?
)
∏∏? @
;
∏∏@ A
}
∫∫ 	
public
¿¿ 
static
¿¿ 
IDataReader
¿¿ !
GetPageList
¿¿" -
(
¿¿- .
int
¿¿. 1
siteId
¿¿2 8
)
¿¿8 9
{
¡¡ 	
return
¬¬ 
DBPageSettings
¬¬ !
.
¬¬! "
GetPageList
¬¬" -
(
¬¬- .
siteId
¬¬. 4
)
¬¬4 5
;
¬¬5 6
}
√√ 	
public
≈≈ 
static
≈≈ 
int
≈≈  
GetCountChildPages
≈≈ ,
(
≈≈, -
int
≈≈- 0
parentPageId
≈≈1 =
,
≈≈= >
bool
≈≈? C
includePending
≈≈D R
)
≈≈R S
{
∆∆ 	
return
«« 
DBPageSettings
«« !
.
««! " 
GetCountChildPages
««" 4
(
««4 5
parentPageId
««5 A
,
««A B
includePending
««C Q
)
««Q R
;
««R S
}
»» 	
public
   
static
   
IDataReader
   !+
GetChildPagesSortedAlphabetic
  " ?
(
  ? @
int
  @ C
siteId
  D J
,
  J K
int
  L O
parentId
  P X
)
  X Y
{
ÀÀ 	
return
ÃÃ 
DBPageSettings
ÃÃ !
.
ÃÃ! "+
GetChildPagesSortedAlphabetic
ÃÃ" ?
(
ÃÃ? @
siteId
ÃÃ@ F
,
ÃÃF G
parentId
ÃÃH P
)
ÃÃP Q
;
ÃÃQ R
}
ÕÕ 	
public
œœ 
static
œœ 
IDataReader
œœ !$
GetPendingPageListPage
œœ" 8
(
œœ8 9
Guid
œœ9 =
siteGuid
œœ> F
,
œœF G
int
œœH K

pageNumber
œœL V
,
œœV W
int
œœX [
pageSize
œœ\ d
,
œœd e
out
œœf i
int
œœj m

totalPages
œœn x
)
œœx y
{
–– 	
return
—— 
DBPageSettings
—— !
.
——! "$
GetPendingPageListPage
——" 8
(
——8 9
siteGuid
——9 A
,
——A B

pageNumber
——C M
,
——M N
pageSize
——O W
,
——W X
out
——Y \

totalPages
——] g
)
——g h
;
——h i
}
““ 	
public
‘‘ 
static
‘‘	 
bool
‘‘ 
UpdatePageOrder
‘‘ $
(
‘‘$ %
int
‘‘% (
pageId
‘‘) /
,
‘‘/ 0
int
‘‘1 4
	pageOrder
‘‘5 >
)
‘‘> ?
{
’’ 
return
÷÷ 	
DBPageSettings
÷÷
 
.
÷÷ 
UpdatePageOrder
÷÷ (
(
÷÷( )
pageId
÷÷) /
,
÷÷/ 0
	pageOrder
÷÷0 9
)
÷÷9 :
;
÷÷: ;
}
◊◊ 
public
ŸŸ 
static
ŸŸ 
bool
ŸŸ 
UpdateTimestamp
ŸŸ *
(
ŸŸ* +
int
⁄⁄ 
pageId
⁄⁄ 
,
⁄⁄ 
DateTime
€€ 
lastModifiedUtc
€€ $
)
€€$ %
{
‹‹ 	
return
›› 
DBPageSettings
›› !
.
››! "
UpdateTimestamp
››" 1
(
››1 2
pageId
››2 8
,
››8 9
lastModifiedUtc
››: I
)
››I J
;
››J K
}
ﬁﬁ 	
public
‡‡ 
static
‡‡	 
bool
‡‡ 

DeletePage
‡‡ 
(
‡‡  
int
‡‡  #
pageId
‡‡$ *
)
‡‡* +
{
·· 
bool
‚‚ 
result
‚‚ 
=
‚‚ 
DBPageSettings
‚‚  
.
‚‚  !

DeletePage
‚‚! +
(
‚‚+ ,
pageId
‚‚, 2
)
‚‚2 3
;
‚‚3 4
DBPageSettings
„„ 
.
„„ 
CleanupOrphans
„„ )
(
„„) *
)
„„* +
;
„„+ ,
return
‰‰ 
result
‰‰ 
;
‰‰ 
}
ÂÂ 
public
ÁÁ 
static
ÁÁ 
int
ÁÁ 
GetCountOfPages
ÁÁ )
(
ÁÁ) *
int
ÁÁ* -
siteId
ÁÁ. 4
)
ÁÁ4 5
{
ËË 	
return
ÈÈ 
GetCount
ÈÈ 
(
ÈÈ 
siteId
ÈÈ "
,
ÈÈ" #
true
ÈÈ$ (
)
ÈÈ( )
;
ÈÈ) *
}
ÎÎ 	
public
ÌÌ 
static
ÌÌ 
int
ÌÌ 
GetCount
ÌÌ "
(
ÌÌ" #
int
ÌÌ# &
siteId
ÌÌ' -
,
ÌÌ- .
bool
ÌÌ/ 3
includePending
ÌÌ4 B
)
ÌÌB C
{
ÓÓ 	
return
ÔÔ 
DBPageSettings
ÔÔ !
.
ÔÔ! "
GetCount
ÔÔ" *
(
ÔÔ* +
siteId
ÔÔ+ 1
,
ÔÔ1 2
includePending
ÔÔ3 A
)
ÔÔA B
;
ÔÔB C
}
 	
public
ÙÙ 
static
ÙÙ	 
int
ÙÙ 
GetNextPageOrder
ÙÙ $
(
ÙÙ$ %
int
ÙÙ% (
siteId
ÙÙ) /
,
ÙÙ/ 0
int
ÙÙ1 4
parentId
ÙÙ5 =
)
ÙÙ= >
{
ıı 
return
ˆˆ 	
DBPageSettings
ˆˆ
 
.
ˆˆ 
GetNextPageOrder
ˆˆ )
(
ˆˆ) *
siteId
ˆˆ* 0
,
ˆˆ0 1
parentId
ˆˆ2 :
)
ˆˆ: ;
;
ˆˆ; <
}
˜˜ 
public
˛˛ 
static
˛˛ 
bool
˛˛ 
Exists
˛˛ !
(
˛˛! "
Guid
˛˛" &
pageGuid
˛˛' /
)
˛˛/ 0
{
ˇˇ 	
bool
ÄÄ 
result
ÄÄ 
=
ÄÄ 
false
ÄÄ 
;
ÄÄ  
using
ÅÅ 
(
ÅÅ 
IDataReader
ÅÅ 
reader
ÅÅ %
=
ÅÅ& '
DBPageSettings
ÅÅ( 6
.
ÅÅ6 7
GetPage
ÅÅ7 >
(
ÅÅ> ?
pageGuid
ÅÅ? G
)
ÅÅG H
)
ÅÅH I
{
ÇÇ 
if
ÉÉ 
(
ÉÉ 
reader
ÉÉ 
.
ÉÉ 
Read
ÉÉ 
(
ÉÉ  
)
ÉÉ  !
)
ÉÉ! "
{
ÑÑ 
result
ÖÖ 
=
ÖÖ 
true
ÖÖ !
;
ÖÖ! "
}
ÜÜ 
}
áá 
return
ââ 
result
ââ 
;
ââ 
}
ãã 	
public
ìì 
event
ìì %
PageCreatedEventHandler
ìì ,
PageCreated
ìì- 8
;
ìì8 9
	protected
ïï 
void
ïï 
OnPageCreated
ïï $
(
ïï$ %"
PageCreatedEventArgs
ïï% 9
e
ïï: ;
)
ïï; <
{
ññ 	
if
óó 
(
óó 
PageCreated
óó 
!=
óó 
null
óó #
)
óó# $
{
òò 
PageCreated
ôô 
(
ôô 
this
ôô  
,
ôô  !
e
ôô" #
)
ôô# $
;
ôô$ %
}
öö 
}
õõ 	
}
üü 
}†† ˚é
jD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\RedirectList.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
RedirectInfo 
{ 
public 
RedirectInfo 
( 
) 
{ 	
}
 
public!! 
RedirectInfo!! 
(!! 
Guid"" 
rowGuid"" 
)"" 
{## 	
GetRedirectList$$ 
($$ 
rowGuid%% 
)%% 
;%% 
}&& 	
private,, 
Guid,, 
rowGuid,, 
=,, 
Guid,, #
.,,# $
Empty,,$ )
;,,) *
private-- 
Guid-- 
siteGuid-- 
=-- 
Guid--  $
.--$ %
Empty--% *
;--* +
private.. 
int.. 
siteId.. 
=.. 
-.. 
$num.. 
;..  
private// 
string// 
oldUrl// 
=// 
string//  &
.//& '
Empty//' ,
;//, -
private00 
string00 
newUrl00 
=00 
string00  &
.00& '
Empty00' ,
;00, -
private11 
DateTime11 

createdUtc11 #
=11$ %
DateTime11& .
.11. /
UtcNow11/ 5
;115 6
private22 
DateTime22 
	expireUtc22 "
=22# $
DateTime22% -
.22- .
UtcNow22. 4
;224 5
public88 
Guid88 
RowGuid88 
{99 	
get:: 
{:: 
return:: 
rowGuid::  
;::  !
}::" #
set;; 
{;; 
rowGuid;; 
=;; 
value;; !
;;;! "
};;# $
}<< 	
public== 
Guid== 
SiteGuid== 
{>> 	
get?? 
{?? 
return?? 
siteGuid?? !
;??! "
}??# $
set@@ 
{@@ 
siteGuid@@ 
=@@ 
value@@ "
;@@" #
}@@$ %
}AA 	
publicBB 
intBB 
SiteIdBB 
{CC 	
getDD 
{DD 
returnDD 
siteIdDD 
;DD  
}DD! "
setEE 
{EE 
siteIdEE 
=EE 
valueEE  
;EE  !
}EE" #
}FF 	
publicGG 
stringGG 
OldUrlGG 
{HH 	
getII 
{II 
returnII 
oldUrlII 
;II  
}II! "
setJJ 
{JJ 
oldUrlJJ 
=JJ 
valueJJ  
;JJ  !
}JJ" #
}KK 	
publicLL 
stringLL 
NewUrlLL 
{MM 	
getNN 
{NN 
returnNN 
newUrlNN 
;NN  
}NN! "
setOO 
{OO 
newUrlOO 
=OO 
valueOO  
;OO  !
}OO" #
}PP 	
publicQQ 
DateTimeQQ 

CreatedUtcQQ "
{RR 	
getSS 
{SS 
returnSS 

createdUtcSS #
;SS# $
}SS% &
setTT 
{TT 

createdUtcTT 
=TT 
valueTT $
;TT$ %
}TT& '
}UU 	
publicYY 
DateTimeYY 
	ExpireUtcYY !
{ZZ 	
get[[ 
{[[ 
return[[ 
	expireUtc[[ "
;[[" #
}[[$ %
set\\ 
{\\ 
	expireUtc\\ 
=\\ 
value\\ #
;\\# $
}\\% &
}]] 	
privategg 
voidgg 
GetRedirectListgg $
(gg$ %
Guidgg% )
rowGuidgg* 1
)gg1 2
{hh 	
usingii 
(ii 
IDataReaderii 
readerii %
=ii& '
DBRedirectListii( 6
.ii6 7
GetOneii7 =
(ii= >
rowGuidii> E
)iiE F
)iiF G
{jj 
PopulateFromReaderkk "
(kk" #
readerkk# )
)kk) *
;kk* +
}ll 
}nn 	
privateqq 
voidqq 
PopulateFromReaderqq '
(qq' (
IDataReaderqq( 3
readerqq4 :
)qq: ;
{rr 	
ifss 
(ss 
readerss 
.ss 
Readss 
(ss 
)ss 
)ss 
{tt 
thisuu 
.uu 
rowGuiduu 
=uu 
newuu "
Guiduu# '
(uu' (
readeruu( .
[uu. /
$struu/ 8
]uu8 9
.uu9 :
ToStringuu: B
(uuB C
)uuC D
)uuD E
;uuE F
thisvv 
.vv 
siteGuidvv 
=vv 
newvv  #
Guidvv$ (
(vv( )
readervv) /
[vv/ 0
$strvv0 :
]vv: ;
.vv; <
ToStringvv< D
(vvD E
)vvE F
)vvF G
;vvG H
thisww 
.ww 
siteIdww 
=ww 
Convertww %
.ww% &
ToInt32ww& -
(ww- .
readerww. 4
[ww4 5
$strww5 =
]ww= >
)ww> ?
;ww? @
thisxx 
.xx 
oldUrlxx 
=xx 
readerxx $
[xx$ %
$strxx% -
]xx- .
.xx. /
ToStringxx/ 7
(xx7 8
)xx8 9
;xx9 :
thisyy 
.yy 
newUrlyy 
=yy 
readeryy $
[yy$ %
$stryy% -
]yy- .
.yy. /
ToStringyy/ 7
(yy7 8
)yy8 9
;yy9 :
thiszz 
.zz 

createdUtczz 
=zz  !
Convertzz" )
.zz) *

ToDateTimezz* 4
(zz4 5
readerzz5 ;
[zz; <
$strzz< H
]zzH I
)zzI J
;zzJ K
this{{ 
.{{ 
	expireUtc{{ 
={{  
Convert{{! (
.{{( )

ToDateTime{{) 3
({{3 4
reader{{4 :
[{{: ;
$str{{; F
]{{F G
){{G H
;{{H I
}}} 
} 	
private
ÖÖ 
bool
ÖÖ 
Create
ÖÖ 
(
ÖÖ 
)
ÖÖ 
{
ÜÜ 	
this
áá 
.
áá 
rowGuid
áá 
=
áá 
Guid
áá 
.
áá  
NewGuid
áá  '
(
áá' (
)
áá( )
;
áá) *
if
ââ 
(
ââ 
string
ââ 
.
ââ 
IsNullOrEmpty
ââ $
(
ââ$ %
this
ââ% )
.
ââ) *
oldUrl
ââ* 0
)
ââ0 1
)
ââ1 2
{
ââ3 4
return
ââ5 ;
false
ââ< A
;
ââA B
}
ââC D
int
ãã 
rowsAffected
ãã 
=
ãã 
DBRedirectList
ãã -
.
ãã- .
Create
ãã. 4
(
ãã4 5
this
åå 
.
åå 
rowGuid
åå 
,
åå 
this
çç 
.
çç 
siteGuid
çç 
,
çç 
this
éé 
.
éé 
siteId
éé 
,
éé 
this
èè 
.
èè 
oldUrl
èè 
,
èè 
this
êê 
.
êê 
newUrl
êê 
,
êê 
this
ëë 
.
ëë 

createdUtc
ëë 
,
ëë  
this
íí 
.
íí 
	expireUtc
íí 
)
íí 
;
íí  
return
îî 
(
îî 
rowsAffected
îî  
>
îî! "
$num
îî# $
)
îî$ %
;
îî% &
}
ññ 	
private
ùù 
bool
ùù 
Update
ùù 
(
ùù 
)
ùù 
{
ûû 	
if
†† 
(
†† 
string
†† 
.
†† 
IsNullOrEmpty
†† $
(
††$ %
this
††% )
.
††) *
oldUrl
††* 0
)
††0 1
)
††1 2
{
††3 4
return
††5 ;
false
††< A
;
††A B
}
††C D
return
¢¢ 
DBRedirectList
¢¢ !
.
¢¢! "
Update
¢¢" (
(
¢¢( )
this
££ 
.
££ 
rowGuid
££ 
,
££ 
this
§§ 
.
§§ 
oldUrl
§§ 
,
§§ 
this
•• 
.
•• 
newUrl
•• 
,
•• 
this
¶¶ 
.
¶¶ 
	expireUtc
¶¶ 
)
¶¶ 
;
¶¶  
}
®® 	
public
∂∂ 
bool
∂∂ 
Save
∂∂ 
(
∂∂ 
)
∂∂ 
{
∑∑ 	
if
∏∏ 
(
∏∏ 
this
∏∏ 
.
∏∏ 
rowGuid
∏∏ 
!=
∏∏ 
Guid
∏∏  $
.
∏∏$ %
Empty
∏∏% *
)
∏∏* +
{
ππ 
return
∫∫ 
Update
∫∫ 
(
∫∫ 
)
∫∫ 
;
∫∫  
}
ªª 
else
ºº 
{
ΩΩ 
return
ææ 
Create
ææ 
(
ææ 
)
ææ 
;
ææ  
}
øø 
}
¿¿ 	
public
ŒŒ 
static
ŒŒ 
bool
ŒŒ 
Delete
ŒŒ !
(
ŒŒ! "
Guid
ŒŒ" &
rowGuid
ŒŒ' .
)
ŒŒ. /
{
œœ 	
return
–– 
DBRedirectList
–– !
.
––! "
Delete
––" (
(
––( )
rowGuid
––) 0
)
––0 1
;
––1 2
}
—— 	
public
◊◊ 
static
◊◊ 
int
◊◊ 
GetCount
◊◊ "
(
◊◊" #
int
◊◊# &
siteId
◊◊' -
)
◊◊- .
{
ÿÿ 	
return
ŸŸ 
DBRedirectList
ŸŸ !
.
ŸŸ! "
GetCount
ŸŸ" *
(
ŸŸ* +
siteId
ŸŸ+ 1
)
ŸŸ1 2
;
ŸŸ2 3
}
⁄⁄ 	
private
‹‹ 
static
‹‹ 
List
‹‹ 
<
‹‹ 
RedirectInfo
‹‹ (
>
‹‹( ) 
LoadListFromReader
‹‹* <
(
‹‹< =
IDataReader
‹‹= H
reader
‹‹I O
)
‹‹O P
{
›› 	
List
ﬁﬁ 
<
ﬁﬁ 
RedirectInfo
ﬁﬁ 
>
ﬁﬁ 
redirectListList
ﬁﬁ /
=
ﬁﬁ0 1
new
ﬁﬁ2 5
List
ﬁﬁ6 :
<
ﬁﬁ: ;
RedirectInfo
ﬁﬁ; G
>
ﬁﬁG H
(
ﬁﬁH I
)
ﬁﬁI J
;
ﬁﬁJ K
try
ﬂﬂ 
{
‡‡ 
while
·· 
(
·· 
reader
·· 
.
·· 
Read
·· "
(
··" #
)
··# $
)
··$ %
{
‚‚ 
RedirectInfo
„„  
redirectList
„„! -
=
„„. /
new
„„0 3
RedirectInfo
„„4 @
(
„„@ A
)
„„A B
;
„„B C
redirectList
‰‰  
.
‰‰  !
rowGuid
‰‰! (
=
‰‰) *
new
‰‰+ .
Guid
‰‰/ 3
(
‰‰3 4
reader
‰‰4 :
[
‰‰: ;
$str
‰‰; D
]
‰‰D E
.
‰‰E F
ToString
‰‰F N
(
‰‰N O
)
‰‰O P
)
‰‰P Q
;
‰‰Q R
redirectList
ÂÂ  
.
ÂÂ  !
siteGuid
ÂÂ! )
=
ÂÂ* +
new
ÂÂ, /
Guid
ÂÂ0 4
(
ÂÂ4 5
reader
ÂÂ5 ;
[
ÂÂ; <
$str
ÂÂ< F
]
ÂÂF G
.
ÂÂG H
ToString
ÂÂH P
(
ÂÂP Q
)
ÂÂQ R
)
ÂÂR S
;
ÂÂS T
redirectList
ÊÊ  
.
ÊÊ  !
siteId
ÊÊ! '
=
ÊÊ( )
Convert
ÊÊ* 1
.
ÊÊ1 2
ToInt32
ÊÊ2 9
(
ÊÊ9 :
reader
ÊÊ: @
[
ÊÊ@ A
$str
ÊÊA I
]
ÊÊI J
)
ÊÊJ K
;
ÊÊK L
redirectList
ÁÁ  
.
ÁÁ  !
oldUrl
ÁÁ! '
=
ÁÁ( )
reader
ÁÁ* 0
[
ÁÁ0 1
$str
ÁÁ1 9
]
ÁÁ9 :
.
ÁÁ: ;
ToString
ÁÁ; C
(
ÁÁC D
)
ÁÁD E
;
ÁÁE F
redirectList
ËË  
.
ËË  !
newUrl
ËË! '
=
ËË( )
reader
ËË* 0
[
ËË0 1
$str
ËË1 9
]
ËË9 :
.
ËË: ;
ToString
ËË; C
(
ËËC D
)
ËËD E
;
ËËE F
redirectList
ÈÈ  
.
ÈÈ  !

createdUtc
ÈÈ! +
=
ÈÈ, -
Convert
ÈÈ. 5
.
ÈÈ5 6

ToDateTime
ÈÈ6 @
(
ÈÈ@ A
reader
ÈÈA G
[
ÈÈG H
$str
ÈÈH T
]
ÈÈT U
)
ÈÈU V
;
ÈÈV W
redirectList
ÍÍ  
.
ÍÍ  !
	expireUtc
ÍÍ! *
=
ÍÍ+ ,
Convert
ÍÍ- 4
.
ÍÍ4 5

ToDateTime
ÍÍ5 ?
(
ÍÍ? @
reader
ÍÍ@ F
[
ÍÍF G
$str
ÍÍG R
]
ÍÍR S
)
ÍÍS T
;
ÍÍT U
redirectListList
ÎÎ $
.
ÎÎ$ %
Add
ÎÎ% (
(
ÎÎ( )
redirectList
ÎÎ) 5
)
ÎÎ5 6
;
ÎÎ6 7
}
ÌÌ 
}
ÓÓ 
finally
ÔÔ 
{
 
reader
ÒÒ 
.
ÒÒ 
Close
ÒÒ 
(
ÒÒ 
)
ÒÒ 
;
ÒÒ 
}
ÚÚ 
return
ÙÙ 
redirectListList
ÙÙ #
;
ÙÙ# $
}
ˆˆ 	
public
áá 
static
áá	 
List
áá 
<
áá 
RedirectInfo
áá !
>
áá! "
GetPage
áá# *
(
áá* +
int
áá+ .
siteId
áá/ 5
,
áá5 6
int
áá7 :

pageNumber
áá; E
,
ááE F
int
ááG J
pageSize
ááK S
,
ááS T
out
ááU X
int
ááY \

totalPages
áá] g
,
áág h
string
áái o

searchTerm
ááp z
=
áá{ |
$str
áá} 
)áá Ä
{
àà 

totalPages
ââ 
=
ââ 
$num
ââ 
;
ââ 
IDataReader
ää 
reader
ää 
=
ää 
DBRedirectList
ää &
.
ää& '
GetPage
ää' .
(
ää. /
siteId
ää/ 5
,
ää5 6

pageNumber
ää7 A
,
ääA B
pageSize
ääC K
,
ääK L
out
ääM P

totalPages
ääQ [
,
ää[ \

searchTerm
ää] g
)
ääg h
;
ääh i
return
ãã 	 
LoadListFromReader
ãã
 
(
ãã 
reader
ãã #
)
ãã# $
;
ãã$ %
}
åå 
public
ëë 
static
ëë	 
IDataReader
ëë 
GetBySiteAndUrl
ëë +
(
ëë+ ,
int
ëë, /
siteId
ëë0 6
,
ëë6 7
string
ëë8 >
oldUrl
ëë? E
)
ëëE F
{
íí 	
return
ìì 
DBRedirectList
ìì !
.
ìì! "
GetBySiteAndUrl
ìì" 1
(
ìì1 2
siteId
ìì2 8
,
ìì8 9
oldUrl
ìì: @
)
ìì@ A
;
ììA B
}
îî 	
public
ôô 
static
ôô 
bool
ôô 
Exists
ôô !
(
ôô! "
int
ôô" %
siteId
ôô& ,
,
ôô, -
string
ôô. 4
oldUrl
ôô5 ;
)
ôô; <
{
öö 	
return
õõ 
DBRedirectList
õõ !
.
õõ! "
Exists
õõ" (
(
õõ( )
siteId
õõ) /
,
õõ/ 0
oldUrl
õõ1 7
)
õõ7 8
;
õõ8 9
}
úú 	
public
•• 
static
•• 
int
•• 
CompareBySiteID
•• )
(
••) *
RedirectInfo
••* 6
redirectList1
••7 D
,
••D E
RedirectInfo
••F R
redirectList2
••S `
)
••` a
{
¶¶ 	
return
ßß 
redirectList1
ßß  
.
ßß  !
SiteId
ßß! '
.
ßß' (
	CompareTo
ßß( 1
(
ßß1 2
redirectList2
ßß2 ?
.
ßß? @
SiteId
ßß@ F
)
ßßF G
;
ßßG H
}
®® 	
public
¨¨ 
static
¨¨ 
int
¨¨ 
CompareByOldUrl
¨¨ )
(
¨¨) *
RedirectInfo
¨¨* 6
redirectList1
¨¨7 D
,
¨¨D E
RedirectInfo
¨¨F R
redirectList2
¨¨S `
)
¨¨` a
{
≠≠ 	
return
ÆÆ 
redirectList1
ÆÆ  
.
ÆÆ  !
OldUrl
ÆÆ! '
.
ÆÆ' (
	CompareTo
ÆÆ( 1
(
ÆÆ1 2
redirectList2
ÆÆ2 ?
.
ÆÆ? @
OldUrl
ÆÆ@ F
)
ÆÆF G
;
ÆÆG H
}
ØØ 	
public
≥≥ 
static
≥≥ 
int
≥≥ 
CompareByNewUrl
≥≥ )
(
≥≥) *
RedirectInfo
≥≥* 6
redirectList1
≥≥7 D
,
≥≥D E
RedirectInfo
≥≥F R
redirectList2
≥≥S `
)
≥≥` a
{
¥¥ 	
return
µµ 
redirectList1
µµ  
.
µµ  !
NewUrl
µµ! '
.
µµ' (
	CompareTo
µµ( 1
(
µµ1 2
redirectList2
µµ2 ?
.
µµ? @
NewUrl
µµ@ F
)
µµF G
;
µµG H
}
∂∂ 	
public
∫∫ 
static
∫∫ 
int
∫∫ !
CompareByCreatedUtc
∫∫ -
(
∫∫- .
RedirectInfo
∫∫. :
redirectList1
∫∫; H
,
∫∫H I
RedirectInfo
∫∫J V
redirectList2
∫∫W d
)
∫∫d e
{
ªª 	
return
ºº 
redirectList1
ºº  
.
ºº  !

CreatedUtc
ºº! +
.
ºº+ ,
	CompareTo
ºº, 5
(
ºº5 6
redirectList2
ºº6 C
.
ººC D

CreatedUtc
ººD N
)
ººN O
;
ººO P
}
ΩΩ 	
public
¡¡ 
static
¡¡ 
int
¡¡  
CompareByExpireUtc
¡¡ ,
(
¡¡, -
RedirectInfo
¡¡- 9
redirectList1
¡¡: G
,
¡¡G H
RedirectInfo
¡¡I U
redirectList2
¡¡V c
)
¡¡c d
{
¬¬ 	
return
√√ 
redirectList1
√√  
.
√√  !
	ExpireUtc
√√! *
.
√√* +
	CompareTo
√√+ 4
(
√√4 5
redirectList2
√√5 B
.
√√B C
	ExpireUtc
√√C L
)
√√L M
;
√√M N
}
ƒƒ 	
}
…… 
}ÀÀ Ó

iD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\RegexHelper.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
RegexHelper 
{		 
public 
const 
string '
RegexEmailValidationPattern 7
=8 9
$str	: ò
;
ò ô
public 
static 
bool %
IsValidEmailAddressSyntax 4
(4 5
string5 ;
emailAddress< H
)H I
{ 	
Regex 
emailPattern 
; 
emailPattern 
= 
new 
Regex $
($ %'
RegexEmailValidationPattern% @
)@ A
;A B
Match "
emailAddressToValidate (
=) *
emailPattern+ 7
.7 8
Match8 =
(= >
emailAddress> J
)J K
;K L
if 
( "
emailAddressToValidate &
.& '
Success' .
). /
{ 
return 
true 
; 
} 
else 
{ 
return 
false 
; 
} 
}!! 	
}## 
}$$ Ÿù
bD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Role.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 
class 
Role 
{ 
private 
static 
readonly 
ILog  $
log% (
=) *

LogManager+ 5
.5 6
	GetLogger6 ?
(? @
typeof@ F
(F G
RoleG K
)K L
)L M
;M N
public 
const 
string %
ContentAdministratorsRole 5
=6 7
$str8 P
;P Q
public 
const 
string 
AdministratorsRole .
=/ 0
$str1 9
;9 :
public 
Role	 
( 
) 
{ 
} 
public!! 
Role!!	 
(!! 
int!! 
roleId!! 
)!! 
{"" 
GetRole## 

(##
 
roleId## 
)## 
;## 
}$$ 
public&& 
Role&&	 
(&& 
int&& 
siteId&& 
,&& 
string&&  
roleName&&! )
)&&) *
{'' 
GetRole(( 

(((
 
siteId(( 
,(( 
roleName(( 
)(( 
;(( 
})) 
private.. 	
static..
 
bool.. 
UseRelatedSiteMode.. (
{// 	
get00 
{11 
if22 
(22 
(33  
ConfigurationManager33 )
.33) *
AppSettings33* 5
[335 6
$str336 J
]33J K
!=33L N
null33O S
)33S T
&&44 
(44  
ConfigurationManager44 ,
.44, -
AppSettings44- 8
[448 9
$str449 M
]44M N
==44O Q
$str44R X
)44X Y
)55 
{66 
return77 
true77 
;77  
}88 
return:: 
false:: 
;:: 
};; 
}<< 	
private>> 
static>> 
int>> 
RelatedSiteID>> (
{?? 	
get@@ 
{AA 
intBB 
resultBB 
=BB 
$numBB 
;BB 
ifCC 
(CC  
ConfigurationManagerCC (
.CC( )
AppSettingsCC) 4
[CC4 5
$strCC5 D
]CCD E
!=CCF H
nullCCI M
)CCM N
{DD 
intEE 
.EE 
TryParseEE  
(EE  ! 
ConfigurationManagerEE! 5
.EE5 6
AppSettingsEE6 A
[EEA B
$strEEB Q
]EEQ R
,EER S
outEET W
resultEEX ^
)EE^ _
;EE_ `
}FF 
returnHH 
resultHH 
;HH 
}II 
}JJ 	
publicPP 
intPP	 
RoleIdPP 
{PP 
getPP 
;PP 
privatePP "
setPP# &
;PP& '
}PP( )
=PP* +
-PP, -
$numPP- .
;PP. /
publicRR 
GuidRR	 
RoleGuidRR 
{RR 
getRR 
;RR 
privateRR %
setRR& )
;RR) *
}RR+ ,
=RR- .
GuidRR/ 3
.RR3 4
EmptyRR4 9
;RR9 :
publicTT 
GuidTT	 
SiteGuidTT 
{TT 
getTT 
;TT 
setTT !
;TT! "
}TT# $
=TT% &
GuidTT' +
.TT+ ,
EmptyTT, 1
;TT1 2
publicVV 
intVV	 
SiteIdVV 
{VV 
getVV 
;VV 
setVV 
;VV 
}VV  !
=VV" #
-VV$ %
$numVV% &
;VV& '
publicXX 
stringXX	 
RoleNameXX 
{XX 
getXX 
;XX 
setXX  #
;XX# $
}XX% &
=XX' (
stringXX) /
.XX/ 0
EmptyXX0 5
;XX5 6
publicZZ 
stringZZ	 
DisplayNameZZ 
{ZZ 
getZZ !
;ZZ! "
setZZ# &
;ZZ& '
}ZZ( )
=ZZ* +
stringZZ, 2
.ZZ2 3
EmptyZZ3 8
;ZZ8 9
public^^ 
int^^	 
MemberCount^^ 
{^^ 
get^^ 
;^^ 
private^^  '
set^^( +
;^^+ ,
}^^- .
=^^/ 0
$num^^1 2
;^^2 3
privateee 	
voidee
 
GetRoleee 
(ee 
intee 
roleIdee !
)ee! "
{ff 
usinggg 
(gg 
IDataReadergg 
readergg %
=gg& '
DBRolesgg( /
.gg/ 0
GetByIdgg0 7
(gg7 8
roleIdgg8 >
)gg> ?
)gg? @
{hh 
ifii 
(ii 
readerii 
.ii 
Readii 
(ii  
)ii  !
)ii! "
{jj 
thiskk 
.kk 
RoleIdkk 
=kk  !
intkk" %
.kk% &
Parsekk& +
(kk+ ,
readerkk, 2
[kk2 3
$strkk3 ;
]kk; <
.kk< =
ToStringkk= E
(kkE F
)kkF G
)kkG H
;kkH I
thismm 
.mm 
SiteIdmm 
=mm  !
intmm" %
.mm% &
Parsemm& +
(mm+ ,
readermm, 2
[mm2 3
$strmm3 ;
]mm; <
.mm< =
ToStringmm= E
(mmE F
)mmF G
)mmG H
;mmH I
ifoo 
(oo 
UseRelatedSiteModeoo *
)oo* +
{oo, -
SiteIdoo. 4
=oo5 6
RelatedSiteIDoo7 D
;ooD E
}ooF G
thisqq 
.qq 
RoleNameqq !
=qq" #
readerqq$ *
[qq* +
$strqq+ 5
]qq5 6
.qq6 7
ToStringqq7 ?
(qq? @
)qq@ A
;qqA B
thisrr 
.rr 
DisplayNamerr $
=rr% &
readerrr' -
[rr- .
$strrr. ;
]rr; <
.rr< =
ToStringrr= E
(rrE F
)rrF G
;rrG H
thisss 
.ss 
SiteGuidss !
=ss" #
newss$ '
Guidss( ,
(ss, -
readerss- 3
[ss3 4
$strss4 >
]ss> ?
.ss? @
ToStringss@ H
(ssH I
)ssI J
)ssJ K
;ssK L
thistt 
.tt 
RoleGuidtt !
=tt" #
newtt$ '
Guidtt( ,
(tt, -
readertt- 3
[tt3 4
$strtt4 >
]tt> ?
.tt? @
ToStringtt@ H
(ttH I
)ttI J
)ttJ K
;ttK L
}vv 
}xx 
}{{ 
private}} 	
void}}
 
GetRole}} 
(}} 
int}} 
siteId}} !
,}}! "
string}}# )
roleName}}* 2
)}}2 3
{~~ 
if 
( 
UseRelatedSiteMode "
)" #
{$ %
siteId& ,
=- .
RelatedSiteID/ <
;< =
}> ?
using
ÅÅ 
(
ÅÅ 
IDataReader
ÅÅ 
reader
ÅÅ %
=
ÅÅ& '
DBRoles
ÅÅ( /
.
ÅÅ/ 0
	GetByName
ÅÅ0 9
(
ÅÅ9 :
siteId
ÅÅ: @
,
ÅÅ@ A
roleName
ÅÅB J
)
ÅÅJ K
)
ÅÅK L
{
ÇÇ 
if
ÉÉ 
(
ÉÉ 
reader
ÉÉ 
.
ÉÉ 
Read
ÉÉ 
(
ÉÉ  
)
ÉÉ  !
)
ÉÉ! "
{
ÑÑ 
this
ÖÖ 
.
ÖÖ 
RoleId
ÖÖ 
=
ÖÖ  !
int
ÖÖ" %
.
ÖÖ% &
Parse
ÖÖ& +
(
ÖÖ+ ,
reader
ÖÖ, 2
[
ÖÖ2 3
$str
ÖÖ3 ;
]
ÖÖ; <
.
ÖÖ< =
ToString
ÖÖ= E
(
ÖÖE F
)
ÖÖF G
)
ÖÖG H
;
ÖÖH I
this
ÜÜ 
.
ÜÜ 
SiteId
ÜÜ 
=
ÜÜ  !
int
ÜÜ" %
.
ÜÜ% &
Parse
ÜÜ& +
(
ÜÜ+ ,
reader
ÜÜ, 2
[
ÜÜ2 3
$str
ÜÜ3 ;
]
ÜÜ; <
.
ÜÜ< =
ToString
ÜÜ= E
(
ÜÜE F
)
ÜÜF G
)
ÜÜG H
;
ÜÜH I
this
áá 
.
áá 
RoleName
áá !
=
áá" #
reader
áá$ *
[
áá* +
$str
áá+ 5
]
áá5 6
.
áá6 7
ToString
áá7 ?
(
áá? @
)
áá@ A
;
ááA B
this
àà 
.
àà 
DisplayName
àà $
=
àà% &
reader
àà' -
[
àà- .
$str
àà. ;
]
àà; <
.
àà< =
ToString
àà= E
(
ààE F
)
ààF G
;
ààG H
this
ââ 
.
ââ 
SiteGuid
ââ !
=
ââ" #
new
ââ$ '
Guid
ââ( ,
(
ââ, -
reader
ââ- 3
[
ââ3 4
$str
ââ4 >
]
ââ> ?
.
ââ? @
ToString
ââ@ H
(
ââH I
)
ââI J
)
ââJ K
;
ââK L
this
ää 
.
ää 
RoleGuid
ää !
=
ää" #
new
ää$ '
Guid
ää( ,
(
ää, -
reader
ää- 3
[
ää3 4
$str
ää4 >
]
ää> ?
.
ää? @
ToString
ää@ H
(
ääH I
)
ääI J
)
ääJ K
;
ääK L
}
åå 
}
éé 
}
ëë 
private
ìì 	
bool
ìì
 
Create
ìì 
(
ìì 
)
ìì 
{
îî 
int
ïï 
newID
ïï 
=
ïï 
$num
ïï 
;
ïï 
if
úú 
(
úú  
UseRelatedSiteMode
úú "
)
úú" #
{
úú$ %
SiteId
úú& ,
=
úú- .
RelatedSiteID
úú/ <
;
úú< =
}
úú> ?
if
ûû 
(
ûû 
Exists
ûû 
(
ûû 
this
ûû 
.
ûû 
SiteId
ûû 
,
ûû 
this
ûû 
.
ûû 
RoleName
ûû '
)
ûû' (
)
ûû( )
{
üü 
}
§§ 
else
•• 
{
¶¶ 
this
ßß 
.
ßß 
RoleGuid
ßß 
=
ßß 
Guid
ßß  $
.
ßß$ %
NewGuid
ßß% ,
(
ßß, -
)
ßß- .
;
ßß. /
newID
™™ 	
=
™™
 
DBRoles
™™ 
.
™™ 

RoleCreate
™™ 
(
™™ 
RoleGuid
´´ 
,
´´ 
SiteGuid
¨¨ 
,
¨¨ 
SiteId
≠≠ 
,
≠≠ 
RoleName
ÆÆ 
,
ÆÆ 
DisplayName
ØØ 
)
ØØ  
;
ØØ  !
}
∞∞ 
if
≤≤ 
(
≤≤ 
newID
≤≤ 
>
≤≤ 
$num
≤≤ 
)
≤≤ 
{
≥≥ 
RoleId
¥¥ 

=
¥¥ 
newID
¥¥ 
;
¥¥ 
return
∂∂ 

true
∂∂ 
;
∂∂ 
}
∑∑ 
else
∏∏ 
{
ππ 
return
∫∫ 

false
∫∫ 
;
∫∫ 
}
ªª 
}
ºº 
private
ææ 	
bool
ææ
 
Update
ææ 
(
ææ 
)
ææ 
{
øø 
return
¿¿ 	
DBRoles
¿¿
 
.
¿¿ 
Update
¿¿ 
(
¿¿ 
RoleId
¿¿ 
,
¿¿  
DisplayName
¿¿! ,
)
¿¿, -
;
¿¿- .
}
¡¡ 
public
√√ 
bool
√√ 
Equals
√√ 
(
√√ 
string
√√ !
roleName
√√" *
)
√√* +
{
ƒƒ 	
bool
≈≈ 
result
≈≈ 
=
≈≈ 
false
≈≈ 
;
≈≈  
if
∆∆ 
(
∆∆ 
roleName
∆∆ 
==
∆∆ 
RoleName
∆∆ $
)
∆∆$ %
result
∆∆& ,
=
∆∆- .
true
∆∆/ 3
;
∆∆3 4
return
»» 
result
»» 
;
»» 
}
   	
public
”” 
bool
””	 
Save
”” 
(
”” 
)
”” 
{
‘‘ 
if
’’ 
(
’’ 
this
’’ 

.
’’
 
RoleId
’’ 
>
’’ 
-
’’ 
$num
’’ 
)
’’ 
{
÷÷ 
return
◊◊ 

Update
◊◊ 
(
◊◊ 
)
◊◊ 
;
◊◊ 
}
ÿÿ 
else
ŸŸ 
{
⁄⁄ 
return
€€ 

Create
€€ 
(
€€ 
)
€€ 
;
€€ 
}
‹‹ 
}
›› 
public
ﬂﬂ 
bool
ﬂﬂ 
HasUsers
ﬂﬂ 
(
ﬂﬂ 
)
ﬂﬂ 
{
‡‡ 	
return
·· 
(
·· 
CountOfUsers
··  
(
··  !
)
··! "
>
··# $
$num
··% &
)
··& '
;
··' (
}
‚‚ 	
public
‰‰ 
int
‰‰ 
CountOfUsers
‰‰ 
(
‰‰  
)
‰‰  !
{
ÂÂ 	
int
ËË 
count
ËË 
=
ËË 
$num
ËË 
;
ËË 
using
ÈÈ 
(
ÈÈ 
IDataReader
ÈÈ 
reader
ÈÈ %
=
ÈÈ& '
GetRoleMembers
ÈÈ( 6
(
ÈÈ6 7
this
ÈÈ7 ;
.
ÈÈ; <
RoleId
ÈÈ< B
)
ÈÈB C
)
ÈÈC D
{
ÍÍ 
while
ÎÎ 
(
ÎÎ 
reader
ÎÎ 
.
ÎÎ 
Read
ÎÎ "
(
ÎÎ" #
)
ÎÎ# $
)
ÎÎ$ %
{
ÏÏ 
count
ÌÌ 
+=
ÌÌ 
$num
ÌÌ 
;
ÌÌ 
}
ÓÓ 
}
ÔÔ 
return
ÒÒ 
count
ÒÒ 
;
ÒÒ 
}
ÛÛ 	
public
ˆˆ 
bool
ˆˆ 
CanBeDeleted
ˆˆ  
(
ˆˆ  !
List
ˆˆ! %
<
ˆˆ% &
string
ˆˆ& ,
>
ˆˆ, -&
rolesThatCannotBeDeleted
ˆˆ. F
)
ˆˆF G
{
˜˜ 	
if
¯¯ 
(
¯¯ &
rolesThatCannotBeDeleted
¯¯ (
!=
¯¯) +
null
¯¯, 0
)
¯¯0 1
{
˘˘ 
foreach
˙˙ 
(
˙˙ 
string
˙˙ 
roleName
˙˙  (
in
˙˙) +&
rolesThatCannotBeDeleted
˙˙, D
)
˙˙D E
{
˚˚ 
if
˝˝ 
(
˝˝ 
this
˝˝ 
.
˝˝ 
RoleName
˝˝ %
==
˝˝& (
roleName
˝˝) 1
)
˝˝1 2
{
˝˝3 4
return
˝˝5 ;
false
˝˝< A
;
˝˝A B
}
˝˝C D
}
˛˛ 
}
ˇˇ 
return
ÇÇ 
true
ÇÇ 
;
ÇÇ 
}
ÉÉ 	
public
ää 
static
ää	 
IDataReader
ää 
GetSiteRoles
ää (
(
ää( )
int
ää) ,
siteId
ää- 3
)
ää3 4
{
ãã 
if
åå 
(
åå  
UseRelatedSiteMode
åå "
)
åå" #
{
åå$ %
siteId
åå& ,
=
åå- .
RelatedSiteID
åå/ <
;
åå< =
}
åå> ?
return
éé 	
DBRoles
éé
 
.
éé 
GetSiteRoles
éé 
(
éé 
siteId
éé %
)
éé% &
;
éé& '
}
èè 
public
óó 
static
óó 

Collection
óó  
<
óó  !
Role
óó! %
>
óó% &
	GetBySite
óó' 0
(
óó0 1
int
óó1 4
siteId
óó5 ;
)
óó; <
{
òò 	
if
ôô 
(
ôô  
UseRelatedSiteMode
ôô "
)
ôô" #
{
ôô$ %
siteId
ôô& ,
=
ôô- .
RelatedSiteID
ôô/ <
;
ôô< =
}
ôô> ?

Collection
õõ 
<
õõ 
Role
õõ 
>
õõ 
roles
õõ "
=
õõ# $
new
õõ% (

Collection
õõ) 3
<
õõ3 4
Role
õõ4 8
>
õõ8 9
(
õõ9 :
)
õõ: ;
;
õõ; <
using
úú 
(
úú 
IDataReader
úú 
reader
úú %
=
úú& '
DBRoles
úú( /
.
úú/ 0
GetSiteRoles
úú0 <
(
úú< =
siteId
úú= C
)
úúC D
)
úúD E
{
ùù 
while
ûû 
(
ûû 
reader
ûû 
.
ûû 
Read
ûû "
(
ûû" #
)
ûû# $
)
ûû$ %
{
üü 
Role
†† 
role
†† 
=
†† 
new
††  #
Role
††$ (
(
††( )
)
††) *
;
††* +
role
°° 
.
°° 
RoleId
°° 
=
°°  !
Convert
°°" )
.
°°) *
ToInt32
°°* 1
(
°°1 2
reader
°°2 8
[
°°8 9
$str
°°9 A
]
°°A B
)
°°B C
;
°°C D
role
¢¢ 
.
¢¢ 
SiteId
¢¢ 
=
¢¢  !
Convert
¢¢" )
.
¢¢) *
ToInt32
¢¢* 1
(
¢¢1 2
reader
¢¢2 8
[
¢¢8 9
$str
¢¢9 A
]
¢¢A B
)
¢¢B C
;
¢¢C D
role
££ 
.
££ 
DisplayName
££ $
=
££% &
reader
££' -
[
££- .
$str
££. ;
]
££; <
.
££< =
ToString
££= E
(
££E F
)
££F G
;
££G H
role
§§ 
.
§§ 
RoleName
§§ !
=
§§" #
reader
§§$ *
[
§§* +
$str
§§+ 5
]
§§5 6
.
§§6 7
ToString
§§7 ?
(
§§? @
)
§§@ A
;
§§A B
role
•• 
.
•• 
RoleGuid
•• !
=
••" #
new
••$ '
Guid
••( ,
(
••, -
reader
••- 3
[
••3 4
$str
••4 >
]
••> ?
.
••? @
ToString
••@ H
(
••H I
)
••I J
)
••J K
;
••K L
role
¶¶ 
.
¶¶ 
SiteGuid
¶¶ !
=
¶¶" #
new
¶¶$ '
Guid
¶¶( ,
(
¶¶, -
reader
¶¶- 3
[
¶¶3 4
$str
¶¶4 >
]
¶¶> ?
.
¶¶? @
ToString
¶¶@ H
(
¶¶H I
)
¶¶I J
)
¶¶J K
;
¶¶K L
role
ßß 
.
ßß 
MemberCount
ßß $
=
ßß% &
Convert
ßß' .
.
ßß. /
ToInt32
ßß/ 6
(
ßß6 7
reader
ßß7 =
[
ßß= >
$str
ßß> K
]
ßßK L
)
ßßL M
;
ßßM N
roles
©© 
.
©© 
Add
©© 
(
©© 
role
©© "
)
©©" #
;
©©# $
}
™™ 
}
´´ 
return
≠≠ 
roles
≠≠ 
;
≠≠ 
}
ØØ 	
public
±± 
static
±± 
Role
±± 
GetRoleByName
±± (
(
±±( )
int
±±) ,
siteId
±±- 3
,
±±3 4
string
±±5 ;
roleName
±±< D
)
±±D E
{
≤≤ 	
if
≥≥ 
(
≥≥  
UseRelatedSiteMode
≥≥ "
)
≥≥" #
{
≥≥$ %
siteId
≥≥& ,
=
≥≥- .
RelatedSiteID
≥≥/ <
;
≥≥< =
}
≥≥> ?
Role
¥¥ 
role
¥¥ 
=
¥¥ 
null
¥¥ 
;
¥¥ 
using
∂∂ 
(
∂∂ 
IDataReader
∂∂ 
reader
∂∂ %
=
∂∂& '
DBRoles
∂∂( /
.
∂∂/ 0
GetSiteRoles
∂∂0 <
(
∂∂< =
siteId
∂∂= C
)
∂∂C D
)
∂∂D E
{
∑∑ 
while
∏∏ 
(
∏∏ 
reader
∏∏ 
.
∏∏ 
Read
∏∏ "
(
∏∏" #
)
∏∏# $
)
∏∏$ %
{
ππ 
string
∫∫ 
	foundName
∫∫ $
=
∫∫% &
reader
∫∫' -
[
∫∫- .
$str
∫∫. 8
]
∫∫8 9
.
∫∫9 :
ToString
∫∫: B
(
∫∫B C
)
∫∫C D
;
∫∫D E
if
ªª 
(
ªª 
	foundName
ªª !
==
ªª" $
roleName
ªª% -
)
ªª- .
{
ºº 
role
ΩΩ 
=
ΩΩ 
new
ΩΩ "
Role
ΩΩ# '
(
ΩΩ' (
)
ΩΩ( )
;
ΩΩ) *
role
ææ 
.
ææ 
RoleId
ææ #
=
ææ$ %
Convert
ææ& -
.
ææ- .
ToInt32
ææ. 5
(
ææ5 6
reader
ææ6 <
[
ææ< =
$str
ææ= E
]
ææE F
)
ææF G
;
ææG H
role
øø 
.
øø 
SiteId
øø #
=
øø$ %
Convert
øø& -
.
øø- .
ToInt32
øø. 5
(
øø5 6
reader
øø6 <
[
øø< =
$str
øø= E
]
øøE F
)
øøF G
;
øøG H
role
¿¿ 
.
¿¿ 
DisplayName
¿¿ (
=
¿¿) *
reader
¿¿+ 1
[
¿¿1 2
$str
¿¿2 ?
]
¿¿? @
.
¿¿@ A
ToString
¿¿A I
(
¿¿I J
)
¿¿J K
;
¿¿K L
role
¡¡ 
.
¡¡ 
RoleName
¡¡ %
=
¡¡& '
reader
¡¡( .
[
¡¡. /
$str
¡¡/ 9
]
¡¡9 :
.
¡¡: ;
ToString
¡¡; C
(
¡¡C D
)
¡¡D E
;
¡¡E F
role
¬¬ 
.
¬¬ 
RoleGuid
¬¬ %
=
¬¬& '
new
¬¬( +
Guid
¬¬, 0
(
¬¬0 1
reader
¬¬1 7
[
¬¬7 8
$str
¬¬8 B
]
¬¬B C
.
¬¬C D
ToString
¬¬D L
(
¬¬L M
)
¬¬M N
)
¬¬N O
;
¬¬O P
role
√√ 
.
√√ 
SiteGuid
√√ %
=
√√& '
new
√√( +
Guid
√√, 0
(
√√0 1
reader
√√1 7
[
√√7 8
$str
√√8 B
]
√√B C
.
√√C D
ToString
√√D L
(
√√L M
)
√√M N
)
√√N O
;
√√O P
}
ƒƒ 
}
≈≈ 
}
∆∆ 
return
»» 
role
»» 
;
»» 
}
   	
public
ÃÃ 
static
ÃÃ 
List
ÃÃ 
<
ÃÃ 
int
ÃÃ 
>
ÃÃ 

GetRoleIds
ÃÃ  *
(
ÃÃ* +
int
ÃÃ+ .
siteId
ÃÃ/ 5
,
ÃÃ5 6
string
ÃÃ7 =,
roleNamesSeparatedBySemiColons
ÃÃ> \
)
ÃÃ\ ]
{
ÕÕ 	
List
ŒŒ 
<
ŒŒ 
int
ŒŒ 
>
ŒŒ 
roleIds
ŒŒ 
=
ŒŒ 
new
ŒŒ  #
List
ŒŒ$ (
<
ŒŒ( )
int
ŒŒ) ,
>
ŒŒ, -
(
ŒŒ- .
)
ŒŒ. /
;
ŒŒ/ 0
List
–– 
<
–– 
string
–– 
>
–– 
	roleNames
–– "
=
––# $
GetRolesNames
––% 2
(
––2 3,
roleNamesSeparatedBySemiColons
––3 Q
)
––Q R
;
––R S
foreach
““ 
(
““ 
string
““ 
roleName
““ $
in
““% '
	roleNames
““( 1
)
““1 2
{
”” 
if
‘‘ 
(
‘‘ 
string
‘‘ 
.
‘‘ 
IsNullOrEmpty
‘‘ (
(
‘‘( )
roleName
‘‘) 1
)
‘‘1 2
)
‘‘2 3
{
‘‘4 5
continue
‘‘6 >
;
‘‘> ?
}
‘‘@ A
Role
’’ 
r
’’ 
=
’’ 
Role
’’ 
.
’’ 
GetRoleByName
’’ +
(
’’+ ,
siteId
’’, 2
,
’’2 3
roleName
’’4 <
)
’’< =
;
’’= >
if
÷÷ 
(
÷÷ 
r
÷÷ 
==
÷÷ 
null
÷÷ 
)
÷÷ 
{
◊◊ 
log
ÿÿ 
.
ÿÿ 
Debug
ÿÿ 
(
ÿÿ 
$str
ÿÿ D
+
ÿÿE F
roleName
ÿÿG O
)
ÿÿO P
;
ÿÿP Q
continue
ŸŸ 
;
ŸŸ 
}
⁄⁄ 
if
€€ 
(
€€ 
r
€€ 
.
€€ 
RoleId
€€ 
>
€€ 
-
€€  
$num
€€  !
)
€€! "
{
€€# $
roleIds
€€% ,
.
€€, -
Add
€€- 0
(
€€0 1
r
€€1 2
.
€€2 3
RoleId
€€3 9
)
€€9 :
;
€€: ;
}
€€< =
}
‹‹ 
return
ﬁﬁ 
roleIds
ﬁﬁ 
;
ﬁﬁ 
}
ﬂﬂ 	
public
·· 
static
·· 
List
·· 
<
·· 
string
·· !
>
··! "
GetRolesNames
··# 0
(
··0 1
string
··1 7,
roleNamesSeparatedBySemiColons
··8 V
)
··V W
{
‚‚ 	
List
„„ 
<
„„ 
string
„„ 
>
„„ 
	roleNames
„„ "
=
„„# $
new
„„% (
List
„„) -
<
„„- .
string
„„. 4
>
„„4 5
(
„„5 6
)
„„6 7
;
„„7 8
string
‰‰ 
[
‰‰ 
]
‰‰ 
roles
‰‰ 
=
‰‰ ,
roleNamesSeparatedBySemiColons
‰‰ ;
.
‰‰; <
Split
‰‰< A
(
‰‰A B
$char
‰‰B E
)
‰‰E F
;
‰‰F G
foreach
ÂÂ 
(
ÂÂ 
string
ÂÂ 
r
ÂÂ 
in
ÂÂ  
roles
ÂÂ! &
)
ÂÂ& '
{
ÊÊ 
if
ÁÁ 
(
ÁÁ 
!
ÁÁ 
	roleNames
ÁÁ 
.
ÁÁ 
Contains
ÁÁ '
(
ÁÁ' (
r
ÁÁ( )
)
ÁÁ) *
)
ÁÁ* +
{
ÁÁ, -
	roleNames
ÁÁ. 7
.
ÁÁ7 8
Add
ÁÁ8 ;
(
ÁÁ; <
r
ÁÁ< =
)
ÁÁ= >
;
ÁÁ> ?
}
ÁÁ@ A
}
ËË 
return
ÍÍ 
	roleNames
ÍÍ 
;
ÍÍ 
}
ÏÏ 	
public
ÔÔ 
static
ÔÔ 
int
ÔÔ 
CountOfRoles
ÔÔ &
(
ÔÔ& '
int
ÔÔ' *
siteId
ÔÔ+ 1
)
ÔÔ1 2
{
 	
if
ÛÛ 
(
ÛÛ  
UseRelatedSiteMode
ÛÛ "
)
ÛÛ" #
{
ÛÛ$ %
siteId
ÛÛ& ,
=
ÛÛ- .
RelatedSiteID
ÛÛ/ <
;
ÛÛ< =
}
ÛÛ> ?
return
ÄÄ 
DBRoles
ÄÄ 
.
ÄÄ !
GetCountOfSiteRoles
ÄÄ .
(
ÄÄ. /
siteId
ÄÄ/ 5
)
ÄÄ5 6
;
ÄÄ6 7
}
ÇÇ 	
public
ÑÑ 
static
ÑÑ	 
bool
ÑÑ 

DeleteRole
ÑÑ 
(
ÑÑ  
int
ÑÑ  #
roleId
ÑÑ$ *
)
ÑÑ* +
{
ÖÖ 
return
ÜÜ 	
DBRoles
ÜÜ
 
.
ÜÜ 
Delete
ÜÜ 
(
ÜÜ 
roleId
ÜÜ 
)
ÜÜ  
;
ÜÜ  !
}
áá 
public
ââ 
static
ââ	 
bool
ââ 
Exists
ââ 
(
ââ 
int
ââ 
siteId
ââ  &
,
ââ& '
String
ââ( .
roleName
ââ/ 7
)
ââ7 8
{
ää 
return
åå 	
DBRoles
åå
 
.
åå 
Exists
åå 
(
åå 
siteId
åå 
,
åå  
roleName
åå! )
)
åå) *
;
åå* +
}
çç 
public
èè 
static
èè	 
IDataReader
èè 
GetRoleMembers
èè *
(
èè* +
int
èè+ .
roleId
èè/ 5
)
èè5 6
{
êê 
return
ëë 	
DBRoles
ëë
 
.
ëë 
GetRoleMembers
ëë  
(
ëë  !
roleId
ëë! '
)
ëë' (
;
ëë( )
}
íí 
public
îî 
static
îî 
IDataReader
îî !
GetUsersNotInRole
îî" 3
(
îî3 4
int
îî4 7
siteId
îî8 >
,
îî> ?
int
îî@ C
roleId
îîD J
,
îîJ K
int
îîL O

pageNumber
îîP Z
,
îîZ [
int
îî\ _
pageSize
îî` h
,
îîh i
out
îîj m
int
îîn q

totalPages
îîr |
)
îî| }
{
ïï 	
if
ññ 
(
ññ  
UseRelatedSiteMode
ññ "
)
ññ" #
{
ññ$ %
siteId
ññ& ,
=
ññ- .
RelatedSiteID
ññ/ <
;
ññ< =
}
ññ> ?
return
óó 
DBRoles
óó 
.
óó 
GetUsersNotInRole
óó ,
(
óó, -
siteId
óó- 3
,
óó3 4
roleId
óó5 ;
,
óó; <

pageNumber
óó= G
,
óóG H
pageSize
óóI Q
,
óóQ R
out
óóS V

totalPages
óóW a
)
óóa b
;
óób c
}
òò 	
public
öö 
static
öö 
IDataReader
öö !
GetUsersInRole
öö" 0
(
öö0 1
int
öö1 4
siteId
öö5 ;
,
öö; <
int
öö= @
roleId
ööA G
,
ööG H
int
ööI L

pageNumber
ööM W
,
ööW X
int
ööY \
pageSize
öö] e
,
ööe f
out
öög j
int
öök n

totalPages
ööo y
)
ööy z
{
õõ 	
if
úú 
(
úú  
UseRelatedSiteMode
úú "
)
úú" #
{
úú$ %
siteId
úú& ,
=
úú- .
RelatedSiteID
úú/ <
;
úú< =
}
úú> ?
return
ùù 
DBRoles
ùù 
.
ùù 
GetUsersInRole
ùù )
(
ùù) *
siteId
ùù* 0
,
ùù0 1
roleId
ùù2 8
,
ùù8 9

pageNumber
ùù: D
,
ùùD E
pageSize
ùùF N
,
ùùN O
out
ùùP S

totalPages
ùùT ^
)
ùù^ _
;
ùù_ `
}
ûû 	
public
†† 
static
†† 
IDataReader
†† !!
GetRolesUserIsNotIn
††" 5
(
††5 6
int
°° 
siteId
°° 
,
°° 
int
¢¢ 
userId
¢¢ 
)
¢¢ 
{
££ 	
if
§§ 
(
§§  
UseRelatedSiteMode
§§ "
)
§§" #
{
§§$ %
siteId
§§& ,
=
§§- .
RelatedSiteID
§§/ <
;
§§< =
}
§§> ?
return
•• 
DBRoles
•• 
.
•• !
GetRolesUserIsNotIn
•• .
(
••. /
siteId
••/ 5
,
••5 6
userId
••7 =
)
••= >
;
••> ?
}
¶¶ 	
public
®® 
static
®®	 
bool
®® 
AddUser
®® 
(
®® 
int
©© 
roleId
©© 
,
©© 
int
™™ 
userId
™™ 
,
™™ 
Guid
´´ 
roleGuid
´´ 
,
´´ 
Guid
¨¨ 
userGuid
¨¨ 
)
≠≠ 
{
ÆÆ 
return
ØØ 	
DBRoles
ØØ
 
.
ØØ 
AddUser
ØØ 
(
ØØ 
roleId
ØØ  
,
ØØ  !
userId
ØØ! '
,
ØØ' (
roleGuid
ØØ( 0
,
ØØ0 1
userGuid
ØØ1 9
)
ØØ9 :
;
ØØ: ;
}
∞∞ 
public
≤≤ 
static
≤≤	 
bool
≤≤ 

RemoveUser
≤≤ 
(
≤≤  
int
≤≤  #
roleId
≤≤$ *
,
≤≤* +
int
≤≤, /
userId
≤≤0 6
)
≤≤6 7
{
≥≥ 
return
¥¥ 	
DBRoles
¥¥
 
.
¥¥ 

RemoveUser
¥¥ 
(
¥¥ 
roleId
¥¥ #
,
¥¥# $
userId
¥¥$ *
)
¥¥* +
;
¥¥+ ,
}
µµ 
public
∑∑ 
static
∑∑	 
bool
∑∑ 
DeleteUserRoles
∑∑ $
(
∑∑$ %
int
∑∑% (
userId
∑∑) /
)
∑∑/ 0
{
∏∏ 
return
ππ 	
DBRoles
ππ
 
.
ππ 
DeleteUserRoles
ππ !
(
ππ! "
userId
ππ" (
)
ππ( )
;
ππ) *
}
∫∫ 
public
ºº 
static
ºº 
void
ºº #
AddUserToDefaultRoles
ºº 0
(
ºº0 1
SiteUser
ºº1 9
siteUser
ºº: B
)
ººB C
{
ΩΩ 	
Role
øø 
role
øø 
=
øø 
new
øø 
Role
øø  
(
øø  !
siteUser
øø! )
.
øø) *
SiteId
øø* 0
,
øø0 1
$str
øø2 G
)
øøG H
;
øøH I
if
¿¿ 
(
¿¿ 
role
¿¿ 
.
¿¿ 
RoleId
¿¿ 
>
¿¿ 
-
¿¿ 
$num
¿¿  
)
¿¿  !
{
¡¡ 
Role
¬¬ 
.
¬¬ 
AddUser
¬¬ 
(
¬¬ 
role
¬¬ !
.
¬¬! "
RoleId
¬¬" (
,
¬¬( )
siteUser
¬¬* 2
.
¬¬2 3
UserId
¬¬3 9
,
¬¬9 :
role
¬¬; ?
.
¬¬? @
RoleGuid
¬¬@ H
,
¬¬H I
siteUser
¬¬J R
.
¬¬R S
UserGuid
¬¬S [
)
¬¬[ \
;
¬¬\ ]
}
√√ 
string
≈≈ 
defaultRoles
≈≈ 
=
≈≈  !
string
≈≈" (
.
≈≈( )
Empty
≈≈) .
;
≈≈. /
if
«« 
(
«« 
System
«« 
.
«« 
Configuration
«« $
.
««$ %"
ConfigurationManager
««% 9
.
««9 :
AppSettings
««: E
[
««E F
$str
««F _
]
««_ `
!=
««a c
null
««d h
)
««h i
{
»» 
defaultRoles
…… 
=
…… 
System
…… %
.
……% &
Configuration
……& 3
.
……3 4"
ConfigurationManager
……4 H
.
……H I
AppSettings
……I T
[
……T U
$str
……U n
]
……n o
;
……o p
}
   
if
ÃÃ 
(
ÃÃ 
defaultRoles
ÃÃ 
.
ÃÃ 
Length
ÃÃ #
>
ÃÃ$ %
$num
ÃÃ& '
)
ÃÃ' (
{
ÕÕ 
if
ŒŒ 
(
ŒŒ 
defaultRoles
ŒŒ  
.
ŒŒ  !
IndexOf
ŒŒ! (
(
ŒŒ( )
$str
ŒŒ) ,
)
ŒŒ, -
==
ŒŒ. 0
-
ŒŒ1 2
$num
ŒŒ2 3
)
ŒŒ3 4
{
œœ 
role
–– 
=
–– 
new
–– 
Role
–– #
(
––# $
siteUser
––$ ,
.
––, -
SiteId
––- 3
,
––3 4
defaultRoles
––5 A
)
––A B
;
––B C
if
—— 
(
—— 
role
—— 
.
—— 
RoleId
—— #
>
——$ %
-
——& '
$num
——' (
)
——( )
{
““ 
Role
”” 
.
”” 
AddUser
”” $
(
””$ %
role
””% )
.
””) *
RoleId
””* 0
,
””0 1
siteUser
””2 :
.
””: ;
UserId
””; A
,
””A B
role
””C G
.
””G H
RoleGuid
””H P
,
””P Q
siteUser
””R Z
.
””Z [
UserGuid
””[ c
)
””c d
;
””d e
}
‘‘ 
}
’’ 
else
÷÷ 
{
◊◊ 
string
ÿÿ 
[
ÿÿ 
]
ÿÿ 
	roleArray
ÿÿ &
=
ÿÿ' (
defaultRoles
ÿÿ) 5
.
ÿÿ5 6
Split
ÿÿ6 ;
(
ÿÿ; <
$char
ÿÿ< ?
)
ÿÿ? @
;
ÿÿ@ A
foreach
ŸŸ 
(
ŸŸ 
string
ŸŸ #
roleName
ŸŸ$ ,
in
ŸŸ- /
	roleArray
ŸŸ0 9
)
ŸŸ9 :
{
⁄⁄ 
if
€€ 
(
€€ 
!
€€ 
string
€€ #
.
€€# $
IsNullOrEmpty
€€$ 1
(
€€1 2
roleName
€€2 :
)
€€: ;
)
€€; <
{
‹‹ 
role
››  
=
››! "
new
››# &
Role
››' +
(
››+ ,
siteUser
››, 4
.
››4 5
SiteId
››5 ;
,
››; <
roleName
››= E
)
››E F
;
››F G
if
ﬁﬁ 
(
ﬁﬁ  
role
ﬁﬁ  $
.
ﬁﬁ$ %
RoleId
ﬁﬁ% +
>
ﬁﬁ, -
-
ﬁﬁ. /
$num
ﬁﬁ/ 0
)
ﬁﬁ0 1
{
ﬂﬂ 
Role
‡‡  $
.
‡‡$ %
AddUser
‡‡% ,
(
‡‡, -
role
‡‡- 1
.
‡‡1 2
RoleId
‡‡2 8
,
‡‡8 9
siteUser
‡‡: B
.
‡‡B C
UserId
‡‡C I
,
‡‡I J
role
‡‡K O
.
‡‡O P
RoleGuid
‡‡P X
,
‡‡X Y
siteUser
‡‡Z b
.
‡‡b c
UserGuid
‡‡c k
)
‡‡k l
;
‡‡l m
}
·· 
}
‚‚ 
}
„„ 
}
ÂÂ 
}
ÁÁ 
}
ÍÍ 	
}
 
}ÒÒ Ÿ
kD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\RuleViolation.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
RuleViolation 
{ 
public 
string 
ErrorMessage "
{# $
get% (
;( )
private* 1
set2 5
;5 6
}7 8
public 
RuleViolation 
( 
string #
errorMessage$ 0
)0 1
{ 	
ErrorMessage 
= 
errorMessage '
;' (
} 	
} 
} …+
hD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\SavedQuery.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 

SavedQuery 
{ 
public 

SavedQuery 
( 
) 
{ 	
}
 
private 
Guid 
id 
= 
Guid 
. 
Empty $
;$ %
private   
string   
name   
=   
string   $
.  $ %
Empty  % *
;  * +
private!! 
string!! 
	statement!!  
=!!! "
string!!# )
.!!) *
Empty!!* /
;!!/ 0
private"" 
DateTime"" 

createdUtc"" #
=""$ %
DateTime""& .
."". /
UtcNow""/ 5
;""5 6
private## 
Guid## 
	createdBy## 
=##  
Guid##! %
.##% &
Empty##& +
;##+ ,
private$$ 
DateTime$$ 

lastModUtc$$ #
=$$$ %
DateTime$$& .
.$$. /
UtcNow$$/ 5
;$$5 6
private%% 
Guid%% 
	lastModBy%% 
=%%  
Guid%%! %
.%%% &
Empty%%& +
;%%+ ,
public++ 
Guid++ 
Id++ 
{,, 	
get-- 
{-- 
return-- 
id-- 
;-- 
}-- 
set.. 
{.. 
id.. 
=.. 
value.. 
;.. 
}.. 
}// 	
public00 
string00 
Name00 
{11 	
get22 
{22 
return22 
name22 
;22 
}22  
set33 
{33 
name33 
=33 
value33 
;33 
}33  !
}44 	
public55 
string55 
	Statement55 
{66 	
get77 
{77 
return77 
	statement77 "
;77" #
}77$ %
set88 
{88 
	statement88 
=88 
value88 #
;88# $
}88% &
}99 	
public:: 
DateTime:: 

CreatedUtc:: "
{;; 	
get<< 
{<< 
return<< 

createdUtc<< #
;<<# $
}<<% &
set== 
{== 

createdUtc== 
=== 
value== $
;==$ %
}==& '
}>> 	
public?? 
Guid?? 
	CreatedBy?? 
{@@ 	
getAA 
{AA 
returnAA 
	createdByAA "
;AA" #
}AA$ %
setBB 
{BB 
	createdByBB 
=BB 
valueBB #
;BB# $
}BB% &
}CC 	
publicDD 
DateTimeDD 

LastModUtcDD "
{EE 	
getFF 
{FF 
returnFF 

lastModUtcFF #
;FF# $
}FF% &
setGG 
{GG 

lastModUtcGG 
=GG 
valueGG $
;GG$ %
}GG& '
}HH 	
publicII 
GuidII 
	LastModByII 
{JJ 	
getKK 
{KK 
returnKK 
	lastModByKK "
;KK" #
}KK$ %
setLL 
{LL 
	lastModByLL 
=LL 
valueLL #
;LL# $
}LL% &
}MM 	
publicVV 
staticVV 
intVV 
CompareByNameVV '
(VV' (

SavedQueryVV( 2
savedQuery1VV3 >
,VV> ?

SavedQueryVV@ J
savedQuery2VVK V
)VVV W
{WW 	
returnXX 
savedQuery1XX 
.XX 
NameXX #
.XX# $
	CompareToXX$ -
(XX- .
savedQuery2XX. 9
.XX9 :
NameXX: >
)XX> ?
;XX? @
}YY 	
public]] 
static]] 
int]] 
CompareByStatement]] ,
(]], -

SavedQuery]]- 7
savedQuery1]]8 C
,]]C D

SavedQuery]]E O
savedQuery2]]P [
)]][ \
{^^ 	
return__ 
savedQuery1__ 
.__ 
	Statement__ (
.__( )
	CompareTo__) 2
(__2 3
savedQuery2__3 >
.__> ?
	Statement__? H
)__H I
;__I J
}`` 	
publicdd 
staticdd 
intdd 
CompareByCreatedUtcdd -
(dd- .

SavedQuerydd. 8
savedQuery1dd9 D
,ddD E

SavedQueryddF P
savedQuery2ddQ \
)dd\ ]
{ee 	
returnff 
savedQuery1ff 
.ff 

CreatedUtcff )
.ff) *
	CompareToff* 3
(ff3 4
savedQuery2ff4 ?
.ff? @

CreatedUtcff@ J
)ffJ K
;ffK L
}gg 	
publickk 
statickk 
intkk 
CompareByLastModUtckk -
(kk- .

SavedQuerykk. 8
savedQuery1kk9 D
,kkD E

SavedQuerykkF P
savedQuery2kkQ \
)kk\ ]
{ll 	
returnmm 
savedQuery1mm 
.mm 

LastModUtcmm )
.mm) *
	CompareTomm* 3
(mm3 4
savedQuery2mm4 ?
.mm? @

LastModUtcmm@ J
)mmJ K
;mmK L
}nn 	
}ss 
}uu ¥\
rD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\SavedQueryRepository.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class !
SavedQueryRespository &
{ 
public !
SavedQueryRespository $
($ %
)% &
{ 	
}
 
public   
void   
Save   
(   

SavedQuery   #

savedQuery  $ .
)  . /
{!! 	
if"" 
("" 

savedQuery"" 
=="" 
null"" "
)""" #
{""$ %
return""& ,
;"", -
}"". /
if$$ 
($$ 

savedQuery$$ 
.$$ 
Id$$ 
==$$  
Guid$$! %
.$$% &
Empty$$& +
)$$+ ,
{%% 

savedQuery&& 
.&& 
Id&& 
=&& 
Guid&&  $
.&&$ %
NewGuid&&% ,
(&&, -
)&&- .
;&&. /
if(( 
((( 

savedQuery(( 
.(( 
	CreatedBy(( (
==(() +
Guid((, 0
.((0 1
Empty((1 6
)((6 7
{((8 9

savedQuery((: D
.((D E
	CreatedBy((E N
=((O P

savedQuery((Q [
.(([ \
	LastModBy((\ e
;((e f
}((g h
DBSavedQuery** 
.** 
Create** #
(**# $

savedQuery++ 
.++ 
Id++ !
,++! "

savedQuery,, 
.,, 
Name,, #
,,,# $

savedQuery-- 
.-- 
	Statement-- (
,--( )

savedQuery.. 
... 

CreatedUtc.. )
,..) *

savedQuery// 
.// 
	CreatedBy// (
)//( )
;//) *
}00 
else11 
{22 
DBSavedQuery33 
.33 
Update33 #
(33# $

savedQuery44 
.44 
Id44 !
,44! "

savedQuery55 
.55 
	Statement55 (
,55( )

savedQuery66 
.66 

LastModUtc66 )
,66) *

savedQuery77 
.77 
	LastModBy77 (
)77( )
;77) *
}99 
}:: 	
public>> 

SavedQuery>> 
Fetch>> 
(>>  
Guid>>  $
id>>% '
)>>' (
{?? 	
using@@ 
(@@ 
IDataReader@@ 
reader@@ %
=@@& '
DBSavedQuery@@( 4
.@@4 5
GetOne@@5 ;
(@@; <
id@@< >
)@@> ?
)@@? @
{AA 
ifBB 
(BB 
readerBB 
.BB 
ReadBB 
(BB  
)BB  !
)BB! "
{CC 

SavedQueryDD 

savedQueryDD )
=DD* +
newDD, /

SavedQueryDD0 :
(DD: ;
)DD; <
;DD< =

savedQueryEE 
.EE 
IdEE !
=EE" #
newEE$ '
GuidEE( ,
(EE, -
readerEE- 3
[EE3 4
$strEE4 8
]EE8 9
.EE9 :
ToStringEE: B
(EEB C
)EEC D
)EED E
;EEE F

savedQueryFF 
.FF 
NameFF #
=FF$ %
readerFF& ,
[FF, -
$strFF- 3
]FF3 4
.FF4 5
ToStringFF5 =
(FF= >
)FF> ?
;FF? @

savedQueryGG 
.GG 
	StatementGG (
=GG) *
readerGG+ 1
[GG1 2
$strGG2 =
]GG= >
.GG> ?
ToStringGG? G
(GGG H
)GGH I
;GGI J

savedQueryHH 
.HH 

CreatedUtcHH )
=HH* +
ConvertHH, 3
.HH3 4

ToDateTimeHH4 >
(HH> ?
readerHH? E
[HHE F
$strHHF R
]HHR S
)HHS T
;HHT U

savedQueryII 
.II 
	CreatedByII (
=II) *
newII+ .
GuidII/ 3
(II3 4
readerII4 :
[II: ;
$strII; F
]IIF G
.IIG H
ToStringIIH P
(IIP Q
)IIQ R
)IIR S
;IIS T

savedQueryJJ 
.JJ 

LastModUtcJJ )
=JJ* +
ConvertJJ, 3
.JJ3 4

ToDateTimeJJ4 >
(JJ> ?
readerJJ? E
[JJE F
$strJJF R
]JJR S
)JJS T
;JJT U

savedQueryKK 
.KK 
	LastModByKK (
=KK) *
newKK+ .
GuidKK/ 3
(KK3 4
readerKK4 :
[KK: ;
$strKK; F
]KKF G
.KKG H
ToStringKKH P
(KKP Q
)KKQ R
)KKR S
;KKS T
returnMM 

savedQueryMM %
;MM% &
}OO 
}PP 
returnRR 
nullRR 
;RR 
}SS 	
publicUU 

SavedQueryUU 
FetchUU 
(UU  
stringUU  &
nameUU' +
)UU+ ,
{VV 	
usingWW 
(WW 
IDataReaderWW 
readerWW %
=WW& '
DBSavedQueryWW( 4
.WW4 5
GetOneWW5 ;
(WW; <
nameWW< @
)WW@ A
)WWA B
{XX 
ifYY 
(YY 
readerYY 
.YY 
ReadYY 
(YY  
)YY  !
)YY! "
{ZZ 

SavedQuery[[ 

savedQuery[[ )
=[[* +
new[[, /

SavedQuery[[0 :
([[: ;
)[[; <
;[[< =

savedQuery\\ 
.\\ 
Id\\ !
=\\" #
new\\$ '
Guid\\( ,
(\\, -
reader\\- 3
[\\3 4
$str\\4 8
]\\8 9
.\\9 :
ToString\\: B
(\\B C
)\\C D
)\\D E
;\\E F

savedQuery]] 
.]] 
Name]] #
=]]$ %
reader]]& ,
[]], -
$str]]- 3
]]]3 4
.]]4 5
ToString]]5 =
(]]= >
)]]> ?
;]]? @

savedQuery^^ 
.^^ 
	Statement^^ (
=^^) *
reader^^+ 1
[^^1 2
$str^^2 =
]^^= >
.^^> ?
ToString^^? G
(^^G H
)^^H I
;^^I J

savedQuery__ 
.__ 

CreatedUtc__ )
=__* +
Convert__, 3
.__3 4

ToDateTime__4 >
(__> ?
reader__? E
[__E F
$str__F R
]__R S
)__S T
;__T U

savedQuery`` 
.`` 
	CreatedBy`` (
=``) *
new``+ .
Guid``/ 3
(``3 4
reader``4 :
[``: ;
$str``; F
]``F G
.``G H
ToString``H P
(``P Q
)``Q R
)``R S
;``S T

savedQueryaa 
.aa 

LastModUtcaa )
=aa* +
Convertaa, 3
.aa3 4

ToDateTimeaa4 >
(aa> ?
readeraa? E
[aaE F
$straaF R
]aaR S
)aaS T
;aaT U

savedQuerybb 
.bb 
	LastModBybb (
=bb) *
newbb+ .
Guidbb/ 3
(bb3 4
readerbb4 :
[bb: ;
$strbb; F
]bbF G
.bbG H
ToStringbbH P
(bbP Q
)bbQ R
)bbR S
;bbS T
returndd 

savedQuerydd %
;dd% &
}ff 
}gg 
returnii 
nullii 
;ii 
}jj 	
publicrr 
boolrr 
Deleterr 
(rr 
Guidrr 
idrr  "
)rr" #
{ss 	
returntt 
DBSavedQuerytt 
.tt  
Deletett  &
(tt& '
idtt' )
)tt) *
;tt* +
}uu 	
public~~ 
List~~ 
<~~ 

SavedQuery~~ 
>~~ 
GetAll~~  &
(~~& '
)~~' (
{ 	
IDataReader
ÄÄ 
reader
ÄÄ 
=
ÄÄ  
DBSavedQuery
ÄÄ! -
.
ÄÄ- .
GetAll
ÄÄ. 4
(
ÄÄ4 5
)
ÄÄ5 6
;
ÄÄ6 7
return
ÅÅ  
LoadListFromReader
ÅÅ %
(
ÅÅ% &
reader
ÅÅ& ,
)
ÅÅ, -
;
ÅÅ- .
}
ÉÉ 	
private
àà 
List
àà 
<
àà 

SavedQuery
àà 
>
àà   
LoadListFromReader
àà! 3
(
àà3 4
IDataReader
àà4 ?
reader
àà@ F
)
ààF G
{
ââ 	
List
ää 
<
ää 

SavedQuery
ää 
>
ää 
savedQueryList
ää +
=
ää, -
new
ää. 1
List
ää2 6
<
ää6 7

SavedQuery
ää7 A
>
ääA B
(
ääB C
)
ääC D
;
ääD E
try
åå 
{
çç 
while
éé 
(
éé 
reader
éé 
.
éé 
Read
éé "
(
éé" #
)
éé# $
)
éé$ %
{
èè 

SavedQuery
êê 

savedQuery
êê )
=
êê* +
new
êê, /

SavedQuery
êê0 :
(
êê: ;
)
êê; <
;
êê< =

savedQuery
ëë 
.
ëë 
Id
ëë !
=
ëë" #
new
ëë$ '
Guid
ëë( ,
(
ëë, -
reader
ëë- 3
[
ëë3 4
$str
ëë4 8
]
ëë8 9
.
ëë9 :
ToString
ëë: B
(
ëëB C
)
ëëC D
)
ëëD E
;
ëëE F

savedQuery
íí 
.
íí 
Name
íí #
=
íí$ %
reader
íí& ,
[
íí, -
$str
íí- 3
]
íí3 4
.
íí4 5
ToString
íí5 =
(
íí= >
)
íí> ?
;
íí? @

savedQuery
ìì 
.
ìì 
	Statement
ìì (
=
ìì) *
reader
ìì+ 1
[
ìì1 2
$str
ìì2 =
]
ìì= >
.
ìì> ?
ToString
ìì? G
(
ììG H
)
ììH I
;
ììI J

savedQuery
îî 
.
îî 

CreatedUtc
îî )
=
îî* +
Convert
îî, 3
.
îî3 4

ToDateTime
îî4 >
(
îî> ?
reader
îî? E
[
îîE F
$str
îîF R
]
îîR S
)
îîS T
;
îîT U

savedQuery
ïï 
.
ïï 
	CreatedBy
ïï (
=
ïï) *
new
ïï+ .
Guid
ïï/ 3
(
ïï3 4
reader
ïï4 :
[
ïï: ;
$str
ïï; F
]
ïïF G
.
ïïG H
ToString
ïïH P
(
ïïP Q
)
ïïQ R
)
ïïR S
;
ïïS T

savedQuery
ññ 
.
ññ 

LastModUtc
ññ )
=
ññ* +
Convert
ññ, 3
.
ññ3 4

ToDateTime
ññ4 >
(
ññ> ?
reader
ññ? E
[
ññE F
$str
ññF R
]
ññR S
)
ññS T
;
ññT U

savedQuery
óó 
.
óó 
	LastModBy
óó (
=
óó) *
new
óó+ .
Guid
óó/ 3
(
óó3 4
reader
óó4 :
[
óó: ;
$str
óó; F
]
óóF G
.
óóG H
ToString
óóH P
(
óóP Q
)
óóQ R
)
óóR S
;
óóS T
savedQueryList
òò "
.
òò" #
Add
òò# &
(
òò& '

savedQuery
òò' 1
)
òò1 2
;
òò2 3
}
öö 
}
õõ 
finally
úú 
{
ùù 
reader
ûû 
.
ûû 
Close
ûû 
(
ûû 
)
ûû 
;
ûû 
}
üü 
return
°° 
savedQueryList
°° !
;
°°! "
}
££ 	
}
¶¶ 
}®® Äc
hD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\SiteFolder.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 

SiteFolder 
{ 
public 

SiteFolder 
( 
) 
{ 	
}
 
public!! 

SiteFolder!! 
(!! 
Guid!! 
guid!! #
)!!# $
{"" 	
GetSiteFolder## 
(## 
guid## 
)## 
;##  
}$$ 	
private** 
Guid** 
guid** 
=** 
Guid**  
.**  !
Empty**! &
;**& '
private++ 
Guid++ 
siteGuid++ 
=++ 
Guid++  $
.++$ %
Empty++% *
;++* +
private,, 
string,, 

folderName,, !
=,," #
string,,$ *
.,,* +
Empty,,+ 0
;,,0 1
public22 
Guid22 
Guid22 
{33 	
get44 
{44 
return44 
guid44 
;44 
}44  
set55 
{55 
guid55 
=55 
value55 
;55 
}55  !
}66 	
public77 
Guid77 
SiteGuid77 
{88 	
get99 
{99 
return99 
siteGuid99 !
;99! "
}99# $
set:: 
{:: 
siteGuid:: 
=:: 
value:: "
;::" #
}::$ %
};; 	
public<< 
string<< 

FolderName<<  
{== 	
get>> 
{>> 
return>> 

folderName>> #
;>># $
}>>% &
set?? 
{?? 

folderName?? 
=?? 
value?? $
;??$ %
}??& '
}@@ 	
privateFF 
voidFF 
GetSiteFolderFF "
(FF" #
GuidFF# '
guidFF( ,
)FF, -
{GG 	
usingHH 
(HH 
IDataReaderHH 
readerHH %
=HH& '
DBSiteFolderHH( 4
.HH4 5
GetOneHH5 ;
(HH; <
guidHH< @
)HH@ A
)HHA B
{II 
ifJJ 
(JJ 
readerJJ 
.JJ 
ReadJJ 
(JJ  
)JJ  !
)JJ! "
{KK 
thisLL 
.LL 
guidLL 
=LL 
newLL  #
GuidLL$ (
(LL( )
readerLL) /
[LL/ 0
$strLL0 6
]LL6 7
.LL7 8
ToStringLL8 @
(LL@ A
)LLA B
)LLB C
;LLC D
thisMM 
.MM 
siteGuidMM !
=MM" #
newMM$ '
GuidMM( ,
(MM, -
readerMM- 3
[MM3 4
$strMM4 >
]MM> ?
.MM? @
ToStringMM@ H
(MMH I
)MMI J
)MMJ K
;MMK L
thisNN 
.NN 

folderNameNN #
=NN$ %
readerNN& ,
[NN, -
$strNN- 9
]NN9 :
.NN: ;
ToStringNN; C
(NNC D
)NND E
;NNE F
}PP 
}RR 
}TT 	
privateVV 
boolVV 
CreateVV 
(VV 
)VV 
{WW 	
GuidXX 
newIDXX 
=XX 
GuidXX 
.XX 
NewGuidXX %
(XX% &
)XX& '
;XX' (
thisZZ 
.ZZ 
guidZZ 
=ZZ 
newIDZZ 
;ZZ 
int\\ 
rowsAffected\\ 
=\\ 
DBSiteFolder\\ +
.\\+ ,
Add\\, /
(\\/ 0
this]] 
.]] 
guid]] 
,]] 
this^^ 
.^^ 
siteGuid^^ 
,^^ 
this__ 
.__ 

folderName__ 
)__  
;__  !
returnaa 
(aa 
rowsAffectedaa  
>aa! "
$numaa# $
)aa$ %
;aa% &
}cc 	
privategg 
boolgg 
Updategg 
(gg 
)gg 
{hh 	
returnjj 
DBSiteFolderjj 
.jj  
Updatejj  &
(jj& '
thiskk 
.kk 
guidkk 
,kk 
thisll 
.ll 
siteGuidll 
,ll 
thismm 
.mm 

folderNamemm 
)mm  
;mm  !
}oo 	
publicww 
boolww 
Saveww 
(ww 
)ww 
{xx 	
ifyy 
(yy 
!yy 
IsAllowedFolderyy  
(yy  !
thisyy! %
.yy% &

folderNameyy& 0
)yy0 1
)yy1 2
{zz 
throw{{ 
new{{ 
ArgumentException{{ +
({{+ ,
$str{{, A
){{A B
;{{B C
}|| 
if~~ 
(~~ 
HasInvalidChars~~ 
(~~  
this~~  $
.~~$ %

folderName~~% /
)~~/ 0
)~~0 1
{ 
throw
ÄÄ 
new
ÄÄ 
ArgumentException
ÄÄ +
(
ÄÄ+ ,
$str
ÄÄ, A
)
ÄÄA B
;
ÄÄB C
}
ÅÅ 
if
ÉÉ 
(
ÉÉ 
this
ÉÉ 
.
ÉÉ 
guid
ÉÉ 
!=
ÉÉ 
Guid
ÉÉ !
.
ÉÉ! "
Empty
ÉÉ" '
)
ÉÉ' (
{
ÑÑ 
return
ÖÖ 
Update
ÖÖ 
(
ÖÖ 
)
ÖÖ 
;
ÖÖ  
}
ÜÜ 
else
áá 
{
àà 
return
ââ 
Create
ââ 
(
ââ 
)
ââ 
;
ââ  
}
ää 
}
ãã 	
public
îî 
static
îî 
Guid
îî 
GetSiteGuid
îî &
(
îî& '
string
îî' -

folderName
îî. 8
)
îî8 9
{
ïï 	
return
ññ 
DBSiteFolder
ññ 
.
ññ  
GetSiteGuid
ññ  +
(
ññ+ ,

folderName
ññ, 6
)
ññ6 7
;
ññ7 8
}
óó 	
public
ôô 
static
ôô 
bool
ôô 
Delete
ôô !
(
ôô! "
Guid
ôô" &
guid
ôô' +
)
ôô+ ,
{
öö 	
return
õõ 
DBSiteFolder
õõ 
.
õõ  
Delete
õõ  &
(
õõ& '
guid
õõ' +
)
õõ+ ,
;
õõ, -
}
úú 	
public
ûû 
static
ûû 
bool
ûû 
Exists
ûû !
(
ûû! "
string
ûû" (

folderName
ûû) 3
)
ûû3 4
{
üü 	
return
†† 
DBSiteFolder
†† 
.
††  
Exists
††  &
(
††& '

folderName
††' 1
)
††1 2
;
††2 3
}
°° 	
public
££ 
static
££ 
bool
££ 
IsAllowedFolder
££ *
(
££* +
string
££+ 1

folderName
££2 <
)
££< =
{
§§ 	
bool
•• 
result
•• 
=
•• 
true
•• 
;
•• 
if
¶¶ 
(
¶¶ "
ConfigurationManager
¶¶ $
.
¶¶$ %
AppSettings
¶¶% 0
[
¶¶0 1
$str
¶¶1 O
]
¶¶O P
!=
¶¶Q S
null
¶¶T X
)
¶¶X Y
{
ßß 
string
®® 
[
®® 
]
®® 
disallowedNames
®® (
=
©© "
ConfigurationManager
©© *
.
©©* +
AppSettings
©©+ 6
[
©©6 7
$str
©©7 U
]
©©U V
.
©©V W
Split
©©W \
(
©©\ ]
new
©©] `
char
©©a e
[
©©e f
]
©©f g
{
©©h i
$char
©©j m
}
©©n o
)
©©o p
;
©©p q
foreach
´´ 
(
´´ 
string
´´ 
disallowedName
´´  .
in
´´/ 1
disallowedNames
´´2 A
)
´´A B
{
¨¨ 
if
≠≠ 
(
≠≠ 
string
≠≠ 
.
≠≠ 
Equals
≠≠ $
(
≠≠$ %

folderName
≠≠% /
,
≠≠/ 0
disallowedName
≠≠1 ?
,
≠≠? @
StringComparison
≠≠A Q
.
≠≠Q R(
InvariantCultureIgnoreCase
≠≠R l
)
≠≠l m
)
≠≠m n
result
≠≠n t
=
≠≠u v
false
≠≠w |
;
≠≠| }
}
ÆÆ 
}
∞∞ 
return
≥≥ 
result
≥≥ 
;
≥≥ 
}
µµ 	
public
∑∑ 
static
∑∑ 
bool
∑∑ 
HasInvalidChars
∑∑ *
(
∑∑* +
string
∑∑+ 1

folderName
∑∑2 <
)
∑∑< =
{
∏∏ 	
bool
ππ 
result
ππ 
=
ππ 
false
ππ 
;
ππ  
char
∫∫ 
[
∫∫ 
]
∫∫ 
	nameChars
∫∫ 
=
∫∫ 

folderName
∫∫ )
.
∫∫) *
ToCharArray
∫∫* 5
(
∫∫5 6
)
∫∫6 7
;
∫∫7 8
foreach
ªª 
(
ªª 
char
ªª 
c
ªª 
in
ªª 
	nameChars
ªª '
)
ªª' (
{
ºº 
if
ΩΩ 
(
ΩΩ 
!
ΩΩ 
Char
ΩΩ 
.
ΩΩ 
IsLetterOrDigit
ΩΩ )
(
ΩΩ) *
c
ΩΩ* +
)
ΩΩ+ ,
&&
ΩΩ- /
(
ΩΩ/ 0
c
ΩΩ0 1
!=
ΩΩ2 4
$char
ΩΩ5 8
)
ΩΩ8 9
)
ΩΩ9 :
{
ææ 
result
øø 
=
øø 
true
øø !
;
øø! "
}
¿¿ 
}
¡¡ 
return
√√ 
result
√√ 
;
√√ 
}
ƒƒ 	
public
»» 
static
»» 
List
»» 
<
»» 

SiteFolder
»» %
>
»»% &
	GetBySite
»»' 0
(
»»0 1
Guid
»»1 5
siteGuid
»»6 >
)
»»> ?
{
…… 	
List
   
<
   

SiteFolder
   
>
   
siteFolderList
   +
=
ÀÀ 
new
ÀÀ 
List
ÀÀ 
<
ÀÀ 

SiteFolder
ÀÀ %
>
ÀÀ% &
(
ÀÀ& '
)
ÀÀ' (
;
ÀÀ( )
using
ÕÕ 
(
ÕÕ 
IDataReader
ÕÕ 
reader
ÕÕ %
=
ÕÕ& '
DBSiteFolder
ÕÕ( 4
.
ÕÕ4 5
	GetBySite
ÕÕ5 >
(
ÕÕ> ?
siteGuid
ÕÕ? G
)
ÕÕG H
)
ÕÕH I
{
ŒŒ 
while
œœ 
(
œœ 
reader
œœ 
.
œœ 
Read
œœ "
(
œœ" #
)
œœ# $
)
œœ$ %
{
–– 

SiteFolder
—— 

siteFolder
—— )
=
——* +
new
——, /

SiteFolder
——0 :
(
——: ;
)
——; <
;
——< =

siteFolder
““ 
.
““ 
guid
““ #
=
““$ %
new
““& )
Guid
““* .
(
““. /
reader
““/ 5
[
““5 6
$str
““6 <
]
““< =
.
““= >
ToString
““> F
(
““F G
)
““G H
)
““H I
;
““I J

siteFolder
”” 
.
”” 
siteGuid
”” '
=
””( )
new
””* -
Guid
””. 2
(
””2 3
reader
””3 9
[
””9 :
$str
””: D
]
””D E
.
””E F
ToString
””F N
(
””N O
)
””O P
)
””P Q
;
””Q R

siteFolder
‘‘ 
.
‘‘ 

folderName
‘‘ )
=
‘‘* +
reader
‘‘, 2
[
‘‘2 3
$str
‘‘3 ?
]
‘‘? @
.
‘‘@ A
ToString
‘‘A I
(
‘‘I J
)
‘‘J K
;
‘‘K L
siteFolderList
’’ "
.
’’" #
Add
’’# &
(
’’& '

siteFolder
’’' 1
)
’’1 2
;
’’2 3
}
÷÷ 
}
◊◊ 
return
ŸŸ 
siteFolderList
ŸŸ !
;
ŸŸ! "
}
€€ 	
public
‚‚ 
static
‚‚ 
int
‚‚ !
CompareByFolderName
‚‚ -
(
‚‚- .

SiteFolder
‚‚. 8
siteFolder1
‚‚9 D
,
‚‚D E

SiteFolder
‚‚F P
siteFolder2
‚‚Q \
)
‚‚\ ]
{
„„ 	
return
‰‰ 
siteFolder1
‰‰ 
.
‰‰ 

FolderName
‰‰ )
.
‰‰) *
	CompareTo
‰‰* 3
(
‰‰3 4
siteFolder2
‰‰4 ?
.
‰‰? @

FolderName
‰‰@ J
)
‰‰J K
;
‰‰K L
}
ÂÂ 	
}
ÍÍ 
}ÏÏ ›
rD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\SiteModuleDefinition.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class  
SiteModuleDefinition %
{		 
public

  
SiteModuleDefinition

 #
(

# $
)

$ %
{ 	
} 	
private 
int 

modueDefId 
=  
-! "
$num" #
;# $
public 
int 

ModueDefId 
{ 	
get 
{ 
return 

modueDefId #
;# $
}% &
set 
{ 

modueDefId 
= 
value $
;$ %
}& '
} 	
private 
Guid 
featureGuid  
=! "
Guid# '
.' (
Empty( -
;- .
public 
Guid 
FeatureGuid 
{ 	
get 
{ 
return 
featureGuid $
;$ %
}& '
set 
{ 
featureGuid 
= 
value  %
;% &
}' (
} 	
private 
string 
featureName "
=# $
string% +
.+ ,
Empty, 1
;1 2
public!! 
string!! 
FeatureName!! !
{"" 	
get## 
{## 
return## 
featureName## $
;##$ %
}##& '
set$$ 
{$$ 
featureName$$ 
=$$ 
value$$  %
;$$% &
}$$' (
}%% 	
private'' 
string'' 

controlSrc'' !
=''" #
string''$ *
.''* +
Empty''+ 0
;''0 1
public)) 
string)) 

ControlSrc))  
{** 	
get++ 
{++ 
return++ 

controlSrc++ #
;++# $
}++% &
set,, 
{,, 

controlSrc,, 
=,, 
value,, $
;,,$ %
},,& '
}-- 	
private// 
string// 
authorizedRoles// &
=//' (
string//) /
./// 0
Empty//0 5
;//5 6
public11 
string11 
AuthorizedRoles11 %
{22 	
get33 
{33 
return33 
authorizedRoles33 (
;33( )
}33* +
set44 
{44 
authorizedRoles44 !
=44" #
value44$ )
;44) *
}44+ ,
}55 	
}66 
}77 ¨#
qD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\SitePersonalization.cs
	namespace 	

mojoPortal
 
. 
Business 
{		 
public 

sealed 
class 
SitePersonalization +
{ 
public 
static 
void $
ResetPersonalizationBlob 3
(3 4
int4 7
siteId8 >
,> ?
String@ F
pathG K
,K L
GuidM Q
userIdR X
)X Y
{ 	!
DBSitePersonalization !
.! "$
ResetPersonalizationBlob" :
(: ;
siteId 
, 
path 
, 
userId 
) 
; 
} 	
public 
static 
void $
ResetPersonalizationBlob 3
(3 4
int 
siteId 
, 
String 
path 
) 
{ 	!
DBSitePersonalization !
.! "$
ResetPersonalizationBlob" :
(: ;
siteId; A
,A B
pathC G
)G H
;H I
} 	
public!! 
static!! 
byte!! 
[!! 
]!! "
GetPersonalizationBlob!! 3
(!!3 4
int!!4 7
siteId!!8 >
,!!> ?
String!!@ F
path!!G K
,!!K L
Guid!!M Q
userId!!R X
)!!X Y
{"" 	
return## !
DBSitePersonalization## (
.##( )"
GetPersonalizationBlob##) ?
(##? @
siteId$$ "
,$$" #
path%%  
,%%  !
userId&& "
)&&" #
;&&# $
}(( 	
public** 
static** 
byte** 
[** 
]** *
GetPersonalizationBlobAllUsers** ;
(**; <
int**< ?
siteId**@ F
,**F G
String**H N
path**O S
)**S T
{++ 	
return,, !
DBSitePersonalization,, (
.,,( )*
GetPersonalizationBlobAllUsers,,) G
(,,G H
siteId,,H N
,,,N O
path,,P T
),,T U
;,,U V
}.. 	
public00 
static00 
void00 #
SavePersonalizationBlob00 2
(002 3
int11 
siteId11 
,11 
String22 
path22 
,22 
Guid33 
userId33 
,33 
byte44 
[44 
]44 
dataBlob44 
,44 
DateTime55 
dateTime55  
)55  !
{66 	!
DBSitePersonalization77 !
.77! "#
SavePersonalizationBlob77" 9
(779 :
siteId88 "
,88" #
path99  
,99  !
userId:: "
,::" #
dataBlob;; $
,;;$ %
dateTime<< $
)<<$ %
;<<% &
}?? 	
publicAA 
staticAA 
voidAA +
SavePersonalizationBlobAllUsersAA :
(AA: ;
intBB 
siteIdBB 
,BB 
StringCC 
pathCC 
,CC 
byteDD 
[DD 
]DD 
dataBlobDD 
,DD 
DateTimeEE 
dateTimeEE 
)EE 
{FF 	!
DBSitePersonalizationGG !
.GG! "+
SavePersonalizationBlobAllUsersGG" A
(GGA B
siteIdHH "
,HH" #
pathII  
,II  !
dataBlobJJ $
,JJ$ %
dateTimeKK $
)KK$ %
;KK% &
}MM 	
publicPP 
staticPP 
intPP 
GetCountOfStatePP )
(PP) *
intQQ 
siteIdQQ 
,QQ 
StringRR 
pathToMatchRR 
,RR 
boolSS 
allUsersScopeSS 
,SS 
GuidTT 
userGuidTT 
,TT 
DateTimeUU !
userInactiveSinceDateUU )
)UU) *
{VV 	
returnWW !
DBSitePersonalizationWW (
.WW( )
GetCountOfStateWW) 8
(WW8 9
siteIdXX 
,XX 
pathToMatchYY 
,YY  
allUsersScopeZZ !
,ZZ! "
userGuid[[ 
,[[ !
userInactiveSinceDate\\ )
)\\) *
;\\* +
}__ 	
}
ÉÉ 
}ÑÑ •‚
jD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\SiteSettings.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
[ 
Serializable 
( 
) 
] 
public 
class 
SiteSettings 
{ 
public"" 
SiteSettings"" 
("" 
Guid""  
siteGuid""! )
)"") *
{## 	
GetSiteSettings$$ 
($$ 
siteGuid$$ $
)$$$ %
;$$% &
}%% 	
public'' 
SiteSettings''	 
('' 
string'' 
hostName'' %
)''% &
{(( 
GetSiteSettings)) 
()) 
hostName)) 
))) 
;)) 
}** 
public,, 
SiteSettings,,	 
(,, 
int,, 
siteId,,  
),,  !
{-- 
if.. 
(.. 
siteId.. 
>.. 
$num.. 
).. 
{// 
GetSiteSettings00 
(00 
siteId00 
)00 
;00 
}11 
}33 
public55 
SiteSettings55 
(55 
)55 
{66 	
}88 	
public>> 
enum>> 
ContentEditorSkin>> %
{?? 	
normal@@ 
,@@ 

office2003AA 
,AA 
silverBB 
}DD 	
publicFF 
enumFF 
FriendlyUrlPatternFF &
{GG 	
PageNameHH 
,HH 
PageNameWithDotASPXII 
}LL 	
privateTT 	
staticTT
 
readonlyTT 
ILogTT 
logTT "
=TT# $

LogManagerTT% /
.TT/ 0
	GetLoggerTT0 9
(TT9 :
typeofTT: @
(TT@ A
SiteSettingsTTA M
)TTM N
)TTN O
;TTO P
privateUU 	
intUU
 
siteIDUU 
=UU 
-UU 
$numUU 
;UU 
privateVV 
GuidVV 
siteGuidVV 
=VV 
GuidVV  $
.VV$ %
EmptyVV% *
;VV* +
privateWW 	
stringWW
 
siteNameWW 
=WW 
stringWW "
.WW" #
EmptyWW# (
;WW( )
privateXX 
stringXX 
skinXX 
=XX 
stringXX $
.XX$ %
EmptyXX% *
;XX* +
privateYY 
stringYY 
logoYY 
=YY 
stringYY $
.YY$ %
EmptyYY% *
;YY* +
privateZZ 
stringZZ 
iconZZ 
=ZZ 
stringZZ $
.ZZ$ %
EmptyZZ% *
;ZZ* +
private[[ 	
bool[[
 
allowUserSkins[[ 
=[[ 
false[[  %
;[[% &
private\\ 	
bool\\
 
allowPageSkins\\ 
=\\ 
false\\  %
;\\% &
private]] 	
bool]]
  
allowHideMenuOnPages]] #
=]]$ %
false]]& +
;]]+ ,
private^^ 	
bool^^
  
allowNewRegistration^^ #
=^^$ %
true^^& *
;^^* +
private__ 	
bool__
 !
useSecureRegistration__ $
=__% &
false__' ,
;__, -
private`` 	
bool``
 
useSSLOnAllPages`` 
=``  !
false``" '
;``' (
privatecc 
stringcc 
metaKeyWordscc #
=cc$ %
stringcc& ,
.cc, -
Emptycc- 2
;cc2 3
privatedd 
stringdd 
metaDescriptiondd &
=dd' (
stringdd) /
.dd/ 0
Emptydd0 5
;dd5 6
privateee 
stringee 
metaEncodingee #
=ee$ %
stringee& ,
.ee, -
Emptyee- 2
;ee2 3
privateff 
stringff 
metaAdditionalff %
=ff& '
stringff( .
.ff. /
Emptyff/ 4
;ff4 5
privateii 	
boolii
 
isServerAdminSiteii  
=ii! "
falseii# (
;ii( )
privatejj 	
booljj
 #
allowUserFullNameChangejj &
=jj' (
truejj) -
;jj- .
privatekk 	
boolkk
 
useEmailForLoginkk 
=kk  !
truekk" &
;kk& '
privatell 	
boolll
 
reallyDeleteUsersll  
=ll! "
truell# '
;ll' (
privatemm 
stringmm 
editorProviderNamemm )
=mm* +
$strmm, >
;mm> ?
privatenn 	
ContentEditorSkinnn
 

editorSkinnn &
=nn' (
SiteSettingsnn) 5
.nn5 6
ContentEditorSkinnn6 G
.nnG H
normalnnH N
;nnN O
privateoo 	
FriendlyUrlPatternoo
 %
defaultFriendlyUrlPatternoo 6
=oo7 8
SiteSettingsoo9 E
.ooE F
FriendlyUrlPatternooF X
.ooX Y
PageNameooY a
;ooa b
privaterr 	
boolrr
 
useLdapAuthrr 
=rr 
falserr "
;rr" #
privatess 	
boolss
 *
autoCreateLDAPUserOnFirstLoginss -
=ss. /
truess0 4
;ss4 5
privatett 	
LdapSettingstt
 
ldapSettingstt #
=tt$ %
newtt& )
LdapSettingstt* 6
(tt6 7
)tt7 8
;tt8 9
privatevv 
boolvv 
enableMyPageFeaturevv (
=vv) *
truevv+ /
;vv/ 0
privateyy 
boolyy $
extendedPropertiesLoadedyy -
=yy. /
falseyy0 5
;yy5 6
privatezz 
boolzz &
extendedPropertiesAreDirtyzz /
=zz0 1
falsezz2 7
;zz7 8
private|| 
bool|| "
allowPasswordRetrieval|| +
=||, -
true||. 2
;||2 3
private}} 
bool}} 
allowPasswordReset}} '
=}}( )
false}}* /
;}}/ 0
private~~ 
bool~~ %
requiresQuestionAndAnswer~~ .
;~~. /
private 
bool 
requiresUniqueEmail (
;( )
private
ÄÄ 
int
ÄÄ (
maxInvalidPasswordAttempts
ÄÄ .
=
ÄÄ/ 0
$num
ÄÄ1 3
;
ÄÄ3 4
private
ÅÅ 
int
ÅÅ *
passwordAttemptWindowMinutes
ÅÅ 0
=
ÅÅ1 2
$num
ÅÅ3 4
;
ÅÅ4 5
private
ÇÇ 
int
ÇÇ 
passwordFormat
ÇÇ "
=
ÇÇ# $
$num
ÇÇ% &
;
ÇÇ& '
private
ÉÉ 
int
ÉÉ '
minRequiredPasswordLength
ÉÉ -
=
ÉÉ. /
$num
ÉÉ0 1
;
ÉÉ1 2
private
ÑÑ 
int
ÑÑ 2
$minRequiredNonAlphanumericCharacters
ÑÑ 8
=
ÑÑ9 :
$num
ÑÑ; <
;
ÑÑ< =
private
ÖÖ 
string
ÖÖ /
!passwordStrengthRegularExpression
ÖÖ 8
=
ÖÖ9 :
string
ÖÖ; A
.
ÖÖA B
Empty
ÖÖB G
;
ÖÖG H
private
ÜÜ 
string
ÜÜ %
defaultEmailFromAddress
ÜÜ .
=
ÜÜ/ 0
string
ÜÜ1 7
.
ÜÜ7 8
Empty
ÜÜ8 =
;
ÜÜ= >
private
áá 
string
áá 
siteRoot
áá 
=
áá  !
string
áá" (
.
áá( )
Empty
áá) .
;
áá. /
private
ââ 
string
ââ 
siteFolderName
ââ %
=
ââ& '
string
ââ( .
.
ââ. /
Empty
ââ/ 4
;
ââ4 5
private
ää 
string
ää 
virtualPageRoot
ää &
=
ää' (
string
ää) /
.
ää/ 0
Empty
ää0 5
;
ää5 6
private
êê 
string
êê  
datePickerProvider
êê )
=
êê* +
$str
êê, <
;
êê< =
private
ëë 
string
ëë 
captchaProvider
ëë &
=
ëë' (
$str
ëë) C
;
ëëC D
private
íí 
string
íí !
recaptchaPrivateKey
íí *
=
íí+ ,
string
íí- 3
.
íí3 4
Empty
íí4 9
;
íí9 :
private
ìì 
string
ìì  
recaptchaPublicKey
ìì )
=
ìì* +
string
ìì, 2
.
ìì2 3
Empty
ìì3 8
;
ìì8 9
private
îî 
string
îî 
wordpressAPIKey
îî &
=
îî' (
string
îî) /
.
îî/ 0
Empty
îî0 5
;
îî5 6
private
ïï 
string
ïï 
windowsLiveAppID
ïï '
=
ïï( )
string
ïï* 0
.
ïï0 1
Empty
ïï1 6
;
ïï6 7
private
ññ 
string
ññ 
windowsLiveKey
ññ %
=
ññ& '
string
ññ( .
.
ññ. /
Empty
ññ/ 4
;
ññ4 5
private
óó 
bool
óó 
allowOpenIDAuth
óó $
=
óó% &
false
óó' ,
;
óó, -
private
òò 
bool
òò "
allowWindowsLiveAuth
òò )
=
òò* +
false
òò, 1
;
òò1 2
private
ôô 
string
ôô 

gmapApiKey
ôô !
=
ôô" #
string
ôô$ *
.
ôô* +
Empty
ôô+ 0
;
ôô0 1
private
ùù 
string
ùù 
apiKeyExtra1
ùù #
=
ùù$ %
string
ùù& ,
.
ùù, -
Empty
ùù- 2
;
ùù2 3
private
†† 
string
†† 
apiKeyExtra2
†† #
=
††$ %
string
††& ,
.
††, -
Empty
††- 2
;
††2 3
private
££ 
string
££ 
apiKeyExtra3
££ #
=
££$ %
string
££& ,
.
££, -
Empty
££- 2
;
££2 3
private
¶¶ 
string
¶¶ 
apiKeyExtra4
¶¶ #
=
¶¶$ %
string
¶¶& ,
.
¶¶, -
Empty
¶¶- 2
;
¶¶2 3
private
©© 
string
©© 
apiKeyExtra5
©© #
=
©©$ %
string
©©& ,
.
©©, -
Empty
©©- 2
;
©©2 3
[
´´ 	
NonSerialized
´´	 
]
´´ 
private
¨¨ 
Currency
¨¨ 
currency
¨¨ !
=
¨¨" #
null
¨¨$ (
;
¨¨( )
private
ÆÆ 
bool
ÆÆ 
disableDbAuth
ÆÆ "
=
ÆÆ# $
false
ÆÆ% *
;
ÆÆ* +
public
ªª 
int
ªª	 
SiteId
ªª 
{
ºº 
get
ΩΩ 
{
ΩΩ 
return
ΩΩ	 
siteID
ΩΩ 
;
ΩΩ 
}
ΩΩ 
set
ææ 
{
ææ 
siteID
ææ	 
=
ææ 
value
ææ 
;
ææ 
}
ææ 
}
øø 
public
¡¡ 
Guid
¡¡ 
SiteGuid
¡¡ 
{
¬¬ 	
get
√√ 
{
√√ 
return
√√ 
siteGuid
√√ !
;
√√! "
}
√√# $
}
≈≈ 	
public
«« 
string
««	 
SiteName
«« 
{
»» 
get
…… 
{
…… 
return
……	 
siteName
…… 
;
…… 
}
…… 
set
   
{
   
siteName
  	 
=
   
value
   
;
   
}
   
}
ÀÀ 
public
““ 
string
““ 
PreferredHostName
““ '
{
”” 	
get
‘‘ 
{
‘‘ 
return
‘‘ 
apiKeyExtra5
‘‘ %
;
‘‘% &
}
‘‘' (
set
’’ 
{
’’ 
apiKeyExtra5
’’ 
=
’’  
value
’’! &
;
’’& '
}
’’( )
}
÷÷ 	
public
ÿÿ 
String
ÿÿ %
DefaultEmailFromAddress
ÿÿ -
{
ŸŸ 	
get
⁄⁄ 
{
€€ 
if
‹‹ 
(
‹‹ 
!
‹‹ 
this
‹‹ 
.
‹‹ &
extendedPropertiesLoaded
‹‹ 2
)
‹‹2 3
{
›› $
LoadExtendedProperties
ﬁﬁ *
(
ﬁﬁ* +
)
ﬁﬁ+ ,
;
ﬁﬁ, -
}
ﬂﬂ 
return
‡‡ %
defaultEmailFromAddress
‡‡ .
;
‡‡. /
}
·· 
set
‚‚ 
{
„„ (
extendedPropertiesAreDirty
‰‰ *
=
‰‰+ ,
true
‰‰- 1
;
‰‰1 2%
defaultEmailFromAddress
ÂÂ '
=
ÂÂ( )
value
ÂÂ* /
;
ÂÂ/ 0
}
ÊÊ 
}
ÁÁ 	
public
ÈÈ 
string
ÈÈ #
DefaultFromEmailAlias
ÈÈ +
{
ÍÍ 	
get
ÎÎ 
{
ÏÏ 
string
ÌÌ 
result
ÌÌ 
=
ÌÌ  
GetExpandoProperty
ÌÌ  2
(
ÌÌ2 3
$str
ÌÌ3 J
)
ÌÌJ K
;
ÌÌK L
if
ÓÓ 
(
ÓÓ 
result
ÓÓ 
!=
ÓÓ 
null
ÓÓ "
)
ÓÓ" #
{
ÓÓ$ %
return
ÓÓ& ,
result
ÓÓ- 3
;
ÓÓ3 4
}
ÓÓ5 6
return
ÔÔ 
string
ÔÔ 
.
ÔÔ 
Empty
ÔÔ #
;
ÔÔ# $
}
 
set
ÒÒ 
{
ÒÒ  
SetExpandoProperty
ÒÒ $
(
ÒÒ$ %
$str
ÒÒ% <
,
ÒÒ< =
value
ÒÒ> C
)
ÒÒC D
;
ÒÒD E
}
ÒÒF G
}
ÚÚ 	
public
ÙÙ 
string
ÙÙ	 
Skin
ÙÙ 
{
ıı 
get
ˆˆ 
{
ˆˆ 
return
ˆˆ	 
skin
ˆˆ 
;
ˆˆ 
}
ˆˆ 
set
˜˜ 
{
˜˜ 
skin
˜˜	 
=
˜˜ 
value
˜˜ 
;
˜˜ 
}
˜˜ 
}
¯¯ 
public
˙˙ 
string
˙˙ 

MobileSkin
˙˙  
{
˚˚ 	
get
¸¸ 
{
˝˝ 
string
˛˛ 
result
˛˛ 
=
˛˛  
GetExpandoProperty
˛˛  2
(
˛˛2 3
$str
˛˛3 ?
)
˛˛? @
;
˛˛@ A
if
ˇˇ 
(
ˇˇ 
result
ˇˇ 
!=
ˇˇ 
null
ˇˇ "
)
ˇˇ" #
{
ˇˇ$ %
return
ˇˇ& ,
result
ˇˇ- 3
;
ˇˇ3 4
}
ˇˇ5 6
return
ÄÄ 
string
ÄÄ 
.
ÄÄ 
Empty
ÄÄ #
;
ÄÄ# $
}
ÅÅ 
set
ÇÇ 
{
ÇÇ  
SetExpandoProperty
ÇÇ $
(
ÇÇ$ %
$str
ÇÇ% 1
,
ÇÇ1 2
value
ÇÇ3 8
)
ÇÇ8 9
;
ÇÇ9 :
}
ÇÇ; <
}
ÉÉ 	
public
ÖÖ 
string
ÖÖ  
EditorProviderName
ÖÖ (
{
ÜÜ 	
get
áá 
{
áá 
return
áá  
editorProviderName
áá +
;
áá+ ,
}
áá- .
set
àà 
{
àà  
editorProviderName
àà $
=
àà% &
value
àà' ,
;
àà, -
}
àà. /
}
ââ 	
public
ãã 
ContentEditorSkin
ãã	 

EditorSkin
ãã %
{
åå 
get
çç 
{
çç 
return
çç	 

editorSkin
çç 
;
çç 
}
çç 
set
éé 
{
éé 

editorSkin
éé	 
=
éé 
value
éé 
;
éé 
}
éé 
}
èè 
public
ëë 
string
ëë	 
Logo
ëë 
{
íí 
get
ìì 
{
ìì 
return
ìì	 
logo
ìì 
;
ìì 
}
ìì 
set
îî 
{
îî 
logo
îî	 
=
îî 
value
îî 
;
îî 
}
îî 
}
ïï 
public
ññ 
string
ññ	 
Icon
ññ 
{
óó 
get
òò 
{
òò 
return
òò	 
icon
òò 
;
òò 
}
òò 
set
ôô 
{
ôô 
icon
ôô	 
=
ôô 
value
ôô 
;
ôô 
}
ôô 
}
öö 
public
úú 
bool
úú !
EnableMyPageFeature
úú '
{
ùù 	
get
ûû 
{
ûû 
return
ûû !
enableMyPageFeature
ûû ,
;
ûû, -
}
ûû. /
set
üü 
{
üü !
enableMyPageFeature
üü %
=
üü& '
value
üü( -
;
üü- .
}
üü/ 0
}
†† 	
public
¢¢ 
bool
¢¢	 
AllowUserSkins
¢¢ 
{
££ 
get
§§ 
{
§§ 
return
§§	 
allowUserSkins
§§ 
;
§§ 
}
§§  !
set
•• 
{
•• 
allowUserSkins
••	 
=
•• 
value
•• 
;
••  
}
••! "
}
¶¶ 
public
®® 
bool
®®	 
AllowPageSkins
®® 
{
©© 
get
™™ 
{
™™ 
return
™™	 
allowPageSkins
™™ 
;
™™ 
}
™™  !
set
´´ 
{
´´ 
allowPageSkins
´´	 
=
´´ 
value
´´ 
;
´´  
}
´´! "
}
¨¨ 
public
ÆÆ 
bool
ÆÆ	 "
AllowHideMenuOnPages
ÆÆ "
{
ØØ 
get
∞∞ 
{
∞∞ 
return
∞∞	 "
allowHideMenuOnPages
∞∞ $
;
∞∞$ %
}
∞∞& '
set
±± 
{
±± "
allowHideMenuOnPages
±±	 
=
±± 
value
±±  %
;
±±% &
}
±±' (
}
≤≤ 
public
¥¥ 
bool
¥¥	 "
AllowNewRegistration
¥¥ "
{
µµ 
get
∂∂ 
{
∂∂ 
return
∂∂	 "
allowNewRegistration
∂∂ $
;
∂∂$ %
}
∂∂& '
set
∑∑ 
{
∑∑ "
allowNewRegistration
∑∑	 
=
∑∑ 
value
∑∑  %
;
∑∑% &
}
∑∑' (
}
∏∏ 
public
ππ 
bool
ππ	 #
UseSecureRegistration
ππ #
{
∫∫ 
get
ªª 
{
ªª 
return
ªª	 #
useSecureRegistration
ªª %
;
ªª% &
}
ªª' (
set
ºº 
{
ºº #
useSecureRegistration
ºº	 
=
ºº  
value
ºº! &
;
ºº& '
}
ºº( )
}
ΩΩ 
public
øø 
bool
øø	 
UseSslOnAllPages
øø 
{
¿¿ 
get
¡¡ 
{
¡¡ 
return
¡¡	 
useSSLOnAllPages
¡¡  
;
¡¡  !
}
¡¡" #
set
¬¬ 
{
¬¬ 
useSSLOnAllPages
¬¬	 
=
¬¬ 
value
¬¬ !
;
¬¬! "
}
¬¬# $
}
√√ 
public
∆∆ 
bool
∆∆	 
IsServerAdminSite
∆∆ 
{
«« 
get
»» 
{
»» 
return
»»	 
isServerAdminSite
»» !
;
»»! "
}
»»# $
set
…… 
{
…… 
isServerAdminSite
……	 
=
…… 
value
…… "
;
……" #
}
……$ %
}
   
public
ÃÃ 
bool
ÃÃ	 
UseLdapAuth
ÃÃ 
{
ÕÕ 
get
ŒŒ 
{
ŒŒ 
return
ŒŒ	 
useLdapAuth
ŒŒ 
;
ŒŒ 
}
ŒŒ 
set
œœ 
{
œœ 
useLdapAuth
œœ	 
=
œœ 
value
œœ 
;
œœ 
}
œœ 
}
–– 
public
““ 
bool
““ %
AllowDbFallbackWithLdap
““ +
{
”” 	
get
‘‘ 
{
’’ 
string
÷÷ 
sBool
÷÷ 
=
÷÷  
GetExpandoProperty
÷÷ 1
(
÷÷1 2
$str
÷÷2 K
)
÷÷K L
;
÷÷L M
if
ÿÿ 
(
ÿÿ 
(
ÿÿ 
sBool
ÿÿ 
!=
ÿÿ 
null
ÿÿ "
)
ÿÿ" #
&&
ÿÿ$ &
(
ÿÿ' (
sBool
ÿÿ( -
.
ÿÿ- .
Length
ÿÿ. 4
>
ÿÿ5 6
$num
ÿÿ7 8
)
ÿÿ8 9
)
ÿÿ9 :
{
ŸŸ 
return
⁄⁄ 
Convert
⁄⁄ "
.
⁄⁄" #
	ToBoolean
⁄⁄# ,
(
⁄⁄, -
sBool
⁄⁄- 2
)
⁄⁄2 3
;
⁄⁄3 4
}
€€ 
return
›› 
false
›› 
;
›› 
}
ﬁﬁ 
set
ﬂﬂ 
{
ﬂﬂ  
SetExpandoProperty
ﬂﬂ $
(
ﬂﬂ$ %
$str
ﬂﬂ% >
,
ﬂﬂ> ?
value
ﬂﬂ@ E
.
ﬂﬂE F
ToString
ﬂﬂF N
(
ﬂﬂN O
)
ﬂﬂO P
)
ﬂﬂP Q
;
ﬂﬂQ R
}
ﬂﬂS T
}
‡‡ 	
public
‚‚ 
bool
‚‚ /
!AllowEmailLoginWithLdapDbFallback
‚‚ 5
{
„„ 	
get
‰‰ 
{
ÂÂ 
string
ÊÊ 
sBool
ÊÊ 
=
ÊÊ  
GetExpandoProperty
ÊÊ 1
(
ÊÊ1 2
$str
ÊÊ2 U
)
ÊÊU V
;
ÊÊV W
if
ËË 
(
ËË 
(
ËË 
sBool
ËË 
!=
ËË 
null
ËË "
)
ËË" #
&&
ËË$ &
(
ËË' (
sBool
ËË( -
.
ËË- .
Length
ËË. 4
>
ËË5 6
$num
ËË7 8
)
ËË8 9
)
ËË9 :
{
ÈÈ 
return
ÍÍ 
Convert
ÍÍ "
.
ÍÍ" #
	ToBoolean
ÍÍ# ,
(
ÍÍ, -
sBool
ÍÍ- 2
)
ÍÍ2 3
;
ÍÍ3 4
}
ÎÎ 
return
ÌÌ 
false
ÌÌ 
;
ÌÌ 
}
ÓÓ 
set
ÔÔ 
{
ÔÔ  
SetExpandoProperty
ÔÔ $
(
ÔÔ$ %
$str
ÔÔ% H
,
ÔÔH I
value
ÔÔJ O
.
ÔÔO P
ToString
ÔÔP X
(
ÔÔX Y
)
ÔÔY Z
)
ÔÔZ [
;
ÔÔ[ \
}
ÔÔ] ^
}
 	
public
ÚÚ 
bool
ÚÚ	 ,
AutoCreateLdapUserOnFirstLogin
ÚÚ ,
{
ÛÛ 
get
ÙÙ 
{
ÙÙ 
return
ÙÙ	 ,
autoCreateLDAPUserOnFirstLogin
ÙÙ .
;
ÙÙ. /
}
ÙÙ0 1
set
ıı 
{
ıı ,
autoCreateLDAPUserOnFirstLogin
ıı	 '
=
ıı( )
value
ıı* /
;
ıı/ 0
}
ıı1 2
}
ˆˆ 
public
¯¯ 
LdapSettings
¯¯	 
SiteLdapSettings
¯¯ &
{
˘˘ 
get
˙˙ 
{
˙˙ 
return
˙˙	 
ldapSettings
˙˙ 
;
˙˙ 
}
˙˙ 
set
˚˚ 
{
˚˚ 
ldapSettings
˚˚	 
=
˚˚ 
value
˚˚ 
;
˚˚ 
}
˚˚  
}
¸¸ 
public
˛˛ 
bool
˛˛	 %
AllowUserFullNameChange
˛˛ %
{
ˇˇ 
get
ÄÄ 
{
ÄÄ 
return
ÄÄ	 %
allowUserFullNameChange
ÄÄ '
;
ÄÄ' (
}
ÄÄ) *
set
ÅÅ 
{
ÅÅ %
allowUserFullNameChange
ÅÅ	  
=
ÅÅ! "
value
ÅÅ# (
;
ÅÅ( )
}
ÅÅ* +
}
ÇÇ 
public
ÑÑ 
bool
ÑÑ	 
ReallyDeleteUsers
ÑÑ 
{
ÖÖ 
get
ÜÜ 
{
ÜÜ 
return
ÜÜ	 
reallyDeleteUsers
ÜÜ !
;
ÜÜ! "
}
ÜÜ# $
set
áá 
{
áá 
reallyDeleteUsers
áá	 
=
áá 
value
áá "
;
áá" #
}
áá$ %
}
àà 
public
ää 
bool
ää	 
UseEmailForLogin
ää 
{
ãã 
get
åå 
{
åå 
return
åå	 
useEmailForLogin
åå  
;
åå  !
}
åå" #
set
çç 
{
çç 
useEmailForLogin
çç	 
=
çç 
value
çç !
;
çç! "
}
çç# $
}
éé 
public
êê  
FriendlyUrlPattern
êê	 '
DefaultFriendlyUrlPattern
êê 5
{
ëë 
get
íí 
{
íí 
return
íí	 '
defaultFriendlyUrlPattern
íí )
;
íí) *
}
íí+ ,
set
ìì 
{
ìì '
defaultFriendlyUrlPattern
ìì	 "
=
ìì# $
value
ìì% *
;
ìì* +
}
ìì, -
}
îî 
public
ññ 
bool
ññ 
DisableDbAuth
ññ !
{
óó 	
get
òò 
{
òò 
return
òò 
disableDbAuth
òò &
;
òò& '
}
òò( )
set
ôô 
{
ôô 
disableDbAuth
ôô 
=
ôô  !
value
ôô" '
;
ôô' (
}
ôô) *
}
öö 	
public
úú 
bool
úú $
AllowPasswordRetrieval
úú *
{
ùù 	
get
ûû 
{
üü 
if
†† 
(
†† 
!
†† 
this
†† 
.
†† &
extendedPropertiesLoaded
†† 2
)
††2 3
{
°° $
LoadExtendedProperties
¢¢ *
(
¢¢* +
)
¢¢+ ,
;
¢¢, -
}
££ 
return
®® $
allowPasswordRetrieval
®® -
;
®®- .
}
©© 
set
™™ 
{
´´ (
extendedPropertiesAreDirty
¨¨ *
=
¨¨+ ,
true
¨¨- 1
;
¨¨1 2$
allowPasswordRetrieval
≠≠ &
=
≠≠' (
value
≠≠) .
;
≠≠. /
}
ÆÆ 
}
ØØ 	
public
±± 
bool
±±  
AllowPasswordReset
±± &
{
≤≤ 	
get
≥≥ 
{
¥¥ 
if
µµ 
(
µµ 
!
µµ 
this
µµ 
.
µµ &
extendedPropertiesLoaded
µµ 2
)
µµ2 3
{
∂∂ $
LoadExtendedProperties
∑∑ *
(
∑∑* +
)
∑∑+ ,
;
∑∑, -
}
∏∏ 
return
ππ  
allowPasswordReset
ππ )
;
ππ) *
}
∫∫ 
set
ªª 
{
ºº (
extendedPropertiesAreDirty
ΩΩ *
=
ΩΩ+ ,
true
ΩΩ- 1
;
ΩΩ1 2 
allowPasswordReset
ææ "
=
ææ# $
value
ææ% *
;
ææ* +
}
øø 
}
¿¿ 	
public
¬¬ 
bool
¬¬ 1
#RequirePasswordChangeOnResetRecover
¬¬ 7
{
√√ 	
get
ƒƒ 
{
≈≈ 
string
∆∆ 
sBool
∆∆ 
=
∆∆  
GetExpandoProperty
∆∆ 1
(
∆∆1 2
$str
∆∆2 W
)
∆∆W X
;
∆∆X Y
if
»» 
(
»» 
(
»» 
sBool
»» 
!=
»» 
null
»» "
)
»»" #
&&
»»$ &
(
»»' (
sBool
»»( -
.
»»- .
Length
»». 4
>
»»5 6
$num
»»7 8
)
»»8 9
)
»»9 :
{
…… 
return
   
Convert
   "
.
  " #
	ToBoolean
  # ,
(
  , -
sBool
  - 2
)
  2 3
;
  3 4
}
ÀÀ 
return
ÕÕ 
false
ÕÕ 
;
ÕÕ 
}
ŒŒ 
set
œœ 
{
œœ  
SetExpandoProperty
œœ $
(
œœ$ %
$str
œœ% J
,
œœJ K
value
œœL Q
.
œœQ R
ToString
œœR Z
(
œœZ [
)
œœ[ \
)
œœ\ ]
;
œœ] ^
}
œœ_ `
}
–– 	
public
““ 
bool
““ '
RequiresQuestionAndAnswer
““ -
{
”” 	
get
‘‘ 
{
’’ 
if
÷÷ 
(
÷÷ 
!
÷÷ 
this
÷÷ 
.
÷÷ &
extendedPropertiesLoaded
÷÷ 2
)
÷÷2 3
{
◊◊ $
LoadExtendedProperties
ÿÿ *
(
ÿÿ* +
)
ÿÿ+ ,
;
ÿÿ, -
}
ŸŸ 
return
⁄⁄ '
requiresQuestionAndAnswer
⁄⁄ 0
;
⁄⁄0 1
}
€€ 
set
‹‹ 
{
›› (
extendedPropertiesAreDirty
ﬁﬁ *
=
ﬁﬁ+ ,
true
ﬁﬁ- 1
;
ﬁﬁ1 2'
requiresQuestionAndAnswer
ﬂﬂ )
=
ﬂﬂ* +
value
ﬂﬂ, 1
;
ﬂﬂ1 2
}
‡‡ 
}
·· 	
public
„„ 
bool
„„ !
RequiresUniqueEmail
„„ '
{
‰‰ 	
get
ÈÈ 
{
ÍÍ 
if
ÎÎ 
(
ÎÎ 
!
ÎÎ 
this
ÎÎ 
.
ÎÎ &
extendedPropertiesLoaded
ÎÎ 2
)
ÎÎ2 3
{
ÏÏ $
LoadExtendedProperties
ÌÌ *
(
ÌÌ* +
)
ÌÌ+ ,
;
ÌÌ, -
}
ÓÓ 
return
ÔÔ !
requiresUniqueEmail
ÔÔ *
;
ÔÔ* +
}
 
set
ÒÒ 
{
ÚÚ (
extendedPropertiesAreDirty
ÛÛ *
=
ÛÛ+ ,
true
ÛÛ- 1
;
ÛÛ1 2!
requiresUniqueEmail
ÙÙ #
=
ÙÙ$ %
value
ÙÙ& +
;
ÙÙ+ ,
}
ıı 
}
ˆˆ 	
public
¯¯ 
int
¯¯ (
MaxInvalidPasswordAttempts
¯¯ -
{
˘˘ 	
get
˙˙ 
{
˚˚ 
if
¸¸ 
(
¸¸ 
!
¸¸ 
this
¸¸ 
.
¸¸ &
extendedPropertiesLoaded
¸¸ 2
)
¸¸2 3
{
˝˝ $
LoadExtendedProperties
˛˛ *
(
˛˛* +
)
˛˛+ ,
;
˛˛, -
}
ˇˇ 
return
ÄÄ (
maxInvalidPasswordAttempts
ÄÄ 1
;
ÄÄ1 2
}
ÅÅ 
set
ÇÇ 
{
ÉÉ (
extendedPropertiesAreDirty
ÑÑ *
=
ÑÑ+ ,
true
ÑÑ- 1
;
ÑÑ1 2(
maxInvalidPasswordAttempts
ÖÖ *
=
ÖÖ+ ,
value
ÖÖ- 2
;
ÖÖ2 3
}
ÜÜ 
}
áá 	
public
ââ 
int
ââ *
PasswordAttemptWindowMinutes
ââ /
{
ää 	
get
ãã 
{
åå 
if
çç 
(
çç 
!
çç 
this
çç 
.
çç &
extendedPropertiesLoaded
çç 2
)
çç2 3
{
éé $
LoadExtendedProperties
èè *
(
èè* +
)
èè+ ,
;
èè, -
}
êê 
return
ëë *
passwordAttemptWindowMinutes
ëë 3
;
ëë3 4
}
íí 
set
ìì 
{
îî (
extendedPropertiesAreDirty
ïï *
=
ïï+ ,
true
ïï- 1
;
ïï1 2*
passwordAttemptWindowMinutes
ññ ,
=
ññ- .
value
ññ/ 4
;
ññ4 5
}
óó 
}
òò 	
public
ùù 
int
ùù 
PasswordFormat
ùù !
{
ûû 	
get
üü 
{
†† 
if
°° 
(
°° 
!
°° 
this
°° 
.
°° &
extendedPropertiesLoaded
°° 2
)
°°2 3
{
¢¢ $
LoadExtendedProperties
££ *
(
££* +
)
££+ ,
;
££, -
}
§§ 
return
•• 
passwordFormat
•• %
;
••% &
}
¶¶ 
set
ßß 
{
®® (
extendedPropertiesAreDirty
©© *
=
©©+ ,
true
©©- 1
;
©©1 2
passwordFormat
´´ 
=
´´  
value
´´! &
;
´´& '
}
¨¨ 
}
≠≠ 	
public
ØØ 
int
ØØ '
MinRequiredPasswordLength
ØØ ,
{
∞∞ 	
get
±± 
{
≤≤ 
if
≥≥ 
(
≥≥ 
!
≥≥ 
this
≥≥ 
.
≥≥ &
extendedPropertiesLoaded
≥≥ 2
)
≥≥2 3
{
¥¥ $
LoadExtendedProperties
µµ *
(
µµ* +
)
µµ+ ,
;
µµ, -
}
∂∂ 
return
∑∑ '
minRequiredPasswordLength
∑∑ 0
;
∑∑0 1
}
∏∏ 
set
ππ 
{
∫∫ (
extendedPropertiesAreDirty
ªª *
=
ªª+ ,
true
ªª- 1
;
ªª1 2'
minRequiredPasswordLength
ºº )
=
ºº* +
value
ºº, 1
;
ºº1 2
}
ΩΩ 
}
ææ 	
public
¿¿ 
int
¿¿ 2
$MinRequiredNonAlphanumericCharacters
¿¿ 7
{
¡¡ 	
get
¬¬ 
{
√√ 
if
ƒƒ 
(
ƒƒ 
!
ƒƒ 
this
ƒƒ 
.
ƒƒ &
extendedPropertiesLoaded
ƒƒ 2
)
ƒƒ2 3
{
≈≈ $
LoadExtendedProperties
∆∆ *
(
∆∆* +
)
∆∆+ ,
;
∆∆, -
}
«« 
return
»» 2
$minRequiredNonAlphanumericCharacters
»» ;
;
»»; <
}
…… 
set
   
{
ÀÀ (
extendedPropertiesAreDirty
ÃÃ *
=
ÃÃ+ ,
true
ÃÃ- 1
;
ÃÃ1 22
$minRequiredNonAlphanumericCharacters
ÕÕ 4
=
ÕÕ5 6
value
ÕÕ7 <
;
ÕÕ< =
}
ŒŒ 
}
œœ 	
public
—— 
String
—— /
!PasswordStrengthRegularExpression
—— 7
{
““ 	
get
”” 
{
‘‘ 
if
’’ 
(
’’ 
!
’’ 
this
’’ 
.
’’ &
extendedPropertiesLoaded
’’ 2
)
’’2 3
{
÷÷ $
LoadExtendedProperties
◊◊ *
(
◊◊* +
)
◊◊+ ,
;
◊◊, -
}
ÿÿ 
return
ŸŸ /
!passwordStrengthRegularExpression
ŸŸ 8
;
ŸŸ8 9
}
⁄⁄ 
set
€€ 
{
‹‹ (
extendedPropertiesAreDirty
›› *
=
››+ ,
true
››- 1
;
››1 2/
!passwordStrengthRegularExpression
ﬁﬁ 1
=
ﬁﬁ2 3
value
ﬁﬁ4 9
;
ﬁﬁ9 :
}
ﬂﬂ 
}
‡‡ 	
public
‚‚ 
bool
‚‚ "
AllowPersistentLogin
‚‚ (
{
„„ 	
get
‰‰ 
{
ÂÂ 
string
ÁÁ 
s
ÁÁ 
=
ÁÁ  
GetExpandoProperty
ÁÁ -
(
ÁÁ- .
$str
ÁÁ. D
)
ÁÁD E
;
ÁÁE F
if
ÈÈ 
(
ÈÈ 
(
ÈÈ 
s
ÈÈ 
!=
ÈÈ 
null
ÈÈ 
)
ÈÈ 
&&
ÈÈ  "
(
ÈÈ# $
s
ÈÈ$ %
.
ÈÈ% &
Length
ÈÈ& ,
>
ÈÈ- .
$num
ÈÈ/ 0
)
ÈÈ0 1
)
ÈÈ1 2
{
ÍÍ 
return
ÎÎ 
Convert
ÎÎ "
.
ÎÎ" #
	ToBoolean
ÎÎ# ,
(
ÎÎ, -
s
ÎÎ- .
)
ÎÎ. /
;
ÎÎ/ 0
}
ÏÏ 
return
ÓÓ 
true
ÓÓ 
;
ÓÓ 
}
ÔÔ 
set
 
{
  
SetExpandoProperty
 $
(
$ %
$str
% ;
,
; <
value
= B
.
B C
ToString
C K
(
K L
)
L M
)
M N
;
N O
}
P Q
}
ÒÒ 	
public
ÛÛ 
bool
ÛÛ *
RequireCaptchaOnRegistration
ÛÛ 0
{
ÙÙ 	
get
ıı 
{
ˆˆ 
string
˜˜ 
sBool
˜˜ 
=
˜˜  
GetExpandoProperty
˜˜ 1
(
˜˜1 2
$str
˜˜2 P
)
˜˜P Q
;
˜˜Q R
if
˘˘ 
(
˘˘ 
(
˘˘ 
sBool
˘˘ 
!=
˘˘ 
null
˘˘ "
)
˘˘" #
&&
˘˘$ &
(
˘˘' (
sBool
˘˘( -
.
˘˘- .
Length
˘˘. 4
>
˘˘5 6
$num
˘˘7 8
)
˘˘8 9
)
˘˘9 :
{
˙˙ 
return
˚˚ 
Convert
˚˚ "
.
˚˚" #
	ToBoolean
˚˚# ,
(
˚˚, -
sBool
˚˚- 2
)
˚˚2 3
;
˚˚3 4
}
¸¸ 
return
˛˛ 
false
˛˛ 
;
˛˛ 
}
ˇˇ 
set
ÄÄ 
{
ÄÄ  
SetExpandoProperty
ÄÄ $
(
ÄÄ$ %
$str
ÄÄ% C
,
ÄÄC D
value
ÄÄE J
.
ÄÄJ K
ToString
ÄÄK S
(
ÄÄS T
)
ÄÄT U
)
ÄÄU V
;
ÄÄV W
}
ÄÄX Y
}
ÅÅ 	
public
ÉÉ 
bool
ÉÉ #
RequireCaptchaOnLogin
ÉÉ )
{
ÑÑ 	
get
ÖÖ 
{
ÜÜ 
string
áá 
sBool
áá 
=
áá  
GetExpandoProperty
áá 1
(
áá1 2
$str
áá2 I
)
ááI J
;
ááJ K
if
ââ 
(
ââ 
(
ââ 
sBool
ââ 
!=
ââ 
null
ââ "
)
ââ" #
&&
ââ$ &
(
ââ' (
sBool
ââ( -
.
ââ- .
Length
ââ. 4
>
ââ5 6
$num
ââ7 8
)
ââ8 9
)
ââ9 :
{
ää 
return
ãã 
Convert
ãã "
.
ãã" #
	ToBoolean
ãã# ,
(
ãã, -
sBool
ãã- 2
)
ãã2 3
;
ãã3 4
}
åå 
return
éé 
false
éé 
;
éé 
}
èè 
set
êê 
{
êê  
SetExpandoProperty
êê $
(
êê$ %
$str
êê% <
,
êê< =
value
êê> C
.
êêC D
ToString
êêD L
(
êêL M
)
êêM N
)
êêN O
;
êêO P
}
êêQ R
}
ëë 	
public
ìì 
bool
ìì 2
$RequireEnterEmailTwiceOnRegistration
ìì 8
{
îî 	
get
ïï 
{
ññ 
string
óó 
sBool
óó 
=
óó  
GetExpandoProperty
óó 1
(
óó1 2
$str
óó2 X
)
óóX Y
;
óóY Z
if
ôô 
(
ôô 
(
ôô 
sBool
ôô 
!=
ôô 
null
ôô "
)
ôô" #
&&
ôô$ &
(
ôô' (
sBool
ôô( -
.
ôô- .
Length
ôô. 4
>
ôô5 6
$num
ôô7 8
)
ôô8 9
)
ôô9 :
{
öö 
return
õõ 
Convert
õõ "
.
õõ" #
	ToBoolean
õõ# ,
(
õõ, -
sBool
õõ- 2
)
õõ2 3
;
õõ3 4
}
úú 
return
ûû 
false
ûû 
;
ûû 
}
üü 
set
†† 
{
††  
SetExpandoProperty
†† $
(
††$ %
$str
††% K
,
††K L
value
††M R
.
††R S
ToString
††S [
(
††[ \
)
††\ ]
)
††] ^
;
††^ _
}
††` a
}
°° 	
public
££ 
bool
££ 0
"ShowPasswordStrengthOnRegistration
££ 6
{
§§ 	
get
•• 
{
¶¶ 
string
ßß 
sBool
ßß 
=
ßß  
GetExpandoProperty
ßß 1
(
ßß1 2
$str
ßß2 V
)
ßßV W
;
ßßW X
if
©© 
(
©© 
(
©© 
sBool
©© 
!=
©© 
null
©© "
)
©©" #
&&
©©$ &
(
©©' (
sBool
©©( -
.
©©- .
Length
©©. 4
>
©©5 6
$num
©©7 8
)
©©8 9
)
©©9 :
{
™™ 
return
´´ 
Convert
´´ "
.
´´" #
	ToBoolean
´´# ,
(
´´, -
sBool
´´- 2
)
´´2 3
;
´´3 4
}
¨¨ 
return
ÆÆ 
false
ÆÆ 
;
ÆÆ 
}
ØØ 
set
∞∞ 
{
∞∞  
SetExpandoProperty
∞∞ $
(
∞∞$ %
$str
∞∞% I
,
∞∞I J
value
∞∞K P
.
∞∞P Q
ToString
∞∞Q Y
(
∞∞Y Z
)
∞∞Z [
)
∞∞[ \
;
∞∞\ ]
}
∞∞^ _
}
±± 	
[
≥≥ 	
Obsolete
≥≥	 
(
≥≥ 
$str
≥≥ Z
)
≥≥Z [
]
≥≥[ \
public
¥¥ 
string
¥¥ 
SiteRoot
¥¥ 
{
µµ 	
get
∂∂ 
{
∑∑ 
if
∏∏ 
(
∏∏ 
siteFolderName
∏∏ "
.
∏∏" #
Length
∏∏# )
>
∏∏* +
$num
∏∏, -
)
∏∏- .
{
ππ 
return
∫∫ 
siteRoot
∫∫ #
.
∫∫# $
EndsWith
∫∫$ ,
(
∫∫, -
$str
∫∫- 0
)
∫∫0 1
?
ªª  
siteRoot
ªª! )
+
ªª* +
siteFolderName
ªª, :
:
ºº  
siteRoot
ºº! )
+
ºº* +
$str
ºº, /
+
ºº0 1
siteFolderName
ºº2 @
;
ºº@ A
}
ΩΩ 
return
ææ 
siteRoot
ææ 
;
ææ  !
}
øø 
set
¿¿ 
{
¿¿ 
siteRoot
¿¿ 
=
¿¿ 
value
¿¿ "
;
¿¿" #
}
¿¿$ %
}
¡¡ 	
public
…… 
string
…… 
SiteFolderName
…… $
{
   	
get
ÀÀ 
{
ÀÀ 
return
ÀÀ 
siteFolderName
ÀÀ '
;
ÀÀ' (
}
ÀÀ) *
set
ÃÃ 
{
ÃÃ 
siteFolderName
ÃÃ  
=
ÃÃ! "
value
ÃÃ# (
;
ÃÃ( )
}
ÃÃ* +
}
ÕÕ 	
public
–– 
string
–– 

DataFolder
–– 
{
—— 
get
““	 
{
””	 

return
‘‘ 
GetDataFolder
‘‘ $
(
‘‘$ %
this
‘‘% )
.
‘‘) *
SiteId
‘‘* 0
)
‘‘0 1
;
‘‘1 2
}
’’	 

}
÷÷ 
public
ÿÿ 
string
ÿÿ  
DatePickerProvider
ÿÿ (
{
ŸŸ 	
get
⁄⁄ 
{
⁄⁄ 
return
⁄⁄  
datePickerProvider
⁄⁄ +
;
⁄⁄+ ,
}
⁄⁄- .
set
€€ 
{
€€  
datePickerProvider
€€ $
=
€€% &
value
€€' ,
;
€€, -
}
€€. /
}
‹‹ 	
public
ﬁﬁ 
string
ﬁﬁ 
CaptchaProvider
ﬁﬁ %
{
ﬂﬂ 	
get
‡‡ 
{
‡‡ 
return
‡‡ 
captchaProvider
‡‡ (
;
‡‡( )
}
‡‡* +
set
·· 
{
·· 
captchaProvider
·· !
=
··" #
value
··$ )
;
··) *
}
··+ ,
}
‚‚ 	
public
‰‰ 
string
‰‰ !
RecaptchaPrivateKey
‰‰ )
{
ÂÂ 	
get
ÊÊ 
{
ÊÊ 
return
ÊÊ !
recaptchaPrivateKey
ÊÊ ,
;
ÊÊ, -
}
ÊÊ. /
set
ÁÁ 
{
ÁÁ !
recaptchaPrivateKey
ÁÁ %
=
ÁÁ& '
value
ÁÁ( -
;
ÁÁ- .
}
ÁÁ/ 0
}
ËË 	
public
ÍÍ 
string
ÍÍ  
RecaptchaPublicKey
ÍÍ (
{
ÎÎ 	
get
ÏÏ 
{
ÏÏ 
return
ÏÏ  
recaptchaPublicKey
ÏÏ +
;
ÏÏ+ ,
}
ÏÏ- .
set
ÌÌ 
{
ÌÌ  
recaptchaPublicKey
ÌÌ $
=
ÌÌ% &
value
ÌÌ' ,
;
ÌÌ, -
}
ÌÌ. /
}
ÓÓ 	
public
 
string
 
WordpressApiKey
 %
{
ÒÒ 	
get
ÚÚ 
{
ÚÚ 
return
ÚÚ 
wordpressAPIKey
ÚÚ (
;
ÚÚ( )
}
ÚÚ* +
set
ÛÛ 
{
ÛÛ 
wordpressAPIKey
ÛÛ !
=
ÛÛ" #
value
ÛÛ$ )
;
ÛÛ) *
}
ÛÛ+ ,
}
ÙÙ 	
public
ˆˆ 
string
ˆˆ 
WindowsLiveAppId
ˆˆ &
{
˜˜ 	
get
¯¯ 
{
¯¯ 
return
¯¯ 
windowsLiveAppID
¯¯ )
;
¯¯) *
}
¯¯+ ,
set
˘˘ 
{
˘˘ 
windowsLiveAppID
˘˘ "
=
˘˘# $
value
˘˘% *
;
˘˘* +
}
˘˘, -
}
˙˙ 	
public
¸¸ 
string
¸¸ 
WindowsLiveKey
¸¸ $
{
˝˝ 	
get
˛˛ 
{
˛˛ 
return
˛˛ 
windowsLiveKey
˛˛ '
;
˛˛' (
}
˛˛) *
set
ˇˇ 
{
ˇˇ 
windowsLiveKey
ˇˇ  
=
ˇˇ! "
value
ˇˇ# (
;
ˇˇ( )
}
ˇˇ* +
}
ÄÄ 	
public
ÇÇ 
bool
ÇÇ 
AllowOpenIdAuth
ÇÇ #
{
ÉÉ 	
get
ÑÑ 
{
ÑÑ 
return
ÑÑ 
allowOpenIDAuth
ÑÑ (
;
ÑÑ( )
}
ÑÑ* +
set
ÖÖ 
{
ÖÖ 
allowOpenIDAuth
ÖÖ !
=
ÖÖ" #
value
ÖÖ$ )
;
ÖÖ) *
}
ÖÖ+ ,
}
ÜÜ 	
public
àà 
bool
àà "
AllowWindowsLiveAuth
àà (
{
ââ 	
get
ää 
{
ää 
return
ää "
allowWindowsLiveAuth
ää -
;
ää- .
}
ää/ 0
set
ãã 
{
ãã "
allowWindowsLiveAuth
ãã &
=
ãã' (
value
ãã) .
;
ãã. /
}
ãã0 1
}
åå 	
public
éé 
string
éé 

GmapApiKey
éé  
{
èè 	
get
êê 
{
êê 
return
êê 

gmapApiKey
êê #
;
êê# $
}
êê% &
set
ëë 
{
ëë 

gmapApiKey
ëë 
=
ëë 
value
ëë $
;
ëë$ %
}
ëë& '
}
íí 	
public
îî 
string
îî #
AddThisDotComUsername
îî +
{
ïï 	
get
ññ 
{
ññ 
return
ññ 
apiKeyExtra1
ññ %
;
ññ% &
}
ññ' (
set
óó 
{
óó 
apiKeyExtra1
óó 
=
óó  
value
óó! &
;
óó& '
}
óó( )
}
òò 	
public
öö 
string
öö (
GoogleAnalyticsAccountCode
öö 0
{
õõ 	
get
úú 
{
úú 
return
úú 
apiKeyExtra2
úú %
;
úú% &
}
úú' (
set
ùù 
{
ùù 
apiKeyExtra2
ùù 
=
ùù  
value
ùù! &
;
ùù& '
}
ùù( )
}
ûû 	
public
££ 
string
££ 
OpenIdSelectorId
££ &
{
§§ 	
get
•• 
{
•• 
return
•• 
apiKeyExtra3
•• %
;
••% &
}
••' (
set
¶¶ 
{
¶¶ 
apiKeyExtra3
¶¶ 
=
¶¶  
value
¶¶! &
;
¶¶& '
}
¶¶( )
}
ßß 	
public
™™ 
string
™™ 

TimeZoneId
™™  
{
´´ 	
get
¨¨ 
{
≠≠ 
string
ÆÆ 
result
ÆÆ 
=
ÆÆ  
GetExpandoProperty
ÆÆ  2
(
ÆÆ2 3
$str
ÆÆ3 ?
)
ÆÆ? @
;
ÆÆ@ A
if
ØØ 
(
ØØ 
result
ØØ 
!=
ØØ 
null
ØØ "
)
ØØ" #
{
ØØ$ %
return
ØØ& ,
result
ØØ- 3
;
ØØ3 4
}
ØØ5 6
return
∞∞ 
$str
∞∞ .
;
∞∞. /
}
±± 
set
≤≤ 
{
≤≤  
SetExpandoProperty
≤≤ $
(
≤≤$ %
$str
≤≤% 1
,
≤≤1 2
value
≤≤3 8
)
≤≤8 9
;
≤≤9 :
}
≤≤; <
}
≥≥ 	
public
∂∂ 
string
∂∂ 

MyPageSkin
∂∂  
{
∑∑ 	
get
∏∏ 
{
ππ 
string
∫∫ 
result
∫∫ 
=
∫∫  
GetExpandoProperty
∫∫  2
(
∫∫2 3
$str
∫∫3 ?
)
∫∫? @
;
∫∫@ A
if
ªª 
(
ªª 
result
ªª 
!=
ªª 
null
ªª "
)
ªª" #
{
ªª$ %
return
ªª& ,
result
ªª- 3
;
ªª3 4
}
ªª5 6
return
ºº 
string
ºº 
.
ºº 
Empty
ºº #
;
ºº# $
}
ΩΩ 
set
ææ 
{
ææ  
SetExpandoProperty
ææ $
(
ææ$ %
$str
ææ% 1
,
ææ1 2
value
ææ3 8
)
ææ8 9
;
ææ9 :
}
ææ; <
}
øø 	
public
¡¡ 
string
¡¡ 
SiteMapSkin
¡¡ !
{
¬¬ 	
get
√√ 
{
ƒƒ 
string
≈≈ 
result
≈≈ 
=
≈≈  
GetExpandoProperty
≈≈  2
(
≈≈2 3
$str
≈≈3 @
)
≈≈@ A
;
≈≈A B
if
∆∆ 
(
∆∆ 
result
∆∆ 
!=
∆∆ 
null
∆∆ "
)
∆∆" #
{
∆∆$ %
return
∆∆& ,
result
∆∆- 3
;
∆∆3 4
}
∆∆5 6
return
«« 
string
«« 
.
«« 
Empty
«« #
;
««# $
}
»» 
set
…… 
{
……  
SetExpandoProperty
…… $
(
……$ %
$str
……% 2
,
……2 3
value
……4 9
)
……9 :
;
……: ;
}
……< =
}
   	
public
ÃÃ 
string
ÃÃ #
AppLogoForWindowsLive
ÃÃ +
{
ÕÕ 	
get
ŒŒ 
{
œœ 
string
–– 
result
–– 
=
––  
GetExpandoProperty
––  2
(
––2 3
$str
––3 J
)
––J K
;
––K L
if
—— 
(
—— 
result
—— 
!=
—— 
null
—— "
)
——" #
{
——$ %
return
——& ,
result
——- 3
;
——3 4
}
——5 6
return
““ 
$str
““ 6
;
““6 7
}
”” 
set
‘‘ 
{
‘‘  
SetExpandoProperty
‘‘ $
(
‘‘$ %
$str
‘‘% <
,
‘‘< =
value
‘‘> C
)
‘‘C D
;
‘‘D E
}
‘‘F G
}
’’ 	
public
◊◊ 
bool
◊◊ 1
#AllowWindowsLiveMessengerForMembers
◊◊ 7
{
ÿÿ 	
get
ŸŸ 
{
⁄⁄ 
string
€€ 
sBool
€€ 
=
€€  
GetExpandoProperty
€€ 1
(
€€1 2
$str
€€2 W
)
€€W X
;
€€X Y
if
›› 
(
›› 
(
›› 
sBool
›› 
!=
›› 
null
›› "
)
››" #
&&
››$ &
(
››' (
sBool
››( -
.
››- .
Length
››. 4
>
››5 6
$num
››7 8
)
››8 9
)
››9 :
{
ﬁﬁ 
return
ﬂﬂ 
Convert
ﬂﬂ "
.
ﬂﬂ" #
	ToBoolean
ﬂﬂ# ,
(
ﬂﬂ, -
sBool
ﬂﬂ- 2
)
ﬂﬂ2 3
;
ﬂﬂ3 4
}
‡‡ 
return
‚‚ 
false
‚‚ 
;
‚‚ 
}
„„ 
set
‰‰ 
{
‰‰  
SetExpandoProperty
‰‰ $
(
‰‰$ %
$str
‰‰% J
,
‰‰J K
value
‰‰L Q
.
‰‰Q R
ToString
‰‰R Z
(
‰‰Z [
)
‰‰[ \
)
‰‰\ ]
;
‰‰] ^
}
‰‰_ `
}
ÂÂ 	
public
ÁÁ 
string
ÁÁ 
RpxNowApiKey
ÁÁ "
{
ËË 	
get
ÈÈ 
{
ÍÍ 
string
ÎÎ 
result
ÎÎ 
=
ÎÎ  
GetExpandoProperty
ÎÎ  2
(
ÎÎ2 3
$str
ÎÎ3 A
)
ÎÎA B
;
ÎÎB C
if
ÏÏ 
(
ÏÏ 
result
ÏÏ 
!=
ÏÏ 
null
ÏÏ "
)
ÏÏ" #
{
ÏÏ$ %
return
ÏÏ& ,
result
ÏÏ- 3
;
ÏÏ3 4
}
ÏÏ5 6
return
ÌÌ 
string
ÌÌ 
.
ÌÌ 
Empty
ÌÌ #
;
ÌÌ# $
}
ÓÓ 
set
ÔÔ 
{
ÔÔ  
SetExpandoProperty
ÔÔ $
(
ÔÔ$ %
$str
ÔÔ% 3
,
ÔÔ3 4
value
ÔÔ5 :
)
ÔÔ: ;
;
ÔÔ; <
}
ÔÔ= >
}
 	
public
ÚÚ 
string
ÚÚ #
RpxNowApplicationName
ÚÚ +
{
ÛÛ 	
get
ÙÙ 
{
ıı 
string
ˆˆ 
result
ˆˆ 
=
ˆˆ  
GetExpandoProperty
ˆˆ  2
(
ˆˆ2 3
$str
ˆˆ3 J
)
ˆˆJ K
;
ˆˆK L
if
˜˜ 
(
˜˜ 
result
˜˜ 
!=
˜˜ 
null
˜˜ "
)
˜˜" #
{
˜˜$ %
return
˜˜& ,
result
˜˜- 3
;
˜˜3 4
}
˜˜5 6
return
¯¯ 
string
¯¯ 
.
¯¯ 
Empty
¯¯ #
;
¯¯# $
}
˘˘ 
set
˙˙ 
{
˙˙  
SetExpandoProperty
˙˙ $
(
˙˙$ %
$str
˙˙% <
,
˙˙< =
value
˙˙> C
)
˙˙C D
;
˙˙D E
}
˙˙F G
}
˚˚ 	
public
˝˝ 
string
˝˝ 
RpxNowAdminUrl
˝˝ $
{
˛˛ 	
get
ˇˇ 
{
ÄÄ 
string
ÅÅ 
result
ÅÅ 
=
ÅÅ  
GetExpandoProperty
ÅÅ  2
(
ÅÅ2 3
$str
ÅÅ3 C
)
ÅÅC D
;
ÅÅD E
if
ÇÇ 
(
ÇÇ 
result
ÇÇ 
!=
ÇÇ 
null
ÇÇ "
)
ÇÇ" #
{
ÇÇ$ %
return
ÇÇ& ,
result
ÇÇ- 3
;
ÇÇ3 4
}
ÇÇ5 6
return
ÉÉ 
string
ÉÉ 
.
ÉÉ 
Empty
ÉÉ #
;
ÉÉ# $
}
ÑÑ 
set
ÖÖ 
{
ÖÖ  
SetExpandoProperty
ÖÖ $
(
ÖÖ$ %
$str
ÖÖ% 5
,
ÖÖ5 6
value
ÖÖ7 <
)
ÖÖ< =
;
ÖÖ= >
}
ÖÖ? @
}
ÜÜ 	
public
àà 
string
àà 
WebSnaprKey
àà !
{
ââ 	
get
ää 
{
ãã 
string
åå 
result
åå 
=
åå  
GetExpandoProperty
åå  2
(
åå2 3
$str
åå3 @
)
åå@ A
;
ååA B
if
çç 
(
çç 
result
çç 
!=
çç 
null
çç "
)
çç" #
{
çç$ %
return
çç& ,
result
çç- 3
;
çç3 4
}
çç5 6
return
éé 
string
éé 
.
éé 
Empty
éé #
;
éé# $
}
èè 
set
êê 
{
êê  
SetExpandoProperty
êê $
(
êê$ %
$str
êê% 2
,
êê2 3
value
êê4 9
)
êê9 :
;
êê: ;
}
êê< =
}
ëë 	
public
ìì 
string
ìì 
OpenSearchName
ìì $
{
îî 	
get
ïï 
{
ññ 
string
óó 
result
óó 
=
óó  
GetExpandoProperty
óó  2
(
óó2 3
$str
óó3 C
)
óóC D
;
óóD E
if
òò 
(
òò 
result
òò 
!=
òò 
null
òò "
)
òò" #
{
òò$ %
return
òò& ,
result
òò- 3
;
òò3 4
}
òò5 6
return
ôô 
string
ôô 
.
ôô 
Empty
ôô #
;
ôô# $
}
öö 
set
õõ 
{
õõ  
SetExpandoProperty
õõ $
(
õõ$ %
$str
õõ% 5
,
õõ5 6
value
õõ7 <
)
õõ< =
;
õõ= >
}
õõ? @
}
úú 	
public
üü 
string
üü 
	BingAPIId
üü 
{
†† 	
get
°° 
{
¢¢ 
string
££ 
result
££ 
=
££  
GetExpandoProperty
££  2
(
££2 3
$str
££3 >
)
££> ?
;
££? @
if
§§ 
(
§§ 
result
§§ 
!=
§§ 
null
§§ "
)
§§" #
{
§§$ %
return
§§& ,
result
§§- 3
;
§§3 4
}
§§5 6
return
•• 
string
•• 
.
•• 
Empty
•• #
;
••# $
}
¶¶ 
set
ßß 
{
ßß  
SetExpandoProperty
ßß $
(
ßß$ %
$str
ßß% 0
,
ßß0 1
value
ßß2 7
)
ßß7 8
;
ßß8 9
}
ßß: ;
}
®® 	
public
™™ 
string
™™ "
GoogleCustomSearchId
™™ *
{
´´ 	
get
¨¨ 
{
≠≠ 
string
ÆÆ 
result
ÆÆ 
=
ÆÆ  
GetExpandoProperty
ÆÆ  2
(
ÆÆ2 3
$str
ÆÆ3 I
)
ÆÆI J
;
ÆÆJ K
if
ØØ 
(
ØØ 
result
ØØ 
!=
ØØ 
null
ØØ "
)
ØØ" #
{
ØØ$ %
return
ØØ& ,
result
ØØ- 3
;
ØØ3 4
}
ØØ5 6
return
∞∞ 
string
∞∞ 
.
∞∞ 
Empty
∞∞ #
;
∞∞# $
}
±± 
set
≤≤ 
{
≤≤  
SetExpandoProperty
≤≤ $
(
≤≤$ %
$str
≤≤% ;
,
≤≤; <
value
≤≤= B
)
≤≤B C
;
≤≤C D
}
≤≤E F
}
≥≥ 	
public
µµ 
string
µµ !
PrimarySearchEngine
µµ )
{
∂∂ 	
get
∑∑ 
{
∏∏ 
string
ππ 
result
ππ 
=
ππ  
GetExpandoProperty
ππ  2
(
ππ2 3
$str
ππ3 H
)
ππH I
;
ππI J
if
∫∫ 
(
∫∫ 
result
∫∫ 
!=
∫∫ 
null
∫∫ "
)
∫∫" #
{
∫∫$ %
return
∫∫& ,
result
∫∫- 3
;
∫∫3 4
}
∫∫5 6
return
ªª 
$str
ªª !
;
ªª! "
}
ºº 
set
ΩΩ 
{
ΩΩ  
SetExpandoProperty
ΩΩ $
(
ΩΩ$ %
$str
ΩΩ% :
,
ΩΩ: ;
value
ΩΩ< A
)
ΩΩA B
;
ΩΩB C
}
ΩΩD E
}
ææ 	
public
¿¿ 
bool
¿¿ -
ShowAlternateSearchIfConfigured
¿¿ 3
{
¡¡ 	
get
¬¬ 
{
√√ 
string
ƒƒ 
sBool
ƒƒ 
=
ƒƒ  
GetExpandoProperty
ƒƒ 1
(
ƒƒ1 2
$str
ƒƒ2 S
)
ƒƒS T
;
ƒƒT U
if
∆∆ 
(
∆∆ 
(
∆∆ 
sBool
∆∆ 
!=
∆∆ 
null
∆∆ "
)
∆∆" #
&&
∆∆$ &
(
∆∆' (
sBool
∆∆( -
.
∆∆- .
Length
∆∆. 4
>
∆∆5 6
$num
∆∆7 8
)
∆∆8 9
)
∆∆9 :
{
«« 
return
»» 
Convert
»» "
.
»»" #
	ToBoolean
»»# ,
(
»», -
sBool
»»- 2
)
»»2 3
;
»»3 4
}
…… 
return
ÀÀ 
false
ÀÀ 
;
ÀÀ 
}
ÃÃ 
set
ÕÕ 
{
ÕÕ  
SetExpandoProperty
ÕÕ $
(
ÕÕ$ %
$str
ÕÕ% F
,
ÕÕF G
value
ÕÕH M
.
ÕÕM N
ToString
ÕÕN V
(
ÕÕV W
)
ÕÕW X
)
ÕÕX Y
;
ÕÕY Z
}
ÕÕ[ \
}
ŒŒ 	
public
–– 
string
–– 
Slogan
–– 
{
—— 	
get
““ 
{
”” 
string
‘‘ 
result
‘‘ 
=
‘‘  
GetExpandoProperty
‘‘  2
(
‘‘2 3
$str
‘‘3 ;
)
‘‘; <
;
‘‘< =
if
’’ 
(
’’ 
result
’’ 
!=
’’ 
null
’’ "
)
’’" #
{
’’$ %
return
’’& ,
result
’’- 3
;
’’3 4
}
’’5 6
return
÷÷ 
string
÷÷ 
.
÷÷ 
Empty
÷÷ #
;
÷÷# $
}
◊◊ 
set
ÿÿ 
{
ÿÿ  
SetExpandoProperty
ÿÿ $
(
ÿÿ$ %
$str
ÿÿ% -
,
ÿÿ- .
value
ÿÿ/ 4
)
ÿÿ4 5
;
ÿÿ5 6
}
ÿÿ7 8
}
ŸŸ 	
public
€€ 
string
€€ 
CompanyName
€€ !
{
‹‹ 	
get
›› 
{
ﬁﬁ 
string
ﬂﬂ 
result
ﬂﬂ 
=
ﬂﬂ  
GetExpandoProperty
ﬂﬂ  2
(
ﬂﬂ2 3
$str
ﬂﬂ3 @
)
ﬂﬂ@ A
;
ﬂﬂA B
if
‡‡ 
(
‡‡ 
result
‡‡ 
!=
‡‡ 
null
‡‡ "
)
‡‡" #
{
‡‡$ %
return
‡‡& ,
result
‡‡- 3
;
‡‡3 4
}
‡‡5 6
return
·· 
string
·· 
.
·· 
Empty
·· #
;
··# $
}
‚‚ 
set
„„ 
{
„„  
SetExpandoProperty
„„ $
(
„„$ %
$str
„„% 2
,
„„2 3
value
„„4 9
)
„„9 :
;
„„: ;
}
„„< =
}
‰‰ 	
public
ÊÊ 
string
ÊÊ "
CompanyStreetAddress
ÊÊ *
{
ÁÁ 	
get
ËË 
{
ÈÈ 
string
ÍÍ 
result
ÍÍ 
=
ÍÍ  
GetExpandoProperty
ÍÍ  2
(
ÍÍ2 3
$str
ÍÍ3 I
)
ÍÍI J
;
ÍÍJ K
if
ÎÎ 
(
ÎÎ 
result
ÎÎ 
!=
ÎÎ 
null
ÎÎ "
)
ÎÎ" #
{
ÎÎ$ %
return
ÎÎ& ,
result
ÎÎ- 3
;
ÎÎ3 4
}
ÎÎ5 6
return
ÏÏ 
string
ÏÏ 
.
ÏÏ 
Empty
ÏÏ #
;
ÏÏ# $
}
ÌÌ 
set
ÓÓ 
{
ÓÓ  
SetExpandoProperty
ÓÓ $
(
ÓÓ$ %
$str
ÓÓ% ;
,
ÓÓ; <
value
ÓÓ= B
)
ÓÓB C
;
ÓÓC D
}
ÓÓE F
}
ÔÔ 	
public
ÒÒ 
string
ÒÒ #
CompanyStreetAddress2
ÒÒ +
{
ÚÚ 	
get
ÛÛ 
{
ÙÙ 
string
ıı 
result
ıı 
=
ıı  
GetExpandoProperty
ıı  2
(
ıı2 3
$str
ıı3 J
)
ııJ K
;
ııK L
if
ˆˆ 
(
ˆˆ 
result
ˆˆ 
!=
ˆˆ 
null
ˆˆ "
)
ˆˆ" #
{
ˆˆ$ %
return
ˆˆ& ,
result
ˆˆ- 3
;
ˆˆ3 4
}
ˆˆ5 6
return
˜˜ 
string
˜˜ 
.
˜˜ 
Empty
˜˜ #
;
˜˜# $
}
¯¯ 
set
˘˘ 
{
˘˘  
SetExpandoProperty
˘˘ $
(
˘˘$ %
$str
˘˘% <
,
˘˘< =
value
˘˘> C
)
˘˘C D
;
˘˘D E
}
˘˘F G
}
˙˙ 	
public
¸¸ 
string
¸¸ 
CompanyLocality
¸¸ %
{
˝˝ 	
get
˛˛ 
{
ˇˇ 
string
ÄÄ 
result
ÄÄ 
=
ÄÄ  
GetExpandoProperty
ÄÄ  2
(
ÄÄ2 3
$str
ÄÄ3 D
)
ÄÄD E
;
ÄÄE F
if
ÅÅ 
(
ÅÅ 
result
ÅÅ 
!=
ÅÅ 
null
ÅÅ "
)
ÅÅ" #
{
ÅÅ$ %
return
ÅÅ& ,
result
ÅÅ- 3
;
ÅÅ3 4
}
ÅÅ5 6
return
ÇÇ 
string
ÇÇ 
.
ÇÇ 
Empty
ÇÇ #
;
ÇÇ# $
}
ÉÉ 
set
ÑÑ 
{
ÑÑ  
SetExpandoProperty
ÑÑ $
(
ÑÑ$ %
$str
ÑÑ% 6
,
ÑÑ6 7
value
ÑÑ8 =
)
ÑÑ= >
;
ÑÑ> ?
}
ÑÑ@ A
}
ÖÖ 	
public
áá 
string
áá 
CompanyRegion
áá #
{
àà 	
get
ââ 
{
ää 
string
ãã 
result
ãã 
=
ãã  
GetExpandoProperty
ãã  2
(
ãã2 3
$str
ãã3 B
)
ããB C
;
ããC D
if
åå 
(
åå 
result
åå 
!=
åå 
null
åå "
)
åå" #
{
åå$ %
return
åå& ,
result
åå- 3
;
åå3 4
}
åå5 6
return
çç 
string
çç 
.
çç 
Empty
çç #
;
çç# $
}
éé 
set
èè 
{
èè  
SetExpandoProperty
èè $
(
èè$ %
$str
èè% 4
,
èè4 5
value
èè6 ;
)
èè; <
;
èè< =
}
èè> ?
}
êê 	
public
íí 
string
íí 
CompanyPostalCode
íí '
{
ìì 	
get
îî 
{
ïï 
string
ññ 
result
ññ 
=
ññ  
GetExpandoProperty
ññ  2
(
ññ2 3
$str
ññ3 F
)
ññF G
;
ññG H
if
óó 
(
óó 
result
óó 
!=
óó 
null
óó "
)
óó" #
{
óó$ %
return
óó& ,
result
óó- 3
;
óó3 4
}
óó5 6
return
òò 
string
òò 
.
òò 
Empty
òò #
;
òò# $
}
ôô 
set
öö 
{
öö  
SetExpandoProperty
öö $
(
öö$ %
$str
öö% 8
,
öö8 9
value
öö: ?
)
öö? @
;
öö@ A
}
ööB C
}
õõ 	
public
ùù 
string
ùù 
CompanyCountry
ùù $
{
ûû 	
get
üü 
{
†† 
string
°° 
result
°° 
=
°°  
GetExpandoProperty
°°  2
(
°°2 3
$str
°°3 C
)
°°C D
;
°°D E
if
¢¢ 
(
¢¢ 
result
¢¢ 
!=
¢¢ 
null
¢¢ "
)
¢¢" #
{
¢¢$ %
return
¢¢& ,
result
¢¢- 3
;
¢¢3 4
}
¢¢5 6
return
££ 
string
££ 
.
££ 
Empty
££ #
;
££# $
}
§§ 
set
•• 
{
••  
SetExpandoProperty
•• $
(
••$ %
$str
••% 5
,
••5 6
value
••7 <
)
••< =
;
••= >
}
••? @
}
¶¶ 	
public
®® 
string
®® 
CompanyPhone
®® "
{
©© 	
get
™™ 
{
´´ 
string
¨¨ 
result
¨¨ 
=
¨¨  
GetExpandoProperty
¨¨  2
(
¨¨2 3
$str
¨¨3 A
)
¨¨A B
;
¨¨B C
if
≠≠ 
(
≠≠ 
result
≠≠ 
!=
≠≠ 
null
≠≠ "
)
≠≠" #
{
≠≠$ %
return
≠≠& ,
result
≠≠- 3
;
≠≠3 4
}
≠≠5 6
return
ÆÆ 
string
ÆÆ 
.
ÆÆ 
Empty
ÆÆ #
;
ÆÆ# $
}
ØØ 
set
∞∞ 
{
∞∞  
SetExpandoProperty
∞∞ $
(
∞∞$ %
$str
∞∞% 3
,
∞∞3 4
value
∞∞5 :
)
∞∞: ;
;
∞∞; <
}
∞∞= >
}
±± 	
public
≥≥ 
string
≥≥ 

CompanyFax
≥≥  
{
¥¥ 	
get
µµ 
{
∂∂ 
string
∑∑ 
result
∑∑ 
=
∑∑  
GetExpandoProperty
∑∑  2
(
∑∑2 3
$str
∑∑3 ?
)
∑∑? @
;
∑∑@ A
if
∏∏ 
(
∏∏ 
result
∏∏ 
!=
∏∏ 
null
∏∏ "
)
∏∏" #
{
∏∏$ %
return
∏∏& ,
result
∏∏- 3
;
∏∏3 4
}
∏∏5 6
return
ππ 
string
ππ 
.
ππ 
Empty
ππ #
;
ππ# $
}
∫∫ 
set
ªª 
{
ªª  
SetExpandoProperty
ªª $
(
ªª$ %
$str
ªª% 1
,
ªª1 2
value
ªª3 8
)
ªª8 9
;
ªª9 :
}
ªª; <
}
ºº 	
public
ææ 
string
ææ  
CompanyPublicEmail
ææ (
{
øø 	
get
¿¿ 
{
¡¡ 
string
¬¬ 
result
¬¬ 
=
¬¬  
GetExpandoProperty
¬¬  2
(
¬¬2 3
$str
¬¬3 G
)
¬¬G H
;
¬¬H I
if
√√ 
(
√√ 
result
√√ 
!=
√√ 
null
√√ "
)
√√" #
{
√√$ %
return
√√& ,
result
√√- 3
;
√√3 4
}
√√5 6
return
ƒƒ 
string
ƒƒ 
.
ƒƒ 
Empty
ƒƒ #
;
ƒƒ# $
}
≈≈ 
set
∆∆ 
{
∆∆  
SetExpandoProperty
∆∆ $
(
∆∆$ %
$str
∆∆% 9
,
∆∆9 :
value
∆∆; @
)
∆∆@ A
;
∆∆A B
}
∆∆C D
}
«« 	
public
ÀÀ 
bool
ÀÀ 
EnableWoopra
ÀÀ  
{
ÃÃ 	
get
ÕÕ 
{
ŒŒ 
string
œœ 
sBool
œœ 
=
œœ  
GetExpandoProperty
œœ 1
(
œœ1 2
$str
œœ2 @
)
œœ@ A
;
œœA B
if
—— 
(
—— 
(
—— 
sBool
—— 
!=
—— 
null
—— "
)
——" #
&&
——$ &
(
——' (
sBool
——( -
.
——- .
Length
——. 4
>
——5 6
$num
——7 8
)
——8 9
)
——9 :
{
““ 
return
”” 
Convert
”” "
.
””" #
	ToBoolean
””# ,
(
””, -
sBool
””- 2
)
””2 3
;
””3 4
}
‘‘ 
return
÷÷ 
false
÷÷ 
;
÷÷ 
}
◊◊ 
set
ÿÿ 
{
ÿÿ  
SetExpandoProperty
ÿÿ $
(
ÿÿ$ %
$str
ÿÿ% 3
,
ÿÿ3 4
value
ÿÿ5 :
.
ÿÿ: ;
ToString
ÿÿ; C
(
ÿÿC D
)
ÿÿD E
)
ÿÿE F
;
ÿÿF G
}
ÿÿH I
}
ŸŸ 	
public
€€ 
string
€€ 
PrivacyPolicyUrl
€€ &
{
‹‹ 	
get
›› 
{
ﬁﬁ 
string
ﬂﬂ 
result
ﬂﬂ 
=
ﬂﬂ  
GetExpandoProperty
ﬂﬂ  2
(
ﬂﬂ2 3
$str
ﬂﬂ3 E
)
ﬂﬂE F
;
ﬂﬂF G
if
‡‡ 
(
‡‡ 
result
‡‡ 
!=
‡‡ 
null
‡‡ "
)
‡‡" #
{
‡‡$ %
return
‡‡& ,
result
‡‡- 3
;
‡‡3 4
}
‡‡5 6
return
·· 
$str
·· &
;
··& '
}
‚‚ 
set
„„ 
{
„„  
SetExpandoProperty
„„ $
(
„„$ %
$str
„„% 7
,
„„7 8
value
„„9 >
)
„„> ?
;
„„? @
}
„„A B
}
‰‰ 	
public
ÊÊ 
string
ÊÊ 
SMTPUser
ÊÊ 
{
ÁÁ 	
get
ËË 
{
ËË 
return
ËË  
GetExpandoProperty
ËË +
(
ËË+ ,
$str
ËË, 6
)
ËË6 7
;
ËË7 8
}
ËË9 :
set
ÈÈ 
{
ÈÈ  
SetExpandoProperty
ÈÈ $
(
ÈÈ$ %
$str
ÈÈ% /
,
ÈÈ/ 0
value
ÈÈ1 6
)
ÈÈ6 7
;
ÈÈ7 8
}
ÈÈ9 :
}
ÍÍ 	
public
ÏÏ 
string
ÏÏ 
SMTPPassword
ÏÏ "
{
ÌÌ 	
get
ÓÓ 
{
ÓÓ 
return
ÓÓ  
GetExpandoProperty
ÓÓ +
(
ÓÓ+ ,
$str
ÓÓ, :
)
ÓÓ: ;
;
ÓÓ; <
}
ÓÓ= >
set
ÔÔ 
{
ÔÔ  
SetExpandoProperty
ÔÔ $
(
ÔÔ$ %
$str
ÔÔ% 3
,
ÔÔ3 4
value
ÔÔ5 :
)
ÔÔ: ;
;
ÔÔ; <
}
ÔÔ= >
}
 	
public
ÚÚ 
int
ÚÚ 
SMTPPort
ÚÚ 
{
ÛÛ 	
get
ÙÙ 
{
ıı 
string
ˆˆ 
sPort
ˆˆ 
=
ˆˆ  
GetExpandoProperty
ˆˆ 1
(
ˆˆ1 2
$str
ˆˆ2 <
)
ˆˆ< =
;
ˆˆ= >
if
˜˜ 
(
˜˜ 
(
˜˜ 
sPort
˜˜ 
!=
˜˜ 
null
˜˜ "
)
˜˜" #
&&
˜˜# %
(
˜˜% &
sPort
˜˜& +
.
˜˜+ ,
Length
˜˜, 2
>
˜˜3 4
$num
˜˜5 6
)
˜˜6 7
)
˜˜7 8
{
¯¯ 
return
˘˘ 
Convert
˘˘ "
.
˘˘" #
ToInt32
˘˘# *
(
˘˘* +
sPort
˘˘+ 0
,
˘˘0 1
CultureInfo
˘˘2 =
.
˘˘= >
InvariantCulture
˘˘> N
)
˘˘N O
;
˘˘O P
}
˙˙ 
return
˚˚ 
$num
˚˚ 
;
˚˚ 
}
¸¸ 
set
˝˝ 
{
˛˛  
SetExpandoProperty
ˇˇ "
(
ˇˇ" #
$str
ˇˇ# -
,
ˇˇ- .
value
ˇˇ/ 4
.
ˇˇ4 5
ToString
ˇˇ5 =
(
ˇˇ= >
CultureInfo
ˇˇ> I
.
ˇˇI J
InvariantCulture
ˇˇJ Z
)
ˇˇZ [
)
ˇˇ[ \
;
ˇˇ\ ]
}
Ä	Ä	 
}
Å	Å	 	
public
É	É	 
string
É	É	 #
SMTPPreferredEncoding
É	É	 +
{
Ñ	Ñ	 	
get
Ö	Ö	 
{
Ö	Ö	 
return
Ö	Ö	  
GetExpandoProperty
Ö	Ö	 +
(
Ö	Ö	+ ,
$str
Ö	Ö	, C
)
Ö	Ö	C D
;
Ö	Ö	D E
}
Ö	Ö	F G
set
Ü	Ü	 
{
Ü	Ü	  
SetExpandoProperty
Ü	Ü	 $
(
Ü	Ü	$ %
$str
Ü	Ü	% <
,
Ü	Ü	< =
value
Ü	Ü	> C
)
Ü	Ü	C D
;
Ü	Ü	D E
}
Ü	Ü	F G
}
á	á	 	
public
â	â	 
string
â	â	 

SMTPServer
â	â	  
{
ä	ä	 	
get
ã	ã	 
{
ã	ã	 
return
ã	ã	  
GetExpandoProperty
ã	ã	 +
(
ã	ã	+ ,
$str
ã	ã	, 8
)
ã	ã	8 9
;
ã	ã	9 :
}
ã	ã	; <
set
å	å	 
{
å	å	  
SetExpandoProperty
å	å	 $
(
å	å	$ %
$str
å	å	% 1
,
å	å	1 2
value
å	å	3 8
)
å	å	8 9
;
å	å	9 :
}
å	å	; <
}
ç	ç	 	
public
ë	ë	 
bool
ë	ë	 (
SMTPRequiresAuthentication
ë	ë	 .
{
í	í	 	
get
ì	ì	 
{
î	î	 
string
ñ	ñ	 
sUseSsl
ñ	ñ	 
=
ñ	ñ	   
GetExpandoProperty
ñ	ñ	! 3
(
ñ	ñ	3 4
$str
ñ	ñ	4 P
)
ñ	ñ	P Q
;
ñ	ñ	Q R
if
ò	ò	 
(
ò	ò	 
(
ò	ò	 
sUseSsl
ò	ò	 
!=
ò	ò	 
null
ò	ò	  $
)
ò	ò	$ %
&&
ò	ò	& (
(
ò	ò	) *
sUseSsl
ò	ò	* 1
.
ò	ò	1 2
Length
ò	ò	2 8
>
ò	ò	9 :
$num
ò	ò	; <
)
ò	ò	< =
)
ò	ò	= >
{
ô	ô	 
return
ö	ö	 
Convert
ö	ö	 "
.
ö	ö	" #
	ToBoolean
ö	ö	# ,
(
ö	ö	, -
sUseSsl
ö	ö	- 4
)
ö	ö	4 5
;
ö	ö	5 6
}
õ	õ	 
return
ù	ù	 
false
ù	ù	 
;
ù	ù	 
}
û	û	 
set
ü	ü	 
{
ü	ü	  
SetExpandoProperty
ü	ü	 $
(
ü	ü	$ %
$str
ü	ü	% A
,
ü	ü	A B
value
ü	ü	C H
.
ü	ü	H I
ToString
ü	ü	I Q
(
ü	ü	Q R
)
ü	ü	R S
)
ü	ü	S T
;
ü	ü	T U
}
ü	ü	V W
}
†	†	 	
public
£	£	 
bool
£	£	 

SMTPUseSsl
£	£	 
{
§	§	 	
get
•	•	 
{
•	•	 
string
ß	ß	 
sUseSsl
ß	ß	 
=
ß	ß	   
GetExpandoProperty
ß	ß	! 3
(
ß	ß	3 4
$str
ß	ß	4 @
)
ß	ß	@ A
;
ß	ß	A B
if
©	©	 
(
©	©	 
(
©	©	 
sUseSsl
©	©	 
!=
©	©	 
null
©	©	  $
)
©	©	$ %
&&
©	©	% '
(
©	©	' (
sUseSsl
©	©	( /
.
©	©	/ 0
Length
©	©	0 6
>
©	©	7 8
$num
©	©	9 :
)
©	©	: ;
)
©	©	; <
{
™	™	 
return
´	´	 
Convert
´	´	 "
.
´	´	" #
	ToBoolean
´	´	# ,
(
´	´	, -
sUseSsl
´	´	- 4
)
´	´	4 5
;
´	´	5 6
}
¨	¨	 
return
Æ	Æ	 
false
Æ	Æ	 
;
Æ	Æ	 
}
Ø	Ø	 
set
∞	∞	 
{
∞	∞	  
SetExpandoProperty
∞	∞	 $
(
∞	∞	$ %
$str
∞	∞	% 1
,
∞	∞	1 2
value
∞	∞	3 8
.
∞	∞	8 9
ToString
∞	∞	9 A
(
∞	∞	A B
)
∞	∞	B C
)
∞	∞	C D
;
∞	∞	D E
}
∞	∞	F G
}
±	±	 	
public
≥	≥	 
bool
≥	≥	 '
AllowUserEditorPreference
≥	≥	 -
{
¥	¥	 	
get
µ	µ	 
{
∂	∂	 
string
∏	∏	 
s
∏	∏	 
=
∏	∏	  
GetExpandoProperty
∏	∏	 -
(
∏	∏	- .
$str
∏	∏	. I
)
∏	∏	I J
;
∏	∏	J K
if
∫	∫	 
(
∫	∫	 
(
∫	∫	 
s
∫	∫	 
!=
∫	∫	 
null
∫	∫	 
)
∫	∫	 
&&
∫	∫	  "
(
∫	∫	# $
s
∫	∫	$ %
.
∫	∫	% &
Length
∫	∫	& ,
>
∫	∫	- .
$num
∫	∫	/ 0
)
∫	∫	0 1
)
∫	∫	1 2
{
ª	ª	 
return
º	º	 
Convert
º	º	 "
.
º	º	" #
	ToBoolean
º	º	# ,
(
º	º	, -
s
º	º	- .
)
º	º	. /
;
º	º	/ 0
}
Ω	Ω	 
return
ø	ø	 
false
ø	ø	 
;
ø	ø	 
}
¿	¿	 
set
¡	¡	 
{
¡	¡	  
SetExpandoProperty
¡	¡	 $
(
¡	¡	$ %
$str
¡	¡	% @
,
¡	¡	@ A
value
¡	¡	B G
.
¡	¡	G H
ToString
¡	¡	H P
(
¡	¡	P Q
)
¡	¡	Q R
)
¡	¡	R S
;
¡	¡	S T
}
¡	¡	U V
}
¬	¬	 	
public
ƒ	ƒ	 
string
ƒ	ƒ	 
SiteRootEditRoles
ƒ	ƒ	 '
{
≈	≈	 	
get
∆	∆	 
{
«	«	 
string
»	»	 
result
»	»	 
=
»	»	  
GetExpandoProperty
»	»	  2
(
»	»	2 3
$str
»	»	3 F
)
»	»	F G
;
»	»	G H
if
…	…	 
(
…	…	 
result
…	…	 
!=
…	…	 
null
…	…	 "
)
…	…	" #
{
…	…	$ %
return
…	…	& ,
result
…	…	- 3
;
…	…	3 4
}
…	…	5 6
return
 	 	 
string
 	 	 
.
 	 	 
Empty
 	 	 #
;
 	 	# $
}
À	À	 
set
Ã	Ã	 
{
Ã	Ã	  
SetExpandoProperty
Ã	Ã	 $
(
Ã	Ã	$ %
$str
Ã	Ã	% 8
,
Ã	Ã	8 9
value
Ã	Ã	: ?
)
Ã	Ã	? @
;
Ã	Ã	@ A
}
Ã	Ã	B C
}
Õ	Õ	 	
public
œ	œ	 
string
œ	œ	 $
SiteRootDraftEditRoles
œ	œ	 ,
{
–	–	 	
get
—	—	 
{
“	“	 
string
”	”	 
result
”	”	 
=
”	”	  
GetExpandoProperty
”	”	  2
(
”	”	2 3
$str
”	”	3 K
)
”	”	K L
;
”	”	L M
if
‘	‘	 
(
‘	‘	 
result
‘	‘	 
!=
‘	‘	 
null
‘	‘	 "
)
‘	‘	" #
{
‘	‘	$ %
return
‘	‘	& ,
result
‘	‘	- 3
;
‘	‘	3 4
}
‘	‘	5 6
return
’	’	 
string
’	’	 
.
’	’	 
Empty
’	’	 #
;
’	’	# $
}
÷	÷	 
set
◊	◊	 
{
◊	◊	  
SetExpandoProperty
◊	◊	 $
(
◊	◊	$ %
$str
◊	◊	% =
,
◊	◊	= >
value
◊	◊	? D
)
◊	◊	D E
;
◊	◊	E F
}
◊	◊	G H
}
ÿ	ÿ	 	
public
€	€	 
string
€	€	 (
SiteRootDraftApprovalRoles
€	€	 0
{
‹	‹	 	
get
›	›	 
{
ﬁ	ﬁ	 
string
ﬂ	ﬂ	 
result
ﬂ	ﬂ	 
=
ﬂ	ﬂ	  
GetExpandoProperty
ﬂ	ﬂ	  2
(
ﬂ	ﬂ	2 3
$str
ﬂ	ﬂ	3 O
)
ﬂ	ﬂ	O P
;
ﬂ	ﬂ	P Q
if
‡	‡	 
(
‡	‡	 
result
‡	‡	 
!=
‡	‡	 
null
‡	‡	 "
)
‡	‡	" #
{
‡	‡	$ %
return
‡	‡	& ,
result
‡	‡	- 3
;
‡	‡	3 4
}
‡	‡	5 6
return
·	·	 
String
·	·	 
.
·	·	 
Empty
·	·	 #
;
·	·	# $
}
‚	‚	 
set
„	„	 
{
„	„	  
SetExpandoProperty
„	„	 $
(
„	„	$ %
$str
„	„	% A
,
„	„	A B
value
„	„	C H
)
„	„	H I
;
„	„	I J
}
„	„	K L
}
‰	‰	 	
public
Ê	Ê	 
string
Ê	Ê	 %
CommerceReportViewRoles
Ê	Ê	 -
{
Á	Á	 	
get
Ë	Ë	 
{
È	È	 
string
Í	Í	 
result
Í	Í	 
=
Í	Í	  
GetExpandoProperty
Í	Í	  2
(
Í	Í	2 3
$str
Í	Í	3 L
)
Í	Í	L M
;
Í	Í	M N
if
Î	Î	 
(
Î	Î	 
result
Î	Î	 
!=
Î	Î	 
null
Î	Î	 "
)
Î	Î	" #
{
Î	Î	$ %
return
Î	Î	& ,
result
Î	Î	- 3
;
Î	Î	3 4
}
Î	Î	5 6
return
Ï	Ï	 
string
Ï	Ï	 
.
Ï	Ï	 
Empty
Ï	Ï	 #
;
Ï	Ï	# $
}
Ì	Ì	 
set
Ó	Ó	 
{
Ó	Ó	  
SetExpandoProperty
Ó	Ó	 $
(
Ó	Ó	$ %
$str
Ó	Ó	% >
,
Ó	Ó	> ?
value
Ó	Ó	@ E
)
Ó	Ó	E F
;
Ó	Ó	F G
}
Ó	Ó	H I
}
Ô	Ô	 	
public
Ò	Ò	 
string
Ò	Ò	 )
RolesThatCanCreateRootPages
Ò	Ò	 1
{
Ú	Ú	 	
get
Û	Û	 
{
Ù	Ù	 
string
ı	ı	 
result
ı	ı	 
=
ı	ı	  
GetExpandoProperty
ı	ı	  2
(
ı	ı	2 3
$str
ı	ı	3 P
)
ı	ı	P Q
;
ı	ı	Q R
if
ˆ	ˆ	 
(
ˆ	ˆ	 
result
ˆ	ˆ	 
!=
ˆ	ˆ	 
null
ˆ	ˆ	 "
)
ˆ	ˆ	" #
{
ˆ	ˆ	$ %
return
ˆ	ˆ	& ,
result
ˆ	ˆ	- 3
;
ˆ	ˆ	3 4
}
ˆ	ˆ	5 6
return
˜	˜	 
$str
˜	˜	 C
;
˜	˜	C D
}
¯	¯	 
set
˘	˘	 
{
˘	˘	  
SetExpandoProperty
˘	˘	 $
(
˘	˘	$ %
$str
˘	˘	% B
,
˘	˘	B C
value
˘	˘	D I
)
˘	˘	I J
;
˘	˘	J K
}
˘	˘	L M
}
˙	˙	 	
public
¸	¸	 
string
¸	¸	 (
RolesThatCanViewMemberList
¸	¸	 0
{
˝	˝	 	
get
˛	˛	 
{
ˇ	ˇ	 
string
Ä
Ä
 
result
Ä
Ä
 
=
Ä
Ä
  
GetExpandoProperty
Ä
Ä
  2
(
Ä
Ä
2 3
$str
Ä
Ä
3 O
)
Ä
Ä
O P
;
Ä
Ä
P Q
if
Å
Å
 
(
Å
Å
 
result
Å
Å
 
!=
Å
Å
 
null
Å
Å
 "
)
Å
Å
" #
{
Å
Å
$ %
return
Å
Å
& ,
result
Å
Å
- 3
;
Å
Å
3 4
}
Å
Å
5 6
return
Ç
Ç
 
string
Ç
Ç
 
.
Ç
Ç
 
Empty
Ç
Ç
 #
;
Ç
Ç
# $
}
É
É
 
set
Ñ
Ñ
 
{
Ñ
Ñ
  
SetExpandoProperty
Ñ
Ñ
 $
(
Ñ
Ñ
$ %
$str
Ñ
Ñ
% A
,
Ñ
Ñ
A B
value
Ñ
Ñ
C H
)
Ñ
Ñ
H I
;
Ñ
Ñ
I J
}
Ñ
Ñ
K L
}
Ö
Ö
 	
public
á
á
 
string
á
á
 %
RolesThatCanCreateUsers
á
á
 -
{
à
à
 	
get
â
â
 
{
ä
ä
 
string
ã
ã
 
result
ã
ã
 
=
ã
ã
  
GetExpandoProperty
ã
ã
  2
(
ã
ã
2 3
$str
ã
ã
3 L
)
ã
ã
L M
;
ã
ã
M N
if
å
å
 
(
å
å
 
result
å
å
 
!=
å
å
 
null
å
å
 "
)
å
å
" #
{
å
å
$ %
return
å
å
& ,
result
å
å
- 3
;
å
å
3 4
}
å
å
5 6
return
ç
ç
 
string
ç
ç
 
.
ç
ç
 
Empty
ç
ç
 #
;
ç
ç
# $
}
é
é
 
set
è
è
 
{
è
è
  
SetExpandoProperty
è
è
 $
(
è
è
$ %
$str
è
è
% >
,
è
è
> ?
value
è
è
@ E
)
è
è
E F
;
è
è
F G
}
è
è
H I
}
ê
ê
 	
public
í
í
 
string
í
í
 %
RolesThatCanManageUsers
í
í
 -
{
ì
ì
 	
get
î
î
 
{
ï
ï
 
string
ñ
ñ
 
result
ñ
ñ
 
=
ñ
ñ
  
GetExpandoProperty
ñ
ñ
  2
(
ñ
ñ
2 3
$str
ñ
ñ
3 Q
)
ñ
ñ
Q R
;
ñ
ñ
R S
if
ó
ó
 
(
ó
ó
 
result
ó
ó
 
!=
ó
ó
 
null
ó
ó
 "
)
ó
ó
" #
{
ó
ó
$ %
return
ó
ó
& ,
result
ó
ó
- 3
;
ó
ó
3 4
}
ó
ó
5 6
return
ò
ò
 
string
ò
ò
 
.
ò
ò
 
Empty
ò
ò
 #
;
ò
ò
# $
}
ô
ô
 
set
ö
ö
 
{
ö
ö
  
SetExpandoProperty
ö
ö
 $
(
ö
ö
$ %
$str
ö
ö
% C
,
ö
ö
C D
value
ö
ö
E J
)
ö
ö
J K
;
ö
ö
K L
}
ö
ö
M N
}
õ
õ
 	
public
ù
ù
 
string
ù
ù
 $
RolesThatCanViewMyPage
ù
ù
 ,
{
û
û
 	
get
ü
ü
 
{
†
†
 
string
°
°
 
result
°
°
 
=
°
°
  
GetExpandoProperty
°
°
  2
(
°
°
2 3
$str
°
°
3 K
)
°
°
K L
;
°
°
L M
if
¢
¢
 
(
¢
¢
 
result
¢
¢
 
!=
¢
¢
 
null
¢
¢
 "
)
¢
¢
" #
{
¢
¢
$ %
return
¢
¢
& ,
result
¢
¢
- 3
;
¢
¢
3 4
}
¢
¢
5 6
return
£
£
 
string
£
£
 
.
£
£
 
Empty
£
£
 #
;
£
£
# $
}
§
§
 
set
•
•
 
{
•
•
  
SetExpandoProperty
•
•
 $
(
•
•
$ %
$str
•
•
% =
,
•
•
= >
value
•
•
? D
)
•
•
D E
;
•
•
E F
}
•
•
G H
}
¶
¶
 	
public
®
®
 
string
®
®
 %
RolesThatCanLookupUsers
®
®
 -
{
©
©
 	
get
™
™
 
{
´
´
 
string
¨
¨
 
result
¨
¨
 
=
¨
¨
  
GetExpandoProperty
¨
¨
  2
(
¨
¨
2 3
$str
¨
¨
3 L
)
¨
¨
L M
;
¨
¨
M N
if
≠
≠
 
(
≠
≠
 
result
≠
≠
 
!=
≠
≠
 
null
≠
≠
 "
)
≠
≠
" #
{
≠
≠
$ %
return
≠
≠
& ,
result
≠
≠
- 3
;
≠
≠
3 4
}
≠
≠
5 6
return
Æ
Æ
 
string
Æ
Æ
 
.
Æ
Æ
 
Empty
Æ
Æ
 #
;
Æ
Æ
# $
}
Ø
Ø
 
set
∞
∞
 
{
∞
∞
  
SetExpandoProperty
∞
∞
 $
(
∞
∞
$ %
$str
∞
∞
% >
,
∞
∞
> ?
value
∞
∞
@ E
)
∞
∞
E F
;
∞
∞
F G
}
∞
∞
H I
}
±
±
 	
public
≥
≥
 
string
≥
≥
 1
#RolesNotAllowedToEditModuleSettings
≥
≥
 9
{
¥
¥
 	
get
µ
µ
 
{
∂
∂
 
string
∑
∑
 
result
∑
∑
 
=
∑
∑
  
GetExpandoProperty
∑
∑
  2
(
∑
∑
2 3
$str
∑
∑
3 X
)
∑
∑
X Y
;
∑
∑
Y Z
if
∏
∏
 
(
∏
∏
 
result
∏
∏
 
!=
∏
∏
 
null
∏
∏
 "
)
∏
∏
" #
{
∏
∏
$ %
return
∏
∏
& ,
result
∏
∏
- 3
;
∏
∏
3 4
}
∏
∏
5 6
return
π
π
 
string
π
π
 
.
π
π
 
Empty
π
π
 #
;
π
π
# $
}
∫
∫
 
set
ª
ª
 
{
ª
ª
  
SetExpandoProperty
ª
ª
 $
(
ª
ª
$ %
$str
ª
ª
% J
,
ª
ª
J K
value
ª
ª
L Q
)
ª
ª
Q R
;
ª
ª
R S
}
ª
ª
T U
}
º
º
 	
public
æ
æ
 
string
æ
æ
 .
 RolesThatCanEditContentTemplates
æ
æ
 6
{
ø
ø
 	
get
¿
¿
 
{
¡
¡
 
string
¬
¬
 
result
¬
¬
 
=
¬
¬
  
GetExpandoProperty
¬
¬
  2
(
¬
¬
2 3
$str
¬
¬
3 U
)
¬
¬
U V
;
¬
¬
V W
if
√
√
 
(
√
√
 
result
√
√
 
!=
√
√
 
null
√
√
 "
)
√
√
" #
{
√
√
$ %
return
√
√
& ,
result
√
√
- 3
;
√
√
3 4
}
√
√
5 6
return
ƒ
ƒ
 
string
ƒ
ƒ
 
.
ƒ
ƒ
 
Empty
ƒ
ƒ
 #
;
ƒ
ƒ
# $
}
≈
≈
 
set
∆
∆
 
{
∆
∆
  
SetExpandoProperty
∆
∆
 $
(
∆
∆
$ %
$str
∆
∆
% G
,
∆
∆
G H
value
∆
∆
I N
)
∆
∆
N O
;
∆
∆
O P
}
∆
∆
Q R
}
«
«
 	
public
 
 
 
string
 
 
 )
GeneralBrowseAndUploadRoles
 
 
 1
{
À
À
 	
get
Ã
Ã
 
{
Õ
Õ
 
string
Œ
Œ
 
result
Œ
Œ
 
=
Œ
Œ
  
GetExpandoProperty
Œ
Œ
  2
(
Œ
Œ
2 3
$str
Œ
Œ
3 P
)
Œ
Œ
P Q
;
Œ
Œ
Q R
if
œ
œ
 
(
œ
œ
 
result
œ
œ
 
!=
œ
œ
 
null
œ
œ
 "
)
œ
œ
" #
{
œ
œ
$ %
return
œ
œ
& ,
result
œ
œ
- 3
;
œ
œ
3 4
}
œ
œ
5 6
return
–
–
 
string
–
–
 
.
–
–
 
Empty
–
–
 #
;
–
–
# $
}
—
—
 
set
“
“
 
{
“
“
  
SetExpandoProperty
“
“
 $
(
“
“
$ %
$str
“
“
% B
,
“
“
B C
value
“
“
D I
)
“
“
I J
;
“
“
J K
}
“
“
L M
}
”
”
 	
public
’
’
 
string
’
’
	  
GeneralBrowseRoles
’
’
 "
{
÷
÷
 
get
◊
◊
 
{
ÿ
ÿ
 
string
Ÿ
Ÿ
 

result
Ÿ
Ÿ
 
=
Ÿ
Ÿ
  
GetExpandoProperty
Ÿ
Ÿ
 &
(
Ÿ
Ÿ
& '
$str
Ÿ
Ÿ
' ;
)
Ÿ
Ÿ
; <
;
Ÿ
Ÿ
< =
if
⁄
⁄
 
(
⁄
⁄
 
result
⁄
⁄
 
!=
⁄
⁄
 
null
⁄
⁄
 
)
⁄
⁄
 
{
⁄
⁄
 
return
⁄
⁄
  
result
⁄
⁄
! '
;
⁄
⁄
' (
}
⁄
⁄
) *
return
€
€
 

string
€
€
 
.
€
€
 
Empty
€
€
 
;
€
€
 
}
‹
‹
 
set
›
›
 
{
›
›
  
SetExpandoProperty
›
›
	 
(
›
›
 
$str
›
›
 0
,
›
›
0 1
value
›
›
2 7
)
›
›
7 8
;
›
›
8 9
}
›
›
: ;
}
ﬁ
ﬁ
 
public
‡
‡
 
string
‡
‡
	 +
UserFilesBrowseAndUploadRoles
‡
‡
 -
{
·
·
 	
get
‚
‚
 
{
„
„
 
string
‰
‰
 
result
‰
‰
 
=
‰
‰
  
GetExpandoProperty
‰
‰
  2
(
‰
‰
2 3
$str
‰
‰
3 R
)
‰
‰
R S
;
‰
‰
S T
if
Â
Â
 
(
Â
Â
 
result
Â
Â
 
!=
Â
Â
 
null
Â
Â
 "
)
Â
Â
" #
{
Â
Â
$ %
return
Â
Â
& ,
result
Â
Â
- 3
;
Â
Â
3 4
}
Â
Â
5 6
return
Ê
Ê
 
string
Ê
Ê
 
.
Ê
Ê
 
Empty
Ê
Ê
 #
;
Ê
Ê
# $
}
Á
Á
 
set
Ë
Ë
 
{
Ë
Ë
  
SetExpandoProperty
Ë
Ë
 $
(
Ë
Ë
$ %
$str
Ë
Ë
% D
,
Ë
Ë
D E
value
Ë
Ë
F K
)
Ë
Ë
K L
;
Ë
Ë
L M
}
Ë
Ë
N O
}
È
È
 	
public
Î
Î
 
string
Î
Î
 -
RolesThatCanDeleteFilesInEditor
Î
Î
 5
{
Ï
Ï
 	
get
Ì
Ì
 
{
Ó
Ó
 
string
Ô
Ô
 
result
Ô
Ô
 
=
Ô
Ô
  
GetExpandoProperty
Ô
Ô
  2
(
Ô
Ô
2 3
$str
Ô
Ô
3 T
)
Ô
Ô
T U
;
Ô
Ô
U V
if


 
(


 
result


 
!=


 
null


 "
)


" #
{


$ %
return


& ,
result


- 3
+


4 5
$str


6 O
;


O P
}


Q R
return
Ò
Ò
 
$str
Ò
Ò
 0
;
Ò
Ò
0 1
}
Ú
Ú
 
set
Û
Û
 
{
Û
Û
  
SetExpandoProperty
Û
Û
 $
(
Û
Û
$ %
$str
Û
Û
% F
,
Û
Û
F G
value
Û
Û
H M
)
Û
Û
M N
;
Û
Û
N O
}
Û
Û
P Q
}
Ù
Ù
 	
public
ˆ
ˆ
 
string
ˆ
ˆ
 ,
RolesThatCanAssignSkinsToPages
ˆ
ˆ
 4
{
˜
˜
 	
get
¯
¯
 
{
˘
˘
 
string
˙
˙
 
result
˙
˙
 
=
˙
˙
  
GetExpandoProperty
˙
˙
  2
(
˙
˙
2 3
$str
˙
˙
3 S
)
˙
˙
S T
;
˙
˙
T U
if
˚
˚
 
(
˚
˚
 
result
˚
˚
 
!=
˚
˚
 
null
˚
˚
 "
)
˚
˚
" #
{
˚
˚
$ %
return
˚
˚
& ,
result
˚
˚
- 3
;
˚
˚
3 4
}
˚
˚
5 6
return
¸
¸
 
string
¸
¸
 
.
¸
¸
 
Empty
¸
¸
 #
;
¸
¸
# $
}
˝
˝
 
set
˛
˛
 
{
˛
˛
  
SetExpandoProperty
˛
˛
 $
(
˛
˛
$ %
$str
˛
˛
% E
,
˛
˛
E F
value
˛
˛
G L
)
˛
˛
L M
;
˛
˛
M N
}
˛
˛
O P
}
ˇ
ˇ
 	
public
ÅÅ 
string
ÅÅ %
RolesThatCanManageSkins
ÅÅ -
{
ÇÇ 	
get
ÉÉ 
{
ÑÑ 
string
ÖÖ 
result
ÖÖ 
=
ÖÖ  
GetExpandoProperty
ÖÖ  2
(
ÖÖ2 3
$str
ÖÖ3 L
)
ÖÖL M
;
ÖÖM N
if
ÜÜ 
(
ÜÜ 
result
ÜÜ 
!=
ÜÜ 
null
ÜÜ "
)
ÜÜ" #
{
ÜÜ$ %
return
ÜÜ& ,
result
ÜÜ- 3
;
ÜÜ3 4
}
ÜÜ5 6
return
áá 
string
áá 
.
áá 
Empty
áá #
;
áá# $
}
àà 
set
ââ 
{
ââ  
SetExpandoProperty
ââ $
(
ââ$ %
$str
ââ% >
,
ââ> ?
value
ââ@ E
)
ââE F
;
ââF G
}
ââH I
}
ää 	
public
åå 
string
åå &
DefaultRootPageViewRoles
åå .
{
çç 	
get
éé 
{
èè 
string
êê 
result
êê 
=
êê  
GetExpandoProperty
êê  2
(
êê2 3
$str
êê3 M
)
êêM N
;
êêN O
if
ëë 
(
ëë 
result
ëë 
!=
ëë 
null
ëë "
)
ëë" #
{
ëë$ %
return
ëë& ,
result
ëë- 3
;
ëë3 4
}
ëë5 6
return
íí 
$str
íí #
;
íí# $
}
ìì 
set
îî 
{
îî  
SetExpandoProperty
îî $
(
îî$ %
$str
îî% ?
,
îî? @
value
îîA F
)
îîF G
;
îîG H
}
îîI J
}
ïï 	
public
óó 
string
óó &
DefaultRootPageEditRoles
óó .
{
òò 	
get
ôô 
{
öö 
string
õõ 
result
õõ 
=
õõ  
GetExpandoProperty
õõ  2
(
õõ2 3
$str
õõ3 M
)
õõM N
;
õõN O
if
úú 
(
úú 
result
úú 
!=
úú 
null
úú "
)
úú" #
{
úú$ %
return
úú& ,
result
úú- 3
;
úú3 4
}
úú5 6
return
ùù 
string
ùù 
.
ùù 
Empty
ùù #
;
ùù# $
}
ûû 
set
üü 
{
üü  
SetExpandoProperty
üü $
(
üü$ %
$str
üü% ?
,
üü? @
value
üüA F
)
üüF G
;
üüG H
}
üüI J
}
†† 	
public
¢¢ 
string
¢¢ 1
#DefaultRootPageCreateChildPageRoles
¢¢ 9
{
££ 	
get
§§ 
{
•• 
string
¶¶ 
result
¶¶ 
=
¶¶  
GetExpandoProperty
¶¶  2
(
¶¶2 3
$str
¶¶3 X
)
¶¶X Y
;
¶¶Y Z
if
ßß 
(
ßß 
result
ßß 
!=
ßß 
null
ßß "
)
ßß" #
{
ßß$ %
return
ßß& ,
result
ßß- 3
;
ßß3 4
}
ßß5 6
return
®® 
string
®® 
.
®® 
Empty
®® #
;
®®# $
}
©© 
set
™™ 
{
™™  
SetExpandoProperty
™™ $
(
™™$ %
$str
™™% J
,
™™J K
value
™™L Q
)
™™Q R
;
™™R S
}
™™T U
}
´´ 	
public
≠≠ 
string
≠≠	  
TagManagementRoles
≠≠ "
{
ÆÆ 
get
ØØ 
{
∞∞ 
string
±± 

result
±± 
=
±±  
GetExpandoProperty
±± &
(
±±& '
$str
±±' ;
)
±±; <
;
±±< =
if
≤≤ 
(
≤≤ 
result
≤≤ 
!=
≤≤ 
null
≤≤ 
)
≤≤ 
{
≤≤ 
return
≤≤  
result
≤≤! '
;
≤≤' (
}
≤≤) *
return
≥≥ 

$str
≥≥ $
;
≥≥$ %
}
¥¥ 
set
µµ 
{
µµ  
SetExpandoProperty
µµ	 
(
µµ 
$str
µµ 0
,
µµ0 1
value
µµ2 7
)
µµ7 8
;
µµ8 9
}
µµ: ;
}
∂∂ 
public
∏∏ 
Guid
∏∏	 
SkinVersion
∏∏ 
{
ππ 	
get
∫∫ 
{
ªª 
string
ºº 
result
ºº 
=
ºº  
GetExpandoProperty
ºº  2
(
ºº2 3
$str
ºº3 @
)
ºº@ A
;
ººA B
if
ΩΩ 
(
ΩΩ 
(
ΩΩ 
result
ΩΩ 
!=
ΩΩ 
null
ΩΩ #
)
ΩΩ# $
&&
ΩΩ$ &
(
ΩΩ& '
result
ΩΩ' -
.
ΩΩ- .
Length
ΩΩ. 4
==
ΩΩ5 7
$num
ΩΩ8 :
)
ΩΩ: ;
)
ΩΩ; <
{
ΩΩ= >
return
ΩΩ? E
new
ΩΩF I
Guid
ΩΩJ N
(
ΩΩN O
result
ΩΩO U
)
ΩΩU V
;
ΩΩV W
}
ΩΩX Y
return
ææ 
Guid
ææ 
.
ææ 
Empty
ææ !
;
ææ! "
}
øø 
set
¿¿ 
{
¿¿  
SetExpandoProperty
¿¿ $
(
¿¿$ %
$str
¿¿% 2
,
¿¿2 3
value
¿¿4 9
.
¿¿9 :
ToString
¿¿: B
(
¿¿B C
)
¿¿C D
)
¿¿D E
;
¿¿E F
}
¿¿G H
}
¡¡ 	
public
ŒŒ 
string
ŒŒ 
AvatarSystem
ŒŒ "
{
œœ 	
get
–– 
{
—— 
string
““ 
result
““ 
=
““  
GetExpandoProperty
““  2
(
““2 3
$str
““3 A
)
““A B
;
““B C
if
”” 
(
”” 
result
”” 
!=
”” 
null
”” "
)
””" #
{
””$ %
return
””& ,
result
””- 3
;
””3 4
}
””5 6
return
‘‘ 
$str
‘‘ !
;
‘‘! "
}
’’ 
set
÷÷ 
{
÷÷  
SetExpandoProperty
÷÷ $
(
÷÷$ %
$str
÷÷% 3
,
÷÷3 4
value
÷÷5 :
)
÷÷: ;
;
÷÷; <
}
÷÷= >
}
◊◊ 	
public
ŸŸ 
string
ŸŸ 
CommentProvider
ŸŸ %
{
⁄⁄ 	
get
€€ 
{
‹‹ 
string
›› 
result
›› 
=
››  
GetExpandoProperty
››  2
(
››2 3
$str
››3 D
)
››D E
;
››E F
if
ﬁﬁ 
(
ﬁﬁ 
result
ﬁﬁ 
!=
ﬁﬁ 
null
ﬁﬁ "
)
ﬁﬁ" #
{
ﬁﬁ$ %
return
ﬁﬁ& ,
result
ﬁﬁ- 3
;
ﬁﬁ3 4
}
ﬁﬁ5 6
return
ﬂﬂ 
$str
ﬂﬂ &
;
ﬂﬂ& '
}
‡‡ 
set
·· 
{
··  
SetExpandoProperty
·· $
(
··$ %
$str
··% 6
,
··6 7
value
··8 =
)
··= >
;
··> ?
}
··@ A
}
‚‚ 	
public
‰‰ 
string
‰‰ 
FacebookAppId
‰‰ #
{
ÂÂ 	
get
ÊÊ 
{
ÁÁ 
string
ËË 
result
ËË 
=
ËË  
GetExpandoProperty
ËË  2
(
ËË2 3
$str
ËË3 B
)
ËËB C
;
ËËC D
if
ÈÈ 
(
ÈÈ 
result
ÈÈ 
!=
ÈÈ 
null
ÈÈ "
)
ÈÈ" #
{
ÈÈ$ %
return
ÈÈ& ,
result
ÈÈ- 3
;
ÈÈ3 4
}
ÈÈ5 6
return
ÍÍ 
string
ÍÍ 
.
ÍÍ 
Empty
ÍÍ #
;
ÍÍ# $
}
ÎÎ 
set
ÏÏ 
{
ÏÏ  
SetExpandoProperty
ÏÏ $
(
ÏÏ$ %
$str
ÏÏ% 4
,
ÏÏ4 5
value
ÏÏ6 ;
)
ÏÏ; <
;
ÏÏ< =
}
ÏÏ> ?
}
ÌÌ 	
public
ÔÔ 
string
ÔÔ $
IntenseDebateAccountId
ÔÔ ,
{
 	
get
ÒÒ 
{
ÚÚ 
string
ÛÛ 
result
ÛÛ 
=
ÛÛ  
GetExpandoProperty
ÛÛ  2
(
ÛÛ2 3
$str
ÛÛ3 K
)
ÛÛK L
;
ÛÛL M
if
ÙÙ 
(
ÙÙ 
result
ÙÙ 
!=
ÙÙ 
null
ÙÙ "
)
ÙÙ" #
{
ÙÙ$ %
return
ÙÙ& ,
result
ÙÙ- 3
;
ÙÙ3 4
}
ÙÙ5 6
return
ıı 
string
ıı 
.
ıı 
Empty
ıı #
;
ıı# $
}
ˆˆ 
set
˜˜ 
{
˜˜  
SetExpandoProperty
˜˜ $
(
˜˜$ %
$str
˜˜% =
,
˜˜= >
value
˜˜? D
)
˜˜D E
;
˜˜E F
}
˜˜G H
}
¯¯ 	
public
˙˙ 
string
˙˙ !
DisqusSiteShortName
˙˙ )
{
˚˚ 	
get
¸¸ 
{
˝˝ 
string
˛˛ 
result
˛˛ 
=
˛˛  
GetExpandoProperty
˛˛  2
(
˛˛2 3
$str
˛˛3 H
)
˛˛H I
;
˛˛I J
if
ˇˇ 
(
ˇˇ 
result
ˇˇ 
!=
ˇˇ 
null
ˇˇ "
)
ˇˇ" #
{
ˇˇ$ %
return
ˇˇ& ,
result
ˇˇ- 3
;
ˇˇ3 4
}
ˇˇ5 6
return
ÄÄ 
string
ÄÄ 
.
ÄÄ 
Empty
ÄÄ #
;
ÄÄ# $
}
ÅÅ 
set
ÇÇ 
{
ÇÇ  
SetExpandoProperty
ÇÇ $
(
ÇÇ$ %
$str
ÇÇ% :
,
ÇÇ: ;
value
ÇÇ< A
)
ÇÇA B
;
ÇÇB C
}
ÇÇD E
}
ÉÉ 	
public
ãã 
string
ãã 
MetaProfile
ãã !
{
åå 	
get
çç 
{
éé 
string
èè 
result
èè 
=
èè  
GetExpandoProperty
èè  2
(
èè2 3
$str
èè3 @
)
èè@ A
;
èèA B
if
êê 
(
êê 
result
êê 
!=
êê 
null
êê "
)
êê" #
{
êê$ %
return
êê& ,
result
êê- 3
;
êê3 4
}
êê5 6
return
ëë 
string
ëë 
.
ëë 
Empty
ëë #
;
ëë# $
}
íí 
set
ìì 
{
ìì  
SetExpandoProperty
ìì $
(
ìì$ %
$str
ìì% 2
,
ìì2 3
value
ìì4 9
)
ìì9 :
;
ìì: ;
}
ìì< =
}
îî 	
public
ññ 
string
ññ 
NewsletterEditor
ññ &
{
óó 	
get
òò 
{
ôô 
string
öö 
result
öö 
=
öö  
GetExpandoProperty
öö  2
(
öö2 3
$str
öö3 E
)
ööE F
;
ööF G
if
õõ 
(
õõ 
result
õõ 
!=
õõ 
null
õõ "
)
õõ" #
{
õõ$ %
return
õõ& ,
result
õõ- 3
;
õõ3 4
}
õõ5 6
return
úú 
$str
úú (
;
úú( )
}
ùù 
set
ûû 
{
ûû  
SetExpandoProperty
ûû $
(
ûû$ %
$str
ûû% 7
,
ûû7 8
value
ûû9 >
)
ûû> ?
;
ûû? @
}
ûûA B
}
üü 	
public
¢¢ 
Guid
¢¢  
DefaultCountryGuid
¢¢ &
{
££ 	
get
§§ 
{
•• 
string
¶¶ 
result
¶¶ 
=
¶¶  
GetExpandoProperty
¶¶  2
(
¶¶2 3
$str
¶¶3 G
)
¶¶G H
;
¶¶H I
if
ßß 
(
ßß 
(
ßß 
result
ßß 
!=
ßß 
null
ßß #
)
ßß# $
&&
ßß% '
(
ßß( )
result
ßß) /
.
ßß/ 0
Length
ßß0 6
==
ßß7 9
$num
ßß: <
)
ßß< =
)
ßß= >
{
ßß? @
return
ßßA G
new
ßßH K
Guid
ßßL P
(
ßßP Q
result
ßßQ W
)
ßßW X
;
ßßX Y
}
ßßZ [
return
®® 
new
®® 
Guid
®® 
(
®®  
$str
®®  F
)
®®F G
;
®®G H
}
©© 
set
™™ 
{
™™  
SetExpandoProperty
™™ $
(
™™$ %
$str
™™% 9
,
™™9 :
value
™™; @
.
™™@ A
ToString
™™A I
(
™™I J
)
™™J K
)
™™K L
;
™™L M
}
™™N O
}
´´ 	
public
≠≠ 
Guid
≠≠ 
DefaultStateGuid
≠≠ $
{
ÆÆ 	
get
ØØ 
{
∞∞ 
string
±± 
result
±± 
=
±±  
GetExpandoProperty
±±  2
(
±±2 3
$str
±±3 E
)
±±E F
;
±±F G
if
≤≤ 
(
≤≤ 
(
≤≤ 
result
≤≤ 
!=
≤≤ 
null
≤≤ #
)
≤≤# $
&&
≤≤% '
(
≤≤( )
result
≤≤) /
.
≤≤/ 0
Length
≤≤0 6
==
≤≤7 9
$num
≤≤: <
)
≤≤< =
)
≤≤= >
{
≤≤? @
return
≤≤A G
new
≤≤H K
Guid
≤≤L P
(
≤≤P Q
result
≤≤Q W
)
≤≤W X
;
≤≤X Y
}
≤≤Z [
return
≥≥ 
Guid
≥≥ 
.
≥≥ 
Empty
≥≥ !
;
≥≥! "
}
¥¥ 
set
µµ 
{
µµ  
SetExpandoProperty
µµ $
(
µµ$ %
$str
µµ% 7
,
µµ7 8
value
µµ9 >
.
µµ> ?
ToString
µµ? G
(
µµG H
)
µµH I
)
µµI J
;
µµJ K
}
µµL M
}
∂∂ 	
public
∏∏ 
Guid
∏∏ 
CurrencyGuid
∏∏  
{
ππ 	
get
∫∫ 
{
ªª 
string
ºº 
result
ºº 
=
ºº  
GetExpandoProperty
ºº  2
(
ºº2 3
$str
ºº3 A
)
ººA B
;
ººB C
if
ΩΩ 
(
ΩΩ 
(
ΩΩ 
result
ΩΩ 
!=
ΩΩ 
null
ΩΩ #
)
ΩΩ# $
&&
ΩΩ$ &
(
ΩΩ& '
result
ΩΩ' -
.
ΩΩ- .
Length
ΩΩ. 4
==
ΩΩ5 7
$num
ΩΩ8 :
)
ΩΩ: ;
)
ΩΩ; <
{
ΩΩ= >
return
ΩΩ? E
new
ΩΩF I
Guid
ΩΩJ N
(
ΩΩN O
result
ΩΩO U
)
ΩΩU V
;
ΩΩV W
}
ΩΩX Y
return
ææ 
new
ææ 
Guid
ææ 
(
ææ  
$str
ææ  F
)
ææF G
;
ææG H
}
øø 
set
¿¿ 
{
¿¿  
SetExpandoProperty
¿¿ $
(
¿¿$ %
$str
¿¿% 3
,
¿¿3 4
value
¿¿5 :
.
¿¿: ;
ToString
¿¿; C
(
¿¿C D
)
¿¿D E
)
¿¿E F
;
¿¿F G
}
¿¿H I
}
¡¡ 	
public
ƒƒ 
Currency
ƒƒ 
GetCurrency
ƒƒ #
(
ƒƒ# $
)
ƒƒ$ %
{
≈≈ 	
if
∆∆ 
(
∆∆ 
currency
∆∆ 
==
∆∆ 
null
∆∆  
)
∆∆  !
{
∆∆" #
currency
∆∆$ ,
=
∆∆- .
new
∆∆/ 2
Currency
∆∆3 ;
(
∆∆; <
CurrencyGuid
∆∆< H
)
∆∆H I
;
∆∆I J
}
∆∆K L
return
«« 
currency
«« 
;
«« 
}
»» 	
public
   
bool
   $
ForceContentVersioning
   *
{
ÀÀ 	
get
ÃÃ 
{
ÕÕ 
string
ŒŒ 
b
ŒŒ 
=
ŒŒ  
GetExpandoProperty
ŒŒ -
(
ŒŒ- .
$str
ŒŒ. F
)
ŒŒF G
;
ŒŒG H
if
œœ 
(
œœ 
(
œœ 
b
œœ 
!=
œœ 
null
œœ 
)
œœ 
&&
œœ  "
(
œœ# $
b
œœ$ %
.
œœ% &
Length
œœ& ,
>
œœ- .
$num
œœ/ 0
)
œœ0 1
)
œœ1 2
{
–– 
return
—— 
Convert
—— "
.
——" #
	ToBoolean
——# ,
(
——, -
b
——- .
)
——. /
;
——/ 0
}
““ 
return
”” 
false
”” 
;
”” 
}
‘‘ 
set
’’ 
{
’’  
SetExpandoProperty
’’ $
(
’’$ %
$str
’’% =
,
’’= >
value
’’? D
.
’’D E
ToString
’’E M
(
’’M N
)
’’N O
)
’’O P
;
’’P Q
}
’’R S
}
÷÷ 	
public
ÿÿ 
bool
ÿÿ #
EnableContentWorkflow
ÿÿ )
{
ŸŸ 	
get
⁄⁄ 
{
€€ 
string
›› 
b
›› 
=
››  
GetExpandoProperty
›› -
(
››- .
$str
››. E
)
››E F
;
››F G
if
ﬂﬂ 
(
ﬂﬂ 
(
ﬂﬂ 
b
ﬂﬂ 
!=
ﬂﬂ 
null
ﬂﬂ 
)
ﬂﬂ 
&&
ﬂﬂ  "
(
ﬂﬂ# $
b
ﬂﬂ$ %
.
ﬂﬂ% &
Length
ﬂﬂ& ,
>
ﬂﬂ- .
$num
ﬂﬂ/ 0
)
ﬂﬂ0 1
)
ﬂﬂ1 2
{
‡‡ 
return
·· 
Convert
·· "
.
··" #
	ToBoolean
··# ,
(
··, -
b
··- .
)
··. /
;
··/ 0
}
‚‚ 
return
‰‰ 
false
‰‰ 
;
‰‰ 
}
ÂÂ 
set
ÊÊ 
{
ÊÊ  
SetExpandoProperty
ÊÊ $
(
ÊÊ$ %
$str
ÊÊ% <
,
ÊÊ< =
value
ÊÊ> C
.
ÊÊC D
ToString
ÊÊD L
(
ÊÊL M
)
ÊÊM N
)
ÊÊN O
;
ÊÊO P
}
ÊÊQ R
}
ÁÁ 	
public
ÍÍ 
string
ÍÍ "
GoogleAnalyticsEmail
ÍÍ *
{
ÎÎ 	
get
ÏÏ 
{
ÌÌ 
string
ÓÓ 
result
ÓÓ 
=
ÓÓ  
GetExpandoProperty
ÓÓ  2
(
ÓÓ2 3
$str
ÓÓ3 I
)
ÓÓI J
;
ÓÓJ K
if
ÔÔ 
(
ÔÔ 
result
ÔÔ 
!=
ÔÔ 
null
ÔÔ "
)
ÔÔ" #
{
ÔÔ$ %
return
ÔÔ& ,
result
ÔÔ- 3
;
ÔÔ3 4
}
ÔÔ5 6
return
 
string
 
.
 
Empty
 #
;
# $
}
ÒÒ 
set
ÚÚ 
{
ÚÚ  
SetExpandoProperty
ÚÚ $
(
ÚÚ$ %
$str
ÚÚ% ;
,
ÚÚ; <
value
ÚÚ= B
)
ÚÚB C
;
ÚÚC D
}
ÚÚE F
}
ÛÛ 	
public
ıı 
string
ıı %
GoogleAnalyticsPassword
ıı -
{
ˆˆ 	
get
˜˜ 
{
¯¯ 
string
˘˘ 
result
˘˘ 
=
˘˘  
GetExpandoProperty
˘˘  2
(
˘˘2 3
$str
˘˘3 L
)
˘˘L M
;
˘˘M N
if
˙˙ 
(
˙˙ 
result
˙˙ 
!=
˙˙ 
null
˙˙ "
)
˙˙" #
{
˙˙$ %
return
˙˙& ,
result
˙˙- 3
;
˙˙3 4
}
˙˙5 6
return
˚˚ 
string
˚˚ 
.
˚˚ 
Empty
˚˚ #
;
˚˚# $
}
¸¸ 
set
˝˝ 
{
˝˝  
SetExpandoProperty
˝˝ $
(
˝˝$ %
$str
˝˝% >
,
˝˝> ?
value
˝˝@ E
)
˝˝E F
;
˝˝F G
}
˝˝H I
}
˛˛ 	
public
ÄÄ 
string
ÄÄ &
GoogleAnalyticsProfileId
ÄÄ .
{
ÅÅ 	
get
ÇÇ 
{
ÉÉ 
string
ÑÑ 
result
ÑÑ 
=
ÑÑ  
GetExpandoProperty
ÑÑ  2
(
ÑÑ2 3
$str
ÑÑ3 M
)
ÑÑM N
;
ÑÑN O
if
ÖÖ 
(
ÖÖ 
result
ÖÖ 
!=
ÖÖ 
null
ÖÖ "
)
ÖÖ" #
{
ÖÖ$ %
return
ÖÖ& ,
result
ÖÖ- 3
;
ÖÖ3 4
}
ÖÖ5 6
return
ÜÜ 
string
ÜÜ 
.
ÜÜ 
Empty
ÜÜ #
;
ÜÜ# $
}
áá 
set
àà 
{
àà  
SetExpandoProperty
àà $
(
àà$ %
$str
àà% ?
,
àà? @
value
ààA F
)
ààF G
;
ààG H
}
ààI J
}
ââ 	
public
ãã 
string
ãã %
GoogleAnalyticsSettings
ãã -
{
åå 	
get
çç 
{
éé 
string
èè 
result
èè 
=
èè  
GetExpandoProperty
èè  2
(
èè2 3
$str
èè3 L
)
èèL M
;
èèM N
if
êê 
(
êê 
result
êê 
!=
êê 
null
êê "
)
êê" #
{
êê$ %
return
êê& ,
result
êê- 3
;
êê3 4
}
êê5 6
return
ëë 
string
ëë 
.
ëë 
Empty
ëë #
;
ëë# $
}
íí 
set
ìì 
{
ìì  
SetExpandoProperty
ìì $
(
ìì$ %
$str
ìì% >
,
ìì> ?
value
ìì@ E
)
ììE F
;
ììF G
}
ììH I
}
îî 	
public
ññ 
string
ññ -
RolesThatCanViewGoogleAnalytics
ññ 5
{
óó 	
get
òò 
{
ôô 
string
öö 
result
öö 
=
öö  
GetExpandoProperty
öö  2
(
öö2 3
$str
öö3 T
)
ööT U
;
ööU V
if
õõ 
(
õõ 
result
õõ 
!=
õõ 
null
õõ "
)
õõ" #
{
õõ$ %
return
õõ& ,
result
õõ- 3
;
õõ3 4
}
õõ5 6
return
úú 
$str
úú 7
;
úú7 8
}
ùù 
set
ûû 
{
ûû  
SetExpandoProperty
ûû $
(
ûû$ %
$str
ûû% F
,
ûûF G
value
ûûH M
)
ûûM N
;
ûûN O
}
ûûP Q
}
üü 	
public
°° 
string
°° 4
&RolesThatCanEditGoogleAnalyticsQueries
°° <
{
¢¢ 	
get
££ 
{
§§ 
string
•• 
result
•• 
=
••  
GetExpandoProperty
••  2
(
••2 3
$str
••3 [
)
••[ \
;
••\ ]
if
¶¶ 
(
¶¶ 
result
¶¶ 
!=
¶¶ 
null
¶¶ "
)
¶¶" #
{
¶¶$ %
return
¶¶& ,
result
¶¶- 3
;
¶¶3 4
}
¶¶5 6
return
ßß 
$str
ßß 7
;
ßß7 8
}
®® 
set
©© 
{
©©  
SetExpandoProperty
©© $
(
©©$ %
$str
©©% M
,
©©M N
value
©©O T
)
©©T U
;
©©U V
}
©©W X
}
™™ 	
public
ØØ 
bool
ØØ (
RequireApprovalBeforeLogin
ØØ .
{
∞∞ 	
get
±± 
{
≤≤ 
string
≥≥ 
b
≥≥ 
=
≥≥  
GetExpandoProperty
≥≥ -
(
≥≥- .
$str
≥≥. J
)
≥≥J K
;
≥≥K L
if
¥¥ 
(
¥¥ 
!
¥¥ 
string
¥¥ 
.
¥¥ 
IsNullOrEmpty
¥¥ )
(
¥¥) *
b
¥¥* +
)
¥¥+ ,
)
¥¥, -
{
µµ 
return
∂∂ 
Convert
∂∂ "
.
∂∂" #
	ToBoolean
∂∂# ,
(
∂∂, -
b
∂∂- .
)
∂∂. /
;
∂∂/ 0
}
∑∑ 
return
∏∏ 
false
∏∏ 
;
∏∏ 
}
ππ 
set
∫∫ 
{
∫∫  
SetExpandoProperty
∫∫ $
(
∫∫$ %
$str
∫∫% A
,
∫∫A B
value
∫∫C H
.
∫∫H I
ToString
∫∫I Q
(
∫∫Q R
)
∫∫R S
)
∫∫S T
;
∫∫T U
}
∫∫V W
}
ªª 	
public
–– 
string
–– 6
(EmailAdressesForUserApprovalNotification
–– >
{
—— 	
get
““ 
{
”” 
string
‘‘ 
result
‘‘ 
=
‘‘  
GetExpandoProperty
‘‘  2
(
‘‘2 3
$str
‘‘3 ]
)
‘‘] ^
;
‘‘^ _
if
’’ 
(
’’ 
result
’’ 
!=
’’ 
null
’’ "
)
’’" #
{
’’$ %
return
’’& ,
result
’’- 3
;
’’3 4
}
’’5 6
return
÷÷ 
string
÷÷ 
.
÷÷ 
Empty
÷÷ #
;
÷÷# $
}
◊◊ 
set
ÿÿ 
{
ÿÿ  
SetExpandoProperty
ÿÿ $
(
ÿÿ$ %
$str
ÿÿ% O
,
ÿÿO P
value
ÿÿQ V
)
ÿÿV W
;
ÿÿW X
}
ÿÿY Z
}
ŸŸ 	
public
›› 
string
›› )
RolesThatCanApproveNewUsers
›› 1
{
ﬁﬁ 	
get
ﬂﬂ 
{
‡‡ 
string
·· 
result
·· 
=
··  
GetExpandoProperty
··  2
(
··2 3
$str
··3 P
)
··P Q
;
··Q R
if
‚‚ 
(
‚‚ 
result
‚‚ 
!=
‚‚ 
null
‚‚ "
)
‚‚" #
{
‚‚$ %
return
‚‚& ,
result
‚‚- 3
;
‚‚3 4
}
‚‚5 6
return
„„ 
string
„„ 
.
„„ 
Empty
„„ #
;
„„# $
}
‰‰ 
set
ÂÂ 
{
ÂÂ  
SetExpandoProperty
ÂÂ $
(
ÂÂ$ %
$str
ÂÂ% B
,
ÂÂB C
value
ÂÂD I
)
ÂÂI J
;
ÂÂJ K
}
ÂÂL M
}
ÊÊ 	
public
ËË 
string
ËË "
PasswordRegexWarning
ËË *
{
ÈÈ 	
get
ÍÍ 
{
ÎÎ 
string
ÏÏ 
result
ÏÏ 
=
ÏÏ  
GetExpandoProperty
ÏÏ  2
(
ÏÏ2 3
$str
ÏÏ3 I
)
ÏÏI J
;
ÏÏJ K
if
ÌÌ 
(
ÌÌ 
result
ÌÌ 
!=
ÌÌ 
null
ÌÌ "
)
ÌÌ" #
{
ÌÌ$ %
return
ÌÌ& ,
result
ÌÌ- 3
;
ÌÌ3 4
}
ÌÌ5 6
return
ÓÓ 
string
ÓÓ 
.
ÓÓ 
Empty
ÓÓ #
;
ÓÓ# $
}
ÔÔ 
set
 
{
  
SetExpandoProperty
 $
(
$ %
$str
% ;
,
; <
value
= B
)
B C
;
C D
}
E F
}
ÒÒ 	
public
ıı 
string
ıı #
RegistrationAgreement
ıı +
{
ˆˆ 	
get
˜˜ 
{
¯¯ 
string
˘˘ 
result
˘˘ 
=
˘˘  
GetExpandoProperty
˘˘  2
(
˘˘2 3
$str
˘˘3 J
)
˘˘J K
;
˘˘K L
if
˙˙ 
(
˙˙ 
result
˙˙ 
!=
˙˙ 
null
˙˙ "
)
˙˙" #
{
˙˙$ %
return
˙˙& ,
result
˙˙- 3
;
˙˙3 4
}
˙˙5 6
return
˚˚ 
string
˚˚ 
.
˚˚ 
Empty
˚˚ #
;
˚˚# $
}
¸¸ 
set
˝˝ 
{
˝˝  
SetExpandoProperty
˝˝ $
(
˝˝$ %
$str
˝˝% <
,
˝˝< =
value
˝˝> C
)
˝˝C D
;
˝˝D E
}
˝˝F G
}
˛˛ 	
public
ÄÄ 
string
ÄÄ "
RegistrationPreamble
ÄÄ *
{
ÅÅ 	
get
ÇÇ 
{
ÉÉ 
string
ÑÑ 
result
ÑÑ 
=
ÑÑ  
GetExpandoProperty
ÑÑ  2
(
ÑÑ2 3
$str
ÑÑ3 I
)
ÑÑI J
;
ÑÑJ K
if
ÖÖ 
(
ÖÖ 
result
ÖÖ 
!=
ÖÖ 
null
ÖÖ "
)
ÖÖ" #
{
ÖÖ$ %
return
ÖÖ& ,
result
ÖÖ- 3
;
ÖÖ3 4
}
ÖÖ5 6
return
ÜÜ 
string
ÜÜ 
.
ÜÜ 
Empty
ÜÜ #
;
ÜÜ# $
}
áá 
set
àà 
{
àà  
SetExpandoProperty
àà $
(
àà$ %
$str
àà% ;
,
àà; <
value
àà= B
)
ààB C
;
ààC D
}
ààE F
}
ââ 	
public
ãã 
string
ãã 
LoginInfoTop
ãã "
{
åå 	
get
çç 
{
éé 
string
èè 
result
èè 
=
èè  
GetExpandoProperty
èè  2
(
èè2 3
$str
èè3 A
)
èèA B
;
èèB C
if
êê 
(
êê 
result
êê 
!=
êê 
null
êê "
)
êê" #
{
êê$ %
return
êê& ,
result
êê- 3
;
êê3 4
}
êê5 6
return
ëë 
string
ëë 
.
ëë 
Empty
ëë #
;
ëë# $
}
íí 
set
ìì 
{
ìì  
SetExpandoProperty
ìì $
(
ìì$ %
$str
ìì% 3
,
ìì3 4
value
ìì5 :
)
ìì: ;
;
ìì; <
}
ìì= >
}
îî 	
public
ññ 
string
ññ 
LoginInfoBottom
ññ %
{
óó 	
get
òò 
{
ôô 
string
öö 
result
öö 
=
öö  
GetExpandoProperty
öö  2
(
öö2 3
$str
öö3 D
)
ööD E
;
ööE F
if
õõ 
(
õõ 
result
õõ 
!=
õõ 
null
õõ "
)
õõ" #
{
õõ$ %
return
õõ& ,
result
õõ- 3
;
õõ3 4
}
õõ5 6
return
úú 
string
úú 
.
úú 
Empty
úú #
;
úú# $
}
ùù 
set
ûû 
{
ûû  
SetExpandoProperty
ûû $
(
ûû$ %
$str
ûû% 6
,
ûû6 7
value
ûû8 =
)
ûû= >
;
ûû> ?
}
ûû@ A
}
üü 	
public
°° 
bool
°° 
SiteIsClosed
°°  
{
¢¢ 	
get
££ 
{
§§ 
string
•• 
sBool
•• 
=
••  
GetExpandoProperty
•• 1
(
••1 2
$str
••2 @
)
••@ A
;
••A B
if
ßß 
(
ßß 
(
ßß 
sBool
ßß 
!=
ßß 
null
ßß "
)
ßß" #
&&
ßß$ &
(
ßß' (
sBool
ßß( -
.
ßß- .
Length
ßß. 4
>
ßß5 6
$num
ßß7 8
)
ßß8 9
)
ßß9 :
{
®® 
return
©© 
Convert
©© "
.
©©" #
	ToBoolean
©©# ,
(
©©, -
sBool
©©- 2
)
©©2 3
;
©©3 4
}
™™ 
return
¨¨ 
false
¨¨ 
;
¨¨ 
}
≠≠ 
set
ÆÆ 
{
ÆÆ  
SetExpandoProperty
ÆÆ $
(
ÆÆ$ %
$str
ÆÆ% 3
,
ÆÆ3 4
value
ÆÆ5 :
.
ÆÆ: ;
ToString
ÆÆ; C
(
ÆÆC D
)
ÆÆD E
)
ÆÆE F
;
ÆÆF G
}
ÆÆH I
}
ØØ 	
public
±± 
string
±± !
SiteIsClosedMessage
±± )
{
≤≤ 	
get
≥≥ 
{
¥¥ 
string
µµ 
result
µµ 
=
µµ  
GetExpandoProperty
µµ  2
(
µµ2 3
$str
µµ3 H
)
µµH I
;
µµI J
if
∂∂ 
(
∂∂ 
result
∂∂ 
!=
∂∂ 
null
∂∂ "
)
∂∂" #
{
∂∂$ %
return
∂∂& ,
result
∂∂- 3
;
∂∂3 4
}
∂∂5 6
return
∑∑ 
string
∑∑ 
.
∑∑ 
Empty
∑∑ #
;
∑∑# $
}
∏∏ 
set
ππ 
{
ππ  
SetExpandoProperty
ππ $
(
ππ$ %
$str
ππ% :
,
ππ: ;
value
ππ< A
)
ππA B
;
ππB C
}
ππD E
}
∫∫ 	
public
ºº 
string
ºº	 
BadWordList
ºº 
{
ΩΩ 
get
ææ 
{
øø 
string
¿¿ 

result
¿¿ 
=
¿¿  
GetExpandoProperty
¿¿ &
(
¿¿& '
$str
¿¿' 4
)
¿¿4 5
;
¿¿5 6
if
¡¡ 
(
¡¡ 
result
¡¡ 
!=
¡¡ 
null
¡¡ 
)
¡¡ 
{
¡¡ 
return
¡¡  
result
¡¡! '
;
¡¡' (
}
¡¡) *
return
¬¬ 

string
¬¬ 
.
¬¬ 
Empty
¬¬ 
;
¬¬ 
}
√√ 
set
ƒƒ 
{
ƒƒ  
SetExpandoProperty
ƒƒ	 
(
ƒƒ 
$str
ƒƒ )
,
ƒƒ) *
value
ƒƒ+ 0
)
ƒƒ0 1
;
ƒƒ1 2
}
ƒƒ3 4
}
≈≈ 
public
…… 
bool
……	 $
BadWordCheckingEnabled
…… $
{
   
get
ÀÀ 
{
ÃÃ 
if
ÕÕ 
(
ÕÕ 
string
ÕÕ 
.
ÕÕ  
IsNullOrWhiteSpace
ÕÕ !
(
ÕÕ! "
BadWordList
ÕÕ" -
)
ÕÕ- .
)
ÕÕ. /
return
ÕÕ0 6
false
ÕÕ7 <
;
ÕÕ< =
return
ŒŒ 

true
ŒŒ 
;
ŒŒ 
}
œœ 
}
–– 
public
—— 
bool
——	 %
BadWordCheckingEnforced
—— %
{
““ 
get
”” 
{
‘‘ 
string
’’ 

sBool
’’ 
=
’’  
GetExpandoProperty
’’ %
(
’’% &
$str
’’& <
)
’’< =
;
’’= >
if
◊◊ 
(
◊◊ 
(
◊◊ 	
sBool
◊◊	 
!=
◊◊ 
null
◊◊ 
)
◊◊ 
&&
◊◊ 
(
◊◊ 
sBool
◊◊ !
.
◊◊! "
Length
◊◊" (
>
◊◊) *
$num
◊◊+ ,
)
◊◊, -
)
◊◊- .
{
ÿÿ 
return
ŸŸ 
Convert
ŸŸ 
.
ŸŸ 
	ToBoolean
ŸŸ 
(
ŸŸ 
sBool
ŸŸ #
)
ŸŸ# $
;
ŸŸ$ %
}
⁄⁄ 
return
‹‹ 

false
‹‹ 
;
‹‹ 
}
›› 
set
ﬁﬁ 
{
ﬁﬁ  
SetExpandoProperty
ﬁﬁ	 
(
ﬁﬁ 
$str
ﬁﬁ 2
,
ﬁﬁ2 3
value
ﬁﬁ4 9
.
ﬁﬁ9 :
ToString
ﬁﬁ: B
(
ﬁﬁB C
)
ﬁﬁC D
)
ﬁﬁD E
;
ﬁﬁE F
}
ﬁﬁG H
}
ﬂﬂ 
public
·· 
int
·· 
HomePageOverride
·· #
{
··$ %
get
··& )
;
··) *
set
··+ .
;
··. /
}
··0 1
private
ÁÁ 
void
ÁÁ 
GetSiteSettings
ÁÁ $
(
ÁÁ$ %
Guid
ÁÁ% )
siteGuid
ÁÁ* 2
)
ÁÁ2 3
{
ËË 	
using
ÈÈ 
(
ÈÈ 
IDataReader
ÈÈ 
result
ÈÈ %
=
ÈÈ& '
DBSiteSettings
ÈÈ( 6
.
ÈÈ6 7
GetSite
ÈÈ7 >
(
ÈÈ> ?
siteGuid
ÈÈ? G
)
ÈÈG H
)
ÈÈH I
{
ÍÍ 
LoadSiteSettings
ÎÎ  
(
ÎÎ  !
result
ÎÎ! '
)
ÎÎ' (
;
ÎÎ( )
}
ÏÏ 
}
ÌÌ 	
private
ÔÔ 	
void
ÔÔ
 
GetSiteSettings
ÔÔ 
(
ÔÔ 
string
ÔÔ %
hostName
ÔÔ& .
)
ÔÔ. /
{
 
using
ÒÒ 
(
ÒÒ 
IDataReader
ÒÒ 
result
ÒÒ %
=
ÒÒ& '
DBSiteSettings
ÒÒ( 6
.
ÒÒ6 7
GetSite
ÒÒ7 >
(
ÒÒ> ?
hostName
ÒÒ? G
)
ÒÒG H
)
ÒÒH I
{
ÚÚ 
LoadSiteSettings
ÛÛ  
(
ÛÛ  !
result
ÛÛ! '
)
ÛÛ' (
;
ÛÛ( )
}
ÙÙ 
}
ıı 
private
˜˜ 	
void
˜˜
 
GetSiteSettings
˜˜ 
(
˜˜ 
int
˜˜ "
siteId
˜˜# )
)
˜˜) *
{
¯¯ 
using
˘˘ 
(
˘˘ 
IDataReader
˘˘ 
result
˘˘ %
=
˘˘& '
DBSiteSettings
˘˘( 6
.
˘˘6 7
GetSite
˘˘7 >
(
˘˘> ?
siteId
˘˘? E
)
˘˘E F
)
˘˘F G
{
˙˙ 
LoadSiteSettings
˚˚  
(
˚˚  !
result
˚˚! '
)
˚˚' (
;
˚˚( )
}
¸¸ 
}
˝˝ 
private
ÄÄ 
void
ÄÄ 
LoadSiteSettings
ÄÄ %
(
ÄÄ% &
IDataReader
ÄÄ& 1
reader
ÄÄ2 8
)
ÄÄ8 9
{
ÅÅ 	
if
ÇÇ 
(
ÇÇ 
reader
ÇÇ 
==
ÇÇ 
null
ÇÇ 
)
ÇÇ 
return
ÇÇ  &
;
ÇÇ& '
if
ÑÑ 
(
ÑÑ 
reader
ÑÑ 
.
ÑÑ 
Read
ÑÑ 
(
ÑÑ 
)
ÑÑ 
)
ÑÑ 
{
ÖÖ 
this
ÜÜ 
.
ÜÜ 
siteID
ÜÜ 
=
ÜÜ 
Convert
ÜÜ %
.
ÜÜ% &
ToInt32
ÜÜ& -
(
ÜÜ- .
reader
ÜÜ. 4
[
ÜÜ4 5
$str
ÜÜ5 =
]
ÜÜ= >
)
ÜÜ> ?
;
ÜÜ? @
this
áá 
.
áá 
siteGuid
áá 
=
áá 
new
áá  #
Guid
áá$ (
(
áá( )
reader
áá) /
[
áá/ 0
$str
áá0 :
]
áá: ;
.
áá; <
ToString
áá< D
(
ááD E
)
ááE F
)
ááF G
;
ááG H
this
àà 
.
àà 
siteName
àà 
=
àà 
reader
àà  &
[
àà& '
$str
àà' 1
]
àà1 2
.
àà2 3
ToString
àà3 ;
(
àà; <
)
àà< =
;
àà= >
this
ââ 
.
ââ 
skin
ââ 
=
ââ 
reader
ââ "
[
ââ" #
$str
ââ# )
]
ââ) *
.
ââ* +
ToString
ââ+ 3
(
ââ3 4
)
ââ4 5
;
ââ5 6
this
ää 
.
ää 
logo
ää 
=
ää 
reader
ää "
[
ää" #
$str
ää# )
]
ää) *
.
ää* +
ToString
ää+ 3
(
ää3 4
)
ää4 5
;
ää5 6
this
ãã 
.
ãã 
icon
ãã 
=
ãã 
reader
ãã "
[
ãã" #
$str
ãã# )
]
ãã) *
.
ãã* +
ToString
ãã+ 3
(
ãã3 4
)
ãã4 5
;
ãã5 6
string
åå 
editorProvider
åå %
=
åå& '
reader
åå( .
[
åå. /
$str
åå/ ?
]
åå? @
.
åå@ A
ToString
ååA I
(
ååI J
)
ååJ K
.
ååK L
Trim
ååL P
(
ååP Q
)
ååQ R
;
ååR S
if
çç 
(
çç 
editorProvider
çç "
.
çç" #
Length
çç# )
>
çç* +
$num
çç, -
)
çç- .
{
éé 
this
èè 
.
èè  
editorProviderName
èè +
=
èè, -
editorProvider
èè. <
;
èè< =
}
êê 
if
íí 
(
íí 
reader
íí 
[
íí 
$str
íí '
]
íí' (
!=
íí) +
DBNull
íí, 2
.
íí2 3
Value
íí3 8
)
íí8 9
{
ìì 
try
îî 
{
ïï 
this
óó 
.
óó 

editorSkin
óó '
=
óó( )
(
òò 
ContentEditorSkin
òò .
)
òò. /
Enum
òò/ 3
.
òò3 4
Parse
òò4 9
(
òò9 :
typeof
òò: @
(
òò@ A
ContentEditorSkin
òòA R
)
òòR S
,
òòS T
reader
ôô: @
[
ôô@ A
$str
ôôA M
]
ôôM N
.
ôôN O
ToString
ôôO W
(
ôôW X
)
ôôX Y
)
ôôY Z
;
ôôZ [
}
õõ 
catch
úú 
(
úú 
ArgumentException
úú ,
)
úú, -
{
ùù 
}
ùù 
}
ûû 
this
°° 
.
°° !
enableMyPageFeature
°° (
=
°°) *
Convert
°°+ 2
.
°°2 3
	ToBoolean
°°3 <
(
°°< =
reader
°°= C
[
°°C D
$str
°°D Y
]
°°Y Z
)
°°Z [
;
°°[ \
this
¢¢ 
.
¢¢ 
allowUserSkins
¢¢ #
=
¢¢$ %
Convert
¢¢& -
.
¢¢- .
	ToBoolean
¢¢. 7
(
¢¢7 8
reader
¢¢8 >
[
¢¢> ?
$str
¢¢? O
]
¢¢O P
)
¢¢P Q
;
¢¢Q R
this
££ 
.
££ 
allowPageSkins
££ #
=
££$ %
Convert
££& -
.
££- .
	ToBoolean
££. 7
(
££7 8
reader
££8 >
[
££> ?
$str
££? O
]
££O P
)
££P Q
;
££Q R
this
§§ 
.
§§ "
allowHideMenuOnPages
§§ )
=
§§* +
Convert
§§, 3
.
§§3 4
	ToBoolean
§§4 =
(
§§= >
reader
§§> D
[
§§D E
$str
§§E [
]
§§[ \
)
§§\ ]
;
§§] ^
this
•• 
.
•• "
allowNewRegistration
•• )
=
••* +
Convert
••, 3
.
••3 4
	ToBoolean
••4 =
(
••= >
reader
••> D
[
••D E
$str
••E [
]
••[ \
)
••\ ]
;
••] ^
this
¶¶ 
.
¶¶ #
useSecureRegistration
¶¶ *
=
¶¶+ ,
Convert
¶¶- 4
.
¶¶4 5
	ToBoolean
¶¶5 >
(
¶¶> ?
reader
¶¶? E
[
¶¶E F
$str
¶¶F ]
]
¶¶] ^
)
¶¶^ _
;
¶¶_ `
this
ßß 
.
ßß 
useEmailForLogin
ßß %
=
ßß& '
Convert
ßß( /
.
ßß/ 0
	ToBoolean
ßß0 9
(
ßß9 :
reader
ßß: @
[
ßß@ A
$str
ßßA S
]
ßßS T
)
ßßT U
;
ßßU V
this
®® 
.
®® 
reallyDeleteUsers
®® &
=
®®' (
Convert
®®) 0
.
®®0 1
	ToBoolean
®®1 :
(
®®: ;
reader
®®; A
[
®®A B
$str
®®B U
]
®®U V
)
®®V W
;
®®W X
this
©© 
.
©© 
useSSLOnAllPages
©© %
=
©©& '
Convert
©©( /
.
©©/ 0
	ToBoolean
©©0 9
(
©©9 :
reader
©©: @
[
©©@ A
$str
©©A S
]
©©S T
)
©©T U
;
©©U V
this
™™ 
.
™™ 
isServerAdminSite
™™ &
=
™™' (
Convert
™™) 0
.
™™0 1
	ToBoolean
™™1 :
(
™™: ;
reader
™™; A
[
™™A B
$str
™™B U
]
™™U V
)
™™V W
;
™™W X
this
≥≥ 
.
≥≥ 
useLdapAuth
≥≥  
=
≥≥! "
Convert
≥≥# *
.
≥≥* +
	ToBoolean
≥≥+ 4
(
≥≥4 5
reader
≥≥5 ;
[
≥≥; <
$str
≥≥< I
]
≥≥I J
)
≥≥J K
;
≥≥K L
this
µµ 
.
µµ ,
autoCreateLDAPUserOnFirstLogin
µµ 3
=
µµ4 5
Convert
µµ6 =
.
µµ= >
	ToBoolean
µµ> G
(
µµG H
reader
µµH N
[
µµN O
$str
µµO o
]
µµo p
)
µµp q
;
µµq r
this
∑∑ 
.
∑∑ 
ldapSettings
∑∑ !
.
∑∑! "
Server
∑∑" (
=
∑∑) *
reader
∑∑+ 1
[
∑∑1 2
$str
∑∑2 >
]
∑∑> ?
.
∑∑? @
ToString
∑∑@ H
(
∑∑H I
)
∑∑I J
;
∑∑J K
if
∏∏ 
(
∏∏ 
reader
∏∏ 
[
∏∏ 
$str
∏∏ %
]
∏∏% &
!=
∏∏' )
DBNull
∏∏* 0
.
∏∏0 1
Value
∏∏1 6
)
∏∏6 7
{
ππ 
this
∫∫ 
.
∫∫ 
ldapSettings
∫∫ %
.
∫∫% &
Port
∫∫& *
=
∫∫+ ,
Convert
∫∫- 4
.
∫∫4 5
ToInt32
∫∫5 <
(
∫∫< =
reader
∫∫= C
[
∫∫C D
$str
∫∫D N
]
∫∫N O
)
∫∫O P
;
∫∫P Q
}
ªª 
this
ºº 
.
ºº 
ldapSettings
ºº !
.
ºº! "
Domain
ºº" (
=
ºº) *
reader
ºº+ 1
[
ºº1 2
$str
ºº2 >
]
ºº> ?
.
ºº? @
ToString
ºº@ H
(
ººH I
)
ººI J
;
ººJ K
this
ΩΩ 
.
ΩΩ 
ldapSettings
ΩΩ !
.
ΩΩ! "
RootDN
ΩΩ" (
=
ΩΩ) *
reader
ΩΩ+ 1
[
ΩΩ1 2
$str
ΩΩ2 >
]
ΩΩ> ?
.
ΩΩ? @
ToString
ΩΩ@ H
(
ΩΩH I
)
ΩΩI J
;
ΩΩJ K
this
ææ 
.
ææ 
ldapSettings
ææ !
.
ææ! "
	UserDNKey
ææ" +
=
ææ, -
reader
ææ. 4
[
ææ4 5
$str
ææ5 D
]
ææD E
.
ææE F
ToString
ææF N
(
ææN O
)
ææO P
;
ææP Q
this
–– 
.
–– $
allowPasswordRetrieval
–– +
=
––, -
Convert
––. 5
.
––5 6
	ToBoolean
––6 ?
(
––? @
reader
––@ F
[
––F G
$str
––G _
]
––_ `
)
––` a
;
––a b
this
—— 
.
——  
allowPasswordReset
—— '
=
——( )
Convert
——* 1
.
——1 2
	ToBoolean
——2 ;
(
——; <
reader
——< B
[
——B C
$str
——C W
]
——W X
)
——X Y
;
——Y Z
this
““ 
.
““ '
requiresQuestionAndAnswer
““ .
=
““/ 0
Convert
““1 8
.
““8 9
	ToBoolean
““9 B
(
““B C
reader
““C I
[
““I J
$str
““J e
]
““e f
)
““f g
;
““g h
this
”” 
.
”” !
requiresUniqueEmail
”” (
=
””) *
Convert
””+ 2
.
””2 3
	ToBoolean
””3 <
(
””< =
reader
””= C
[
””C D
$str
””D Y
]
””Y Z
)
””Z [
;
””[ \
this
÷÷ 
.
÷÷ (
maxInvalidPasswordAttempts
÷÷ /
=
÷÷0 1
Convert
÷÷2 9
.
÷÷9 :
ToInt32
÷÷: A
(
÷÷A B
reader
÷÷B H
[
÷÷H I
$str
÷÷I e
]
÷÷e f
)
÷÷f g
;
÷÷g h
this
◊◊ 
.
◊◊ *
passwordAttemptWindowMinutes
◊◊ 1
=
◊◊2 3
Convert
◊◊4 ;
.
◊◊; <
ToInt32
◊◊< C
(
◊◊C D
reader
◊◊D J
[
◊◊J K
$str
◊◊K i
]
◊◊i j
)
◊◊j k
;
◊◊k l
this
ÿÿ 
.
ÿÿ 
passwordFormat
ÿÿ #
=
ÿÿ$ %
Convert
ÿÿ& -
.
ÿÿ- .
ToInt32
ÿÿ. 5
(
ÿÿ5 6
reader
ÿÿ6 <
[
ÿÿ< =
$str
ÿÿ= M
]
ÿÿM N
)
ÿÿN O
;
ÿÿO P
this
⁄⁄ 
.
⁄⁄ '
minRequiredPasswordLength
⁄⁄ .
=
⁄⁄/ 0
Convert
⁄⁄1 8
.
⁄⁄8 9
ToInt32
⁄⁄9 @
(
⁄⁄@ A
reader
⁄⁄A G
[
⁄⁄G H
$str
⁄⁄H c
]
⁄⁄c d
)
⁄⁄d e
;
⁄⁄e f
this
€€ 
.
€€ 2
$minRequiredNonAlphanumericCharacters
€€ 9
=
€€: ;
Convert
€€< C
.
€€C D
ToInt32
€€D K
(
€€K L
reader
€€L R
[
€€R S
$str
€€S h
]
€€h i
)
€€i j
;
€€j k
this
‹‹ 
.
‹‹ /
!passwordStrengthRegularExpression
‹‹ 6
=
‹‹7 8
reader
‹‹9 ?
[
‹‹? @
$str
‹‹@ R
]
‹‹R S
.
‹‹S T
ToString
‹‹T \
(
‹‹\ ]
)
‹‹] ^
;
‹‹^ _
this
ﬁﬁ 
.
ﬁﬁ %
defaultEmailFromAddress
ﬁﬁ ,
=
ﬁﬁ- .
reader
ﬁﬁ/ 5
[
ﬁﬁ5 6
$str
ﬁﬁ6 O
]
ﬁﬁO P
.
ﬁﬁP Q
ToString
ﬁﬁQ Y
(
ﬁﬁY Z
)
ﬁﬁZ [
;
ﬁﬁ[ \
string
·· 
dp
·· 
=
·· 
reader
·· "
[
··" #
$str
··# 7
]
··7 8
.
··8 9
ToString
··9 A
(
··A B
)
··B C
;
··C D
if
‚‚ 
(
‚‚ 
dp
‚‚ 
.
‚‚ 
Length
‚‚ 
>
‚‚ 
$num
‚‚  !
)
‚‚! "
{
„„ 
this
‰‰ 
.
‰‰  
datePickerProvider
‰‰ +
=
‰‰, -
dp
‰‰. 0
;
‰‰0 1
}
ÂÂ 
string
ÁÁ 
cp
ÁÁ 
=
ÁÁ 
reader
ÁÁ "
[
ÁÁ" #
$str
ÁÁ# 4
]
ÁÁ4 5
.
ÁÁ5 6
ToString
ÁÁ6 >
(
ÁÁ> ?
)
ÁÁ? @
;
ÁÁ@ A
if
ËË 
(
ËË 
cp
ËË 
.
ËË 
Length
ËË 
>
ËË 
$num
ËË  !
)
ËË! "
{
ÈÈ 
this
ÍÍ 
.
ÍÍ 
captchaProvider
ÍÍ (
=
ÍÍ) *
cp
ÍÍ+ -
;
ÍÍ- .
}
ÎÎ 
this
ÌÌ 
.
ÌÌ !
recaptchaPrivateKey
ÌÌ (
=
ÌÌ) *
reader
ÌÌ+ 1
[
ÌÌ1 2
$str
ÌÌ2 G
]
ÌÌG H
.
ÌÌH I
ToString
ÌÌI Q
(
ÌÌQ R
)
ÌÌR S
;
ÌÌS T
this
ÓÓ 
.
ÓÓ  
recaptchaPublicKey
ÓÓ '
=
ÓÓ( )
reader
ÓÓ* 0
[
ÓÓ0 1
$str
ÓÓ1 E
]
ÓÓE F
.
ÓÓF G
ToString
ÓÓG O
(
ÓÓO P
)
ÓÓP Q
;
ÓÓQ R
this
ÔÔ 
.
ÔÔ 
wordpressAPIKey
ÔÔ $
=
ÔÔ% &
reader
ÔÔ' -
[
ÔÔ- .
$str
ÔÔ. ?
]
ÔÔ? @
.
ÔÔ@ A
ToString
ÔÔA I
(
ÔÔI J
)
ÔÔJ K
;
ÔÔK L
this
 
.
 
windowsLiveAppID
 %
=
& '
reader
( .
[
. /
$str
/ A
]
A B
.
B C
ToString
C K
(
K L
)
L M
;
M N
this
ÒÒ 
.
ÒÒ 
windowsLiveKey
ÒÒ #
=
ÒÒ$ %
reader
ÒÒ& ,
[
ÒÒ, -
$str
ÒÒ- =
]
ÒÒ= >
.
ÒÒ> ?
ToString
ÒÒ? G
(
ÒÒG H
)
ÒÒH I
;
ÒÒI J
this
ıı 
.
ıı 
allowOpenIDAuth
ıı $
=
ıı% &
Convert
ıı' .
.
ıı. /
	ToBoolean
ıı/ 8
(
ıı8 9
reader
ıı9 ?
[
ıı? @
$str
ıı@ Q
]
ııQ R
)
ııR S
;
ııS T
this
ˆˆ 
.
ˆˆ "
allowWindowsLiveAuth
ˆˆ )
=
ˆˆ* +
Convert
ˆˆ, 3
.
ˆˆ3 4
	ToBoolean
ˆˆ4 =
(
ˆˆ= >
reader
ˆˆ> D
[
ˆˆD E
$str
ˆˆE [
]
ˆˆ[ \
)
ˆˆ\ ]
;
ˆˆ] ^
this
˜˜ 
.
˜˜ %
allowUserFullNameChange
˜˜ ,
=
˜˜- .
Convert
˜˜/ 6
.
˜˜6 7
	ToBoolean
˜˜7 @
(
˜˜@ A
reader
˜˜A G
[
˜˜G H
$str
˜˜H a
]
˜˜a b
)
˜˜b c
;
˜˜c d
this
˙˙ 
.
˙˙ 

gmapApiKey
˙˙ 
=
˙˙  !
reader
˙˙" (
[
˙˙( )
$str
˙˙) 5
]
˙˙5 6
.
˙˙6 7
ToString
˙˙7 ?
(
˙˙? @
)
˙˙@ A
;
˙˙A B
this
˚˚ 
.
˚˚ 
apiKeyExtra1
˚˚ !
=
˚˚" #
reader
˚˚$ *
[
˚˚* +
$str
˚˚+ 9
]
˚˚9 :
.
˚˚: ;
ToString
˚˚; C
(
˚˚C D
)
˚˚D E
;
˚˚E F
this
¸¸ 
.
¸¸ 
apiKeyExtra2
¸¸ !
=
¸¸" #
reader
¸¸$ *
[
¸¸* +
$str
¸¸+ 9
]
¸¸9 :
.
¸¸: ;
ToString
¸¸; C
(
¸¸C D
)
¸¸D E
;
¸¸E F
this
˝˝ 
.
˝˝ 
apiKeyExtra3
˝˝ !
=
˝˝" #
reader
˝˝$ *
[
˝˝* +
$str
˝˝+ 9
]
˝˝9 :
.
˝˝: ;
ToString
˝˝; C
(
˝˝C D
)
˝˝D E
;
˝˝E F
this
˛˛ 
.
˛˛ 
apiKeyExtra4
˛˛ !
=
˛˛" #
reader
˛˛$ *
[
˛˛* +
$str
˛˛+ 9
]
˛˛9 :
.
˛˛: ;
ToString
˛˛; C
(
˛˛C D
)
˛˛D E
;
˛˛E F
this
ˇˇ 
.
ˇˇ 
apiKeyExtra5
ˇˇ !
=
ˇˇ" #
reader
ˇˇ$ *
[
ˇˇ* +
$str
ˇˇ+ 9
]
ˇˇ9 :
.
ˇˇ: ;
ToString
ˇˇ; C
(
ˇˇC D
)
ˇˇD E
;
ˇˇE F
if
ÄÄ 
(
ÄÄ 
reader
ÄÄ 
[
ÄÄ 
$str
ÄÄ :
]
ÄÄ: ;
!=
ÄÄ< >
DBNull
ÄÄ? E
.
ÄÄE F
Value
ÄÄF K
)
ÄÄK L
{
ÅÅ 
this
ÇÇ 
.
ÇÇ '
defaultFriendlyUrlPattern
ÇÇ 2
=
ÇÇ3 4
(
ÇÇ5 6
SiteSettings
ÇÇ6 B
.
ÇÇB C 
FriendlyUrlPattern
ÇÇC U
)
ÇÇU V
Enum
ÇÇV Z
.
ÇÇZ [
Parse
ÇÇ[ `
(
ÇÇ` a
typeof
ÇÇa g
(
ÇÇg h
SiteSettings
ÇÇh t
.
ÇÇt u!
FriendlyUrlPatternÇÇu á
)ÇÇá à
,ÇÇà â
readerÇÇä ê
[ÇÇê ë
$strÇÇë ∞
]ÇÇ∞ ±
.ÇÇ± ≤
ToStringÇÇ≤ ∫
(ÇÇ∫ ª
)ÇÇª º
)ÇÇº Ω
;ÇÇΩ æ
}
ÉÉ 
this
ÖÖ 
.
ÖÖ 
disableDbAuth
ÖÖ "
=
ÖÖ# $
Convert
ÖÖ% ,
.
ÖÖ, -
	ToBoolean
ÖÖ- 6
(
ÖÖ6 7
reader
ÖÖ7 =
[
ÖÖ= >
$str
ÖÖ> M
]
ÖÖM N
)
ÖÖN O
;
ÖÖO P
this
áá 
.
áá &
extendedPropertiesLoaded
áá -
=
áá. /
true
áá0 4
;
áá4 5
}
ââ 
}
åå 	
private
èè 
void
èè $
LoadExtendedProperties
èè +
(
èè+ ,
)
èè, -
{
êê 	
if
ëë 
(
ëë 
this
ëë 
.
ëë 
siteID
ëë 
>
ëë 
$num
ëë 
)
ëë  
{
íí 
this
ìì 
.
ìì 
GetSiteSettings
ìì $
(
ìì$ %
this
ìì% )
.
ìì) *
siteID
ìì* 0
)
ìì0 1
;
ìì1 2
}
îî 
this
ññ 
.
ññ &
extendedPropertiesLoaded
ññ )
=
ññ* +
true
ññ, 0
;
ññ0 1
}
óó 	
private
ôô 
bool
ôô 
Create
ôô 
(
ôô 
)
ôô 
{
öö 	
this
õõ 
.
õõ 
siteGuid
õõ 
=
õõ 
Guid
õõ  
.
õõ  !
NewGuid
õõ! (
(
õõ( )
)
õõ) *
;
õõ* +
int
ùù 
newID
ùù 
=
ùù 
DBSiteSettings
ùù &
.
ùù& '
Create
ùù' -
(
ùù- .
this
ûû 
.
ûû 
siteGuid
ûû 
,
ûû 
this
üü 
.
üü 
siteName
üü 
,
üü 
this
†† 
.
†† 
skin
†† 
,
†† 
this
°° 
.
°° 
logo
°° 
,
°° 
this
¢¢ 
.
¢¢ 
icon
¢¢ 
,
¢¢ 
this
££ 
.
££ "
allowNewRegistration
££ )
,
££) *
this
§§ 
.
§§ 
allowUserSkins
§§ #
,
§§# $
this
•• 
.
•• 
allowPageSkins
•• #
,
••# $
this
¶¶ 
.
¶¶ "
allowHideMenuOnPages
¶¶ )
,
¶¶) *
this
ßß 
.
ßß #
useSecureRegistration
ßß *
,
ßß* +
this
®® 
.
®® 
useSSLOnAllPages
®® %
,
®®% &
this
©© 
.
©© 
metaKeyWords
©© !
,
©©! "
this
™™ 
.
™™ 
metaDescription
™™ $
,
™™$ %
this
´´ 
.
´´ 
metaEncoding
´´ !
,
´´! "
this
¨¨ 
.
¨¨ 
metaAdditional
¨¨ #
,
¨¨# $
this
≠≠ 
.
≠≠ 
isServerAdminSite
≠≠ &
,
≠≠& '
this
ÆÆ 
.
ÆÆ 
useLdapAuth
ÆÆ  
,
ÆÆ  !
this
ØØ 
.
ØØ ,
autoCreateLDAPUserOnFirstLogin
ØØ 3
,
ØØ3 4
this
∞∞ 
.
∞∞ 
ldapSettings
∞∞ !
.
∞∞! "
Server
∞∞" (
,
∞∞( )
this
±± 
.
±± 
ldapSettings
±± !
.
±±! "
Port
±±" &
,
±±& '
this
≤≤ 
.
≤≤ 
ldapSettings
≤≤ !
.
≤≤! "
Domain
≤≤" (
,
≤≤( )
this
≥≥ 
.
≥≥ 
ldapSettings
≥≥ !
.
≥≥! "
RootDN
≥≥" (
,
≥≥( )
this
¥¥ 
.
¥¥ 
ldapSettings
¥¥ !
.
¥¥! "
	UserDNKey
¥¥" +
,
¥¥+ ,
this
µµ 
.
µµ %
allowUserFullNameChange
µµ ,
,
µµ, -
this
∂∂ 
.
∂∂ 
useEmailForLogin
∂∂ %
,
∂∂% &
this
∑∑ 
.
∑∑ 
reallyDeleteUsers
∑∑ &
,
∑∑& '
this
∏∏ 
.
∏∏ 

editorSkin
∏∏ 
.
∏∏  
ToString
∏∏  (
(
∏∏( )
)
∏∏) *
,
∏∏* +
this
ππ 
.
ππ '
defaultFriendlyUrlPattern
ππ .
.
ππ. /
ToString
ππ/ 7
(
ππ7 8
)
ππ8 9
,
ππ9 :
this
∫∫ 
.
∫∫ !
enableMyPageFeature
∫∫ (
,
∫∫( )
this
ªª 
.
ªª  
editorProviderName
ªª '
,
ªª' (
this
ºº 
.
ºº  
datePickerProvider
ºº '
,
ºº' (
this
ΩΩ 
.
ΩΩ 
captchaProvider
ΩΩ $
,
ΩΩ$ %
this
ææ 
.
ææ !
recaptchaPrivateKey
ææ (
,
ææ( )
this
øø 
.
øø  
recaptchaPublicKey
øø '
,
øø' (
this
¿¿ 
.
¿¿ 
wordpressAPIKey
¿¿ $
,
¿¿$ %
this
¡¡ 
.
¡¡ 
windowsLiveAppID
¡¡ %
,
¡¡% &
this
¬¬ 
.
¬¬ 
windowsLiveKey
¬¬ #
,
¬¬# $
this
√√ 
.
√√ 
allowOpenIDAuth
√√ $
,
√√$ %
this
ƒƒ 
.
ƒƒ "
allowWindowsLiveAuth
ƒƒ )
,
ƒƒ) *
this
≈≈ 
.
≈≈ 

gmapApiKey
≈≈ 
,
≈≈  
this
∆∆ 
.
∆∆ 
apiKeyExtra1
∆∆ !
,
∆∆! "
this
«« 
.
«« 
apiKeyExtra2
«« !
,
««! "
this
»» 
.
»» 
apiKeyExtra3
»» !
,
»»! "
this
…… 
.
…… 
apiKeyExtra4
…… !
,
……! "
this
   
.
   
apiKeyExtra5
   !
,
  ! "
this
ÀÀ 
.
ÀÀ 
disableDbAuth
ÀÀ "
)
ÀÀ" #
;
ÀÀ# $
bool
ÕÕ 
result
ÕÕ 
=
ÕÕ 
(
ÕÕ 
newID
ÕÕ  
>
ÕÕ! "
$num
ÕÕ# $
)
ÕÕ$ %
;
ÕÕ% &
if
œœ 
(
œœ 
result
œœ 
)
œœ 
{
–– 
this
—— 
.
—— 
siteID
—— 
=
—— 
newID
—— #
;
——# $
if
”” 
(
”” 
this
”” 
.
”” (
extendedPropertiesAreDirty
”” 3
)
””3 4
{
‘‘ 
bool
’’ 
updatedExtended
’’ (
=
’’) *&
UpdateExtendedProperties
’’+ C
(
’’C D
)
’’D E
;
’’E F
}
÷÷ #
EnsureExpandoSettings
ÿÿ %
(
ÿÿ% &
)
ÿÿ& '
;
ÿÿ' (#
SaveExpandoProperties
ŸŸ %
(
ŸŸ% &
)
ŸŸ& '
;
ŸŸ' ("
SiteCreatedEventArgs
€€ $
e
€€% &
=
€€' (
new
€€) ,"
SiteCreatedEventArgs
€€- A
(
€€A B
this
€€B F
)
€€F G
;
€€G H
OnSiteCreated
‹‹ 
(
‹‹ 
e
‹‹ 
)
‹‹  
;
‹‹  !
}
ﬁﬁ 
return
‡‡ 
result
‡‡ 
;
‡‡ 
}
·· 	
private
‰‰ 
bool
‰‰ 
Update
‰‰ 
(
‰‰ 
)
‰‰ 
{
ÂÂ 
bool
ÊÊ 

success
ÊÊ 
=
ÊÊ 
DBSiteSettings
ÊÊ #
.
ÊÊ# $
Update
ÊÊ$ *
(
ÊÊ* +
this
ÁÁ
 
.
ÁÁ 
siteID
ÁÁ 
,
ÁÁ 
this
ËË
 
.
ËË 
siteName
ËË 
,
ËË 
this
ÈÈ
 
.
ÈÈ 
skin
ÈÈ 
,
ÈÈ 
this
ÍÍ
 
.
ÍÍ 
logo
ÍÍ 
,
ÍÍ 
this
ÎÎ
 
.
ÎÎ 
icon
ÎÎ 
,
ÎÎ 
this
ÏÏ
 
.
ÏÏ "
allowNewRegistration
ÏÏ #
,
ÏÏ# $
this
ÌÌ
 
.
ÌÌ 
allowUserSkins
ÌÌ 
,
ÌÌ 
this
ÓÓ
 
.
ÓÓ 
allowPageSkins
ÓÓ 
,
ÓÓ 
this
ÔÔ
 
.
ÔÔ "
allowHideMenuOnPages
ÔÔ #
,
ÔÔ# $
this

 
.
 #
useSecureRegistration
 $
,
$ %
this
ÒÒ
 
.
ÒÒ 
useSSLOnAllPages
ÒÒ 
,
ÒÒ  
this
ÚÚ
 
.
ÚÚ 
metaKeyWords
ÚÚ 
,
ÚÚ 
this
ÛÛ
 
.
ÛÛ 
metaDescription
ÛÛ 
,
ÛÛ 
this
ÙÙ
 
.
ÙÙ 
metaEncoding
ÙÙ 
,
ÙÙ 
this
ıı
 
.
ıı 
metaAdditional
ıı 
,
ıı 
this
ˆˆ
 
.
ˆˆ 
isServerAdminSite
ˆˆ  
,
ˆˆ  !
this
˜˜
 
.
˜˜ 
useLdapAuth
˜˜ 
,
˜˜ 
this
¯¯
 
.
¯¯ ,
autoCreateLDAPUserOnFirstLogin
¯¯ -
,
¯¯- .
this
˘˘
 
.
˘˘ 
ldapSettings
˘˘ 
.
˘˘ 
Server
˘˘ "
,
˘˘" #
this
˙˙
 
.
˙˙ 
ldapSettings
˙˙ 
.
˙˙ 
Port
˙˙  
,
˙˙  !
this
˚˚
 
.
˚˚ 
ldapSettings
˚˚ 
.
˚˚ 
Domain
˚˚ "
,
˚˚" #
this
¸¸
 
.
¸¸ 
ldapSettings
¸¸ 
.
¸¸ 
RootDN
¸¸ "
,
¸¸" #
this
˝˝
 
.
˝˝ 
ldapSettings
˝˝ 
.
˝˝ 
	UserDNKey
˝˝ %
,
˝˝% &
this
˛˛
 
.
˛˛ %
allowUserFullNameChange
˛˛ &
,
˛˛& '
this
ˇˇ
 
.
ˇˇ 
useEmailForLogin
ˇˇ 
,
ˇˇ  
this
ÄÄ
 
.
ÄÄ 
reallyDeleteUsers
ÄÄ  
,
ÄÄ  !
this
ÅÅ
 
.
ÅÅ 

editorSkin
ÅÅ 
.
ÅÅ 
ToString
ÅÅ "
(
ÅÅ" #
)
ÅÅ# $
,
ÅÅ$ %
this
ÇÇ
 
.
ÇÇ '
defaultFriendlyUrlPattern
ÇÇ (
.
ÇÇ( )
ToString
ÇÇ) 1
(
ÇÇ1 2
)
ÇÇ2 3
,
ÇÇ3 4
this
ÉÉ
 
.
ÉÉ !
enableMyPageFeature
ÉÉ "
,
ÉÉ" #
this
ÑÑ
 
.
ÑÑ  
editorProviderName
ÑÑ !
,
ÑÑ! "
this
ÖÖ 
.
ÖÖ  
datePickerProvider
ÖÖ '
,
ÖÖ' (
this
ÜÜ 
.
ÜÜ 
captchaProvider
ÜÜ $
,
ÜÜ$ %
this
áá 
.
áá !
recaptchaPrivateKey
áá (
,
áá( )
this
àà 
.
àà  
recaptchaPublicKey
àà '
,
àà' (
this
ââ 
.
ââ 
wordpressAPIKey
ââ $
,
ââ$ %
this
ää 
.
ää 
windowsLiveAppID
ää %
,
ää% &
this
ãã 
.
ãã 
windowsLiveKey
ãã #
,
ãã# $
this
åå 
.
åå 
allowOpenIDAuth
åå $
,
åå$ %
this
çç 
.
çç "
allowWindowsLiveAuth
çç )
,
çç) *
this
éé 
.
éé 

gmapApiKey
éé 
,
éé  
this
èè 
.
èè 
apiKeyExtra1
èè !
,
èè! "
this
êê 
.
êê 
apiKeyExtra2
êê !
,
êê! "
this
ëë 
.
ëë 
apiKeyExtra3
ëë !
,
ëë! "
this
íí 
.
íí 
apiKeyExtra4
íí !
,
íí! "
this
ìì 
.
ìì 
apiKeyExtra5
ìì !
,
ìì! "
this
îî 
.
îî 
disableDbAuth
îî "
)
îî" #
;
îî# $
if
ññ 
(
ññ 
success
ññ 
&&
ññ 
this
ññ 
.
ññ  (
extendedPropertiesAreDirty
ññ  :
)
ññ: ;
{
óó 
success
òò 
=
òò &
UpdateExtendedProperties
òò 2
(
òò2 3
)
òò3 4
;
òò4 5
}
ôô 
if
õõ 
(
õõ 
success
õõ 
)
õõ 
{
úú #
SaveExpandoProperties
ùù %
(
ùù% &
)
ùù& '
;
ùù' (
}
ûû 
return
†† 
success
†† 
;
†† 
}
°° 
private
££ 
bool
££ &
UpdateExtendedProperties
££ -
(
££- .
)
££. /
{
§§ 	
bool
•• 
success
•• 
=
•• 
DBSiteSettings
•• )
.
••) *&
UpdateExtendedProperties
••* B
(
••B C
this
¶¶ 
.
¶¶ 
siteID
¶¶ 
,
¶¶ 
this
ßß 
.
ßß $
allowPasswordRetrieval
ßß +
,
ßß+ ,
this
®® 
.
®®  
allowPasswordReset
®® '
,
®®' (
this
©© 
.
©© '
requiresQuestionAndAnswer
©© .
,
©©. /
this
™™ 
.
™™ (
maxInvalidPasswordAttempts
™™ /
,
™™/ 0
this
´´ 
.
´´ *
passwordAttemptWindowMinutes
´´ 1
,
´´1 2
this
¨¨ 
.
¨¨ !
requiresUniqueEmail
¨¨ (
,
¨¨( )
this
≠≠ 
.
≠≠ 
passwordFormat
≠≠ #
,
≠≠# $
this
ÆÆ 
.
ÆÆ '
minRequiredPasswordLength
ÆÆ .
,
ÆÆ. /
this
ØØ 
.
ØØ 2
$minRequiredNonAlphanumericCharacters
ØØ 9
,
ØØ9 :
this
∞∞ 
.
∞∞ /
!passwordStrengthRegularExpression
∞∞ 6
,
∞∞6 7
this
±± 
.
±± %
defaultEmailFromAddress
±± ,
)
±±, -
;
±±- .
return
≥≥ 
success
≥≥ 
;
≥≥ 
}
¥¥ 	
public
∫∫ 
bool
∫∫	 
Save
∫∫ 
(
∫∫ 
)
∫∫ 
{
ªª 
if
ºº 
(
ºº 
this
ºº 

.
ºº
 
siteID
ºº 
>
ºº 
$num
ºº 
)
ºº 
{
ΩΩ 
return
ææ 

Update
ææ 
(
ææ 
)
ææ 
;
ææ 
}
øø 
else
¿¿ 
{
¡¡ 
return
¬¬ 

Create
¬¬ 
(
¬¬ 
)
¬¬ 
;
¬¬ 
}
√√ 
}
ƒƒ 
private
ÕÕ 
	DataTable
ÕÕ 
expandoProperties
ÕÕ +
=
ÕÕ, -
null
ÕÕ. 2
;
ÕÕ2 3
private
œœ 
void
œœ %
EnsureExpandoProperties
œœ ,
(
œœ, -
)
œœ- .
{
–– 	
if
—— 
(
—— 
expandoProperties
—— !
==
——" $
null
——% )
)
——) *
{
““ 
expandoProperties
”” !
=
””" #"
GetExpandoProperties
””$ 8
(
””8 9
siteID
””9 ?
)
””? @
;
””@ A
}
‘‘ 
}
÷÷ 	
public
ÿÿ 
void
ÿÿ %
ReloadExpandoProperties
ÿÿ +
(
ÿÿ+ ,
)
ÿÿ, -
{
ŸŸ 	
expandoProperties
⁄⁄ 
=
⁄⁄ "
GetExpandoProperties
⁄⁄  4
(
⁄⁄4 5
siteID
⁄⁄5 ;
)
⁄⁄; <
;
⁄⁄< =
}
‹‹ 	
public
ﬁﬁ 
void
ﬁﬁ #
SaveExpandoProperties
ﬁﬁ )
(
ﬁﬁ) *
)
ﬁﬁ* +
{
ﬂﬂ 	
if
‡‡ 
(
‡‡ 
expandoProperties
‡‡ !
==
‡‡" $
null
‡‡% )
)
‡‡) *
{
·· 
log
‚‚ 
.
‚‚ 
Info
‚‚ 
(
‚‚ 
$str
‚‚ W
)
‚‚W X
;
‚‚X Y
return
„„ 
;
„„ 
}
‰‰ 
foreach
ÊÊ 
(
ÊÊ 
DataRow
ÊÊ 
row
ÊÊ  
in
ÊÊ! #
expandoProperties
ÊÊ$ 5
.
ÊÊ5 6
Rows
ÊÊ6 :
)
ÊÊ: ;
{
ÁÁ 
bool
ËË 
isDirty
ËË 
=
ËË 
Convert
ËË &
.
ËË& '
	ToBoolean
ËË' 0
(
ËË0 1
row
ËË1 4
[
ËË4 5
$str
ËË5 >
]
ËË> ?
)
ËË? @
;
ËË@ A
if
ÈÈ 
(
ÈÈ 
isDirty
ÈÈ 
)
ÈÈ 
{
ÍÍ 
DBSiteSettingsEx
ÎÎ $
.
ÎÎ$ %!
SaveExpandoProperty
ÎÎ% 8
(
ÎÎ8 9
siteID
ÏÏ 
,
ÏÏ 
siteGuid
ÌÌ  
,
ÌÌ  !
row
ÓÓ 
[
ÓÓ 
$str
ÓÓ '
]
ÓÓ' (
.
ÓÓ( )
ToString
ÓÓ) 1
(
ÓÓ1 2
)
ÓÓ2 3
,
ÓÓ3 4
row
ÔÔ 
[
ÔÔ 
$str
ÔÔ %
]
ÔÔ% &
.
ÔÔ& '
ToString
ÔÔ' /
(
ÔÔ/ 0
)
ÔÔ0 1
,
ÔÔ1 2
row
 
[
 
$str
 &
]
& '
.
' (
ToString
( 0
(
0 1
)
1 2
)
2 3
;
3 4
}
ÚÚ 
}
ÙÙ 
}
ˆˆ 	
public
¯¯ 
string
¯¯  
GetExpandoProperty
¯¯ (
(
¯¯( )
string
¯¯) /
keyName
¯¯0 7
)
¯¯7 8
{
˘˘ 	%
EnsureExpandoProperties
˙˙ #
(
˙˙# $
)
˙˙$ %
;
˙˙% &
foreach
¸¸ 
(
¸¸ 
DataRow
¸¸ 
row
¸¸  
in
¸¸! #
expandoProperties
¸¸$ 5
.
¸¸5 6
Rows
¸¸6 :
)
¸¸: ;
{
˝˝ 
if
˛˛ 
(
˛˛ 
row
˛˛ 
[
˛˛ 
$str
˛˛ !
]
˛˛! "
.
˛˛" #
ToString
˛˛# +
(
˛˛+ ,
)
˛˛, -
.
˛˛- .
Trim
˛˛. 2
(
˛˛2 3
)
˛˛3 4
.
˛˛4 5
Equals
˛˛5 ;
(
˛˛; <
keyName
˛˛< C
,
˛˛C D
StringComparison
˛˛E U
.
˛˛U V
InvariantCulture
˛˛V f
)
˛˛f g
)
˛˛g h
{
ˇˇ 
return
ÄÄ 
row
ÄÄ 
[
ÄÄ 
$str
ÄÄ )
]
ÄÄ) *
.
ÄÄ* +
ToString
ÄÄ+ 3
(
ÄÄ3 4
)
ÄÄ4 5
;
ÄÄ5 6
}
ÅÅ 
}
ÉÉ 
return
ÖÖ 
null
ÖÖ 
;
ÖÖ 
}
áá 	
public
ââ 
void
ââ  
SetExpandoProperty
ââ &
(
ââ& '
string
ââ' -
keyName
ââ. 5
,
ââ5 6
string
ââ7 =
keyValue
ââ> F
)
ââF G
{
ää 	%
EnsureExpandoProperties
ãã #
(
ãã# $
)
ãã$ %
;
ãã% &
foreach
çç 
(
çç 
DataRow
çç 
row
çç  
in
çç! #
expandoProperties
çç$ 5
.
çç5 6
Rows
çç6 :
)
çç: ;
{
éé 
if
èè 
(
èè 
row
èè 
[
èè 
$str
èè !
]
èè! "
.
èè" #
ToString
èè# +
(
èè+ ,
)
èè, -
.
èè- .
Trim
èè. 2
(
èè2 3
)
èè3 4
.
èè4 5
Equals
èè5 ;
(
èè; <
keyName
èè< C
,
èèC D
StringComparison
èèE U
.
èèU V
InvariantCulture
èèV f
)
èèf g
)
èèg h
{
êê 
row
ëë 
[
ëë 
$str
ëë "
]
ëë" #
=
ëë$ %
keyValue
ëë& .
;
ëë. /
row
íí 
[
íí 
$str
íí !
]
íí! "
=
íí# $
true
íí% )
;
íí) *
break
îî 
;
îî 
}
ïï 
}
óó 
}
§§ 	
private
ßß 
static
ßß 
	DataTable
ßß  "
GetExpandoProperties
ßß! 5
(
ßß5 6
int
ßß6 9
siteId
ßß: @
)
ßß@ A
{
®® 	
if
©© 
(
©© 
siteId
©© 
==
©© 
-
©© 
$num
©© 
)
©© 
{
©© 
return
©©  &)
GetDefaultExpandoProperties
©©' B
(
©©B C
)
©©C D
;
©©D E
}
©©F G
	DataTable
´´ 
	dataTable
´´ 
=
´´  ! 
CreateExpandoTable
´´" 4
(
´´4 5
)
´´5 6
;
´´6 7
	dataTable
¨¨ 
.
¨¨ 
	TableName
¨¨ 
=
¨¨  !
$str
¨¨" 5
;
¨¨5 6
using
ØØ 
(
ØØ 
IDataReader
ØØ 
reader
ØØ %
=
ØØ& '
DBSiteSettingsEx
ØØ( 8
.
ØØ8 9#
GetSiteSettingsExList
ØØ9 N
(
ØØN O
siteId
ØØO U
)
ØØU V
)
ØØV W
{
∞∞ 
while
±± 
(
±± 
reader
±± 
.
±± 
Read
±± "
(
±±" #
)
±±# $
)
±±$ %
{
≤≤ 
DataRow
≥≥ 
row
≥≥ 
=
≥≥  !
	dataTable
≥≥" +
.
≥≥+ ,
NewRow
≥≥, 2
(
≥≥2 3
)
≥≥3 4
;
≥≥4 5
row
¥¥ 
[
¥¥ 
$str
¥¥  
]
¥¥  !
=
¥¥" #
reader
¥¥$ *
[
¥¥* +
$str
¥¥+ 3
]
¥¥3 4
;
¥¥4 5
row
µµ 
[
µµ 
$str
µµ !
]
µµ! "
=
µµ# $
reader
µµ% +
[
µµ+ ,
$str
µµ, 5
]
µµ5 6
;
µµ6 7
row
∂∂ 
[
∂∂ 
$str
∂∂ "
]
∂∂" #
=
∂∂$ %
reader
∂∂& ,
[
∂∂, -
$str
∂∂- 7
]
∂∂7 8
;
∂∂8 9
row
∑∑ 
[
∑∑ 
$str
∑∑ #
]
∑∑# $
=
∑∑% &
reader
∑∑' -
[
∑∑- .
$str
∑∑. 9
]
∑∑9 :
;
∑∑: ;
row
ππ 
[
ππ 
$str
ππ !
]
ππ! "
=
ππ# $
false
ππ% *
;
ππ* +
	dataTable
ªª 
.
ªª 
Rows
ªª "
.
ªª" #
Add
ªª# &
(
ªª& '
row
ªª' *
)
ªª* +
;
ªª+ ,
}
ΩΩ 
}
ææ 
return
¿¿ 
	dataTable
¿¿ 
;
¿¿ 
}
¡¡ 	
private
√√ 
static
√√ 
	DataTable
√√  )
GetDefaultExpandoProperties
√√! <
(
√√< =
)
√√= >
{
ƒƒ 	
	DataTable
∆∆ 
	dataTable
∆∆ 
=
∆∆  ! 
CreateExpandoTable
∆∆" 4
(
∆∆4 5
)
∆∆5 6
;
∆∆6 7
using
»» 
(
»» 
IDataReader
»» 
reader
»» %
=
»»& '
DBSiteSettingsEx
»»( 8
.
»»8 9'
GetDefaultExpandoSettings
»»9 R
(
»»R S
)
»»S T
)
»»T U
{
…… 
while
   
(
   
reader
   
.
   
Read
   "
(
  " #
)
  # $
)
  $ %
{
ÀÀ 
DataRow
ÃÃ 
row
ÃÃ 
=
ÃÃ  !
	dataTable
ÃÃ" +
.
ÃÃ+ ,
NewRow
ÃÃ, 2
(
ÃÃ2 3
)
ÃÃ3 4
;
ÃÃ4 5
row
ÕÕ 
[
ÕÕ 
$str
ÕÕ  
]
ÕÕ  !
=
ÕÕ" #
-
ÕÕ$ %
$num
ÕÕ% &
;
ÕÕ& '
row
ŒŒ 
[
ŒŒ 
$str
ŒŒ !
]
ŒŒ! "
=
ŒŒ# $
reader
ŒŒ% +
[
ŒŒ+ ,
$str
ŒŒ, 5
]
ŒŒ5 6
;
ŒŒ6 7
row
œœ 
[
œœ 
$str
œœ "
]
œœ" #
=
œœ$ %
reader
œœ& ,
[
œœ, -
$str
œœ- ;
]
œœ; <
;
œœ< =
row
–– 
[
–– 
$str
–– #
]
––# $
=
––% &
reader
––' -
[
––- .
$str
––. 9
]
––9 :
;
––: ;
row
““ 
[
““ 
$str
““ !
]
““! "
=
““# $
false
““% *
;
““* +
	dataTable
‘‘ 
.
‘‘ 
Rows
‘‘ "
.
‘‘" #
Add
‘‘# &
(
‘‘& '
row
‘‘' *
)
‘‘* +
;
‘‘+ ,
}
÷÷ 
}
◊◊ 
return
⁄⁄ 
	dataTable
⁄⁄ 
;
⁄⁄ 
}
€€ 	
private
›› 
static
›› 
	DataTable
››   
CreateExpandoTable
››! 3
(
››3 4
)
››4 5
{
ﬁﬁ 	
	DataTable
ﬂﬂ 
	dataTable
ﬂﬂ 
=
ﬂﬂ  !
new
ﬂﬂ" %
	DataTable
ﬂﬂ& /
(
ﬂﬂ/ 0
)
ﬂﬂ0 1
;
ﬂﬂ1 2
	dataTable
‡‡ 
.
‡‡ 
Columns
‡‡ 
.
‡‡ 
Add
‡‡ !
(
‡‡! "
$str
‡‡" *
,
‡‡* +
typeof
‡‡, 2
(
‡‡2 3
int
‡‡3 6
)
‡‡6 7
)
‡‡7 8
;
‡‡8 9
	dataTable
·· 
.
·· 
Columns
·· 
.
·· 
Add
·· !
(
··! "
$str
··" +
,
··+ ,
typeof
··- 3
(
··3 4
string
··4 :
)
··: ;
)
··; <
;
··< =
	dataTable
‚‚ 
.
‚‚ 
Columns
‚‚ 
.
‚‚ 
Add
‚‚ !
(
‚‚! "
$str
‚‚" ,
,
‚‚, -
typeof
‚‚. 4
(
‚‚4 5
string
‚‚5 ;
)
‚‚; <
)
‚‚< =
;
‚‚= >
	dataTable
„„ 
.
„„ 
Columns
„„ 
.
„„ 
Add
„„ !
(
„„! "
$str
„„" -
,
„„- .
typeof
„„/ 5
(
„„5 6
string
„„6 <
)
„„< =
)
„„= >
;
„„> ?
	dataTable
‰‰ 
.
‰‰ 
Columns
‰‰ 
.
‰‰ 
Add
‰‰ !
(
‰‰! "
$str
‰‰" +
,
‰‰+ ,
typeof
‰‰- 3
(
‰‰3 4
bool
‰‰4 8
)
‰‰8 9
)
‰‰9 :
;
‰‰: ;
return
ÊÊ 
	dataTable
ÊÊ 
;
ÊÊ 
}
ËË 	
public
ÒÒ 
static
ÒÒ 
string
ÒÒ 
GetDataFolder
ÒÒ *
(
ÒÒ* +
int
ÒÒ+ .
siteId
ÒÒ/ 5
)
ÒÒ5 6
{
ÚÚ 	
return
ÛÛ 
$str
ÛÛ "
+
ÛÛ# $
siteId
ÛÛ% +
.
ÛÛ+ ,
ToString
ÛÛ, 4
(
ÛÛ4 5
CultureInfo
ÛÛ5 @
.
ÛÛ@ A
InvariantCulture
ÛÛA Q
)
ÛÛQ R
+
ÛÛS T
$str
ÛÛU X
;
ÛÛX Y
}
ÙÙ 	
public
˜˜ 
static
˜˜ 
IDataReader
˜˜ !
GetSiteList
˜˜" -
(
˜˜- .
)
˜˜. /
{
¯¯ 
return
˘˘ 	
DBSiteSettings
˘˘
 
.
˘˘ 
GetSiteList
˘˘ $
(
˘˘$ %
)
˘˘% &
;
˘˘& '
}
˙˙ 
public
¸¸ 
static
¸¸ 
	DataTable
¸¸ 
GetSiteIdList
¸¸  -
(
¸¸- .
)
¸¸. /
{
˝˝ 	
	DataTable
˛˛ 
	dataTable
˛˛ 
=
˛˛  !
new
˛˛" %
	DataTable
˛˛& /
(
˛˛/ 0
)
˛˛0 1
;
˛˛1 2
	dataTable
ÄÄ 
.
ÄÄ 
Columns
ÄÄ 
.
ÄÄ 
Add
ÄÄ !
(
ÄÄ! "
$str
ÄÄ" *
,
ÄÄ* +
typeof
ÄÄ, 2
(
ÄÄ2 3
int
ÄÄ3 6
)
ÄÄ6 7
)
ÄÄ7 8
;
ÄÄ8 9
using
ÇÇ 
(
ÇÇ 
IDataReader
ÇÇ 
reader
ÇÇ %
=
ÇÇ& '
GetSiteList
ÇÇ( 3
(
ÇÇ3 4
)
ÇÇ4 5
)
ÇÇ5 6
{
ÉÉ 
while
ÑÑ 
(
ÑÑ 
reader
ÑÑ 
.
ÑÑ 
Read
ÑÑ "
(
ÑÑ" #
)
ÑÑ# $
)
ÑÑ$ %
{
ÖÖ 
DataRow
ÜÜ 
row
ÜÜ 
=
ÜÜ  !
	dataTable
ÜÜ" +
.
ÜÜ+ ,
NewRow
ÜÜ, 2
(
ÜÜ2 3
)
ÜÜ3 4
;
ÜÜ4 5
row
áá 
[
áá 
$str
áá  
]
áá  !
=
áá" #
reader
áá$ *
[
áá* +
$str
áá+ 3
]
áá3 4
;
áá4 5
	dataTable
àà 
.
àà 
Rows
àà "
.
àà" #
Add
àà# &
(
àà& '
row
àà' *
)
àà* +
;
àà+ ,
}
ââ 
}
ää 
return
çç 
	dataTable
çç 
;
çç 
}
èè 	
public
ëë 
static
ëë 
Guid
ëë 
GetRootSiteGuid
ëë *
(
ëë* +
)
ëë+ ,
{
íí 	
Guid
ìì 
result
ìì 
=
ìì 
Guid
ìì 
.
ìì 
Empty
ìì $
;
ìì$ %
using
ïï 
(
ïï 
IDataReader
ïï 
reader
ïï %
=
ïï& '
DBSiteSettings
ïï( 6
.
ïï6 7
GetSiteList
ïï7 B
(
ïïB C
)
ïïC D
)
ïïD E
{
ññ 
while
óó 
(
óó 
reader
óó 
.
óó 
Read
óó "
(
óó" #
)
óó# $
)
óó$ %
{
òò 
if
ôô 
(
ôô 
Convert
ôô 
.
ôô  
	ToBoolean
ôô  )
(
ôô) *
reader
ôô* 0
[
ôô0 1
$str
ôô1 D
]
ôôD E
)
ôôE F
)
ôôF G
{
öö 
result
õõ 
=
õõ  
new
õõ! $
Guid
õõ% )
(
õõ) *
reader
õõ* 0
[
õõ0 1
$str
õõ1 ;
]
õõ; <
.
õõ< =
ToString
õõ= E
(
õõE F
)
õõF G
)
õõG H
;
õõH I
break
úú 
;
úú 
}
ùù 
}
†† 
}
°° 
return
££ 
result
££ 
;
££ 
}
§§ 	
public
¶¶ 
static
¶¶ 
int
¶¶ 
	SiteCount
¶¶ #
(
¶¶# $
)
¶¶$ %
{
ßß 	
int
®® 

sitesFound
®® 
=
®® 
$num
®® 
;
®® 
try
™™ 
{
´´ 
using
¨¨ 	
(
¨¨
 
IDataReader
¨¨ 
reader
¨¨ 
=
¨¨ 
DBSiteSettings
¨¨  .
.
¨¨. /
GetSiteList
¨¨/ :
(
¨¨: ;
)
¨¨; <
)
¨¨< =
{
≠≠ 
if
ÆÆ 
(
ÆÆ 	
reader
ÆÆ	 
!=
ÆÆ 
null
ÆÆ 
)
ÆÆ 
{
ØØ 
while
∞∞ 
(
∞∞ 
reader
∞∞ 
.
∞∞ 
Read
∞∞ 
(
∞∞ 
)
∞∞ 
)
∞∞ 
{
±± 

sitesFound
≤≤ 
+=
≤≤ 
$num
≤≤ 
;
≤≤ 
}
¥¥ 
}
µµ 
}
∂∂ 
}
∏∏ 
catch
ππ 
(
ππ	 

System
ππ
 
.
ππ 
Data
ππ 
.
ππ 
Common
ππ 
.
ππ 
DbException
ππ (
)
ππ( )
{
ππ* +
}
ππ, -
catch
∫∫ 
(
∫∫	 
'
InvalidOperationException
∫∫
 #
)
∫∫# $
{
∫∫% &
}
∫∫' (
catch
ªª 
(
ªª	 

System
ªª
 
.
ªª 
Security
ªª 
.
ªª 
SecurityException
ªª +
)
ªª+ ,
{
ªª- .
}
ªª/ 0
catch
ºº 
(
ºº	 

System
ºº
 
.
ºº 
Net
ºº 
.
ºº 
Sockets
ºº 
.
ºº 
SocketException
ºº ,
)
ºº, -
{
ºº. /
}
ºº0 1
return
øø 

sitesFound
øø 
;
øø 
}
¬¬ 	
public
““ 
static
““ 
void
““ 

AddFeature
““ %
(
““% &
Guid
““& *
siteGuid
““+ 3
,
““3 4
Guid
““5 9
featureGuid
““: E
)
““E F
{
”” 
DBSiteSettings
‘‘ 
.
‘‘ 

AddFeature
‘‘ %
(
‘‘% &
siteGuid
‘‘& .
,
‘‘. /
featureGuid
‘‘0 ;
)
‘‘; <
;
‘‘< =
}
’’ 
public
◊◊ 
static
◊◊ 
void
◊◊ 
RemoveFeature
◊◊ (
(
◊◊( )
Guid
◊◊) -
siteGuid
◊◊. 6
,
◊◊6 7
Guid
◊◊8 <
featureGuid
◊◊= H
)
◊◊H I
{
ÿÿ 
DBSiteSettings
ŸŸ 
.
ŸŸ 
RemoveFeature
ŸŸ (
(
ŸŸ( )
siteGuid
ŸŸ) 1
,
ŸŸ1 2
featureGuid
ŸŸ3 >
)
ŸŸ> ?
;
ŸŸ? @
}
⁄⁄ 
public
‹‹ 
static
‹‹	 
IDataReader
‹‹ 
GetHostList
‹‹ '
(
‹‹' (
int
‹‹( +
siteId
‹‹, 2
)
‹‹2 3
{
›› 
return
ﬁﬁ 	
DBSiteSettings
ﬁﬁ
 
.
ﬁﬁ 
GetHostList
ﬁﬁ $
(
ﬁﬁ$ %
siteId
ﬁﬁ% +
)
ﬁﬁ+ ,
;
ﬁﬁ, -
}
ﬂﬂ 
public
ÓÓ 
static
ÓÓ	 
void
ÓÓ 
AddHost
ÓÓ 
(
ÓÓ 
Guid
ÓÓ !
siteGuid
ÓÓ" *
,
ÓÓ* +
int
ÓÓ, /
siteId
ÓÓ0 6
,
ÓÓ6 7
string
ÓÓ8 >
hostName
ÓÓ? G
)
ÓÓG H
{
ÔÔ 
DBSiteSettings
 
.
 
AddHost
 
(
 
siteGuid
 "
,
" #
siteId
$ *
,
* +
hostName
, 4
)
4 5
;
5 6
}
ÒÒ 
public
ÛÛ 
static
ÛÛ	 
void
ÛÛ 

RemoveHost
ÛÛ 
(
ÛÛ  
int
ÛÛ  #
hostId
ÛÛ$ *
)
ÛÛ* +
{
ÙÙ 
DBSiteSettings
ıı 
.
ıı 

DeleteHost
ıı 
(
ıı 
hostId
ıı #
)
ıı# $
;
ıı$ %
}
ˆˆ 
public
òò 
static
òò 
int
òò 
CreateNewSite
òò '
(
òò' (
)
òò( )
{
ôô 	
return
öö 
CreateNewSite
öö  
(
öö  !
$str
öö! -
)
öö- .
;
öö/ 0
}
úú 	
public
ûû 
static
ûû 
int
ûû 
CreateNewSite
ûû '
(
ûû' (
String
ûû( .
siteName
ûû/ 7
)
ûû7 8
{
üü 	
SiteSettings
°° 
newSite
°°  
=
°°! "
new
°°# &
SiteSettings
°°' 3
(
°°3 4
)
°°4 5
;
°°5 6
newSite
¢¢ 
.
¢¢ 
SiteName
¢¢ 
=
¢¢ 
siteName
¢¢ '
;
¢¢' (
newSite
££ 
.
££ 
Save
££ 
(
££ 
)
££ 
;
££ 
return
¶¶ 
newSite
¶¶ 
.
¶¶ 
SiteId
¶¶ !
;
¶¶! "
}
®® 	
public
™™ 
static
™™ 
void
™™ 
Delete
™™ !
(
™™! "
int
™™" %
siteId
™™& ,
)
™™, -
{
´´ 	
DBSiteSettings
¨¨ 
.
¨¨ 
Delete
¨¨ !
(
¨¨! "
siteId
¨¨" (
)
¨¨( )
;
¨¨) *
}
≠≠ 	
public
ØØ 
static
ØØ 
int
ØØ "
GetCountOfOtherSites
ØØ .
(
ØØ. /
int
ØØ/ 2
currentSiteId
ØØ3 @
)
ØØ@ A
{
∞∞ 	
return
±± 
DBSiteSettings
±± !
.
±±! "
CountOtherSites
±±" 1
(
±±1 2
currentSiteId
±±2 ?
)
±±? @
;
±±@ A
}
≤≤ 	
public
¥¥ 
static
¥¥ 
IDataReader
¥¥ !!
GetPageOfOtherSites
¥¥" 5
(
¥¥5 6
int
µµ 
currentSiteId
µµ 
,
µµ 
int
∂∂ 

pageNumber
∂∂ 
,
∂∂ 
int
∑∑ 
pageSize
∑∑ 
,
∑∑ 
out
∏∏ 
int
∏∏ 

totalPages
∏∏ 
)
∏∏ 
{
ππ 	
return
∫∫ 
DBSiteSettings
∫∫ !
.
∫∫! "!
GetPageOfOtherSites
∫∫" 5
(
∫∫5 6
currentSiteId
ªª 
,
ªª 

pageNumber
ºº 
,
ºº 
pageSize
ΩΩ 
,
ΩΩ 
out
ææ 

totalPages
ææ 
)
ææ 
;
ææ  
}
¿¿ 	
public
‡‡ 
static
‡‡ 
void
‡‡ #
EnsureExpandoSettings
‡‡ 0
(
‡‡0 1
)
‡‡1 2
{
·· 	
DBSiteSettingsEx
‚‚ 
.
‚‚ 
EnsureSettings
‚‚ +
(
‚‚+ ,
)
‚‚, -
;
‚‚- .
}
„„ 	
public
ËË 
static
ËË 
void
ËË 
SyncRelatedSites
ËË +
(
ËË+ ,
SiteSettings
ÈÈ 

masterSite
ÈÈ #
,
ÈÈ# $
bool
ÍÍ 
usingFolderSites
ÍÍ !
)
ÎÎ 
{
ÏÏ 	
DBSiteSettings
ÓÓ 
.
ÓÓ  
UpdateRelatedSites
ÓÓ -
(
ÓÓ- .

masterSite
ÔÔ 
.
ÔÔ 
siteID
ÔÔ !
,
ÔÔ! "

masterSite
 
.
 "
allowNewRegistration
 /
,
/ 0

masterSite
ÒÒ 
.
ÒÒ #
useSecureRegistration
ÒÒ 0
,
ÒÒ0 1

masterSite
ÚÚ 
.
ÚÚ 
useLdapAuth
ÚÚ &
,
ÚÚ& '

masterSite
ÛÛ 
.
ÛÛ ,
autoCreateLDAPUserOnFirstLogin
ÛÛ 9
,
ÛÛ9 :

masterSite
ÙÙ 
.
ÙÙ 
SiteLdapSettings
ÙÙ +
.
ÙÙ+ ,
Server
ÙÙ, 2
,
ÙÙ2 3

masterSite
ıı 
.
ıı 
SiteLdapSettings
ıı +
.
ıı+ ,
Domain
ıı, 2
,
ıı2 3

masterSite
ˆˆ 
.
ˆˆ 
SiteLdapSettings
ˆˆ +
.
ˆˆ+ ,
Port
ˆˆ, 0
,
ˆˆ0 1

masterSite
˜˜ 
.
˜˜ 
SiteLdapSettings
˜˜ +
.
˜˜+ ,
RootDN
˜˜, 2
,
˜˜2 3

masterSite
¯¯ 
.
¯¯ 
SiteLdapSettings
¯¯ +
.
¯¯+ ,
	UserDNKey
¯¯, 5
,
¯¯5 6

masterSite
˘˘ 
.
˘˘ %
allowUserFullNameChange
˘˘ 2
,
˘˘2 3

masterSite
˙˙ 
.
˙˙ 
useEmailForLogin
˙˙ +
,
˙˙+ ,

masterSite
˚˚ 
.
˚˚ 
allowOpenIDAuth
˚˚ *
,
˚˚* +

masterSite
¸¸ 
.
¸¸ "
allowWindowsLiveAuth
¸¸ /
,
¸¸/ 0

masterSite
˝˝ 
.
˝˝ $
allowPasswordRetrieval
˝˝ 1
,
˝˝1 2

masterSite
˛˛ 
.
˛˛  
allowPasswordReset
˛˛ -
,
˛˛- .

masterSite
ˇˇ 
.
ˇˇ '
requiresQuestionAndAnswer
ˇˇ 4
,
ˇˇ4 5

masterSite
ÄÄ 
.
ÄÄ (
maxInvalidPasswordAttempts
ÄÄ 5
,
ÄÄ5 6

masterSite
ÅÅ 
.
ÅÅ *
passwordAttemptWindowMinutes
ÅÅ 7
,
ÅÅ7 8

masterSite
ÇÇ 
.
ÇÇ !
requiresUniqueEmail
ÇÇ .
,
ÇÇ. /

masterSite
ÉÉ 
.
ÉÉ 
passwordFormat
ÉÉ )
,
ÉÉ) *

masterSite
ÑÑ 
.
ÑÑ '
minRequiredPasswordLength
ÑÑ 4
,
ÑÑ4 5

masterSite
ÖÖ 
.
ÖÖ 2
$minRequiredNonAlphanumericCharacters
ÖÖ ?
,
ÖÖ? @

masterSite
ÜÜ 
.
ÜÜ /
!passwordStrengthRegularExpression
ÜÜ <
)
ÜÜ< =
;
ÜÜ= >
DBSiteSettingsEx
àà 
.
àà (
UpdateRelatedSitesProperty
àà 7
(
àà7 8

masterSite
àà8 B
.
ààB C
siteID
ààC I
,
ààI J
$str
ààK i
,
àài j

masterSite
ààk u
.
ààu v+
RequireCaptchaOnRegistrationààv í
.ààí ì
ToStringààì õ
(ààõ ú
CultureInfoààú ß
.ààß ® 
InvariantCultureàà® ∏
)àà∏ π
)ààπ ∫
;àà∫ ª
DBSiteSettingsEx
ââ 
.
ââ (
UpdateRelatedSitesProperty
ââ 7
(
ââ7 8

masterSite
ââ8 B
.
ââB C
siteID
ââC I
,
ââI J
$str
ââK b
,
ââb c

masterSite
ââd n
.
âân o$
RequireCaptchaOnLoginââo Ñ
.ââÑ Ö
ToStringââÖ ç
(ââç é
CultureInfoââé ô
.ââô ö 
InvariantCultureââö ™
)ââ™ ´
)ââ´ ¨
;ââ¨ ≠
DBSiteSettingsEx
ää 
.
ää (
UpdateRelatedSitesProperty
ää 7
(
ää7 8

masterSite
ää8 B
.
ääB C
siteID
ääC I
,
ääI J
$str
ääK q
,
ääq r

masterSite
ääs }
.
ää} ~3
$RequireEnterEmailTwiceOnRegistrationää~ ¢
.ää¢ £
ToStringää£ ´
(ää´ ¨
CultureInfoää¨ ∑
.ää∑ ∏ 
InvariantCultureää∏ »
)ää» …
)ää…  
;ää  À
DBSiteSettingsEx
ãã 
.
ãã (
UpdateRelatedSitesProperty
ãã 7
(
ãã7 8

masterSite
ãã8 B
.
ããB C
siteID
ããC I
,
ããI J
$str
ããK o
,
ãão p

masterSite
ããq {
.
ãã{ |1
"ShowPasswordStrengthOnRegistrationãã| û
.ããû ü
ToStringããü ß
(ããß ®
CultureInfoãã® ≥
.ãã≥ ¥ 
InvariantCultureãã¥ ƒ
)ããƒ ≈
)ãã≈ ∆
;ãã∆ «
DBSiteSettingsEx
åå 
.
åå (
UpdateRelatedSitesProperty
åå 7
(
åå7 8

masterSite
åå8 B
.
ååB C
siteID
ååC I
,
ååI J
$str
ååK a
,
ååa b

masterSite
ååc m
.
ååm n#
PasswordRegexWarningåån Ç
)ååÇ É
;ååÉ Ñ
DBSiteSettingsEx
çç 
.
çç (
UpdateRelatedSitesProperty
çç 7
(
çç7 8

masterSite
çç8 B
.
ççB C
siteID
ççC I
,
ççI J
$str
ççK g
,
ççg h

masterSite
ççi s
.
ççs t)
RequireApprovalBeforeLoginççt é
.ççé è
ToStringççè ó
(ççó ò
CultureInfoççò £
.çç£ § 
InvariantCultureçç§ ¥
)çç¥ µ
)ççµ ∂
;çç∂ ∑
DBSiteSettingsEx
éé 
.
éé (
UpdateRelatedSitesProperty
éé 7
(
éé7 8

masterSite
éé8 B
.
ééB C
siteID
ééC I
,
ééI J
$str
ééK p
,
éép q

masterSite
éér |
.
éé| }2
#RequirePasswordChangeOnResetRecoveréé} †
.éé† °
ToStringéé° ©
(éé© ™
CultureInfoéé™ µ
.ééµ ∂ 
InvariantCultureéé∂ ∆
)éé∆ «
)éé« »
;éé» …
DBSiteSettingsEx
èè 
.
èè (
UpdateRelatedSitesProperty
èè 7
(
èè7 8

masterSite
èè8 B
.
èèB C
siteID
èèC I
,
èèI J
$str
èèK a
,
èèa b

masterSite
èèc m
.
èèm n#
AllowPersistentLoginèèn Ç
.èèÇ É
ToStringèèÉ ã
(èèã å
CultureInfoèèå ó
.èèó ò 
InvariantCultureèèò ®
)èè® ©
)èè© ™
;èè™ ´
DBSiteSettingsEx
ëë 
.
ëë (
UpdateRelatedSitesProperty
ëë 7
(
ëë7 8

masterSite
ëë8 B
.
ëëB C
siteID
ëëC I
,
ëëI J
$str
ëëK d
,
ëëd e

masterSite
ëëf p
.
ëëp q&
AllowDbFallbackWithLdapëëq à
.ëëà â
ToStringëëâ ë
(ëëë í
CultureInfoëëí ù
.ëëù û 
InvariantCultureëëû Æ
)ëëÆ Ø
)ëëØ ∞
;ëë∞ ±
DBSiteSettingsEx
íí 
.
íí (
UpdateRelatedSitesProperty
íí 7
(
íí7 8

masterSite
íí8 B
.
ííB C
siteID
ííC I
,
ííI J
$str
ííK n
,
íín o

masterSite
ííp z
.
ííz {0
!AllowEmailLoginWithLdapDbFallbackíí{ ú
.ííú ù
ToStringííù •
(íí• ¶
CultureInfoíí¶ ±
.íí± ≤ 
InvariantCultureíí≤ ¬
)íí¬ √
)íí√ ƒ
;ííƒ ≈
DBSiteSettingsEx
ññ 
.
ññ (
UpdateRelatedSitesProperty
ññ 7
(
ññ7 8

masterSite
ññ8 B
.
ññB C
siteID
ññC I
,
ññI J
$str
ññK g
,
ññg h

masterSite
ññi s
.
ññs t)
RolesThatCanViewMemberListññt é
)ññé è
;ññè ê
DBSiteSettingsEx
óó 
.
óó (
UpdateRelatedSitesProperty
óó 7
(
óó7 8

masterSite
óó8 B
.
óóB C
siteID
óóC I
,
óóI J
$str
óóK d
,
óód e

masterSite
óóf p
.
óóp q&
RolesThatCanCreateUsersóóq à
)óóà â
;óóâ ä
DBSiteSettingsEx
òò 
.
òò (
UpdateRelatedSitesProperty
òò 7
(
òò7 8

masterSite
òò8 B
.
òòB C
siteID
òòC I
,
òòI J
$str
òòK i
,
òòi j

masterSite
òòk u
.
òòu v&
RolesThatCanManageUsersòòv ç
)òòç é
;òòé è
DBSiteSettingsEx
ôô 
.
ôô (
UpdateRelatedSitesProperty
ôô 7
(
ôô7 8

masterSite
ôô8 B
.
ôôB C
siteID
ôôC I
,
ôôI J
$str
ôôK d
,
ôôd e

masterSite
ôôf p
.
ôôp q&
RolesThatCanLookupUsersôôq à
)ôôà â
;ôôâ ä
DBSiteSettingsEx
õõ 
.
õõ (
UpdateRelatedSitesProperty
õõ 7
(
õõ7 8

masterSite
õõ8 B
.
õõB C
siteID
õõC I
,
õõI J
$str
õõK u
,
õõu v

masterSiteõõw Å
.õõÅ Ç8
(EmailAdressesForUserApprovalNotificationõõÇ ™
)õõ™ ´
;õõ´ ¨
DBSiteSettingsEx
ÆÆ 
.
ÆÆ (
UpdateRelatedSitesProperty
ÆÆ 7
(
ÆÆ7 8

masterSite
ÆÆ8 B
.
ÆÆB C
siteID
ÆÆC I
,
ÆÆI J
$str
ÆÆK b
,
ÆÆb c

masterSite
ÆÆd n
.
ÆÆn o$
RpxNowApplicationNameÆÆo Ñ
)ÆÆÑ Ö
;ÆÆÖ Ü
DBSiteSettingsEx
ØØ 
.
ØØ (
UpdateRelatedSitesProperty
ØØ 7
(
ØØ7 8

masterSite
ØØ8 B
.
ØØB C
siteID
ØØC I
,
ØØI J
$str
ØØK Y
,
ØØY Z

masterSite
ØØ[ e
.
ØØe f
RpxNowApiKey
ØØf r
)
ØØr s
;
ØØs t
if
±± 
(
±± 
usingFolderSites
±±  
)
±±  !
{
≤≤ 
DBSiteSettings
≥≥ 
.
≥≥ +
UpdateRelatedSitesWindowsLive
≥≥ <
(
≥≥< =

masterSite
≥≥= G
.
≥≥G H
siteID
≥≥H N
,
≥≥N O

masterSite
≥≥P Z
.
≥≥Z [
windowsLiveAppID
≥≥[ k
,
≥≥k l

masterSite
≥≥m w
.
≥≥w x
windowsLiveKey≥≥x Ü
)≥≥Ü á
;≥≥á à
}
ªª 
}
ææ 	
public
¿¿ 
static
¿¿ 
int
¿¿ !
GetSiteIdByHostName
¿¿ -
(
¿¿- .
string
¿¿. 4
hostName
¿¿5 =
)
¿¿= >
{
¡¡ 	
return
¬¬ 
DBSiteSettings
¬¬ !
.
¬¬! "!
GetSiteIdByHostName
¬¬" 5
(
¬¬5 6
hostName
¬¬6 >
)
¬¬> ?
;
¬¬? @
}
√√ 	
public
≈≈ 
static
≈≈ 
int
≈≈ 
GetSiteIdByFolder
≈≈ +
(
≈≈+ ,
string
≈≈, 2

folderName
≈≈3 =
)
≈≈= >
{
∆∆ 	
return
«« 
DBSiteSettings
«« !
.
««! "
GetSiteIdByFolder
««" 3
(
««3 4

folderName
««4 >
)
««> ?
;
««? @
}
»» 	
public
   
static
  	 
bool
   
HostNameExists
   #
(
  # $
string
  $ *
hostName
  + 3
)
  3 4
{
ÀÀ 
return
ÃÃ 	
DBSiteSettings
ÃÃ
 
.
ÃÃ 
HostNameExists
ÃÃ '
(
ÃÃ' (
hostName
ÃÃ( 0
)
ÃÃ0 1
;
ÃÃ1 2
}
ÕÕ 
public
““ 
static
““	 
void
““ .
 UpdateSkinVersionGuidForAllSites
““ 5
(
““5 6
)
““6 7
{
”” 
DBSiteSettings
‘‘ 
.
‘‘ .
 UpdateSkinVersionGuidForAllSites
‘‘ 2
(
‘‘2 3
)
‘‘3 4
;
‘‘4 5
}
’’ 
public
ŸŸ 
event
ŸŸ %
SiteCreatedEventHandler
ŸŸ ,
SiteCreated
ŸŸ- 8
;
ŸŸ8 9
	protected
€€ 
void
€€ 
OnSiteCreated
€€ $
(
€€$ %"
SiteCreatedEventArgs
€€% 9
e
€€: ;
)
€€; <
{
‹‹ 	
SiteCreated
›› 
?
›› 
.
›› 
Invoke
›› 
(
›› 
this
›› 
,
›› 
e
›› 
)
›› 
;
››  
}
ﬁﬁ 
}
·· 
public
‰‰ 

delegate
‰‰ 
void
‰‰ %
SiteCreatedEventHandler
‰‰ 0
(
‰‰0 1
object
‰‰1 7
sender
‰‰8 >
,
‰‰> ?"
SiteCreatedEventArgs
‰‰@ T
e
‰‰U V
)
‰‰V W
;
‰‰W X
public
ÊÊ 

class
ÊÊ "
SiteCreatedEventArgs
ÊÊ %
:
ÊÊ& '
	EventArgs
ÊÊ( 1
{
ÁÁ 
private
ËË 
SiteSettings
ËË 
_site
ËË "
=
ËË# $
null
ËË% )
;
ËË) *
public
ÍÍ 
SiteSettings
ÍÍ 
Site
ÍÍ  
{
ÎÎ 	
get
ÏÏ 
{
ÏÏ 
return
ÏÏ 
_site
ÏÏ 
;
ÏÏ 
}
ÏÏ  !
}
ÌÌ 	
public
ÔÔ "
SiteCreatedEventArgs
ÔÔ #
(
ÔÔ# $
SiteSettings
ÔÔ$ 0
siteSettings
ÔÔ1 =
)
ÔÔ= >
{
 	
_site
ÒÒ 
=
ÒÒ 
siteSettings
ÒÒ  
;
ÒÒ  !
}
ÚÚ 	
}
ÛÛ 
}ıı íÙ
fD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\SiteUser.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
[ 
Serializable 
] 
public 
class 
SiteUser 
{ 
public 
SiteUser	 
( 
) 
{ 
} 
public 
SiteUser	 
( 
SiteSettings 
settings '
)' (
{ 
if 
( 
settings 
!= 
null 
) 
{ 
siteSettings 
= 
settings 
; 
siteID 

= 
siteSettings 
. 
SiteId  
;  !
siteGuid 
= 
siteSettings 
. 
SiteGuid $
;$ %

timeZoneId 
= 
siteSettings 
. 

TimeZoneId (
;( )
passwordFormat   
=   
siteSettings   !
.  ! "
PasswordFormat  " 0
;  0 1
if"" 
("" 
UseRelatedSiteMode"" 
)"" 
{## 
siteID$$ 
=$$ 
RelatedSiteID$$ 
;$$ 
}%% 
}&& 
}'' 
public** 
SiteUser**	 
(** 
SiteSettings** 
settings** '
,**' (
bool**) -"
overridRelatedSiteMode**. D
)**D E
{++ 
if,, 
(,, 
settings,, 
!=,, 
null,, 
),, 
{-- 
siteSettings.. 
=.. 
settings.. 
;.. 
siteID// 

=// 
siteSettings// 
.// 
SiteId//  
;//  !
siteGuid00 
=00 
siteSettings00 
.00 
SiteGuid00 $
;00$ %

timeZoneId11 
=11 
siteSettings11 
.11 

TimeZoneId11 (
;11( )
if33 
(33 
UseRelatedSiteMode33 
&&33 
!33 "
overridRelatedSiteMode33 5
)335 6
{44 
siteID55 
=55 
RelatedSiteID55 
;55 
}66 
}77 
}88 
public;; 
SiteUser;;	 
(;; 
SiteSettings;; 
settings;; '
,;;' (
int;;) ,
userId;;- 3
);;3 4
{<< 
if== 
(== 
settings== 
!=== 
null== 
)== 
{>> 
siteSettings?? 
=?? 
settings?? 
;?? 
siteGuid@@ 
=@@ 
siteSettings@@ 
.@@ 
SiteGuid@@ $
;@@$ %
siteIDAA 

=AA 
siteSettingsAA 
.AA 
SiteIdAA  
;AA  !

timeZoneIdBB 
=BB 
siteSettingsBB 
.BB 

TimeZoneIdBB (
;BB( )
ifDD 
(DD 
UseRelatedSiteModeDD 
)DD 
{EE 
siteIDFF 
=FF 
RelatedSiteIDFF 
;FF 
}GG 
GetUserII 
(II 
userIdII 
)II 
;II 
}JJ 
}KK 
publicNN 
SiteUserNN	 
(NN 
SiteSettingsNN 
settingsNN '
,NN' (
stringNN) /
loginNN0 5
)NN5 6
{OO 
ifPP 
(PP 
settingsPP 
!=PP 
nullPP 
)PP 
{QQ 
siteSettingsRR 
=RR 
settingsRR 
;RR 
siteGuidSS 
=SS 
siteSettingsSS 
.SS 
SiteGuidSS $
;SS$ %
siteIDTT 

=TT 
siteSettingsTT 
.TT 
SiteIdTT  
;TT  !

timeZoneIdUU 
=UU 
siteSettingsUU 
.UU 

TimeZoneIdUU (
;UU( )
ifWW 
(WW 
UseRelatedSiteModeWW 
)WW 
{XX 
siteIDYY 
=YY 
RelatedSiteIDYY 
;YY 
}ZZ 
GetUser\\ 
(\\ 
login\\ 
)\\ 
;\\ 
}]] 
}__ 
publicbb 
SiteUserbb	 
(bb 
SiteSettingsbb 
settingsbb '
,bb' (
Guidbb) -
userGuidbb. 6
)bb6 7
{cc 
ifdd 
(dd 
settingsdd 
!=dd 
nulldd 
)dd 
{ee 
siteSettingsff 
=ff 
settingsff 
;ff 
siteIDgg 

=gg 
siteSettingsgg 
.gg 
SiteIdgg  
;gg  !

timeZoneIdhh 
=hh 
siteSettingshh 
.hh 

TimeZoneIdhh (
;hh( )
ifjj 
(jj 
UseRelatedSiteModejj 
)jj 
{kk 
siteIDll 
=ll 
RelatedSiteIDll 
;ll 
}mm 
GetUseroo 
(oo 
userGuidoo 
)oo 
;oo 
}pp 
}qq 
privatexx 	
staticxx
 
readonlyxx 
ILogxx 
logxx "
=xx# $

LogManagerxx% /
.xx/ 0
	GetLoggerxx0 9
(xx9 :
typeofxx: @
(xx@ A
SiteUserxxA I
)xxI J
)xxJ K
;xxK L
[zz 
NonSerializedzz 
]zz 
private{{ 	
SiteSettings{{
 
siteSettings{{ #
;{{# $
private|| 	
Guid||
 
siteGuid|| 
=|| 
Guid|| 
.|| 
Empty|| $
;||$ %
private}} 	
int}}
 
userID}} 
=}} 
-}} 
$num}} 
;}} 
private~~ 	
int~~
 
siteID~~ 
=~~ 
-~~ 
$num~~ 
;~~ 
private 	
Guid
 
userGuid 
= 
Guid 
. 
Empty $
;$ %
private
ÄÄ 	
string
ÄÄ
 
name
ÄÄ 
=
ÄÄ 
string
ÄÄ 
.
ÄÄ 
Empty
ÄÄ $
;
ÄÄ$ %
private
ÅÅ 	
string
ÅÅ
 
	firstName
ÅÅ 
=
ÅÅ 
string
ÅÅ #
.
ÅÅ# $
Empty
ÅÅ$ )
;
ÅÅ) *
private
ÇÇ 	
string
ÇÇ
 
lastName
ÇÇ 
=
ÇÇ 
string
ÇÇ "
.
ÇÇ" #
Empty
ÇÇ# (
;
ÇÇ( )
private
ÉÉ 	
string
ÉÉ
 
	loginName
ÉÉ 
=
ÉÉ 
string
ÉÉ #
.
ÉÉ# $
Empty
ÉÉ$ )
;
ÉÉ) *
private
ÑÑ 	
string
ÑÑ
 
email
ÑÑ 
=
ÑÑ 
string
ÑÑ 
.
ÑÑ  
Empty
ÑÑ  %
;
ÑÑ% &
private
ÖÖ 	
string
ÖÖ
 
password
ÖÖ 
=
ÖÖ 
string
ÖÖ "
.
ÖÖ" #
Empty
ÖÖ# (
;
ÖÖ( )
private
ÜÜ 	
string
ÜÜ
 
gender
ÜÜ 
=
ÜÜ 
string
ÜÜ  
.
ÜÜ  !
Empty
ÜÜ! &
;
ÜÜ& '
private
áá 	
bool
áá
 
profileApproved
áá 
=
áá  
true
áá! %
;
áá% &
private
àà 	
bool
àà
 
approvedForForums
àà  
=
àà! "
true
àà# '
;
àà' (
private
ââ 	
bool
ââ
 
trusted
ââ 
=
ââ 
false
ââ 
;
ââ 
private
ää 	
bool
ää
 !
displayInMemberList
ää "
=
ää# $
true
ää% )
;
ää) *
private
ãã 	
string
ãã
 

webSiteUrl
ãã 
=
ãã 
string
ãã $
.
ãã$ %
Empty
ãã% *
;
ãã* +
private
åå 	
string
åå
 
country
åå 
=
åå 
string
åå !
.
åå! "
Empty
åå" '
;
åå' (
private
çç 	
string
çç
 
state
çç 
=
çç 
string
çç 
.
çç  
Empty
çç  %
;
çç% &
private
éé 	
string
éé
 

occupation
éé 
=
éé 
string
éé $
.
éé$ %
Empty
éé% *
;
éé* +
private
èè 	
string
èè
 
	interests
èè 
=
èè 
string
èè #
.
èè# $
Empty
èè$ )
;
èè) *
private
êê 	
string
êê
 
msn
êê 
=
êê 
string
êê 
.
êê 
Empty
êê #
;
êê# $
private
ëë 	
string
ëë
 
yahoo
ëë 
=
ëë 
string
ëë 
.
ëë  
Empty
ëë  %
;
ëë% &
private
íí 	
string
íí
 
aim
íí 
=
íí 
string
íí 
.
íí 
Empty
íí #
;
íí# $
private
ìì 	
string
ìì
 
icq
ìì 
=
ìì 
string
ìì 
.
ìì 
Empty
ìì #
;
ìì# $
private
îî 	
int
îî
 

totalPosts
îî 
=
îî 
$num
îî 
;
îî 
private
ïï 	
string
ïï
 
	avatarUrl
ïï 
=
ïï 
string
ïï #
.
ïï# $
Empty
ïï$ )
;
ïï) *
private
ññ 	
double
ññ
 
timeOffsetHours
ññ  
=
ññ! "
$num
ññ# $
;
ññ$ %
private
óó 	
string
óó
 
	signature
óó 
=
óó 
string
óó #
.
óó# $
Empty
óó$ )
;
óó) *
private
òò 	
DateTime
òò
 
dateCreated
òò 
=
òò  
DateTime
òò! )
.
òò) *
UtcNow
òò* 0
;
òò0 1
private
ôô 	
string
ôô
 
skin
ôô 
=
ôô 
string
ôô 
.
ôô 
Empty
ôô $
;
ôô$ %
private
öö 	
bool
öö
 
	isDeleted
öö 
=
öö 
false
öö  
;
öö  !
private
úú 	
string
úú
 
loweredEmail
úú 
=
úú 
string
úú  &
.
úú& '
Empty
úú' ,
;
úú, -
private
ùù 	
string
ùù
 
passwordQuestion
ùù !
=
ùù" #
string
ùù$ *
.
ùù* +
Empty
ùù+ 0
;
ùù0 1
private
ûû 	
string
ûû
 
passwordAnswer
ûû 
=
ûû  !
string
ûû" (
.
ûû( )
Empty
ûû) .
;
ûû. /
private
üü 	
DateTime
üü
 
lastActivityDate
üü #
=
üü$ %
DateTime
üü& .
.
üü. /
MinValue
üü/ 7
;
üü7 8
private
†† 	
DateTime
††
 
lastLoginDate
††  
=
††! "
DateTime
††# +
.
††+ ,
MinValue
††, 4
;
††4 5
private
°° 	
DateTime
°°
 %
lastPasswordChangedDate
°° *
=
°°+ ,
DateTime
°°- 5
.
°°5 6
MinValue
°°6 >
;
°°> ?
private
¢¢ 	
DateTime
¢¢
 
lastLockoutDate
¢¢ "
=
¢¢# $
DateTime
¢¢% -
.
¢¢- .
MinValue
¢¢. 6
;
¢¢6 7
private
££ 	
int
££
 (
failedPasswordAttemptCount
££ (
;
££( )
private
§§ 	
DateTime
§§
 .
 failedPasswordAttemptWindowStart
§§ 3
=
§§4 5
DateTime
§§6 >
.
§§> ?
MinValue
§§? G
;
§§G H
private
•• 	
int
••
 .
 failedPasswordAnswerAttemptCount
•• .
;
••. /
private
¶¶ 	
DateTime
¶¶
 4
&failedPasswordAnswerAttemptWindowStart
¶¶ 9
=
¶¶: ;
DateTime
¶¶< D
.
¶¶D E
MinValue
¶¶E M
;
¶¶M N
private
ßß 	
bool
ßß
 
isLockedOut
ßß 
=
ßß 
false
ßß "
;
ßß" #
private
®® 	
string
®®
 
	mobilePIN
®® 
=
®® 
string
®® #
.
®®# $
Empty
®®$ )
;
®®) *
private
©© 	
string
©©
 
passwordSalt
©© 
=
©© 
string
©©  &
.
©©& '
Empty
©©' ,
;
©©, -
private
™™ 	
string
™™
 
comment
™™ 
=
™™ 
string
™™ !
.
™™! "
Empty
™™" '
;
™™' (
private
´´ 	
Guid
´´
 !
registerConfirmGuid
´´ "
=
´´# $
Guid
´´% )
.
´´) *
Empty
´´* /
;
´´/ 0
private
≠≠ 	
bool
≠≠
 2
$nonLazyLoadedProfilePropertiesLoaded
≠≠ 3
=
≠≠4 5
false
≠≠6 ;
;
≠≠; <
private
ÆÆ 	
	DataTable
ÆÆ
 
profileProperties
ÆÆ %
=
ÆÆ& '
null
ÆÆ( ,
;
ÆÆ, -
private
ØØ 	
	ArrayList
ØØ
 
	userRoles
ØØ 
=
ØØ 
new
ØØ  #
	ArrayList
ØØ$ -
(
ØØ- .
)
ØØ. /
;
ØØ/ 0
private
∞∞ 	
bool
∞∞
 
rolesLoaded
∞∞ 
=
∞∞ 
false
∞∞ "
;
∞∞" #
private
≤≤ 	
string
≤≤
 
	openIDURI
≤≤ 
=
≤≤ 
string
≤≤ #
.
≤≤# $
Empty
≤≤$ )
;
≤≤) *
private
≥≥ 	
string
≥≥
 
windowsLiveID
≥≥ 
=
≥≥  
string
≥≥! '
.
≥≥' (
Empty
≥≥( -
;
≥≥- .
private
¥¥ 	
decimal
¥¥
 
totalRevenue
¥¥ 
=
¥¥  
$num
¥¥! "
;
¥¥" #
private
µµ 	
bool
µµ
 
mustChangePwd
µµ 
=
µµ 
false
µµ $
;
µµ$ %
private
∑∑ 	
string
∑∑
 

timeZoneId
∑∑ 
=
∑∑ 
$str
∑∑ 5
;
∑∑5 6
private
∏∏ 	
string
∏∏
 
newEmail
∏∏ 
=
∏∏ 
string
∏∏ "
.
∏∏" #
Empty
∏∏# (
;
∏∏( )
private
ππ 	
Guid
ππ
 
emailChangeGuid
ππ 
=
ππ  
Guid
ππ! %
.
ππ% &
Empty
ππ& +
;
ππ+ ,
private
∫∫ 	
string
∫∫
 
editorPreference
∫∫ !
=
∫∫" #
string
∫∫$ *
.
∫∫* +
Empty
∫∫+ 0
;
∫∫0 1
private
ºº 	
Guid
ºº
 
passwordResetGuid
ºº  
=
ºº! "
Guid
ºº# '
.
ºº' (
Empty
ºº( -
;
ºº- .
private
ΩΩ 	
bool
ΩΩ
 
rolesChanged
ΩΩ 
=
ΩΩ 
false
ΩΩ #
;
ΩΩ# $
private
øø 	
string
øø
 
	authorBio
øø 
=
øø 
string
øø #
.
øø# $
Empty
øø$ )
;
øø) *
private
¿¿ 	
bool
¿¿
 !
allowPasswordChange
¿¿ "
=
¿¿# $
true
¿¿% )
;
¿¿) *
private
¡¡ 	
bool
¡¡
 !
readonlyUserProfile
¡¡ "
=
¡¡# $
false
¡¡% *
;
¡¡* +
private
√√ 	
string
√√
 
passwordHash
√√ 
=
√√ 
string
√√  &
.
√√& '
Empty
√√' ,
;
√√, -
public
ÃÃ 
string
ÃÃ	 
PasswordHash
ÃÃ 
{
ÕÕ 
get
ŒŒ 
{
œœ 
if
–– 
(
–– 
passwordHash
–– 
.
–– 
Length
–– 
==
–– 
$num
––  
)
––  !
{
—— 
return
““ 
password
““ 
+
““ 
$str
““ 
+
““ 
passwordSalt
““ )
+
““* +
$str
““, /
+
““0 1
passwordFormat
““2 @
.
““@ A
ToString
““A I
(
““I J
)
““J K
;
““K L
}
”” 
return
’’ 

passwordHash
’’ 
;
’’ 
}
÷÷ 
set
◊◊ 
{
◊◊ 
passwordHash
◊◊	 
=
◊◊ 
value
◊◊ 
;
◊◊ 
}
◊◊  
}
ÿÿ 
private
⁄⁄ 	
int
⁄⁄
 
passwordFormat
⁄⁄ 
=
⁄⁄ 
$num
⁄⁄  
;
⁄⁄  !
public
€€ 
int
€€	 
PasswordFormat
€€ 
{
‹‹ 
get
›› 
{
›› 
return
››	 
passwordFormat
›› 
;
›› 
}
››  !
set
ﬁﬁ 
{
ﬁﬁ 
passwordFormat
ﬁﬁ	 
=
ﬁﬁ 
value
ﬁﬁ 
;
ﬁﬁ  
}
ﬁﬁ! "
}
ﬂﬂ 
private
·· 	
string
··
 
securityStamp
·· 
=
··  
string
··! '
.
··' (
Empty
··( -
;
··- .
public
‚‚ 
string
‚‚	 
SecurityStamp
‚‚ 
{
„„ 
get
‰‰ 
{
‰‰ 
return
‰‰	 
securityStamp
‰‰ 
;
‰‰ 
}
‰‰  
set
ÂÂ 
{
ÂÂ 
securityStamp
ÂÂ	 
=
ÂÂ 
value
ÂÂ 
;
ÂÂ 
}
ÂÂ  !
}
ÊÊ 
private
ËË 	
bool
ËË
 
emailConfirmed
ËË 
=
ËË 
false
ËË  %
;
ËË% &
public
ÈÈ 
bool
ÈÈ	 
EmailConfirmed
ÈÈ 
{
ÍÍ 
get
ÎÎ 
{
ÎÎ 
return
ÎÎ	 
emailConfirmed
ÎÎ 
;
ÎÎ 
}
ÎÎ  !
set
ÏÏ 
{
ÏÏ 
emailConfirmed
ÏÏ	 
=
ÏÏ 
value
ÏÏ 
;
ÏÏ  
}
ÏÏ! "
}
ÌÌ 
private
ÔÔ 	
string
ÔÔ
 
phoneNumber
ÔÔ 
=
ÔÔ 
string
ÔÔ %
.
ÔÔ% &
Empty
ÔÔ& +
;
ÔÔ+ ,
public
 
string
	 
PhoneNumber
 
{
ÒÒ 
get
ÚÚ 
{
ÚÚ 
return
ÚÚ	 
phoneNumber
ÚÚ 
;
ÚÚ 
}
ÚÚ 
set
ÛÛ 
{
ÛÛ 
phoneNumber
ÛÛ	 
=
ÛÛ 
value
ÛÛ 
;
ÛÛ 
}
ÛÛ 
}
ÙÙ 
private
ˆˆ 	
bool
ˆˆ
 "
phoneNumberConfirmed
ˆˆ #
=
ˆˆ$ %
false
ˆˆ& +
;
ˆˆ+ ,
public
˜˜ 
bool
˜˜	 "
PhoneNumberConfirmed
˜˜ "
{
¯¯ 
get
˘˘ 
{
˘˘ 
return
˘˘	 "
phoneNumberConfirmed
˘˘ $
;
˘˘$ %
}
˘˘& '
set
˙˙ 
{
˙˙ "
phoneNumberConfirmed
˙˙	 
=
˙˙ 
value
˙˙  %
;
˙˙% &
}
˙˙' (
}
˚˚ 
private
˝˝ 	
bool
˝˝
 
twoFactorEnabled
˝˝ 
=
˝˝  !
false
˝˝" '
;
˝˝' (
public
˛˛ 
bool
˛˛	 
TwoFactorEnabled
˛˛ 
{
ˇˇ 
get
ÄÄ 
{
ÄÄ 
return
ÄÄ	 
twoFactorEnabled
ÄÄ  
;
ÄÄ  !
}
ÄÄ" #
set
ÅÅ 
{
ÅÅ 
twoFactorEnabled
ÅÅ	 
=
ÅÅ 
value
ÅÅ !
;
ÅÅ! "
}
ÅÅ# $
}
ÇÇ 
private
ÑÑ 	
DateTime
ÑÑ
 
?
ÑÑ 
lockoutEndDateUtc
ÑÑ %
=
ÑÑ& '
null
ÑÑ( ,
;
ÑÑ, -
public
ÖÖ 
DateTime
ÖÖ	 
?
ÖÖ 
LockoutEndDateUtc
ÖÖ $
{
ÜÜ 
get
áá 
{
áá 
return
áá	 
lockoutEndDateUtc
áá !
;
áá! "
}
áá# $
set
àà 
{
àà 
lockoutEndDateUtc
àà	 
=
àà 
value
àà "
;
àà" #
}
àà$ %
}
ââ 
private
ãã 	
DateTime
ãã
 
dateOfBirth
ãã 
=
ãã  
DateTime
ãã! )
.
ãã) *
MinValue
ãã* 2
;
ãã2 3
public
åå 
DateTime
åå	 
DateOfBirth
åå 
{
çç 
get
éé 
{
éé 
return
éé	 
dateOfBirth
éé 
;
éé 
}
éé 
set
èè 
{
èè 
dateOfBirth
èè	 
=
èè 
value
èè 
;
èè 
}
èè 
}
êê 
private
íí 	
static
íí
 
bool
íí  
UseRelatedSiteMode
íí (
{
ìì 
get
îî 
{
ïï 
if
ññ 
(
ññ 
(
óó "
ConfigurationManager
óó 
.
óó 
AppSettings
óó &
[
óó& '
$str
óó' ;
]
óó; <
!=
óó= ?
null
óó@ D
)
óóD E
&&
óóF H
(
òò "
ConfigurationManager
òò 
.
òò 
AppSettings
òò &
[
òò& '
$str
òò' ;
]
òò; <
==
òò= ?
$str
òò@ F
)
òòF G
)
ôô 
{
öö 
return
õõ 
true
õõ 
;
õõ 
}
úú 
return
ûû 

false
ûû 
;
ûû 
}
üü 
}
†† 
private
¢¢ 	
static
¢¢
 
int
¢¢ 
RelatedSiteID
¢¢ "
{
££ 
get
§§ 
{
•• 
int
¶¶ 
result
¶¶ 
=
¶¶ 
$num
¶¶ 
;
¶¶ 
if
®® 
(
®® "
ConfigurationManager
®® 
.
®® 
AppSettings
®® (
[
®®( )
$str
®®) 8
]
®®8 9
!=
®®: <
null
®®= A
)
®®A B
{
©© 
int
™™ 
.
™™ 	
TryParse
™™	 
(
™™ "
ConfigurationManager
™™ &
.
™™& '
AppSettings
™™' 2
[
™™2 3
$str
™™3 B
]
™™B C
,
™™C D
out
™™E H
result
™™I O
)
™™O P
;
™™P Q
}
´´ 
return
≠≠ 

result
≠≠ 
;
≠≠ 
}
ÆÆ 
}
ØØ 
public
∂∂ 
int
∂∂	 
UserId
∂∂ 
{
∑∑ 
get
∏∏ 
{
∏∏ 
return
∏∏	 
userID
∏∏ 
;
∏∏ 
}
∏∏ 
}
ππ 
public
ªª 
decimal
ªª	 
TotalRevenue
ªª 
{
ºº 
get
ΩΩ 
{
ΩΩ 
return
ΩΩ	 
totalRevenue
ΩΩ 
;
ΩΩ 
}
ΩΩ 
}
ææ 
public
¿¿ 
Guid
¿¿	 
SiteGuid
¿¿ 
{
¡¡ 
get
¬¬ 
{
¬¬ 
return
¬¬	 
siteGuid
¬¬ 
;
¬¬ 
}
¬¬ 
}
ƒƒ 
public
∆∆ 
int
∆∆	 
SiteId
∆∆ 
{
«« 
get
»» 
{
»» 
return
»»	 
siteID
»» 
;
»» 
}
»» 
}
…… 
public
ÀÀ 
bool
ÀÀ	 
	IsDeleted
ÀÀ 
{
ÃÃ 
get
ÕÕ 
{
ÕÕ 
return
ÕÕ	 
	isDeleted
ÕÕ 
;
ÕÕ 
}
ÕÕ 
}
ŒŒ 
public
–– 
Guid
––	 
UserGuid
–– 
{
—— 
get
““ 
{
““ 
return
““	 
userGuid
““ 
;
““ 
}
““ 
}
”” 
public
’’ 
Guid
’’	 !
RegisterConfirmGuid
’’ !
{
÷÷ 
get
◊◊ 
{
◊◊ 
return
◊◊	 !
registerConfirmGuid
◊◊ #
;
◊◊# $
}
◊◊% &
}
ÿÿ 
public
⁄⁄ 
string
⁄⁄	 
Name
⁄⁄ 
{
€€ 
get
‹‹ 
{
‹‹ 
return
‹‹	 
name
‹‹ 
;
‹‹ 
}
‹‹ 
set
›› 
{
›› 
name
››	 
=
›› 
value
›› 
;
›› 
}
›› 
}
ﬁﬁ 
public
‡‡ 
string
‡‡	 
	LoginName
‡‡ 
{
·· 
get
‚‚ 
{
‚‚ 
return
‚‚	 
	loginName
‚‚ 
;
‚‚ 
}
‚‚ 
set
ËË 
{
ËË 
	loginName
ËË	 
=
ËË 
value
ËË 
;
ËË 
}
ËË 
}
ÈÈ 
public
ÎÎ 
string
ÎÎ	 
Email
ÎÎ 
{
ÏÏ 
get
ÌÌ 
{
ÌÌ 
return
ÌÌ	 
email
ÌÌ 
;
ÌÌ 
}
ÌÌ 
set
ÓÓ 
{
ÓÓ 
email
ÓÓ	 
=
ÓÓ 
value
ÓÓ 
;
ÓÓ 
}
ÓÓ 
}
ÔÔ 
public
ÒÒ 
string
ÒÒ	 
	FirstName
ÒÒ 
{
ÚÚ 
get
ÛÛ 
{
ÛÛ 
return
ÛÛ	 
	firstName
ÛÛ 
;
ÛÛ 
}
ÛÛ 
set
ÙÙ 
{
ÙÙ 
	firstName
ÙÙ	 
=
ÙÙ 
value
ÙÙ 
;
ÙÙ 
}
ÙÙ 
}
ıı 
public
˜˜ 
string
˜˜	 
LastName
˜˜ 
{
¯¯ 
get
˘˘ 
{
˘˘ 
return
˘˘	 
lastName
˘˘ 
;
˘˘ 
}
˘˘ 
set
˙˙ 
{
˙˙ 
lastName
˙˙	 
=
˙˙ 
value
˙˙ 
;
˙˙ 
}
˙˙ 
}
˚˚ 
public
˝˝ 
string
˝˝	 
	AuthorBio
˝˝ 
{
˛˛ 
get
ˇˇ 
{
ˇˇ 
return
ˇˇ	 
	authorBio
ˇˇ 
;
ˇˇ 
}
ˇˇ 
set
ÄÄ 
{
ÄÄ 
	authorBio
ÄÄ	 
=
ÄÄ 
value
ÄÄ 
;
ÄÄ 
}
ÄÄ 
}
ÅÅ 
public
ÉÉ 
string
ÉÉ	 
NewEmail
ÉÉ 
{
ÑÑ 
get
ÖÖ 
{
ÖÖ 
return
ÖÖ	 
newEmail
ÖÖ 
;
ÖÖ 
}
ÖÖ 
set
ÜÜ 
{
ÜÜ 
newEmail
ÜÜ	 
=
ÜÜ 
value
ÜÜ 
;
ÜÜ 
}
ÜÜ 
}
áá 
public
ââ 
string
ââ	 
EditorPreference
ââ  
{
ää 
get
ãã 
{
ãã 
return
ãã	 
editorPreference
ãã  
;
ãã  !
}
ãã" #
set
åå 
{
åå 
editorPreference
åå	 
=
åå 
value
åå !
;
åå! "
}
åå# $
}
çç 
public
èè 
Guid
èè	 
EmailChangeGuid
èè 
{
êê 
get
ëë 
{
ëë 
return
ëë	 
emailChangeGuid
ëë 
;
ëë  
}
ëë! "
set
íí 
{
íí 
emailChangeGuid
íí	 
=
íí 
value
íí  
;
íí  !
}
íí" #
}
ìì 
public
ïï 
string
ïï	 
Password
ïï 
{
ññ 
get
óó 
{
óó 
return
óó	 
password
óó 
;
óó 
}
óó 
set
òò 
{
òò 
password
òò	 
=
òò 
value
òò 
;
òò 
}
òò 
}
ôô 
public
õõ 
bool
õõ	 
MustChangePwd
õõ 
{
úú 
get
ùù 
{
ùù 
return
ùù	 
mustChangePwd
ùù 
;
ùù 
}
ùù  
set
ûû 
{
ûû 
mustChangePwd
ûû	 
=
ûû 
value
ûû 
;
ûû 
}
ûû  !
}
üü 
public
°° 
bool
°°	 
RolesChanged
°° 
{
¢¢ 
get
££ 
{
££ 
return
££	 
rolesChanged
££ 
;
££ 
}
££ 
set
§§ 
{
§§ 
rolesChanged
§§	 
=
§§ 
value
§§ 
;
§§ 
}
§§  
}
•• 
public
ßß 
string
ßß	 
Gender
ßß 
{
®® 
get
©© 
{
©© 
return
©©	 
gender
©© 
;
©© 
}
©© 
set
™™ 
{
™™ 
gender
™™	 
=
™™ 
value
™™ 
;
™™ 
}
™™ 
}
´´ 
public
≠≠ 
bool
≠≠	 
ProfileApproved
≠≠ 
{
ÆÆ 
get
ØØ 
{
ØØ 
return
ØØ	 
profileApproved
ØØ 
;
ØØ  
}
ØØ! "
set
∞∞ 
{
∞∞ 
profileApproved
∞∞	 
=
∞∞ 
value
∞∞  
;
∞∞  !
}
∞∞" #
}
±± 
public
∏∏ 
bool
∏∏	 
ApprovedForLogin
∏∏ 
{
ππ 
get
∫∫ 
{
∫∫ 
return
∫∫	 
approvedForForums
∫∫ !
;
∫∫! "
}
∫∫# $
set
ªª 
{
ªª 
approvedForForums
ªª	 
=
ªª 
value
ªª "
;
ªª" #
}
ªª$ %
}
ºº 
public
ææ 
bool
ææ	 
Trusted
ææ 
{
øø 
get
¿¿ 
{
¿¿ 
return
¿¿	 
trusted
¿¿ 
;
¿¿ 
}
¿¿ 
set
¡¡ 
{
¡¡ 
trusted
¡¡	 
=
¡¡ 
value
¡¡ 
;
¡¡ 
}
¡¡ 
}
¬¬ 
public
ƒƒ 
bool
ƒƒ	 !
DisplayInMemberList
ƒƒ !
{
≈≈ 
get
∆∆ 
{
∆∆ 
return
∆∆	 !
displayInMemberList
∆∆ #
;
∆∆# $
}
∆∆% &
set
«« 
{
«« !
displayInMemberList
««	 
=
«« 
value
«« $
;
««$ %
}
««& '
}
»» 
public
   
string
  	 

WebSiteUrl
   
{
ÀÀ 
get
ÃÃ 
{
ÃÃ 
return
ÃÃ	 

webSiteUrl
ÃÃ 
;
ÃÃ 
}
ÃÃ 
set
ÕÕ 
{
ÕÕ 

webSiteUrl
ÕÕ	 
=
ÕÕ 
value
ÕÕ 
;
ÕÕ 
}
ÕÕ 
}
ŒŒ 
public
–– 
string
––	 
Country
–– 
{
—— 
get
““ 
{
““ 
return
““	 
country
““ 
;
““ 
}
““ 
set
”” 
{
”” 
country
””	 
=
”” 
value
”” 
;
”” 
}
”” 
}
‘‘ 
public
÷÷ 
string
÷÷	 
State
÷÷ 
{
◊◊ 
get
ÿÿ 
{
ÿÿ 
return
ÿÿ	 
state
ÿÿ 
;
ÿÿ 
}
ÿÿ 
set
ŸŸ 
{
ŸŸ 
state
ŸŸ	 
=
ŸŸ 
value
ŸŸ 
;
ŸŸ 
}
ŸŸ 
}
⁄⁄ 
public
‹‹ 
string
‹‹	 

Occupation
‹‹ 
{
›› 
get
ﬁﬁ 
{
ﬁﬁ 
return
ﬁﬁ	 

occupation
ﬁﬁ 
;
ﬁﬁ 
}
ﬁﬁ 
set
ﬂﬂ 
{
ﬂﬂ 

occupation
ﬂﬂ	 
=
ﬂﬂ 
value
ﬂﬂ 
;
ﬂﬂ 
}
ﬂﬂ 
}
‡‡ 
public
‚‚ 
string
‚‚	 
	Interests
‚‚ 
{
„„ 
get
‰‰ 
{
‰‰ 
return
‰‰	 
	interests
‰‰ 
;
‰‰ 
}
‰‰ 
set
ÂÂ 
{
ÂÂ 
	interests
ÂÂ	 
=
ÂÂ 
value
ÂÂ 
;
ÂÂ 
}
ÂÂ 
}
ÊÊ 
public
ËË 
string
ËË	 
MSN
ËË 
{
ÈÈ 
get
ÍÍ 
{
ÍÍ 
return
ÍÍ	 
msn
ÍÍ 
;
ÍÍ 
}
ÍÍ 
set
ÎÎ 
{
ÎÎ 
msn
ÎÎ	 
=
ÎÎ 
value
ÎÎ 
;
ÎÎ 
}
ÎÎ 
}
ÏÏ 
public
ÓÓ 
string
ÓÓ	 
Yahoo
ÓÓ 
{
ÔÔ 
get
 
{
 
return
	 
yahoo
 
;
 
}
 
set
ÒÒ 
{
ÒÒ 
yahoo
ÒÒ	 
=
ÒÒ 
value
ÒÒ 
;
ÒÒ 
}
ÒÒ 
}
ÚÚ 
public
ÙÙ 
string
ÙÙ	 
AIM
ÙÙ 
{
ıı 
get
ˆˆ 
{
ˆˆ 
return
ˆˆ	 
aim
ˆˆ 
;
ˆˆ 
}
ˆˆ 
set
˜˜ 
{
˜˜ 
aim
˜˜	 
=
˜˜ 
value
˜˜ 
;
˜˜ 
}
˜˜ 
}
¯¯ 
public
˙˙ 
string
˙˙	 
ICQ
˙˙ 
{
˚˚ 
get
¸¸ 
{
¸¸ 
return
¸¸	 
icq
¸¸ 
;
¸¸ 
}
¸¸ 
set
˝˝ 
{
˝˝ 
icq
˝˝	 
=
˝˝ 
value
˝˝ 
;
˝˝ 
}
˝˝ 
}
˛˛ 
public
ÄÄ 
int
ÄÄ	 

TotalPosts
ÄÄ 
{
ÅÅ 
get
ÇÇ 
{
ÇÇ 
return
ÇÇ	 

totalPosts
ÇÇ 
;
ÇÇ 
}
ÇÇ 
set
ÉÉ 
{
ÉÉ 

totalPosts
ÉÉ	 
=
ÉÉ 
value
ÉÉ 
;
ÉÉ 
}
ÉÉ 
}
ÑÑ 
public
ÜÜ 
string
ÜÜ	 
	AvatarUrl
ÜÜ 
{
áá 
get
àà 
{
àà 
return
àà	 
	avatarUrl
àà 
;
àà 
}
àà 
set
ââ 
{
ââ 
	avatarUrl
ââ	 
=
ââ 
value
ââ 
;
ââ 
}
ââ 
}
ää 
public
åå 
string
åå	 

TimeZoneId
åå 
{
çç 
get
éé 
{
éé 
return
éé	 

timeZoneId
éé 
;
éé 
}
éé 
set
èè 
{
èè 

timeZoneId
èè	 
=
èè 
value
èè 
;
èè 
}
èè 
}
êê 
public
óó 
double
óó	 
TimeOffsetHours
óó 
{
òò 
get
ôô 
{
öö 
timeOffsetHours
õõ 
=
õõ 
Convert
õõ 
.
õõ 
ToDouble
õõ &
(
õõ& '
GetProperty
õõ' 2
(
õõ2 3
$str
õõ3 D
,
õõD E!
SettingsSerializeAs
õõF Y
.
õõY Z
String
õõZ `
)
õõ` a
,
õõa b
CultureInfo
õõc n
.
õõn o
InvariantCulture
õõo 
)õõ Ä
;õõÄ Å
return
ùù 

timeOffsetHours
ùù 
;
ùù 
}
ûû 
set
üü 
{
†† 
timeOffsetHours
°° 
=
°° 
value
°° 
;
°° 
SetProperty
¢¢ 
(
¢¢ 
$str
¢¢ !
,
¢¢! "
value
¢¢# (
,
¢¢( )!
SettingsSerializeAs
¢¢* =
.
¢¢= >
String
¢¢> D
)
¢¢D E
;
¢¢E F
}
££ 
}
§§ 
public
¶¶ 
bool
¶¶	 *
EnableLiveMessengerOnProfile
¶¶ *
{
ßß 
get
®® 
{
©© 
object
™™ 

o
™™ 
=
™™ 
GetProperty
™™ 
(
™™ 
$str
™™ 9
,
™™9 :!
SettingsSerializeAs
™™; N
.
™™N O
String
™™O U
)
™™U V
;
™™V W
if
¨¨ 
(
¨¨ 
o
¨¨ 	
!=
¨¨
 
null
¨¨ 
)
¨¨ 
{
≠≠ 
return
ÆÆ 
Convert
ÆÆ 
.
ÆÆ 
	ToBoolean
ÆÆ 
(
ÆÆ 
o
ÆÆ 
,
ÆÆ  
CultureInfo
ÆÆ! ,
.
ÆÆ, -
InvariantCulture
ÆÆ- =
)
ÆÆ= >
;
ÆÆ> ?
}
ØØ 
return
±± 

false
±± 
;
±± 
}
≤≤ 
set
≥≥ 
{
¥¥ 
SetProperty
µµ 
(
µµ 
$str
µµ .
,
µµ. /
value
µµ0 5
,
µµ5 6!
SettingsSerializeAs
µµ7 J
.
µµJ K
String
µµK Q
)
µµQ R
;
µµR S
}
∂∂ 
}
∑∑ 
public
ππ 
string
ππ	 
LiveMessengerId
ππ 
{
∫∫ 
get
ªª 
{
ºº 
object
ΩΩ 

o
ΩΩ 
=
ΩΩ 
GetProperty
ΩΩ 
(
ΩΩ 
$str
ΩΩ ,
,
ΩΩ, -!
SettingsSerializeAs
ΩΩ. A
.
ΩΩA B
String
ΩΩB H
)
ΩΩH I
;
ΩΩI J
if
øø 
(
øø 
o
øø 	
!=
øø
 
null
øø 
)
øø 
{
¿¿ 
return
¡¡ 
o
¡¡ 
.
¡¡ 
ToString
¡¡ 
(
¡¡ 
)
¡¡ 
;
¡¡ 
}
¬¬ 
return
ƒƒ 

string
ƒƒ 
.
ƒƒ 
Empty
ƒƒ 
;
ƒƒ 
}
≈≈ 
set
∆∆ 
{
«« 
SetProperty
»» 
(
»» 
$str
»» !
,
»»! "
value
»»# (
,
»»( )!
SettingsSerializeAs
»»* =
.
»»= >
String
»»> D
)
»»D E
;
»»E F
}
…… 
}
   
public
ÃÃ 
string
ÃÃ	 *
LiveMessengerDelegationToken
ÃÃ ,
{
ÕÕ 
get
ŒŒ 
{
œœ 
object
–– 

o
–– 
=
–– 
GetProperty
–– 
(
–– 
$str
–– 9
,
––9 :!
SettingsSerializeAs
––; N
.
––N O
String
––O U
)
––U V
;
––V W
if
““ 
(
““ 
o
““ 	
!=
““
 
null
““ 
)
““ 
{
”” 
return
‘‘ 
o
‘‘ 
.
‘‘ 
ToString
‘‘ 
(
‘‘ 
)
‘‘ 
;
‘‘ 
}
’’ 
return
◊◊ 

string
◊◊ 
.
◊◊ 
Empty
◊◊ 
;
◊◊ 
}
ÿÿ 
set
ŸŸ 
{
⁄⁄ 
SetProperty
€€ 
(
€€ 
$str
€€ .
,
€€. /
value
€€0 5
,
€€5 6!
SettingsSerializeAs
€€7 J
.
€€J K
String
€€K Q
)
€€Q R
;
€€R S
}
‹‹ 
}
›› 
public
ﬂﬂ 
string
ﬂﬂ	 
	Signature
ﬂﬂ 
{
‡‡ 
get
·· 
{
·· 
return
··	 
	signature
·· 
;
·· 
}
·· 
set
‚‚ 
{
‚‚ 
	signature
‚‚	 
=
‚‚ 
value
‚‚ 
;
‚‚ 
}
‚‚ 
}
„„ 
public
ÂÂ 
DateTime
ÂÂ	 
DateCreated
ÂÂ 
{
ÊÊ 
get
ÁÁ 
{
ÁÁ 
return
ÁÁ	 
dateCreated
ÁÁ 
;
ÁÁ 
}
ÁÁ 
}
ËË 
public
ÍÍ 
string
ÍÍ	 
Skin
ÍÍ 
{
ÎÎ 
get
ÏÏ 
{
ÏÏ 
return
ÏÏ	 
skin
ÏÏ 
;
ÏÏ 
}
ÏÏ 
set
ÌÌ 
{
ÌÌ 
skin
ÌÌ	 
=
ÌÌ 
value
ÌÌ 
;
ÌÌ 
}
ÌÌ 
}
ÓÓ 
public
 
string
	 
LoweredEmail
 
{
ÒÒ 
get
ÚÚ 
{
ÚÚ 
return
ÚÚ	 
loweredEmail
ÚÚ 
;
ÚÚ 
}
ÚÚ 
}
ÛÛ 
public
ıı 
string
ıı	 
PasswordQuestion
ıı  
{
ˆˆ 
get
˜˜ 
{
˜˜ 
return
˜˜	 
passwordQuestion
˜˜  
;
˜˜  !
}
˜˜" #
set
¯¯ 
{
¯¯ 
passwordQuestion
¯¯	 
=
¯¯ 
value
¯¯ !
;
¯¯! "
}
¯¯# $
}
˘˘ 
public
˚˚ 
string
˚˚	 
PasswordAnswer
˚˚ 
{
¸¸ 
get
˝˝ 
{
˝˝ 
return
˝˝	 
passwordAnswer
˝˝ 
;
˝˝ 
}
˝˝  !
set
˛˛ 
{
˛˛ 
passwordAnswer
˛˛	 
=
˛˛ 
value
˛˛ 
;
˛˛  
}
˛˛! "
}
ˇˇ 
public
ÅÅ 
DateTime
ÅÅ	 
LastActivityDate
ÅÅ "
{
ÇÇ 
get
ÉÉ 
{
ÉÉ 
return
ÉÉ	 
lastActivityDate
ÉÉ  
;
ÉÉ  !
}
ÉÉ" #
}
ÑÑ 
public
ÜÜ 
DateTime
ÜÜ	 
LastLoginDate
ÜÜ 
{
áá 
get
àà 
{
àà 
return
àà	 
lastLoginDate
àà 
;
àà 
}
àà  
}
ââ 
public
ãã 
DateTime
ãã	 %
LastPasswordChangedDate
ãã )
{
åå 
get
çç 
{
çç 
return
çç	 %
lastPasswordChangedDate
çç '
;
çç' (
}
çç) *
}
éé 
public
êê 
DateTime
êê	 
LastLockoutDate
êê !
{
ëë 
get
íí 
{
íí 
return
íí	 
lastLockoutDate
íí 
;
íí  
}
íí! "
}
ìì 
public
ïï 
int
ïï	 (
FailedPasswordAttemptCount
ïï '
{
ññ 
get
óó 
{
óó 
return
óó	 (
failedPasswordAttemptCount
óó *
;
óó* +
}
óó, -
}
òò 
public
öö 
DateTime
öö	 .
 FailedPasswordAttemptWindowStart
öö 2
{
õõ 
get
úú 
{
úú 
return
úú	 .
 failedPasswordAttemptWindowStart
úú 0
;
úú0 1
}
úú2 3
}
ùù 
public
üü 
int
üü	 .
 FailedPasswordAnswerAttemptCount
üü -
{
†† 
get
°° 
{
°° 
return
°°	 .
 failedPasswordAnswerAttemptCount
°° 0
;
°°0 1
}
°°2 3
}
¢¢ 
public
§§ 
DateTime
§§	 4
&FailedPasswordAnswerAttemptWindowStart
§§ 8
{
•• 
get
¶¶ 
{
¶¶ 
return
¶¶	 4
&failedPasswordAnswerAttemptWindowStart
¶¶ 6
;
¶¶6 7
}
¶¶8 9
}
ßß 
public
©© 
bool
©©	 
IsLockedOut
©© 
{
™™ 
get
´´ 
{
´´ 
return
´´	 
isLockedOut
´´ 
;
´´ 
}
´´ 
}
¨¨ 
public
ÆÆ 
string
ÆÆ	 
	MobilePin
ÆÆ 
{
ØØ 
get
∞∞ 
{
∞∞ 
return
∞∞	 
	mobilePIN
∞∞ 
;
∞∞ 
}
∞∞ 
set
±± 
{
±± 
	mobilePIN
±±	 
=
±± 
value
±± 
;
±± 
}
±± 
}
≤≤ 
public
¥¥ 
string
¥¥	 
PasswordSalt
¥¥ 
{
µµ 
get
∂∂ 
{
∂∂ 
return
∂∂	 
passwordSalt
∂∂ 
;
∂∂ 
}
∂∂ 
set
∑∑ 
{
∑∑ 
passwordSalt
∑∑	 
=
∑∑ 
value
∑∑ 
;
∑∑ 
}
∑∑  
}
∏∏ 
public
∫∫ 
string
∫∫	 
Comment
∫∫ 
{
ªª 
get
ºº 
{
ºº 
return
ºº	 
comment
ºº 
;
ºº 
}
ºº 
set
ΩΩ 
{
ΩΩ 
comment
ΩΩ	 
=
ΩΩ 
value
ΩΩ 
;
ΩΩ 
}
ΩΩ 
}
ææ 
public
¿¿ 
string
¿¿	 
	OpenIdUri
¿¿ 
{
¡¡ 
get
¬¬ 
{
¬¬ 
return
¬¬	 
	openIDURI
¬¬ 
;
¬¬ 
}
¬¬ 
set
√√ 
{
√√ 
	openIDURI
√√	 
=
√√ 
value
√√ 
;
√√ 
}
√√ 
}
ƒƒ 
public
∆∆ 
string
∆∆	 
WindowsLiveId
∆∆ 
{
«« 
get
»» 
{
»» 
return
»»	 
windowsLiveID
»» 
;
»» 
}
»»  
set
…… 
{
…… 
windowsLiveID
……	 
=
…… 
value
…… 
;
…… 
}
……  !
}
   
public
ÃÃ 
Guid
ÃÃ	 
PasswordResetGuid
ÃÃ 
{
ÕÕ 
get
ŒŒ 
{
ŒŒ 
return
ŒŒ	 
passwordResetGuid
ŒŒ !
;
ŒŒ! "
}
ŒŒ# $
set
œœ 
{
œœ 
passwordResetGuid
œœ	 
=
œœ 
value
œœ "
;
œœ" #
}
œœ$ %
}
–– 
private
◊◊ 	
void
◊◊
 
GetUser
◊◊ 
(
◊◊ 
string
◊◊ 
	loginInfo
◊◊ '
)
◊◊' (
{
ÿÿ 
IDataReader
ŸŸ 
reader
ŸŸ 
;
ŸŸ 
if
€€ 
(
€€ 
siteSettings
‹‹ 
.
‹‹ 
UseEmailForLogin
‹‹ !
&&
‹‹" $
!
›› 
siteSettings
›› 
.
›› 
UseLdapAuth
›› 
&&
››  
	loginInfo
ﬁﬁ 
.
ﬁﬁ 
Contains
ﬁﬁ 
(
ﬁﬁ 
$str
ﬁﬁ 
)
ﬁﬁ 
)
ﬂﬂ 
{
‡‡ 
using
·· 	
(
··
 
reader
·· 
=
·· 

DBSiteUser
·· 
.
·· 
GetSingleUser
·· ,
(
··, -
siteID
··- 3
,
··3 4
	loginInfo
··5 >
)
··> ?
)
··? @
{
‚‚ 
GetUser
„„ 
(
„„ 
reader
„„ 
)
„„ 
;
„„ 
}
‰‰ 
}
ÂÂ 
else
ÊÊ 
{
ÁÁ 
using
ËË 	
(
ËË
 
reader
ÈÈ 
=
ÈÈ 

DBSiteUser
ÈÈ 
.
ÈÈ &
GetSingleUserByLoginName
ÈÈ 1
(
ÈÈ1 2
siteID
ÍÍ 
,
ÍÍ 
	loginInfo
ÎÎ 
,
ÎÎ 
siteSettings
ÏÏ 
.
ÏÏ 
UseLdapAuth
ÏÏ 
&&
ÏÏ !
siteSettings
ÌÌ 
.
ÌÌ %
AllowDbFallbackWithLdap
ÌÌ *
&&
ÌÌ+ -
siteSettings
ÓÓ 
.
ÓÓ /
!AllowEmailLoginWithLdapDbFallback
ÓÓ 4
)
ÔÔ 
)
 
{
ÒÒ 
GetUser
ÚÚ 
(
ÚÚ 
reader
ÚÚ 
)
ÚÚ 
;
ÚÚ 
}
ÛÛ 
}
ÙÙ 
}
ıı 
private
¯¯ 	
void
¯¯
 
GetUser
¯¯ 
(
¯¯ 
int
¯¯ 
userId
¯¯ !
)
¯¯! "
{
˘˘ 
using
˙˙ 
(
˙˙	 

IDataReader
˙˙
 
reader
˙˙ 
=
˙˙ 

DBSiteUser
˙˙ )
.
˙˙) *
GetSingleUser
˙˙* 7
(
˙˙7 8
userId
˙˙8 >
,
˙˙> ?
siteID
˙˙@ F
)
˙˙F G
)
˙˙G H
{
˚˚ 
GetUser
¸¸ 
(
¸¸ 
reader
¸¸ 
)
¸¸ 
;
¸¸ 
}
˝˝ 
}
˛˛ 
private
ÅÅ 	
void
ÅÅ
 
GetUser
ÅÅ 
(
ÅÅ 
Guid
ÅÅ 
userGuid
ÅÅ $
)
ÅÅ$ %
{
ÇÇ 
using
ÉÉ 
(
ÉÉ	 

IDataReader
ÉÉ
 
reader
ÉÉ 
=
ÉÉ 

DBSiteUser
ÉÉ )
.
ÉÉ) *
GetSingleUser
ÉÉ* 7
(
ÉÉ7 8
userGuid
ÉÉ8 @
,
ÉÉ@ A
siteID
ÉÉB H
)
ÉÉH I
)
ÉÉI J
{
ÑÑ 
GetUser
ÖÖ 
(
ÖÖ 
reader
ÖÖ 
)
ÖÖ 
;
ÖÖ 
}
ÜÜ 
}
áá 
private
ââ 	
void
ââ
 
GetUser
ââ 
(
ââ 
IDataReader
ââ "
reader
ââ# )
)
ââ) *
{
ää 
if
ãã 
(
ãã 
reader
ãã 
.
ãã 
Read
ãã 
(
ãã 
)
ãã 
)
ãã 
{
åå 
userID
çç 

=
çç 
Convert
çç 
.
çç 
ToInt32
çç 
(
çç 
reader
çç #
[
çç# $
$str
çç$ ,
]
çç, -
,
çç- .
CultureInfo
çç/ :
.
çç: ;
InvariantCulture
çç; K
)
ççK L
;
ççL M
siteID
éé 

=
éé 
Convert
éé 
.
éé 
ToInt32
éé 
(
éé 
reader
éé #
[
éé# $
$str
éé$ ,
]
éé, -
,
éé- .
CultureInfo
éé/ :
.
éé: ;
InvariantCulture
éé; K
)
ééK L
;
ééL M
try
êê 
{
ëë 
totalRevenue
íí 
=
íí 
Convert
íí 
.
íí 
	ToDecimal
íí %
(
íí% &
reader
íí& ,
[
íí, -
$str
íí- ;
]
íí; <
,
íí< =
CultureInfo
íí> I
.
ííI J
InvariantCulture
ííJ Z
)
ííZ [
;
íí[ \
}
ìì 
catch
îî 	
(
îî
 
	Exception
îî 
)
îî 
{
ïï 
}
ïï 
name
óó 
=
óó	 

reader
óó 
[
óó 
$str
óó 
]
óó 
.
óó 
ToString
óó "
(
óó" #
)
óó# $
;
óó$ %
	loginName
òò 
=
òò 
reader
òò 
[
òò 
$str
òò "
]
òò" #
.
òò# $
ToString
òò$ ,
(
òò, -
)
òò- .
;
òò. /
email
ôô 	
=
ôô
 
reader
ôô 
[
ôô 
$str
ôô 
]
ôô 
.
ôô 
ToString
ôô $
(
ôô$ %
)
ôô% &
;
ôô& '
password
öö 
=
öö 
reader
öö 
[
öö 
$str
öö 
]
öö 
.
öö 
ToString
öö %
(
öö% &
)
öö& '
;
öö' (
gender
õõ 

=
õõ 
reader
õõ 
[
õõ 
$str
õõ 
]
õõ 
.
õõ 
ToString
õõ &
(
õõ& '
)
õõ' (
.
õõ( )
Trim
õõ) -
(
õõ- .
)
õõ. /
;
õõ/ 0
if
ùù 
(
ùù 
reader
ùù 
[
ùù 
$str
ùù  
]
ùù  !
!=
ùù" $
DBNull
ùù% +
.
ùù+ ,
Value
ùù, 1
)
ùù1 2
{
ûû 
profileApproved
üü 
=
üü 
Convert
üü 
.
üü 
	ToBoolean
üü (
(
üü( )
reader
üü) /
[
üü/ 0
$str
üü0 A
]
üüA B
)
üüB C
;
üüC D
}
†† 
if
¢¢ 
(
¢¢ 
reader
¢¢ 
[
¢¢ 
$str
¢¢ "
]
¢¢" #
!=
¢¢$ &
DBNull
¢¢' -
.
¢¢- .
Value
¢¢. 3
)
¢¢3 4
{
££ 
approvedForForums
§§ 
=
§§ 
Convert
§§  
.
§§  !
	ToBoolean
§§! *
(
§§* +
reader
§§+ 1
[
§§1 2
$str
§§2 E
]
§§E F
)
§§F G
;
§§G H
}
•• 
if
ßß 
(
ßß 
reader
ßß 
[
ßß 
$str
ßß 
]
ßß 
!=
ßß 
DBNull
ßß #
.
ßß# $
Value
ßß$ )
)
ßß) *
{
®® 
trusted
©© 
=
©© 
Convert
©© 
.
©© 
	ToBoolean
©©  
(
©©  !
reader
©©! '
[
©©' (
$str
©©( 1
]
©©1 2
)
©©2 3
;
©©3 4
}
™™ 
if
¨¨ 
(
¨¨ 
reader
¨¨ 
[
¨¨ 
$str
¨¨ $
]
¨¨$ %
!=
¨¨& (
DBNull
¨¨) /
.
¨¨/ 0
Value
¨¨0 5
)
¨¨5 6
{
≠≠ !
displayInMemberList
ÆÆ 
=
ÆÆ 
Convert
ÆÆ "
.
ÆÆ" #
	ToBoolean
ÆÆ# ,
(
ÆÆ, -
reader
ÆÆ- 3
[
ÆÆ3 4
$str
ÆÆ4 I
]
ÆÆI J
)
ÆÆJ K
;
ÆÆK L
}
ØØ 

webSiteUrl
±± 
=
±± 
reader
±± 
[
±± 
$str
±± $
]
±±$ %
.
±±% &
ToString
±±& .
(
±±. /
)
±±/ 0
;
±±0 1
country
≤≤ 
=
≤≤ 
reader
≤≤ 
[
≤≤ 
$str
≤≤ 
]
≤≤ 
.
≤≤  
ToString
≤≤  (
(
≤≤( )
)
≤≤) *
;
≤≤* +
state
≥≥ 	
=
≥≥
 
reader
≥≥ 
[
≥≥ 
$str
≥≥ 
]
≥≥ 
.
≥≥ 
ToString
≥≥ $
(
≥≥$ %
)
≥≥% &
;
≥≥& '

occupation
¥¥ 
=
¥¥ 
reader
¥¥ 
[
¥¥ 
$str
¥¥ $
]
¥¥$ %
.
¥¥% &
ToString
¥¥& .
(
¥¥. /
)
¥¥/ 0
;
¥¥0 1
	interests
µµ 
=
µµ 
reader
µµ 
[
µµ 
$str
µµ "
]
µµ" #
.
µµ# $
ToString
µµ$ ,
(
µµ, -
)
µµ- .
;
µµ. /
msn
∂∂ 
=
∂∂ 	
reader
∂∂
 
[
∂∂ 
$str
∂∂ 
]
∂∂ 
.
∂∂ 
ToString
∂∂  
(
∂∂  !
)
∂∂! "
;
∂∂" #
yahoo
∑∑ 	
=
∑∑
 
reader
∑∑ 
[
∑∑ 
$str
∑∑ 
]
∑∑ 
.
∑∑ 
ToString
∑∑ $
(
∑∑$ %
)
∑∑% &
;
∑∑& '
aim
∏∏ 
=
∏∏ 	
reader
∏∏
 
[
∏∏ 
$str
∏∏ 
]
∏∏ 
.
∏∏ 
ToString
∏∏  
(
∏∏  !
)
∏∏! "
;
∏∏" #
icq
ππ 
=
ππ 	
reader
ππ
 
[
ππ 
$str
ππ 
]
ππ 
.
ππ 
ToString
ππ  
(
ππ  !
)
ππ! "
;
ππ" #

totalPosts
∫∫ 
=
∫∫ 
Convert
∫∫ 
.
∫∫ 
ToInt32
∫∫  
(
∫∫  !
reader
∫∫! '
[
∫∫' (
$str
∫∫( 4
]
∫∫4 5
,
∫∫5 6
CultureInfo
∫∫7 B
.
∫∫B C
InvariantCulture
∫∫C S
)
∫∫S T
;
∫∫T U
	avatarUrl
ªª 
=
ªª 
reader
ªª 
[
ªª 
$str
ªª "
]
ªª" #
.
ªª# $
ToString
ªª$ ,
(
ªª, -
)
ªª- .
;
ªª. /
timeOffsetHours
ΩΩ 
=
ΩΩ 
Convert
ΩΩ 
.
ΩΩ 
ToInt32
ΩΩ %
(
ΩΩ% &
reader
ΩΩ& ,
[
ΩΩ, -
$str
ΩΩ- >
]
ΩΩ> ?
,
ΩΩ? @
CultureInfo
ΩΩA L
.
ΩΩL M
InvariantCulture
ΩΩM ]
)
ΩΩ] ^
;
ΩΩ^ _
	signature
ææ 
=
ææ 
reader
ææ 
[
ææ 
$str
ææ "
]
ææ" #
.
ææ# $
ToString
ææ$ ,
(
ææ, -
)
ææ- .
;
ææ. /
try
¿¿ 
{
¡¡ 
dateCreated
¬¬ 
=
¬¬ 
Convert
¬¬ 
.
¬¬ 

ToDateTime
¬¬ %
(
¬¬% &
reader
¬¬& ,
[
¬¬, -
$str
¬¬- :
]
¬¬: ;
)
¬¬; <
;
¬¬< =
}
√√ 
catch
ƒƒ 	
(
ƒƒ
 
FormatException
ƒƒ 
ex
ƒƒ 
)
ƒƒ 
{
≈≈ 
if
∆∆ 
(
∆∆ 	
log
∆∆	 
.
∆∆ 
IsErrorEnabled
∆∆ 
)
∆∆ 
{
«« 
log
»» 	
.
»»	 

Error
»»
 
(
»» 
$str
»» )
,
»») *
ex
»»+ -
)
»»- .
;
»». /
}
…… 
}
   
try
ÃÃ 
{
ÕÕ 
userGuid
ŒŒ 
=
ŒŒ 
new
ŒŒ 
Guid
ŒŒ 
(
ŒŒ 
reader
ŒŒ 
[
ŒŒ  
$str
ŒŒ  *
]
ŒŒ* +
.
ŒŒ+ ,
ToString
ŒŒ, 4
(
ŒŒ4 5
)
ŒŒ5 6
)
ŒŒ6 7
;
ŒŒ7 8
}
œœ 
catch
–– 	
(
––
 
FormatException
–– 
ex
–– 
)
–– 
{
—— 
if
““ 
(
““ 	
log
““	 
.
““ 
IsErrorEnabled
““ 
)
““ 
{
”” 
log
‘‘ 	
.
‘‘	 

Error
‘‘
 
(
‘‘ 
$str
‘‘ &
,
‘‘& '
ex
‘‘( *
)
‘‘* +
;
‘‘+ ,
}
’’ 
}
÷÷ 
skin
ÿÿ 
=
ÿÿ	 

reader
ÿÿ 
[
ÿÿ 
$str
ÿÿ 
]
ÿÿ 
.
ÿÿ 
ToString
ÿÿ "
(
ÿÿ" #
)
ÿÿ# $
;
ÿÿ$ %
if
⁄⁄ 
(
⁄⁄ 
reader
⁄⁄ 
[
⁄⁄ 
$str
⁄⁄ 
]
⁄⁄ 
!=
⁄⁄ 
DBNull
⁄⁄ %
.
⁄⁄% &
Value
⁄⁄& +
)
⁄⁄+ ,
{
€€ 
	isDeleted
‹‹ 
=
‹‹ 
Convert
‹‹ 
.
‹‹ 
	ToBoolean
‹‹ "
(
‹‹" #
reader
‹‹# )
[
‹‹) *
$str
‹‹* 5
]
‹‹5 6
)
‹‹6 7
;
‹‹7 8
}
›› 
if
ﬂﬂ 
(
ﬂﬂ 
reader
ﬂﬂ 
[
ﬂﬂ 
$str
ﬂﬂ 
]
ﬂﬂ 
!=
ﬂﬂ  
DBNull
ﬂﬂ! '
.
ﬂﬂ' (
Value
ﬂﬂ( -
)
ﬂﬂ- .
{
‡‡ 
isLockedOut
·· 
=
·· 
Convert
·· 
.
·· 
	ToBoolean
·· $
(
··$ %
reader
··% +
[
··+ ,
$str
··, 9
]
··9 :
)
··: ;
;
··; <
}
‚‚ 
loweredEmail
‰‰ 
=
‰‰ 
reader
‰‰ 
[
‰‰ 
$str
‰‰ (
]
‰‰( )
.
‰‰) *
ToString
‰‰* 2
(
‰‰2 3
)
‰‰3 4
;
‰‰4 5
passwordQuestion
ÂÂ 
=
ÂÂ 
reader
ÂÂ 
[
ÂÂ 
$str
ÂÂ 0
]
ÂÂ0 1
.
ÂÂ1 2
ToString
ÂÂ2 :
(
ÂÂ: ;
)
ÂÂ; <
;
ÂÂ< =
passwordAnswer
ÊÊ 
=
ÊÊ 
reader
ÊÊ 
[
ÊÊ 
$str
ÊÊ ,
]
ÊÊ, -
.
ÊÊ- .
ToString
ÊÊ. 6
(
ÊÊ6 7
)
ÊÊ7 8
;
ÊÊ8 9
try
ËË 
{
ÈÈ 
if
ÍÍ 
(
ÍÍ 	
reader
ÍÍ	 
[
ÍÍ 
$str
ÍÍ "
]
ÍÍ" #
!=
ÍÍ$ &
DBNull
ÍÍ' -
.
ÍÍ- .
Value
ÍÍ. 3
)
ÍÍ3 4
{
ÎÎ 
lastActivityDate
ÏÏ 
=
ÏÏ 
Convert
ÏÏ  
.
ÏÏ  !

ToDateTime
ÏÏ! +
(
ÏÏ+ ,
reader
ÏÏ, 2
[
ÏÏ2 3
$str
ÏÏ3 E
]
ÏÏE F
)
ÏÏF G
;
ÏÏG H
}
ÌÌ 
}
ÓÓ 
catch
ÔÔ 	
(
ÔÔ
 
FormatException
ÔÔ 
ex
ÔÔ 
)
ÔÔ 
{
 
if
ÒÒ 
(
ÒÒ 	
log
ÒÒ	 
.
ÒÒ 
IsErrorEnabled
ÒÒ 
)
ÒÒ 
{
ÚÚ 
log
ÛÛ 	
.
ÛÛ	 

Error
ÛÛ
 
(
ÛÛ 
$str
ÛÛ .
,
ÛÛ. /
ex
ÛÛ0 2
)
ÛÛ2 3
;
ÛÛ3 4
}
ÙÙ 
}
ıı 
try
˜˜ 
{
¯¯ 
if
˘˘ 
(
˘˘ 	
reader
˘˘	 
[
˘˘ 
$str
˘˘ 
]
˘˘  
!=
˘˘! #
DBNull
˘˘$ *
.
˘˘* +
Value
˘˘+ 0
)
˘˘0 1
{
˙˙ 
lastLoginDate
˚˚ 
=
˚˚ 
Convert
˚˚ 
.
˚˚ 

ToDateTime
˚˚ (
(
˚˚( )
reader
˚˚) /
[
˚˚/ 0
$str
˚˚0 ?
]
˚˚? @
)
˚˚@ A
;
˚˚A B
}
¸¸ 
}
˝˝ 
catch
˛˛ 	
(
˛˛
 
FormatException
˛˛ 
ex
˛˛ 
)
˛˛ 
{
ˇˇ 
if
ÄÄ 
(
ÄÄ 	
log
ÄÄ	 
.
ÄÄ 
IsErrorEnabled
ÄÄ 
)
ÄÄ 
{
ÅÅ 
log
ÇÇ 	
.
ÇÇ	 

Error
ÇÇ
 
(
ÇÇ 
$str
ÇÇ +
,
ÇÇ+ ,
ex
ÇÇ- /
)
ÇÇ/ 0
;
ÇÇ0 1
}
ÉÉ 
}
ÑÑ 
try
ÜÜ 
{
áá 
if
àà 
(
àà 	
reader
àà	 
[
àà 
$str
àà )
]
àà) *
!=
àà+ -
DBNull
àà. 4
.
àà4 5
Value
àà5 :
)
àà: ;
{
ââ %
lastPasswordChangedDate
ää 
=
ää 
Convert
ää  '
.
ää' (

ToDateTime
ää( 2
(
ää2 3
reader
ää3 9
[
ää9 :
$str
ää: S
]
ääS T
)
ääT U
;
ääU V
}
ãã 
}
åå 
catch
çç 	
(
çç
 
FormatException
çç 
ex
çç 
)
çç 
{
éé 
if
èè 
(
èè 	
log
èè	 
.
èè 
IsErrorEnabled
èè 
)
èè 
{
êê 
log
ëë 	
.
ëë	 

Error
ëë
 
(
ëë 
$str
ëë 5
,
ëë5 6
ex
ëë7 9
)
ëë9 :
;
ëë: ;
}
íí 
}
ìì 
try
ïï 
{
ññ 
if
óó 
(
óó 	
reader
óó	 
[
óó 
$str
óó !
]
óó! "
!=
óó# %
DBNull
óó& ,
.
óó, -
Value
óó- 2
)
óó2 3
{
òò 
lastLockoutDate
ôô 
=
ôô 
Convert
ôô 
.
ôô  

ToDateTime
ôô  *
(
ôô* +
reader
ôô+ 1
[
ôô1 2
$str
ôô2 C
]
ôôC D
)
ôôD E
;
ôôE F
}
öö 
}
õõ 
catch
úú 	
(
úú
 
FormatException
úú 
ex
úú 
)
úú 
{
ùù 
if
ûû 
(
ûû 	
log
ûû	 
.
ûû 
IsErrorEnabled
ûû 
)
ûû 
{
üü 
log
†† 	
.
††	 

Error
††
 
(
†† 
$str
†† -
,
††- .
ex
††/ 1
)
††1 2
;
††2 3
}
°° 
}
¢¢ 
try
§§ 
{
•• 
if
¶¶ 
(
¶¶ 	
reader
¶¶	 
[
¶¶ 
$str
¶¶ ,
]
¶¶, -
!=
¶¶. 0
DBNull
¶¶1 7
.
¶¶7 8
Value
¶¶8 =
)
¶¶= >
{
ßß (
failedPasswordAttemptCount
®®  
=
®®! "
Convert
®®# *
.
®®* +
ToInt32
®®+ 2
(
®®2 3
reader
®®3 9
[
®®9 :
$str
®®: V
]
®®V W
,
®®W X
CultureInfo
®®Y d
.
®®d e
InvariantCulture
®®e u
)
®®u v
;
®®v w
}
©© 
}
™™ 
catch
´´ 	
(
´´
 "
InvalidCastException
´´ 
ex
´´  "
)
´´" #
{
¨¨ 
if
≠≠ 
(
≠≠ 	
log
≠≠	 
.
≠≠ 
IsErrorEnabled
≠≠ 
)
≠≠ 
{
ÆÆ 
log
ØØ 	
.
ØØ	 

Error
ØØ
 
(
ØØ 
$str
ØØ 8
,
ØØ8 9
ex
ØØ: <
)
ØØ< =
;
ØØ= >
}
∞∞ 
}
±± 
try
≥≥ 
{
¥¥ 
if
µµ 
(
µµ 	
reader
µµ	 
[
µµ 
$str
µµ -
]
µµ- .
!=
µµ/ 1
DBNull
µµ2 8
.
µµ8 9
Value
µµ9 >
)
µµ> ?
{
∂∂ .
 failedPasswordAttemptWindowStart
∑∑ &
=
∑∑' (
Convert
∑∑) 0
.
∑∑0 1

ToDateTime
∑∑1 ;
(
∑∑; <
reader
∑∑< B
[
∑∑B C
$str
∑∑C `
]
∑∑` a
)
∑∑a b
;
∑∑b c
}
∏∏ 
}
ππ 
catch
∫∫ 	
(
∫∫
 
FormatException
∫∫ 
ex
∫∫ 
)
∫∫ 
{
ªª 
if
ºº 
(
ºº 	
log
ºº	 
.
ºº 
IsErrorEnabled
ºº 
)
ºº 
{
ΩΩ 
log
ææ 	
.
ææ	 

Error
ææ
 
(
ææ 
$str
ææ 9
,
ææ9 :
ex
ææ; =
)
ææ= >
;
ææ> ?
}
øø 
}
¿¿ 
try
¬¬ 
{
√√ 
if
ƒƒ 
(
ƒƒ 	
reader
ƒƒ	 
[
ƒƒ 
$str
ƒƒ -
]
ƒƒ- .
!=
ƒƒ/ 1
DBNull
ƒƒ2 8
.
ƒƒ8 9
Value
ƒƒ9 >
)
ƒƒ> ?
{
≈≈ .
 failedPasswordAnswerAttemptCount
∆∆ &
=
∆∆' (
Convert
∆∆) 0
.
∆∆0 1
ToInt32
∆∆1 8
(
∆∆8 9
reader
∆∆9 ?
[
∆∆? @
$str
∆∆@ ]
]
∆∆] ^
,
∆∆^ _
CultureInfo
∆∆` k
.
∆∆k l
InvariantCulture
∆∆l |
)
∆∆| }
;
∆∆} ~
}
«« 
}
»» 
catch
…… 	
(
……
 "
InvalidCastException
…… 
ex
……  "
)
……" #
{
   
if
ÀÀ 
(
ÀÀ 	
log
ÀÀ	 
.
ÀÀ 
IsErrorEnabled
ÀÀ 
)
ÀÀ 
{
ÃÃ 
log
ÕÕ 	
.
ÕÕ	 

Error
ÕÕ
 
(
ÕÕ 
$str
ÕÕ 9
,
ÕÕ9 :
ex
ÕÕ; =
)
ÕÕ= >
;
ÕÕ> ?
}
ŒŒ 
}
œœ 
try
—— 
{
““ 
if
”” 
(
”” 	
reader
””	 
[
”” 
$str
”” ,
]
””, -
!=
””. 0
DBNull
””1 7
.
””7 8
Value
””8 =
)
””= >
{
‘‘ 4
&failedPasswordAnswerAttemptWindowStart
’’ ,
=
’’- .
Convert
’’/ 6
.
’’6 7

ToDateTime
’’7 A
(
’’A B
reader
’’B H
[
’’H I
$str
’’I e
]
’’e f
)
’’f g
;
’’g h
}
÷÷ 
}
◊◊ 
catch
ÿÿ 	
(
ÿÿ
 
FormatException
ÿÿ 
ex
ÿÿ 
)
ÿÿ 
{
ŸŸ 
if
⁄⁄ 
(
⁄⁄ 	
log
⁄⁄	 
.
⁄⁄ 
IsErrorEnabled
⁄⁄ 
)
⁄⁄ 
{
€€ 
log
‹‹ 	
.
‹‹	 

Error
‹‹
 
(
‹‹ 
$str
‹‹ 8
,
‹‹8 9
ex
‹‹: <
)
‹‹< =
;
‹‹= >
}
›› 
}
ﬁﬁ 
	mobilePIN
‡‡ 
=
‡‡ 
reader
‡‡ 
[
‡‡ 
$str
‡‡ "
]
‡‡" #
.
‡‡# $
ToString
‡‡$ ,
(
‡‡, -
)
‡‡- .
;
‡‡. /
passwordSalt
·· 
=
·· 
reader
·· 
[
·· 
$str
·· (
]
··( )
.
··) *
ToString
··* 2
(
··2 3
)
··3 4
;
··4 5
comment
‚‚ 
=
‚‚ 
reader
‚‚ 
[
‚‚ 
$str
‚‚ 
]
‚‚ 
.
‚‚  
ToString
‚‚  (
(
‚‚( )
)
‚‚) *
;
‚‚* +
string
„„ 

confirmGuidString
„„ 
=
„„ 
reader
„„ %
[
„„% &
$str
„„& ;
]
„„; <
.
„„< =
ToString
„„= E
(
„„E F
)
„„F G
;
„„G H
if
ÂÂ 
(
ÂÂ 
confirmGuidString
ÂÂ 
.
ÂÂ 
Length
ÂÂ  
==
ÂÂ! #
$num
ÂÂ$ &
)
ÂÂ& '
{
ÊÊ !
registerConfirmGuid
ÁÁ 
=
ÁÁ 
new
ÁÁ 
Guid
ÁÁ #
(
ÁÁ# $
confirmGuidString
ÁÁ$ 5
)
ÁÁ5 6
;
ÁÁ6 7
}
ËË 
	openIDURI
ÍÍ 
=
ÍÍ 
reader
ÍÍ 
[
ÍÍ 
$str
ÍÍ "
]
ÍÍ" #
.
ÍÍ# $
ToString
ÍÍ$ ,
(
ÍÍ, -
)
ÍÍ- .
;
ÍÍ. /
windowsLiveID
ÎÎ 
=
ÎÎ 
reader
ÎÎ 
[
ÎÎ 
$str
ÎÎ *
]
ÎÎ* +
.
ÎÎ+ ,
ToString
ÎÎ, 4
(
ÎÎ4 5
)
ÎÎ5 6
;
ÎÎ6 7
siteGuid
ÏÏ 
=
ÏÏ 
new
ÏÏ 
Guid
ÏÏ 
(
ÏÏ 
reader
ÏÏ 
[
ÏÏ 
$str
ÏÏ )
]
ÏÏ) *
.
ÏÏ* +
ToString
ÏÏ+ 3
(
ÏÏ3 4
)
ÏÏ4 5
)
ÏÏ5 6
;
ÏÏ6 7
mustChangePwd
ÌÌ 
=
ÌÌ 
Convert
ÌÌ 
.
ÌÌ 
	ToBoolean
ÌÌ %
(
ÌÌ% &
reader
ÌÌ& ,
[
ÌÌ, -
$str
ÌÌ- <
]
ÌÌ< =
)
ÌÌ= >
;
ÌÌ> ?
emailChangeGuid
ÔÔ 
=
ÔÔ 
new
ÔÔ 
Guid
ÔÔ 
(
ÔÔ 
reader
ÔÔ %
[
ÔÔ% &
$str
ÔÔ& 7
]
ÔÔ7 8
.
ÔÔ8 9
ToString
ÔÔ9 A
(
ÔÔA B
)
ÔÔB C
)
ÔÔC D
;
ÔÔD E
newEmail
 
=
 
reader
 
[
 
$str
  
]
  !
.
! "
ToString
" *
(
* +
)
+ ,
;
, -

timeZoneId
ÒÒ 
=
ÒÒ 
reader
ÒÒ 
[
ÒÒ 
$str
ÒÒ $
]
ÒÒ$ %
.
ÒÒ% &
ToString
ÒÒ& .
(
ÒÒ. /
)
ÒÒ/ 0
;
ÒÒ0 1
editorPreference
ÚÚ 
=
ÚÚ 
reader
ÚÚ 
[
ÚÚ 
$str
ÚÚ 0
]
ÚÚ0 1
.
ÚÚ1 2
ToString
ÚÚ2 :
(
ÚÚ: ;
)
ÚÚ; <
;
ÚÚ< =
	firstName
ÛÛ 
=
ÛÛ 
reader
ÛÛ 
[
ÛÛ 
$str
ÛÛ "
]
ÛÛ" #
.
ÛÛ# $
ToString
ÛÛ$ ,
(
ÛÛ, -
)
ÛÛ- .
;
ÛÛ. /
lastName
ÙÙ 
=
ÙÙ 
reader
ÙÙ 
[
ÙÙ 
$str
ÙÙ  
]
ÙÙ  !
.
ÙÙ! "
ToString
ÙÙ" *
(
ÙÙ* +
)
ÙÙ+ ,
;
ÙÙ, -
passwordResetGuid
ˆˆ 
=
ˆˆ 
new
ˆˆ 
Guid
ˆˆ  
(
ˆˆ  !
reader
ˆˆ! '
[
ˆˆ' (
$str
ˆˆ( ;
]
ˆˆ; <
.
ˆˆ< =
ToString
ˆˆ= E
(
ˆˆE F
)
ˆˆF G
)
ˆˆG H
;
ˆˆH I
rolesChanged
¯¯ 
=
¯¯ 
Convert
¯¯ 
.
¯¯ 
	ToBoolean
¯¯ $
(
¯¯$ %
reader
¯¯% +
[
¯¯+ ,
$str
¯¯, :
]
¯¯: ;
)
¯¯; <
;
¯¯< =
	authorBio
˙˙ 
=
˙˙ 
reader
˙˙ 
[
˙˙ 
$str
˙˙ "
]
˙˙" #
.
˙˙# $
ToString
˙˙$ ,
(
˙˙, -
)
˙˙- .
;
˙˙. /
if
¸¸ 
(
¸¸ 
reader
¸¸ 
[
¸¸ 
$str
¸¸ 
]
¸¸ 
!=
¸¸  
DBNull
¸¸! '
.
¸¸' (
Value
¸¸( -
)
¸¸- .
{
˝˝ 
dateOfBirth
˛˛ 
=
˛˛ 
Convert
˛˛ 
.
˛˛ 

ToDateTime
˛˛ %
(
˛˛% &
reader
˛˛& ,
[
˛˛, -
$str
˛˛- :
]
˛˛: ;
)
˛˛; <
;
˛˛< =
}
ˇˇ 
emailConfirmed
ÅÅ 
=
ÅÅ 
Convert
ÅÅ 
.
ÅÅ 
	ToBoolean
ÅÅ &
(
ÅÅ& '
reader
ÅÅ' -
[
ÅÅ- .
$str
ÅÅ. >
]
ÅÅ> ?
)
ÅÅ? @
;
ÅÅ@ A
passwordFormat
ÇÇ 
=
ÇÇ 
Convert
ÇÇ 
.
ÇÇ 
ToInt32
ÇÇ $
(
ÇÇ$ %
reader
ÇÇ% +
[
ÇÇ+ ,
$str
ÇÇ, 7
]
ÇÇ7 8
,
ÇÇ8 9
CultureInfo
ÇÇ: E
.
ÇÇE F
InvariantCulture
ÇÇF V
)
ÇÇV W
;
ÇÇW X
passwordHash
ÉÉ 
=
ÉÉ 
reader
ÉÉ 
[
ÉÉ 
$str
ÉÉ (
]
ÉÉ( )
.
ÉÉ) *
ToString
ÉÉ* 2
(
ÉÉ2 3
)
ÉÉ3 4
;
ÉÉ4 5
securityStamp
ÑÑ 
=
ÑÑ 
reader
ÑÑ 
[
ÑÑ 
$str
ÑÑ *
]
ÑÑ* +
.
ÑÑ+ ,
ToString
ÑÑ, 4
(
ÑÑ4 5
)
ÑÑ5 6
;
ÑÑ6 7
phoneNumber
ÖÖ 
=
ÖÖ 
reader
ÖÖ 
[
ÖÖ 
$str
ÖÖ &
]
ÖÖ& '
.
ÖÖ' (
ToString
ÖÖ( 0
(
ÖÖ0 1
)
ÖÖ1 2
;
ÖÖ2 3"
phoneNumberConfirmed
ÜÜ 
=
ÜÜ 
Convert
ÜÜ "
.
ÜÜ" #
	ToBoolean
ÜÜ# ,
(
ÜÜ, -
reader
ÜÜ- 3
[
ÜÜ3 4
$str
ÜÜ4 J
]
ÜÜJ K
)
ÜÜK L
;
ÜÜL M
twoFactorEnabled
áá 
=
áá 
Convert
áá 
.
áá 
	ToBoolean
áá (
(
áá( )
reader
áá) /
[
áá/ 0
$str
áá0 B
]
ááB C
)
ááC D
;
ááD E
if
ââ 
(
ââ 
reader
ââ 
[
ââ 
$str
ââ "
]
ââ" #
!=
ââ$ &
DBNull
ââ' -
.
ââ- .
Value
ââ. 3
)
ââ3 4
{
ää 
lockoutEndDateUtc
ãã 
=
ãã 
Convert
ãã  
.
ãã  !

ToDateTime
ãã! +
(
ãã+ ,
reader
ãã, 2
[
ãã2 3
$str
ãã3 F
]
ããF G
)
ããG H
;
ããH I
}
åå 
}
çç 
}
éé 
private
ëë 	
bool
ëë
 
Create
ëë 
(
ëë 
)
ëë 
{
íí 
bool
ìì 
userCreated
ìì 
=
ìì 
false
ìì 
;
ìì 
int
îî 
newID
îî 
=
îî 
$num
îî 
;
îî 
userGuid
ïï 
=
ïï 
Guid
ïï 
.
ïï 
NewGuid
ïï 
(
ïï 
)
ïï 
;
ïï 
dateCreated
ññ 
=
ññ 
DateTime
ññ 
.
ññ 
UtcNow
ññ  
;
ññ  !
newID
òò 
=
òò	 


DBSiteUser
òò 
.
òò 
AddUser
òò 
(
òò 
siteGuid
ôô 
,
ôô 
siteID
öö 

,
öö
 
name
õõ 
,
õõ 	
	loginName
úú 
,
úú 
email
ùù 	
,
ùù	 

password
ûû 
,
ûû 
passwordSalt
üü 
,
üü 
userGuid
†† 
,
†† 
dateCreated
°° 
,
°° 
mustChangePwd
¢¢ 
,
¢¢ 
	firstName
££ 
,
££ 
lastName
§§ 
,
§§ 

timeZoneId
•• 
,
•• 
dateOfBirth
¶¶ 
,
¶¶ 
emailConfirmed
ßß 
,
ßß 
passwordFormat
®® 
,
®® 
passwordHash
©© 
,
©© 
securityStamp
™™ 
,
™™ 
phoneNumber
´´ 
,
´´ "
phoneNumberConfirmed
¨¨ 
,
¨¨ 
twoFactorEnabled
≠≠ 
,
≠≠ 
lockoutEndDateUtc
ÆÆ 
)
ØØ 
;
ØØ 
userCreated
±± 
=
±± 
newID
±± 
>
±± 
$num
±± 
;
±± 
if
≥≥ 
(
≥≥ 
userCreated
≥≥ 
)
≥≥ 
{
¥¥ 
userID
µµ 

=
µµ 
newID
µµ 
;
µµ 
dateCreated
∂∂ 
=
∂∂ 
DateTime
∂∂ 
.
∂∂ 
Now
∂∂ 
;
∂∂ %
lastPasswordChangedDate
∑∑ 
=
∑∑ 
DateTime
∑∑ &
.
∑∑& '
Now
∑∑' *
;
∑∑* +
Update
∫∫ 

(
∫∫
 
)
∫∫ 
;
∫∫ 
Role
ºº 
.
ºº 	#
AddUserToDefaultRoles
ºº	 
(
ºº 
this
ºº #
)
ºº# $
;
ºº$ %
}
ΩΩ 
return
øø 	
userCreated
øø
 
;
øø 
}
¿¿ 
private
√√ 	
bool
√√
 
Update
√√ 
(
√√ 
)
√√ 
{
ƒƒ 
int
∆∆ 
legacyTimeOffset
∆∆ 
=
∆∆ 
$num
∆∆ 
;
∆∆ 
bool
»» 
userUpdated
»» 
=
»» 

DBSiteUser
»»  
.
»»  !

UpdateUser
»»! +
(
»»+ ,
userID
…… 

,
……
 
name
   
,
   	
	loginName
ÀÀ 
,
ÀÀ 
email
ÃÃ 	
,
ÃÃ	 

password
ÕÕ 
,
ÕÕ 
passwordSalt
ŒŒ 
,
ŒŒ 
gender
œœ 

,
œœ
 
profileApproved
–– 
,
–– 
approvedForForums
—— 
,
—— 
trusted
““ 
,
““ !
displayInMemberList
”” 
,
”” 

webSiteUrl
‘‘ 
,
‘‘ 
country
’’ 
,
’’ 
state
÷÷ 	
,
÷÷	 


occupation
◊◊ 
,
◊◊ 
	interests
ÿÿ 
,
ÿÿ 
msn
ŸŸ 
,
ŸŸ 
yahoo
⁄⁄ 	
,
⁄⁄	 

aim
€€ 
,
€€ 
icq
‹‹ 
,
‹‹ 
	avatarUrl
›› 
,
›› 
	signature
ﬁﬁ 
,
ﬁﬁ 
skin
ﬂﬂ 
,
ﬂﬂ 	
email
‡‡ 	
.
‡‡	 

ToLower
‡‡
 
(
‡‡ 
)
‡‡ 
,
‡‡ 
passwordQuestion
·· 
,
·· 
passwordAnswer
‚‚ 
,
‚‚ 
comment
„„ 
,
„„ 
legacyTimeOffset
‰‰ 
,
‰‰ 
	openIDURI
ÂÂ 
,
ÂÂ 
windowsLiveID
ÊÊ 
,
ÊÊ 
mustChangePwd
ÁÁ 
,
ÁÁ 
	firstName
ËË 
,
ËË 
lastName
ÈÈ 
,
ÈÈ 

timeZoneId
ÍÍ 
,
ÍÍ 
editorPreference
ÎÎ 
,
ÎÎ 
newEmail
ÏÏ 
,
ÏÏ 
emailChangeGuid
ÌÌ 
,
ÌÌ 
passwordResetGuid
ÓÓ 
,
ÓÓ 
rolesChanged
ÔÔ 
,
ÔÔ 
	authorBio
 
,
 
dateOfBirth
ÒÒ 
,
ÒÒ 
emailConfirmed
ÚÚ 
,
ÚÚ 
passwordFormat
ÛÛ 
,
ÛÛ 
passwordHash
ÙÙ 
,
ÙÙ 
securityStamp
ıı 
,
ıı 
phoneNumber
ˆˆ 
,
ˆˆ "
phoneNumberConfirmed
˜˜ 
,
˜˜ 
twoFactorEnabled
¯¯ 
,
¯¯ 
lockoutEndDateUtc
˘˘ 
)
˙˙ 
;
˙˙ 
return
¸¸ 	
userUpdated
¸¸
 
;
¸¸ 
}
˝˝ 
private
Ä	Ä	 	
void
Ä	Ä	
 
	LoadRoles
Ä	Ä	 
(
Ä	Ä	 
)
Ä	Ä	 
{
Å	Å	 
using
Ç	Ç	 
(
Ç	Ç		 

IDataReader
Ç	Ç	
 
reader
Ç	Ç	 
=
Ç	Ç	 
GetRolesByUser
Ç	Ç	 -
(
Ç	Ç	- .
siteID
Ç	Ç	. 4
,
Ç	Ç	4 5
userID
Ç	Ç	6 <
)
Ç	Ç	< =
)
Ç	Ç	= >
{
É	É	 
while
Ñ	Ñ	 	
(
Ñ	Ñ	
 
reader
Ñ	Ñ	 
.
Ñ	Ñ	 
Read
Ñ	Ñ	 
(
Ñ	Ñ	 
)
Ñ	Ñ	 
)
Ñ	Ñ	 
{
Ö	Ö	 
	userRoles
Ü	Ü	 
.
Ü	Ü	 
Add
Ü	Ü	 
(
Ü	Ü	 
reader
Ü	Ü	 
[
Ü	Ü	 
$str
Ü	Ü	 $
]
Ü	Ü	$ %
.
Ü	Ü	% &
ToString
Ü	Ü	& .
(
Ü	Ü	. /
)
Ü	Ü	/ 0
.
Ü	Ü	0 1
Trim
Ü	Ü	1 5
(
Ü	Ü	5 6
)
Ü	Ü	6 7
)
Ü	Ü	7 8
;
Ü	Ü	8 9
}
á	á	 
rolesLoaded
â	â	 
=
â	â	 
true
â	â	 
;
â	â	 
}
ä	ä	 
}
ã	ã	 
public
í	í	 
bool
í	í		 
Save
í	í	 
(
í	í	 
)
í	í	 
{
ì	ì	 
if
î	î	 
(
î	î	 
userID
î	î	 
>
î	î	 
-
î	î	 
$num
î	î	 
)
î	î	 
{
ï	ï	 
return
ñ	ñ	 

Update
ñ	ñ	 
(
ñ	ñ	 
)
ñ	ñ	 
;
ñ	ñ	 
}
ó	ó	 
else
ò	ò	 
{
ô	ô	 
return
ö	ö	 

Create
ö	ö	 
(
ö	ö	 
)
ö	ö	 
;
ö	ö	 
}
õ	õ	 
}
ú	ú	 
public
ü	ü	 
bool
ü	ü		 
IsValid
ü	ü	 
(
ü	ü	 
)
ü	ü	 
{
†	†	 
return
°	°	 	
(
°	°	
 
GetRuleViolations
°	°	 
(
°	°	 
)
°	°	 
.
°	°	 
Count
°	°	 $
(
°	°	$ %
)
°	°	% &
==
°	°	' )
$num
°	°	* +
)
°	°	+ ,
;
°	°	, -
}
¢	¢	 
public
•	•	 
IEnumerable
•	•		 
<
•	•	 
RuleViolation
•	•	 "
>
•	•	" #
GetRuleViolations
•	•	$ 5
(
•	•	5 6
)
•	•	6 7
{
¶	¶	 
if
©	©	 
(
©	©	 
string
©	©	 
.
©	©	 
IsNullOrEmpty
©	©	 
(
©	©	 
	loginName
©	©	 %
)
©	©	% &
)
©	©	& '
{
™	™	 
yield
´	´	 	
return
´	´	
 
new
´	´	 
RuleViolation
´	´	 "
(
´	´	" #
	Resources
´	´	# ,
.
´	´	, -#
SiteUserLoginRequired
´	´	- B
)
´	´	B C
;
´	´	C D
}
¨	¨	 
if
Æ	Æ	 
(
Æ	Æ	 
string
Æ	Æ	 
.
Æ	Æ	 
IsNullOrEmpty
Æ	Æ	 
(
Æ	Æ	 
email
Æ	Æ	 !
)
Æ	Æ	! "
)
Æ	Æ	" #
{
Ø	Ø	 
yield
∞	∞	 	
return
∞	∞	
 
new
∞	∞	 
RuleViolation
∞	∞	 "
(
∞	∞	" #
	Resources
∞	∞	# ,
.
∞	∞	, -%
SiteUserEmailIsRequired
∞	∞	- D
)
∞	∞	D E
;
∞	∞	E F
}
±	±	 
if
≥	≥	 
(
≥	≥	 
!
≥	≥	 
RegexHelper
≥	≥	 
.
≥	≥	 '
IsValidEmailAddressSyntax
≥	≥	 -
(
≥	≥	- .
email
≥	≥	. 3
)
≥	≥	3 4
)
≥	≥	4 5
{
¥	¥	 
yield
µ	µ	 	
return
µ	µ	
 
new
µ	µ	 
RuleViolation
µ	µ	 "
(
µ	µ	" #
	Resources
µ	µ	# ,
.
µ	µ	, -(
SiteUserInvalidEmailFormat
µ	µ	- G
)
µ	µ	G H
;
µ	µ	H I
}
∂	∂	 
yield
∫	∫	 
break
∫	∫		 
;
∫	∫	 
}
ª	ª	 
public
æ	æ	 
bool
æ	æ		 

DeleteUser
æ	æ	 
(
æ	æ	 
)
æ	æ	 
{
ø	ø	 
if
¿	¿	 
(
¿	¿	 
siteSettings
¿	¿	 
.
¿	¿	 
ReallyDeleteUsers
¿	¿	 %
)
¿	¿	% &
{
¡	¡	 "
SubscriberRepository
¬	¬	 
subscriptions
¬	¬	 &
=
¬	¬	' (
new
¬	¬	) ,"
SubscriberRepository
¬	¬	- A
(
¬	¬	A B
)
¬	¬	B C
;
¬	¬	C D
List
ƒ	ƒ	 
<
ƒ	ƒ	 	
LetterSubscriber
ƒ	ƒ		 
>
ƒ	ƒ	 
subs
ƒ	ƒ	 
=
ƒ	ƒ	  !
subscriptions
ƒ	ƒ	" /
.
ƒ	ƒ	/ 0
GetListByUser
ƒ	ƒ	0 =
(
ƒ	ƒ	= >
siteSettings
ƒ	ƒ	> J
.
ƒ	ƒ	J K
SiteGuid
ƒ	ƒ	K S
,
ƒ	ƒ	S T
userGuid
ƒ	ƒ	U ]
)
ƒ	ƒ	] ^
;
ƒ	ƒ	^ _
foreach
≈	≈	 
(
≈	≈	 
LetterSubscriber
≈	≈	 
subscription
≈	≈	 *
in
≈	≈	+ -
subs
≈	≈	. 2
)
≈	≈	2 3
{
∆	∆	 
subscriptions
«	«	 
.
«	«	 
Delete
«	«	 
(
«	«	 
subscription
«	«	 &
)
«	«	& '
;
«	«	' (

LetterInfo
»	»	 
.
»	»	 #
UpdateSubscriberCount
»	»	 %
(
»	»	% &
subscription
»	»	& 2
.
»	»	2 3
LetterInfoGuid
»	»	3 A
)
»	»	A B
;
»	»	B C
}
…	…	 
UserLocation
À	À	 
.
À	À	 
DeleteByUser
À	À	 
(
À	À	 
userGuid
À	À	 &
)
À	À	& '
;
À	À	' (
UserPage
Ã	Ã	 
.
Ã	Ã	 
DeleteByUser
Ã	Ã	 
(
Ã	Ã	 
userGuid
Ã	Ã	 "
)
Ã	Ã	" #
;
Ã	Ã	# $

DBSiteUser
Õ	Õ	 
.
Õ	Õ	 $
DeletePropertiesByUser
Õ	Õ	 %
(
Õ	Õ	% &
userGuid
Õ	Õ	& .
)
Õ	Õ	. /
;
Õ	Õ	/ 0
var
œ	œ	 
result
œ	œ	 
=
œ	œ	 

DBSiteUser
œ	œ	 
.
œ	œ	 

DeleteUser
œ	œ	 &
(
œ	œ	& '
userID
œ	œ	' -
)
œ	œ	- .
;
œ	œ	. /
if
—	—	 
(
—	—	 
result
—	—	 
)
—	—	 
{
“	“	 
Role
”	”	 	
.
”	”		 

DeleteUserRoles
”	”	
 
(
”	”	 
userID
”	”	  
)
”	”	  !
;
”	”	! "
}
‘	‘	 
return
÷	÷	 

result
÷	÷	 
;
÷	÷	 
}
◊	◊	 
else
ÿ	ÿ	 
{
Ÿ	Ÿ	 
return
⁄	⁄	 


DBSiteUser
⁄	⁄	 
.
⁄	⁄	 
FlagAsDeleted
⁄	⁄	 #
(
⁄	⁄	# $
userID
⁄	⁄	$ *
)
⁄	⁄	* +
;
⁄	⁄	+ ,
}
€	€	 
}
‹	‹	 
public
ﬁ	ﬁ	 
bool
ﬁ	ﬁ		 
UndeleteUser
ﬁ	ﬁ	 
(
ﬁ	ﬁ	 
)
ﬁ	ﬁ	 
{
ﬂ	ﬂ	 
return
‡	‡	 	

DBSiteUser
‡	‡	
 
.
‡	‡	 
FlagAsNotDeleted
‡	‡	 %
(
‡	‡	% &
userID
‡	‡	& ,
)
‡	‡	, -
;
‡	‡	- .
}
·	·	 
public
„	„	 
bool
„	„		 $
UpdateLastActivityTime
„	„	 $
(
„	„	$ %
)
„	„	% &
{
‰	‰	 
return
Â	Â	 	

DBSiteUser
Â	Â	
 
.
Â	Â	 $
UpdateLastActivityTime
Â	Â	 +
(
Â	Â	+ ,
userGuid
Â	Â	, 4
,
Â	Â	4 5
DateTime
Â	Â	6 >
.
Â	Â	> ?
UtcNow
Â	Â	? E
)
Â	Â	E F
;
Â	Â	F G
}
Ê	Ê	 
public
Ë	Ë	 
bool
Ë	Ë		 !
UpdateLastLoginTime
Ë	Ë	 !
(
Ë	Ë	! "
)
Ë	Ë	" #
{
È	È	 
return
Í	Í	 	

DBSiteUser
Í	Í	
 
.
Í	Í	 !
UpdateLastLoginTime
Í	Í	 (
(
Í	Í	( )
userGuid
Í	Í	) 1
,
Í	Í	1 2
DateTime
Í	Í	3 ;
.
Í	Í	; <
UtcNow
Í	Í	< B
)
Í	Í	B C
;
Í	Í	C D
}
Î	Î	 
public
Ì	Ì	 
bool
Ì	Ì		 
LockoutAccount
Ì	Ì	 
(
Ì	Ì	 
)
Ì	Ì	 
{
Ó	Ó	 
return
Ô	Ô	 	

DBSiteUser
Ô	Ô	
 
.
Ô	Ô	 
AccountLockout
Ô	Ô	 #
(
Ô	Ô	# $
userGuid
Ô	Ô	$ ,
,
Ô	Ô	, -
DateTime
Ô	Ô	. 6
.
Ô	Ô	6 7
UtcNow
Ô	Ô	7 =
)
Ô	Ô	= >
;
Ô	Ô	> ?
}
		 
public
Ú	Ú	 
bool
Ú	Ú		 
UnlockAccount
Ú	Ú	 
(
Ú	Ú	 
)
Ú	Ú	 
{
Û	Û	 
return
Ù	Ù	 	

DBSiteUser
Ù	Ù	
 
.
Ù	Ù	 !
AccountClearLockout
Ù	Ù	 (
(
Ù	Ù	( )
userGuid
Ù	Ù	) 1
)
Ù	Ù	1 2
;
Ù	Ù	2 3
}
ı	ı	 
public
˜	˜	 
bool
˜	˜		 -
UpdatePasswordQuestionAndAnswer
˜	˜	 -
(
˜	˜	- .
string
˜	˜	. 4
newQuestion
˜	˜	5 @
,
˜	˜	@ A
string
˜	˜	B H
	newAnswer
˜	˜	I R
)
˜	˜	R S
{
¯	¯	 
return
˘	˘	 	

DBSiteUser
˘	˘	
 
.
˘	˘	 -
UpdatePasswordQuestionAndAnswer
˘	˘	 4
(
˘	˘	4 5
userGuid
˘	˘	5 =
,
˘	˘	= >
newQuestion
˘	˘	? J
,
˘	˘	J K
	newAnswer
˘	˘	L U
)
˘	˘	U V
;
˘	˘	V W
}
˙	˙	 
public
¸	¸	 
bool
¸	¸		 *
UpdateLastPasswordChangeTime
¸	¸	 *
(
¸	¸	* +
)
¸	¸	+ ,
{
˝	˝	 
return
˛	˛	 	

DBSiteUser
˛	˛	
 
.
˛	˛	 *
UpdateLastPasswordChangeTime
˛	˛	 1
(
˛	˛	1 2
userGuid
˛	˛	2 :
,
˛	˛	: ;
DateTime
˛	˛	< D
.
˛	˛	D E
UtcNow
˛	˛	E K
)
˛	˛	K L
;
˛	˛	L M
}
ˇ	ˇ	 
public
Å
Å
 
void
Å
Å
	 '
IncrementPasswordAttempts
Å
Å
 '
(
Å
Å
' (
SiteSettings
Å
Å
( 4
siteSettings
Å
Å
5 A
)
Å
Å
A B
{
Ç
Ç
 
if
É
É
 
(
É
É
 
siteSettings
É
É
 
==
É
É
 
null
É
É
 
)
É
É
 
{
Ñ
Ñ
 
return
Ö
Ö
 

;
Ö
Ö

 
}
Ü
Ü
 
if
à
à
 
(
à
à
 
(
â
â
 (
failedPasswordAttemptCount
â
â
 
==
â
â
  "
$num
â
â
# $
)
â
â
$ %
||
â
â
& (
(
ä
ä
 .
 failedPasswordAttemptWindowStart
ä
ä
 %
.
ä
ä
% &

AddMinutes
ä
ä
& 0
(
ä
ä
0 1
siteSettings
ä
ä
1 =
.
ä
ä
= >*
PasswordAttemptWindowMinutes
ä
ä
> Z
)
ä
ä
Z [
<
ä
ä
\ ]
DateTime
ä
ä
^ f
.
ä
ä
f g
UtcNow
ä
ä
g m
)
ä
ä
m n
)
ã
ã
 
{
å
å
 .
 failedPasswordAttemptWindowStart
ç
ç
 $
=
ç
ç
% &
DateTime
ç
ç
' /
.
ç
ç
/ 0
UtcNow
ç
ç
0 6
;
ç
ç
6 7

DBSiteUser
é
é
 
.
é
é
 4
&UpdateFailedPasswordAttemptStartWindow
é
é
 5
(
é
é
5 6
userGuid
é
é
6 >
,
é
é
> ?.
 failedPasswordAttemptWindowStart
é
é
@ `
)
é
é
` a
;
é
é
a b(
failedPasswordAttemptCount
è
è
 
=
è
è
  
$num
è
è
! "
;
è
è
" #
}
ê
ê
 
else
ë
ë
 
{
í
í
 (
failedPasswordAttemptCount
ì
ì
 
+=
ì
ì
 !
$num
ì
ì
" #
;
ì
ì
# $
}
î
î
 

DBSiteUser
ñ
ñ
 
.
ñ
ñ
 .
 UpdateFailedPasswordAttemptCount
ñ
ñ
 .
(
ñ
ñ
. /
userGuid
ñ
ñ
/ 7
,
ñ
ñ
7 8(
failedPasswordAttemptCount
ñ
ñ
9 S
)
ñ
ñ
S T
;
ñ
ñ
T U
}
û
û
 
public
°
°
 
void
°
°
	 -
IncrementPasswordAnswerAttempts
°
°
 -
(
°
°
- .
SiteSettings
°
°
. :
siteSettings
°
°
; G
)
°
°
G H
{
¢
¢
 
if
£
£
 
(
£
£
 
siteSettings
£
£
 
!=
£
£
 
null
£
£
 
)
£
£
 
{
§
§
 
if
•
•
 
(
•
•
 
(
¶
¶
 .
 failedPasswordAnswerAttemptCount
¶
¶
 &
==
¶
¶
' )
$num
¶
¶
* +
)
¶
¶
+ ,
||
¶
¶
- /
(
ß
ß
 4
&FailedPasswordAnswerAttemptWindowStart
ß
ß
 ,
.
ß
ß
, -

AddMinutes
ß
ß
- 7
(
ß
ß
7 8
siteSettings
ß
ß
8 D
.
ß
ß
D E*
PasswordAttemptWindowMinutes
ß
ß
E a
)
ß
ß
a b
<
ß
ß
c d
DateTime
ß
ß
e m
.
ß
ß
m n
UtcNow
ß
ß
n t
)
ß
ß
t u
)
®
®
 
{
©
©
 4
&failedPasswordAnswerAttemptWindowStart
™
™
 +
=
™
™
, -
DateTime
™
™
. 6
.
™
™
6 7
UtcNow
™
™
7 =
;
™
™
= >

DBSiteUser
¨
¨
 
.
¨
¨
 :
,UpdateFailedPasswordAnswerAttemptStartWindow
¨
¨
 <
(
¨
¨
< =
userGuid
¨
¨
= E
,
¨
¨
E F4
&failedPasswordAnswerAttemptWindowStart
¨
¨
G m
)
¨
¨
m n
;
¨
¨
n o.
 failedPasswordAnswerAttemptCount
Æ
Æ
 %
=
Æ
Æ
& '
$num
Æ
Æ
( )
;
Æ
Æ
) *
}
Ø
Ø
 
else
∞
∞
 
{
±
±
 .
 failedPasswordAnswerAttemptCount
≤
≤
 %
+=
≤
≤
& (
$num
≤
≤
) *
;
≤
≤
* +
}
≥
≥
 

DBSiteUser
µ
µ
 
.
µ
µ
 4
&UpdateFailedPasswordAnswerAttemptCount
µ
µ
 5
(
µ
µ
5 6
userGuid
µ
µ
6 >
,
µ
µ
> ?.
 failedPasswordAnswerAttemptCount
µ
µ
@ `
)
µ
µ
` a
;
µ
µ
a b
}
Ω
Ω
 
}
æ
æ
 
public
¡
¡
 
bool
¡
¡
	 -
SetRegistrationConfirmationGuid
¡
¡
 -
(
¡
¡
- .
Guid
¡
¡
. 2
registrationGuid
¡
¡
3 C
)
¡
¡
C D
{
¬
¬
 
if
√
√
 
(
√
√
 
registrationGuid
√
√
 
==
√
√
 
Guid
√
√
 
.
√
√
  
Empty
√
√
  %
)
√
√
% &
{
ƒ
ƒ
 
return
À
À
 

false
À
À
 
;
À
À
 
}
Ã
Ã
 !
registerConfirmGuid
Œ
Œ
 
=
Œ
Œ
 
registrationGuid
Œ
Œ
 )
;
Œ
Œ
) *
return
–
–
 	

DBSiteUser
–
–

 
.
–
–
 -
SetRegistrationConfirmationGuid
–
–
 4
(
–
–
4 5
userGuid
–
–
5 =
,
–
–
= >
registrationGuid
–
–
? O
)
–
–
O P
;
–
–
P Q
}
—
—
 
public
‘
‘
 
bool
‘
‘
	 
	IsInRoles
‘
‘
 
(
‘
‘
 
string
‘
‘
 )
semicolonSeparatedRoleNames
‘
‘
 :
)
‘
‘
: ;
{
’
’
 
if
÷
÷
 
(
÷
÷
 
string
÷
÷
 
.
÷
÷
 
IsNullOrEmpty
÷
÷
 
(
÷
÷
 )
semicolonSeparatedRoleNames
÷
÷
 7
)
÷
÷
7 8
)
÷
÷
8 9
{
◊
◊
 
return
ÿ
ÿ
 

false
ÿ
ÿ
 
;
ÿ
ÿ
 
}
Ÿ
Ÿ
 
if
€
€
 
(
€
€
 
!
€
€
 
rolesLoaded
€
€
 
)
€
€
 
{
‹
‹
 
	LoadRoles
›
›
 
(
›
›
 
)
›
›
 
;
›
›
 
}
ﬁ
ﬁ
 
foreach
‡
‡
 

(
‡
‡
 
string
‡
‡
 
roleToCheck
‡
‡
 
in
‡
‡
 !)
semicolonSeparatedRoleNames
‡
‡
" =
.
‡
‡
= >
Split
‡
‡
> C
(
‡
‡
C D
new
‡
‡
D G
char
‡
‡
H L
[
‡
‡
L M
]
‡
‡
M N
{
‡
‡
O P
$char
‡
‡
Q T
}
‡
‡
U V
)
‡
‡
V W
)
‡
‡
W X
{
·
·
 
foreach
‚
‚
 
(
‚
‚
 
string
‚
‚
 
userRole
‚
‚
 
in
‚
‚
 
	userRoles
‚
‚
  )
)
‚
‚
) *
{
„
„
 
int
‰
‰
 
compareResult
‰
‰
	 
=
‰
‰
 
string
‰
‰
 
.
‰
‰
  
Compare
‰
‰
  '
(
‰
‰
' (
roleToCheck
‰
‰
( 3
.
‰
‰
3 4
Trim
‰
‰
4 8
(
‰
‰
8 9
)
‰
‰
9 :
,
‰
‰
: ;
userRole
‰
‰
< D
,
‰
‰
D E
true
‰
‰
F J
,
‰
‰
J K
CultureInfo
‰
‰
L W
.
‰
‰
W X
InvariantCulture
‰
‰
X h
)
‰
‰
h i
;
‰
‰
i j
if
Î
Î
 
(
Î
Î
 	
compareResult
Î
Î
	 
==
Î
Î
 
$num
Î
Î
 
)
Î
Î
 
{
Ï
Ï
 
return
Ì
Ì
 
true
Ì
Ì
 
;
Ì
Ì
 
}
Ó
Ó
 
}
Ô
Ô
 
}


 
return
Ú
Ú
 	
false
Ú
Ú

 
;
Ú
Ú
 
}
Û
Û
 
public
¯
¯
 
void
¯
¯
	 
SetProperty
¯
¯
 
(
¯
¯
 
string
¯
¯
  
propertyName
¯
¯
! -
,
¯
¯
- .
string
¯
¯
/ 5
propertyValue
¯
¯
6 C
)
¯
¯
C D
{
˘
˘
 
SetProperty
˙
˙
 
(
˙
˙
 
propertyName
˙
˙
 
,
˙
˙
 
propertyValue
˙
˙
 *
,
˙
˙
* +!
SettingsSerializeAs
˙
˙
, ?
.
˙
˙
? @
String
˙
˙
@ F
)
˙
˙
F G
;
˙
˙
G H
}
˚
˚
 
public
˝
˝
 
void
˝
˝
	 
SetProperty
˝
˝
 
(
˝
˝
 
string
˝
˝
  
propertyName
˝
˝
! -
,
˝
˝
- .
object
˝
˝
/ 5
propertyValue
˝
˝
6 C
,
˝
˝
C D!
SettingsSerializeAs
˝
˝
E X
serializeAs
˝
˝
Y d
)
˝
˝
d e
{
˛
˛
 
bool
ˇ
ˇ
 
lazyLoad
ˇ
ˇ
 
=
ˇ
ˇ
 
false
ˇ
ˇ
 
;
ˇ
ˇ
 
SetProperty
ÄÄ 
(
ÄÄ 
propertyName
ÄÄ 
,
ÄÄ 
propertyValue
ÄÄ *
,
ÄÄ* +
serializeAs
ÄÄ, 7
,
ÄÄ7 8
lazyLoad
ÄÄ9 A
)
ÄÄA B
;
ÄÄB C
}
ÅÅ 
public
ÑÑ 
void
ÑÑ	 
SetProperty
ÑÑ 
(
ÑÑ 
string
ÑÑ  
propertyName
ÑÑ! -
,
ÑÑ- .
object
ÑÑ/ 5
propertyValue
ÑÑ6 C
,
ÑÑC D!
SettingsSerializeAs
ÑÑE X
serializeAs
ÑÑY d
,
ÑÑd e
bool
ÑÑf j
lazyLoad
ÑÑk s
)
ÑÑs t
{
ÖÖ 
switch
ÜÜ 	
(
ÜÜ
 
propertyName
ÜÜ 
)
ÜÜ 
{
áá 
case
åå 
$str
åå	 
:
åå 
break
éé 

;
éé
 
case
êê 
$str
êê	 
:
êê 
break
íí 

;
íí
 
case
îî 
$str
îî	 
:
îî 
break
ññ 

;
ññ
 
case
òò 
$str
òò	 
:
òò 
break
öö 

;
öö
 
case
úú 
$str
úú	 
:
úú 
break
ûû 

;
ûû
 
case
†† 
$str
††	 
:
†† 
if
°° 
(
°° 	
propertyValue
°°	 
is
°° 
string
°°  
)
°°  !
{
¢¢ 

TimeZoneId
££ 
=
££ 
propertyValue
££  
.
££  !
ToString
££! )
(
££) *
)
££* +
;
££+ ,
Save
§§ 

(
§§
 
)
§§ 
;
§§ 
}
•• 
break
¶¶ 

;
¶¶
 
case
®® 
$str
®®	 
:
®® 
if
©© 
(
©© 	
propertyValue
©©	 
is
©© 
string
©©  
)
©©  !
{
™™ 
	FirstName
´´ 
=
´´ 
propertyValue
´´ 
.
´´  
ToString
´´  (
(
´´( )
)
´´) *
;
´´* +
Save
¨¨ 

(
¨¨
 
)
¨¨ 
;
¨¨ 
}
≠≠ 
break
ÆÆ 

;
ÆÆ
 
case
∞∞ 
$str
∞∞	 
:
∞∞ 
if
±± 
(
±± 	
propertyValue
±±	 
is
±± 
string
±±  
)
±±  !
{
≤≤ 
LastName
≥≥ 
=
≥≥ 
propertyValue
≥≥ 
.
≥≥ 
ToString
≥≥ '
(
≥≥' (
)
≥≥( )
;
≥≥) *
Save
¥¥ 

(
¥¥
 
)
¥¥ 
;
¥¥ 
}
µµ 
break
∂∂ 

;
∂∂
 
case
∏∏ 
$str
∏∏	 
:
∏∏ 
if
ππ 
(
ππ 	
propertyValue
ππ	 
is
ππ 
string
ππ  
)
ππ  !
{
∫∫ 
PhoneNumber
ªª 
=
ªª 
propertyValue
ªª !
.
ªª! "
ToString
ªª" *
(
ªª* +
)
ªª+ ,
;
ªª, -
Save
ºº 

(
ºº
 
)
ºº 
;
ºº 
}
ΩΩ 
break
ææ 

;
ææ
 
case
¿¿ 
$str
¿¿	 
:
¿¿ 
if
¡¡ 
(
¡¡ 	
propertyValue
¡¡	 
is
¡¡ 
string
¡¡  
)
¡¡  !
{
¬¬ 
	AuthorBio
√√ 
=
√√ 
propertyValue
√√ 
.
√√  
ToString
√√  (
(
√√( )
)
√√) *
;
√√* +
Save
ƒƒ 

(
ƒƒ
 
)
ƒƒ 
;
ƒƒ 
}
≈≈ 
break
∆∆ 

;
∆∆
 
case
»» 
$str
»»	 
:
»» 
if
…… 
(
…… 	
propertyValue
……	 
is
…… 
string
……  
)
……  !
{
   
Name
ÀÀ 

=
ÀÀ 
propertyValue
ÀÀ 
.
ÀÀ 
ToString
ÀÀ #
(
ÀÀ# $
)
ÀÀ$ %
;
ÀÀ% &
Save
ÃÃ 

(
ÃÃ
 
)
ÃÃ 
;
ÃÃ 
}
ÕÕ 
break
ŒŒ 

;
ŒŒ
 
case
–– 
$str
––	 
:
–– 
break
““ 

;
““
 
case
‘‘ 
$str
‘‘	 
:
‘‘ 
break
÷÷ 

;
÷÷
 
case
ÿÿ 
$str
ÿÿ	 
:
ÿÿ 
break
⁄⁄ 

;
⁄⁄
 
case
‹‹ 
$str
‹‹	 
:
‹‹ 
if
›› 
(
›› 	
propertyValue
››	 
is
›› 
string
››  
)
››  !
{
ﬁﬁ 
Gender
ﬂﬂ 
=
ﬂﬂ 
propertyValue
ﬂﬂ 
.
ﬂﬂ 
ToString
ﬂﬂ %
(
ﬂﬂ% &
)
ﬂﬂ& '
;
ﬂﬂ' (
Save
‡‡ 

(
‡‡
 
)
‡‡ 
;
‡‡ 
}
·· 
break
‚‚ 

;
‚‚
 
case
‰‰ 
$str
‰‰	 
:
‰‰ 
break
ÊÊ 

;
ÊÊ
 
case
ËË 
$str
ËË	 
:
ËË 
break
ÍÍ 

;
ÍÍ
 
case
ÏÏ 
$str
ÏÏ	 
:
ÏÏ 
break
ÓÓ 

;
ÓÓ
 
case
 
$str
	 
:
 
break
ÚÚ 

;
ÚÚ
 
case
ÙÙ 
$str
ÙÙ	 
:
ÙÙ 
if
ıı 
(
ıı 	
propertyValue
ıı	 
is
ıı 
string
ıı  
)
ıı  !
{
ˆˆ 

WebSiteUrl
˜˜ 
=
˜˜ 
propertyValue
˜˜  
.
˜˜  !
ToString
˜˜! )
(
˜˜) *
)
˜˜* +
;
˜˜+ ,
if
˘˘ 
(
˘˘	 


webSiteUrl
˘˘
 
.
˘˘ 
Length
˘˘ 
>
˘˘ 
$num
˘˘ !
)
˘˘! "
{
˙˙ 

webSiteUrl
˚˚ 
=
˚˚ 

webSiteUrl
˚˚ 
.
˚˚ 
	Substring
˚˚ (
(
˚˚( )
$num
˚˚) *
,
˚˚* +
$num
˚˚, /
)
˚˚/ 0
;
˚˚0 1
}
¸¸ 
Save
˛˛ 

(
˛˛
 
)
˛˛ 
;
˛˛ 
}
ˇˇ 
break
ÄÄ 

;
ÄÄ
 
case
ÇÇ 
$str
ÇÇ	 
:
ÇÇ 
if
ÉÉ 
(
ÉÉ 	
propertyValue
ÉÉ	 
is
ÉÉ 
string
ÉÉ  
)
ÉÉ  !
{
ÑÑ 
Country
ÖÖ 
=
ÖÖ 
propertyValue
ÖÖ 
.
ÖÖ 
ToString
ÖÖ &
(
ÖÖ& '
)
ÖÖ' (
;
ÖÖ( )
if
áá 
(
áá	 

country
áá
 
.
áá 
Length
áá 
>
áá 
$num
áá 
)
áá 
{
àà 
country
ââ 
=
ââ 
country
ââ 
.
ââ 
	Substring
ââ "
(
ââ" #
$num
ââ# $
,
ââ$ %
$num
ââ& )
)
ââ) *
;
ââ* +
}
ää 
Save
åå 

(
åå
 
)
åå 
;
åå 
}
çç 
break
éé 

;
éé
 
case
êê 
$str
êê	 
:
êê 
if
ëë 
(
ëë 	
propertyValue
ëë	 
is
ëë 
string
ëë  
)
ëë  !
{
íí 
State
ìì 
=
ìì 
propertyValue
ìì 
.
ìì 
ToString
ìì $
(
ìì$ %
)
ìì% &
;
ìì& '
if
ïï 
(
ïï	 

state
ïï
 
.
ïï 
Length
ïï 
>
ïï 
$num
ïï 
)
ïï 
{
ññ 
state
óó 
=
óó 
state
óó 
.
óó 
	Substring
óó 
(
óó 
$num
óó  
,
óó  !
$num
óó" %
)
óó% &
;
óó& '
}
òò 
Save
öö 

(
öö
 
)
öö 
;
öö 
}
õõ 
break
úú 

;
úú
 
case
ûû 
$str
ûû	 
:
ûû 
if
üü 
(
üü 	
propertyValue
üü	 
is
üü 
string
üü  
)
üü  !
{
†† 

Occupation
°° 
=
°° 
propertyValue
°°  
.
°°  !
ToString
°°! )
(
°°) *
)
°°* +
;
°°+ ,
if
££ 
(
££	 


occupation
££
 
.
££ 
Length
££ 
>
££ 
$num
££ !
)
££! "
{
§§ 

occupation
•• 
=
•• 

occupation
•• 
.
•• 
	Substring
•• (
(
••( )
$num
••) *
,
••* +
$num
••, /
)
••/ 0
;
••0 1
}
¶¶ 
Save
®® 

(
®®
 
)
®® 
;
®® 
}
©© 
break
™™ 

;
™™
 
case
¨¨ 
$str
¨¨	 
:
¨¨ 
if
≠≠ 
(
≠≠ 	
propertyValue
≠≠	 
is
≠≠ 
string
≠≠  
)
≠≠  !
{
ÆÆ 
	Interests
ØØ 
=
ØØ 
propertyValue
ØØ 
.
ØØ  
ToString
ØØ  (
(
ØØ( )
)
ØØ) *
;
ØØ* +
if
±± 
(
±±	 

	interests
±±
 
.
±± 
Length
±± 
>
±± 
$num
±±  
)
±±  !
{
≤≤ 
	interests
≥≥ 
=
≥≥ 
	interests
≥≥ 
.
≥≥ 
	Substring
≥≥ &
(
≥≥& '
$num
≥≥' (
,
≥≥( )
$num
≥≥* -
)
≥≥- .
;
≥≥. /
}
¥¥ 
Save
∂∂ 

(
∂∂
 
)
∂∂ 
;
∂∂ 
}
∑∑ 
break
∏∏ 

;
∏∏
 
case
∫∫ 
$str
∫∫	 
:
∫∫ 
if
ªª 
(
ªª 	
propertyValue
ªª	 
is
ªª 
string
ªª  
)
ªª  !
{
ºº 
MSN
ΩΩ 	
=
ΩΩ
 
propertyValue
ΩΩ 
.
ΩΩ 
ToString
ΩΩ "
(
ΩΩ" #
)
ΩΩ# $
;
ΩΩ$ %
if
øø 
(
øø	 

msn
øø
 
.
øø 
Length
øø 
>
øø 
$num
øø 
)
øø 
{
¿¿ 
msn
¡¡ 

=
¡¡ 
msn
¡¡ 
.
¡¡ 
	Substring
¡¡ 
(
¡¡ 
$num
¡¡ 
,
¡¡ 
$num
¡¡  
)
¡¡  !
;
¡¡! "
}
¬¬ 
Save
ƒƒ 

(
ƒƒ
 
)
ƒƒ 
;
ƒƒ 
}
≈≈ 
break
∆∆ 

;
∆∆
 
case
»» 
$str
»»	 
:
»» 
if
…… 
(
…… 	
propertyValue
……	 
is
…… 
string
……  
)
……  !
{
   
Yahoo
ÀÀ 
=
ÀÀ 
propertyValue
ÀÀ 
.
ÀÀ 
ToString
ÀÀ $
(
ÀÀ$ %
)
ÀÀ% &
;
ÀÀ& '
if
ÕÕ 
(
ÕÕ	 

yahoo
ÕÕ
 
.
ÕÕ 
Length
ÕÕ 
>
ÕÕ 
$num
ÕÕ 
)
ÕÕ 
{
ŒŒ 
yahoo
œœ 
=
œœ 
yahoo
œœ 
.
œœ 
	Substring
œœ 
(
œœ 
$num
œœ  
,
œœ  !
$num
œœ" $
)
œœ$ %
;
œœ% &
}
–– 
Save
““ 

(
““
 
)
““ 
;
““ 
}
”” 
break
‘‘ 

;
‘‘
 
case
÷÷ 
$str
÷÷	 
:
÷÷ 
if
◊◊ 
(
◊◊ 	
propertyValue
◊◊	 
is
◊◊ 
string
◊◊  
)
◊◊  !
{
ÿÿ 
AIM
ŸŸ 	
=
ŸŸ
 
propertyValue
ŸŸ 
.
ŸŸ 
ToString
ŸŸ "
(
ŸŸ" #
)
ŸŸ# $
;
ŸŸ$ %
if
€€ 
(
€€	 

aim
€€
 
.
€€ 
Length
€€ 
>
€€ 
$num
€€ 
)
€€ 
{
‹‹ 
aim
›› 

=
›› 
aim
›› 
.
›› 
	Substring
›› 
(
›› 
$num
›› 
,
›› 
$num
››  
)
››  !
;
››! "
}
ﬁﬁ 
Save
‡‡ 

(
‡‡
 
)
‡‡ 
;
‡‡ 
}
·· 
break
‚‚ 

;
‚‚
 
case
‰‰ 
$str
‰‰	 
:
‰‰ 
if
ÂÂ 
(
ÂÂ 	
propertyValue
ÂÂ	 
is
ÂÂ 
string
ÂÂ  
)
ÂÂ  !
{
ÊÊ 
ICQ
ÁÁ 	
=
ÁÁ
 
propertyValue
ÁÁ 
.
ÁÁ 
ToString
ÁÁ "
(
ÁÁ" #
)
ÁÁ# $
;
ÁÁ$ %
if
ÈÈ 
(
ÈÈ	 

icq
ÈÈ
 
.
ÈÈ 
Length
ÈÈ 
>
ÈÈ 
$num
ÈÈ 
)
ÈÈ 
{
ÍÍ 
icq
ÎÎ 

=
ÎÎ 
icq
ÎÎ 
.
ÎÎ 
	Substring
ÎÎ 
(
ÎÎ 
$num
ÎÎ 
,
ÎÎ 
$num
ÎÎ  
)
ÎÎ  !
;
ÎÎ! "
}
ÏÏ 
Save
ÓÓ 

(
ÓÓ
 
)
ÓÓ 
;
ÓÓ 
}
ÔÔ 
break
 

;

 
case
ÚÚ 
$str
ÚÚ	 
:
ÚÚ 
break
ÙÙ 

;
ÙÙ
 
case
ˆˆ 
$str
ˆˆ	 
:
ˆˆ 
break
¯¯ 

;
¯¯
 
case
˛˛ 
$str
˛˛	 
:
˛˛ 
if
ˇˇ 
(
ˇˇ 	
propertyValue
ˇˇ	 
is
ˇˇ 
string
ˇˇ  
)
ˇˇ  !
{
ÄÄ 
	Signature
ÅÅ 
=
ÅÅ 
propertyValue
ÅÅ 
.
ÅÅ  
ToString
ÅÅ  (
(
ÅÅ( )
)
ÅÅ) *
;
ÅÅ* +
Save
ÇÇ 

(
ÇÇ
 
)
ÇÇ 
;
ÇÇ 
}
ÉÉ 
break
ÑÑ 

;
ÑÑ
 
case
ÜÜ 
$str
ÜÜ	 
:
ÜÜ 
break
àà 

;
àà
 
case
ää 
$str
ää	 
:
ää 
break
åå 

;
åå
 
case
éé 
$str
éé	 
:
éé 
break
êê 

;
êê
 
case
íí 
$str
íí	 
:
íí 
break
îî 

;
îî
 
case
ññ 
$str
ññ	 
:
ññ 
break
òò 

;
òò
 
case
öö 
$str
öö	 
:
öö 
break
úú 

;
úú
 
default
ûû 
:
ûû 
bool
¢¢ 	
propertyExists
¢¢
 
=
¢¢ 

DBSiteUser
¢¢ %
.
¢¢% &
PropertyExists
¢¢& 4
(
¢¢4 5
userGuid
¢¢5 =
,
¢¢= >
propertyName
¢¢? K
)
¢¢K L
;
¢¢L M
if
§§ 
(
§§ 	
!
§§	 

propertyExists
§§
 
)
§§ 
{
•• 
CreateProperty
¶¶ 
(
¶¶ 
propertyName
¶¶ !
,
¶¶! "
propertyValue
¶¶# 0
,
¶¶0 1
serializeAs
¶¶2 =
,
¶¶= >
lazyLoad
¶¶? G
)
¶¶G H
;
¶¶H I
if
®® 
(
®®	 

!
®®
 
lazyLoad
®® 
)
®® 
{
©© )
CreatePropertyLocalInstance
™™ "
(
™™" #
propertyName
™™# /
,
™™/ 0
propertyValue
™™1 >
,
™™> ?
serializeAs
™™@ K
)
™™K L
;
™™L M
}
´´ 
}
¨¨ 
else
≠≠ 	
{
ÆÆ 
UpdateProperty
ØØ 
(
ØØ 
propertyName
ØØ !
,
ØØ! "
propertyValue
ØØ# 0
,
ØØ0 1
serializeAs
ØØ2 =
,
ØØ= >
lazyLoad
ØØ? G
)
ØØG H
;
ØØH I
if
±± 
(
±±	 

!
±±
 
lazyLoad
±± 
)
±± 
{
≤≤ )
UpdatePropertyLocalInstance
≥≥ "
(
≥≥" #
propertyName
≥≥# /
,
≥≥/ 0
propertyValue
≥≥1 >
,
≥≥> ?
serializeAs
≥≥@ K
)
≥≥K L
;
≥≥L M
}
¥¥ 
}
µµ 
break
∑∑ 

;
∑∑
 
}
∏∏ 
}
ππ 
private
ºº 	
void
ºº
 
CreateProperty
ºº 
(
ºº 
string
ºº $
propertyName
ºº% 1
,
ºº1 2
object
ºº3 9
propertyValue
ºº: G
,
ººG H!
SettingsSerializeAs
ººI \
serializeAs
ºº] h
,
ººh i
bool
ººj n
lazyLoad
ººo w
)
ººw x
{
ΩΩ 
Guid
ææ 

propertyID
ææ 
=
ææ 
Guid
ææ 
.
ææ 
NewGuid
ææ !
(
ææ! "
)
ææ" #
;
ææ# $
if
¿¿ 
(
¿¿ 
serializeAs
¿¿ 
==
¿¿ !
SettingsSerializeAs
¿¿ )
.
¿¿) *
String
¿¿* 0
)
¿¿0 1
{
¡¡ 

DBSiteUser
√√ 
.
√√ 
CreateProperty
√√ 
(
√√ 

propertyID
ƒƒ 
,
ƒƒ 
userGuid
≈≈ 
,
≈≈ 
propertyName
∆∆ 
,
∆∆ 
propertyValue
«« 
.
«« 
ToString
«« 
(
«« 
)
«« 
,
«« 
null
»» 	
,
»»	 

DateTime
…… 
.
…… 
UtcNow
…… 
,
…… 
lazyLoad
   
)
ÀÀ 
;
ÀÀ 
}
ÃÃ 
}
ÕÕ 
private
–– 	
void
––
 
UpdateProperty
–– 
(
–– 
string
–– $
propertyName
––% 1
,
––1 2
object
––3 9
propertyValue
––: G
,
––G H!
SettingsSerializeAs
––I \
serializeAs
––] h
,
––h i
bool
––j n
lazyLoad
––o w
)
––w x
{
—— 
if
““ 
(
““ 
serializeAs
““ 
==
““ !
SettingsSerializeAs
““ )
.
““) *
String
““* 0
)
““0 1
{
”” 

DBSiteUser
’’ 
.
’’ 
UpdateProperty
’’ 
(
’’ 
userGuid
÷÷ 
,
÷÷ 
propertyName
◊◊ 
,
◊◊ 
propertyValue
ÿÿ 
.
ÿÿ 
ToString
ÿÿ 
(
ÿÿ 
)
ÿÿ 
,
ÿÿ 
null
ŸŸ 	
,
ŸŸ	 

DateTime
⁄⁄ 
.
⁄⁄ 
UtcNow
⁄⁄ 
,
⁄⁄ 
lazyLoad
€€ 
)
‹‹ 
;
‹‹ 
}
›› 
}
ﬁﬁ 
private
·· 	
void
··
 )
CreatePropertyLocalInstance
·· *
(
··* +
string
··+ 1
propertyName
··2 >
,
··> ?
object
··@ F
propertyValue
··G T
,
··T U!
SettingsSerializeAs
··V i
serializeAs
··j u
)
··u v
{
‚‚ 
if
„„ 
(
„„ 
(
‰‰ 
profileProperties
‰‰ 
!=
‰‰ 
null
‰‰ 
)
‰‰ 
&&
‰‰  "2
$nonLazyLoadedProfilePropertiesLoaded
ÂÂ (
)
ÊÊ 
{
ÁÁ 
DataRow
ËË 
row
ËË 
=
ËË 
profileProperties
ËË #
.
ËË# $
NewRow
ËË$ *
(
ËË* +
)
ËË+ ,
;
ËË, -
row
ÈÈ 
[
ÈÈ 
$str
ÈÈ 
]
ÈÈ 
=
ÈÈ 
userGuid
ÈÈ 
.
ÈÈ 
ToString
ÈÈ '
(
ÈÈ' (
)
ÈÈ( )
;
ÈÈ) *
row
ÍÍ 
[
ÍÍ 
$str
ÍÍ 
]
ÍÍ 
=
ÍÍ 
propertyName
ÍÍ &
;
ÍÍ& '
switch
ÏÏ 

(
ÏÏ 
serializeAs
ÏÏ 
)
ÏÏ 
{
ÌÌ 
case
ÓÓ 	!
SettingsSerializeAs
ÓÓ
 
.
ÓÓ 
String
ÓÓ $
:
ÓÓ$ %
row
ÔÔ 	
[
ÔÔ	 

$str
ÔÔ
 
]
ÔÔ  
=
ÔÔ! "
propertyValue
ÔÔ# 0
.
ÔÔ0 1
ToString
ÔÔ1 9
(
ÔÔ9 :
)
ÔÔ: ;
;
ÔÔ; <
break
 
;
 
default
ÚÚ 
:
ÚÚ 
row
ÛÛ 	
[
ÛÛ	 

$str
ÛÛ
 
]
ÛÛ  
=
ÛÛ! "
propertyValue
ÛÛ# 0
;
ÛÛ0 1
break
ÙÙ 
;
ÙÙ 
}
ˆˆ 
profileProperties
¯¯ 
.
¯¯ 
Rows
¯¯ 
.
¯¯ 
Add
¯¯ 
(
¯¯ 
row
¯¯ "
)
¯¯" #
;
¯¯# $
}
˘˘ 
}
˙˙ 
private
˝˝ 	
void
˝˝
 )
UpdatePropertyLocalInstance
˝˝ *
(
˝˝* +
string
˝˝+ 1
propertyName
˝˝2 >
,
˝˝> ?
object
˝˝@ F
propertyValue
˝˝G T
,
˝˝T U!
SettingsSerializeAs
˝˝V i
serializeAs
˝˝j u
)
˝˝u v
{
˛˛ 
if
ˇˇ 
(
ˇˇ 
(
ÄÄ 
profileProperties
ÄÄ 
!=
ÄÄ 
null
ÄÄ 
)
ÄÄ 
&&
ÄÄ  "2
$nonLazyLoadedProfilePropertiesLoaded
ÅÅ (
)
ÇÇ 
{
ÉÉ 
foreach
ÑÑ 
(
ÑÑ 
DataRow
ÑÑ 
row
ÑÑ 
in
ÑÑ 
profileProperties
ÑÑ -
.
ÑÑ- .
Rows
ÑÑ. 2
)
ÑÑ2 3
{
ÖÖ 
if
ÜÜ 
(
ÜÜ 	
row
ÜÜ	 
[
ÜÜ 
$str
ÜÜ 
]
ÜÜ 
.
ÜÜ 
ToString
ÜÜ %
(
ÜÜ% &
)
ÜÜ& '
==
ÜÜ( *
propertyName
ÜÜ+ 7
)
ÜÜ7 8
{
áá 
switch
àà 
(
àà 
serializeAs
àà 
)
àà 
{
ââ 
case
ää !
SettingsSerializeAs
ää 
.
ää  
String
ää  &
:
ää& '
row
ãã 
[
ãã 
$str
ãã !
]
ãã! "
=
ãã# $
propertyValue
ãã% 2
.
ãã2 3
ToString
ãã3 ;
(
ãã; <
)
ãã< =
;
ãã= >
break
åå 
;
åå 
default
éé 
:
éé 
row
èè 
[
èè 
$str
èè !
]
èè! "
=
èè# $
propertyValue
èè% 2
;
èè2 3
break
êê 
;
êê 
}
íí 
return
îî 
;
îî 
}
ïï 
}
ññ 
}
óó 
}
òò 
public
õõ 
object
õõ	 
GetProperty
õõ 
(
õõ 
string
õõ "
propertyName
õõ# /
,
õõ/ 0!
SettingsSerializeAs
õõ1 D
serializeAs
õõE P
)
õõP Q
{
úú 
bool
ùù 
lazyLoad
ùù 
=
ùù 
false
ùù 
;
ùù 
return
üü 	
GetProperty
üü
 
(
üü 
propertyName
üü "
,
üü" #
serializeAs
üü$ /
,
üü/ 0
lazyLoad
üü1 9
)
üü9 :
;
üü: ;
}
†† 
public
££ 
string
££	 '
GetCustomPropertyAsString
££ )
(
££) *
string
££* 0
propertyName
££1 =
)
££= >
{
§§ 
object
•• 	
o
••
 
=
•• 
GetProperty
•• 
(
•• 
propertyName
•• &
,
••& '!
SettingsSerializeAs
••( ;
.
••; <
String
••< B
,
••B C
false
••D I
)
••I J
;
••J K
if
ßß 
(
ßß 
o
ßß 
==
ßß	 
null
ßß 
)
ßß 
{
®® 
return
©© 

string
©© 
.
©© 
Empty
©© 
;
©© 
}
™™ 
return
¨¨ 	
o
¨¨
 
.
¨¨ 
ToString
¨¨ 
(
¨¨ 
)
¨¨ 
;
¨¨ 
}
≠≠ 
public
ØØ 
object
ØØ	 
GetProperty
ØØ 
(
ØØ 
string
ØØ "
propertyName
ØØ# /
,
ØØ/ 0!
SettingsSerializeAs
ØØ1 D
serializeAs
ØØE P
,
ØØP Q
bool
ØØR V
lazyLoad
ØØW _
)
ØØ_ `
{
∞∞ 
switch
±± 	
(
±±
 
propertyName
±± 
)
±± 
{
≤≤ 
case
∫∫ 
$str
∫∫	 
:
∫∫ 
return
ªª 
UserId
ªª 
;
ªª 
case
ΩΩ 
$str
ΩΩ	 
:
ΩΩ 
return
ææ 
SiteId
ææ 
;
ææ 
case
¿¿ 
$str
¿¿	 
:
¿¿ 
return
¡¡ 
	IsDeleted
¡¡ 
;
¡¡ 
case
√√ 
$str
√√	 
:
√√ 
return
ƒƒ 
UserGuid
ƒƒ 
;
ƒƒ 
case
∆∆ 
$str
∆∆	 
:
∆∆ 
return
«« !
RegisterConfirmGuid
«« 
;
««  
case
…… 
$str
……	 
:
…… 
return
   
	FirstName
   
;
   
case
ÃÃ 
$str
ÃÃ	 
:
ÃÃ 
return
ÕÕ 
LastName
ÕÕ 
;
ÕÕ 
case
œœ 
$str
œœ	 
:
œœ 
return
–– 
PhoneNumber
–– 
;
–– 
case
““ 
$str
““	 
:
““ 
return
”” 
	AuthorBio
”” 
;
”” 
case
’’ 
$str
’’	 
:
’’ 
if
÷÷ 
(
÷÷ 	
DateOfBirth
÷÷	 
==
÷÷ 
DateTime
÷÷  
.
÷÷  !
MinValue
÷÷! )
)
÷÷) *
{
◊◊ 
return
ÿÿ 
string
ÿÿ 
.
ÿÿ 
Empty
ÿÿ 
;
ÿÿ 
}
ŸŸ 
return
€€ 
DateOfBirth
€€ 
;
€€ 
case
›› 
$str
››	 
:
›› 
return
ﬁﬁ 
Name
ﬁﬁ 
;
ﬁﬁ 
case
‡‡ 
$str
‡‡	 
:
‡‡ 
return
·· 
	LoginName
·· 
;
·· 
case
„„ 
$str
„„	 
:
„„ 
return
‰‰ 
Email
‰‰ 
;
‰‰ 
case
ÊÊ 
$str
ÊÊ	 
:
ÊÊ 
return
ËË 
string
ËË 
.
ËË 
Empty
ËË 
;
ËË 
case
ÍÍ 
$str
ÍÍ	 
:
ÍÍ 
return
ÎÎ 
Gender
ÎÎ 
;
ÎÎ 
case
ÌÌ 
$str
ÌÌ	 
:
ÌÌ 
return
ÓÓ 
ProfileApproved
ÓÓ 
;
ÓÓ 
case
 
$str
	 
:
 
return
ÒÒ 
ApprovedForLogin
ÒÒ 
;
ÒÒ 
case
ÛÛ 
$str
ÛÛ	 
:
ÛÛ 
return
ÙÙ 
Trusted
ÙÙ 
;
ÙÙ 
case
ˆˆ 
$str
ˆˆ	 
:
ˆˆ 
return
˜˜ !
DisplayInMemberList
˜˜ 
;
˜˜  
case
˘˘ 
$str
˘˘	 
:
˘˘ 
return
˙˙ 

WebSiteUrl
˙˙ 
;
˙˙ 
case
¸¸ 
$str
¸¸	 
:
¸¸ 
return
˝˝ 
Country
˝˝ 
;
˝˝ 
case
ˇˇ 
$str
ˇˇ	 
:
ˇˇ 
return
ÄÄ 
State
ÄÄ 
;
ÄÄ 
case
ÇÇ 
$str
ÇÇ	 
:
ÇÇ 
return
ÉÉ 

Occupation
ÉÉ 
;
ÉÉ 
case
ÖÖ 
$str
ÖÖ	 
:
ÖÖ 
return
ÜÜ 
	Interests
ÜÜ 
;
ÜÜ 
case
àà 
$str
àà	 
:
àà 
return
ââ 
MSN
ââ 
;
ââ 
case
ãã 
$str
ãã	 
:
ãã 
return
åå 
Yahoo
åå 
;
åå 
case
éé 
$str
éé	 
:
éé 
return
èè 
AIM
èè 
;
èè 
case
ëë 
$str
ëë	 
:
ëë 
return
íí 
ICQ
íí 
;
íí 
case
îî 
$str
îî	 
:
îî 
return
ïï 

TotalPosts
ïï 
;
ïï 
case
óó 
$str
óó	 
:
óó 
return
òò 
	AvatarUrl
òò 
;
òò 
case
öö 
$str
öö	 
:
öö +
EnsureNonLazyLoadedProperties
úú "
(
úú" #
)
úú# $
;
úú$ %
object
ùù 
objTimeOffset
ùù 
=
ùù &
GetNonLazyLoadedProperty
ùù 4
(
ùù4 5
propertyName
ùù5 A
,
ùùA B
serializeAs
ùùC N
)
ùùN O
;
ùùO P
if
üü 
(
üü 	
(
üü	 

objTimeOffset
üü
 
!=
üü 
null
üü 
)
üü  
&&
üü! #
(
üü$ %
objTimeOffset
üü% 2
.
üü2 3
ToString
üü3 ;
(
üü; <
)
üü< =
.
üü= >
Length
üü> D
>
üüE F
$num
üüG H
)
üüH I
)
üüI J
{
†† 
return
°° 
objTimeOffset
°° 
;
°° 
}
¢¢ 
else
££ 	
{
§§ 
string
•• 

timeOffset
•• 
=
•• 
$str
•• !
;
••! "
if
ßß 
(
ßß	 
"
ConfigurationManager
ßß
 
.
ßß 
AppSettings
ßß *
[
ßß* +
$str
ßß+ M
]
ßßM N
!=
ßßO Q
null
ßßR V
)
ßßV W
{
®® 

timeOffset
©© 
=
©© "
ConfigurationManager
©© (
.
©©( )
AppSettings
©©) 4
[
©©4 5
$str
©©5 W
]
©©W X
;
©©X Y
}
™™ 
return
´´ 

timeOffset
´´ 
;
´´ 
}
¨¨ 
case
±± 
$str
±±	 
:
±± 
return
≤≤ 
	Signature
≤≤ 
;
≤≤ 
case
¥¥ 
$str
¥¥	 
:
¥¥ 
return
µµ 
DateCreated
µµ 
;
µµ 
case
∑∑ 
$str
∑∑	 
:
∑∑ 
return
∏∏ 
Skin
∏∏ 
;
∏∏ 
case
∫∫ 
$str
∫∫	 
:
∫∫ 
return
ªª 
LoweredEmail
ªª 
;
ªª 
case
ΩΩ 
$str
ΩΩ	 
:
ΩΩ 
return
ææ 
PasswordQuestion
ææ 
;
ææ 
case
¿¿ 
$str
¿¿	 
:
¿¿ 
return
¡¡ 
PasswordAnswer
¡¡ 
;
¡¡ 
case
√√ 
$str
√√	 
:
√√ 
return
ƒƒ 
LastActivityDate
ƒƒ 
;
ƒƒ 
default
«« 
:
«« 
if
   
(
   	
!
  	 

lazyLoad
  
 
)
   
{
ÀÀ +
EnsureNonLazyLoadedProperties
ÃÃ #
(
ÃÃ# $
)
ÃÃ$ %
;
ÃÃ% &
return
ŒŒ &
GetNonLazyLoadedProperty
ŒŒ %
(
ŒŒ% &
propertyName
ŒŒ& 2
,
ŒŒ2 3
serializeAs
ŒŒ4 ?
)
ŒŒ? @
;
ŒŒ@ A
}
œœ 
else
–– 	
{
—— 
return
‘‘ #
GetLazyLoadedProperty
‘‘ "
(
‘‘" #
propertyName
‘‘# /
,
‘‘/ 0
serializeAs
‘‘1 <
)
‘‘< =
;
‘‘= >
}
’’ 
}
÷÷ 
}
◊◊ 
private
⁄⁄ 	
void
⁄⁄
 +
EnsureNonLazyLoadedProperties
⁄⁄ ,
(
⁄⁄, -
)
⁄⁄- .
{
€€ 
if
‹‹ 
(
‹‹ 
(
›› 
profileProperties
›› 
==
›› 
null
›› 
)
›› 
||
››  "
!
ﬁﬁ 2
$nonLazyLoadedProfilePropertiesLoaded
ﬁﬁ )
)
ﬂﬂ 
{
‡‡ 
profileProperties
·· 
=
·· 

DBSiteUser
·· "
.
··" #/
!GetNonLazyLoadedPropertiesForUser
··# D
(
··D E
userGuid
··E M
)
··M N
;
··N O
}
‚‚ 
}
„„ 
private
ÊÊ 	
object
ÊÊ
 &
GetNonLazyLoadedProperty
ÊÊ )
(
ÊÊ) *
string
ÊÊ* 0
propertyName
ÊÊ1 =
,
ÊÊ= >!
SettingsSerializeAs
ÊÊ? R
serializeAs
ÊÊS ^
)
ÊÊ^ _
{
ÁÁ 
if
ËË 
(
ËË 
(
ÈÈ 
profileProperties
ÈÈ 
!=
ÈÈ 
null
ÈÈ 
)
ÈÈ 
&&
ÈÈ  "
(
ÍÍ 
profileProperties
ÍÍ 
.
ÍÍ 
Rows
ÍÍ 
.
ÍÍ 
Count
ÍÍ !
>
ÍÍ" #
$num
ÍÍ$ %
)
ÍÍ% &
)
ÎÎ 
{
ÏÏ 
switch
ÌÌ 

(
ÌÌ 
serializeAs
ÌÌ 
)
ÌÌ 
{
ÓÓ 
case
ÔÔ 	!
SettingsSerializeAs
ÔÔ
 
.
ÔÔ 
String
ÔÔ $
:
ÔÔ$ %
foreach
ÒÒ 
(
ÒÒ 
DataRow
ÒÒ 
row
ÒÒ 
in
ÒÒ 
profileProperties
ÒÒ /
.
ÒÒ/ 0
Rows
ÒÒ0 4
)
ÒÒ4 5
{
ÚÚ 
if
ÛÛ 	
(
ÛÛ
 
row
ÛÛ 
[
ÛÛ 
$str
ÛÛ 
]
ÛÛ 
.
ÛÛ 
ToString
ÛÛ '
(
ÛÛ' (
)
ÛÛ( )
==
ÛÛ* ,
propertyName
ÛÛ- 9
)
ÛÛ9 :
{
ÙÙ 
return
ˆˆ 
row
ˆˆ 
[
ˆˆ 
$str
ˆˆ (
]
ˆˆ( )
;
ˆˆ) *
}
˜˜ 
}
¯¯ 
break
˙˙ 
;
˙˙ 
default
¸¸ 
:
¸¸ 
foreach
˝˝ 
(
˝˝ 
DataRow
˝˝ 
row
˝˝ 
in
˝˝ 
profileProperties
˝˝ /
.
˝˝/ 0
Rows
˝˝0 4
)
˝˝4 5
{
˛˛ 
if
ˇˇ 	
(
ˇˇ
 
row
ˇˇ 
[
ˇˇ 
$str
ˇˇ 
]
ˇˇ 
.
ˇˇ 
ToString
ˇˇ '
(
ˇˇ' (
)
ˇˇ( )
==
ˇˇ* ,
propertyName
ˇˇ- 9
)
ˇˇ9 :
{
ÄÄ 
return
ÅÅ 
row
ÅÅ 
[
ÅÅ 
$str
ÅÅ (
]
ÅÅ( )
;
ÅÅ) *
}
ÇÇ 
}
ÉÉ 
break
ÖÖ 
;
ÖÖ 
}
ÜÜ 
}
áá 
return
ââ 	
null
ââ
 
;
ââ 
}
ää 
private
çç 	
object
çç
 #
GetLazyLoadedProperty
çç &
(
çç& '
string
çç' -
propertyName
çç. :
,
çç: ;!
SettingsSerializeAs
çç< O
serializeAs
ççP [
)
çç[ \
{
éé 
object
èè 	
result
èè
 
=
èè 
null
èè 
;
èè 
using
ëë 
(
ëë	 

IDataReader
ëë
 
reader
ëë 
=
ëë 

DBSiteUser
ëë )
.
ëë) *#
GetLazyLoadedProperty
ëë* ?
(
ëë? @
userGuid
ëë@ H
,
ëëH I
propertyName
ëëJ V
)
ëëV W
)
ëëW X
{
íí 
if
ìì 
(
ìì 
reader
ìì 
.
ìì 
Read
ìì 
(
ìì 
)
ìì 
)
ìì 
{
îî 
switch
ïï 
(
ïï 
serializeAs
ïï 
)
ïï 
{
ññ 
case
óó 
!
SettingsSerializeAs
óó 
.
óó 
String
óó %
:
óó% &
if
ôô 	
(
ôô
 
reader
ôô 
[
ôô 
$str
ôô  
]
ôô  !
.
ôô! "
ToString
ôô" *
(
ôô* +
)
ôô+ ,
==
ôô- /
propertyName
ôô0 <
)
ôô< =
{
öö 
result
õõ 
=
õõ 
reader
õõ 
[
õõ 
$str
õõ -
]
õõ- .
.
õõ. /
ToString
õõ/ 7
(
õõ7 8
)
õõ8 9
;
õõ9 :
}
úú 
break
ûû 
;
ûû 
default
†† 
:
†† 
if
¢¢ 	
(
¢¢
 
reader
¢¢ 
[
¢¢ 
$str
¢¢  
]
¢¢  !
.
¢¢! "
ToString
¢¢" *
(
¢¢* +
)
¢¢+ ,
==
¢¢- /
propertyName
¢¢0 <
)
¢¢< =
{
££ 
result
§§ 
=
§§ 
reader
§§ 
[
§§ 
$str
§§ -
]
§§- .
;
§§. /
}
•• 
break
ßß 
;
ßß 
}
®® 
}
©© 
}
™™ 
return
¨¨ 	
result
¨¨
 
;
¨¨ 
}
≠≠ 
public
∂∂ 
static
∂∂	 
bool
∂∂ 
FlagAsNotDeleted
∂∂ %
(
∂∂% &
int
∂∂& )
userId
∂∂* 0
)
∂∂0 1
{
∑∑ 
return
∏∏ 	

DBSiteUser
∏∏
 
.
∏∏ 
FlagAsNotDeleted
∏∏ %
(
∏∏% &
userId
∏∏& ,
)
∏∏, -
;
∏∏- .
}
ππ 
public
ªª 
static
ªª	 
bool
ªª #
UpdatePasswordAndSalt
ªª *
(
ªª* +
int
ªª+ .
userId
ªª/ 5
,
ªª5 6
int
ªª7 :
passwordFormat
ªª; I
,
ªªI J
string
ªªK Q
password
ªªR Z
,
ªªZ [
string
ªª\ b
passwordSalt
ªªc o
)
ªªo p
{
ºº 
return
ΩΩ 	

DBSiteUser
ΩΩ
 
.
ΩΩ #
UpdatePasswordAndSalt
ΩΩ *
(
ΩΩ* +
userId
ΩΩ+ 1
,
ΩΩ1 2
passwordFormat
ΩΩ3 A
,
ΩΩA B
password
ΩΩC K
,
ΩΩK L
passwordSalt
ΩΩM Y
)
ΩΩY Z
;
ΩΩZ [
}
ææ 
public
¡¡ 
static
¡¡	 
SiteUser
¡¡ 

GetByEmail
¡¡ #
(
¡¡# $
SiteSettings
¡¡$ 0
siteSettings
¡¡1 =
,
¡¡= >
string
¡¡? E
email
¡¡F K
)
¡¡K L
{
¬¬ 
if
√√ 
(
√√ 
siteSettings
√√ 
==
√√ 
null
√√ 
)
√√ 
{
ƒƒ 
return
≈≈ 

null
≈≈ 
;
≈≈ 
}
∆∆ 
if
»» 
(
»» 
string
»» 
.
»» 
IsNullOrEmpty
»» 
(
»» 
email
»» !
)
»»! "
)
»»" #
{
…… 
return
   

null
   
;
   
}
ÀÀ 
SiteUser
ÕÕ 
siteUser
ÕÕ 
=
ÕÕ 
new
ÕÕ 
SiteUser
ÕÕ #
(
ÕÕ# $
)
ÕÕ$ %
;
ÕÕ% &
int
ŒŒ 
siteId
ŒŒ 
=
ŒŒ 
siteSettings
ŒŒ 
.
ŒŒ 
SiteId
ŒŒ #
;
ŒŒ# $
if
–– 
(
––  
UseRelatedSiteMode
–– 
)
–– 
{
—— 
siteId
““ 

=
““ 
RelatedSiteID
““ 
;
““ 
}
”” 
using
’’ 
(
’’	 

IDataReader
’’
 
reader
’’ 
=
’’ 

DBSiteUser
’’ )
.
’’) *
GetSingleUser
’’* 7
(
’’7 8
siteId
’’8 >
,
’’> ?
email
’’@ E
)
’’E F
)
’’F G
{
÷÷ 
siteUser
◊◊ 
.
◊◊ 
GetUser
◊◊ 
(
◊◊ 
reader
◊◊ 
)
◊◊ 
;
◊◊ 
}
ÿÿ 
if
⁄⁄ 
(
⁄⁄ 
siteUser
⁄⁄ 
.
⁄⁄ 
UserGuid
⁄⁄ 
!=
⁄⁄ 
Guid
⁄⁄  
.
⁄⁄  !
Empty
⁄⁄! &
)
⁄⁄& '
{
€€ 
return
‹‹ 

siteUser
‹‹ 
;
‹‹ 
}
›› 
return
ﬂﬂ 	
null
ﬂﬂ
 
;
ﬂﬂ 
}
‡‡ 
public
„„ 
static
„„	 
SiteUser
„„ 
GetByLoginName
„„ '
(
„„' (
SiteSettings
„„( 4
siteSettings
„„5 A
,
„„A B
string
„„C I
userName
„„J R
,
„„R S
bool
„„T X 
allowEmailFallback
„„Y k
)
„„k l
{
‰‰ 
if
ÂÂ 
(
ÂÂ 
siteSettings
ÂÂ 
==
ÂÂ 
null
ÂÂ 
)
ÂÂ 
{
ÊÊ 
return
ÁÁ 

null
ÁÁ 
;
ÁÁ 
}
ËË 
if
ÍÍ 
(
ÍÍ 
string
ÍÍ 
.
ÍÍ 
IsNullOrEmpty
ÍÍ 
(
ÍÍ 
userName
ÍÍ $
)
ÍÍ$ %
)
ÍÍ% &
{
ÎÎ 
return
ÏÏ 

null
ÏÏ 
;
ÏÏ 
}
ÌÌ 
SiteUser
ÔÔ 
siteUser
ÔÔ 
=
ÔÔ 
new
ÔÔ 
SiteUser
ÔÔ #
(
ÔÔ# $
)
ÔÔ$ %
;
ÔÔ% &
int
 
siteId
 
=
 
siteSettings
 
.
 
SiteId
 #
;
# $
if
ÚÚ 
(
ÚÚ  
UseRelatedSiteMode
ÚÚ 
)
ÚÚ 
{
ÛÛ 
siteId
ÙÙ 

=
ÙÙ 
RelatedSiteID
ÙÙ 
;
ÙÙ 
}
ıı 
using
˜˜ 
(
˜˜	 

IDataReader
˜˜
 
reader
˜˜ 
=
˜˜  
GetUserByLoginName
˜˜ 1
(
˜˜1 2
siteId
˜˜2 8
,
˜˜8 9
userName
˜˜: B
,
˜˜B C 
allowEmailFallback
˜˜D V
)
˜˜V W
)
˜˜W X
{
¯¯ 
siteUser
˘˘ 
.
˘˘ 
GetUser
˘˘ 
(
˘˘ 
reader
˘˘ 
)
˘˘ 
;
˘˘ 
}
˙˙ 
if
¸¸ 
(
¸¸ 
siteUser
¸¸ 
.
¸¸ 
UserGuid
¸¸ 
!=
¸¸ 
Guid
¸¸  
.
¸¸  !
Empty
¸¸! &
)
¸¸& '
{
˝˝ 
return
˛˛ 

siteUser
˛˛ 
;
˛˛ 
}
ˇˇ 
return
ÅÅ 	
null
ÅÅ
 
;
ÅÅ 
}
ÇÇ 
public
ÖÖ 
static
ÖÖ	 
SiteUser
ÖÖ #
GetByConfirmationGuid
ÖÖ .
(
ÖÖ. /
SiteSettings
ÖÖ/ ;
siteSettings
ÖÖ< H
,
ÖÖH I
Guid
ÖÖJ N
confirmGuid
ÖÖO Z
)
ÖÖZ [
{
ÜÜ 
if
áá 
(
áá 
siteSettings
áá 
==
áá 
null
áá 
)
áá 
{
àà 
return
ââ 

null
ââ 
;
ââ 
}
ää 
if
åå 
(
åå 
confirmGuid
åå 
==
åå 
Guid
åå 
.
åå 
Empty
åå  
)
åå  !
{
çç 
return
éé 

null
éé 
;
éé 
}
èè 
SiteUser
ëë 
siteUser
ëë 
=
ëë 
new
ëë 
SiteUser
ëë #
(
ëë# $
)
ëë$ %
;
ëë% &
using
íí 
(
íí	 

IDataReader
íí
 
reader
íí 
=
íí 

DBSiteUser
íí )
.
íí) *'
GetUserByRegistrationGuid
íí* C
(
ííC D
siteSettings
ííD P
.
ííP Q
SiteId
ííQ W
,
ííW X
confirmGuid
ííY d
)
ííd e
)
ííe f
{
ìì 
siteUser
îî 
.
îî 
GetUser
îî 
(
îî 
reader
îî 
)
îî 
;
îî 
}
ïï 
if
óó 
(
óó 
siteUser
óó 
.
óó 
UserGuid
óó 
!=
óó 
Guid
óó  
.
óó  !
Empty
óó! &
)
óó& '
{
òò 
return
ôô 

siteUser
ôô 
;
ôô 
}
öö 
return
úú 	
null
úú
 
;
úú 
}
ùù 
public
†† 
static
††	 
bool
†† !
ConfirmRegistration
†† (
(
††( )
Guid
††) -
registrationGuid
††. >
)
††> ?
{
°° 
if
¢¢ 
(
¢¢ 
registrationGuid
¢¢ 
==
¢¢ 
Guid
¢¢ 
.
¢¢  
Empty
¢¢  %
)
¢¢% &
{
££ 
return
•• 

false
•• 
;
•• 
}
¶¶ 
return
®® 	

DBSiteUser
®®
 
.
®® !
ConfirmRegistration
®® (
(
®®( )
Guid
®®) -
.
®®- .
Empty
®®. 3
,
®®3 4
registrationGuid
®®5 E
)
®®E F
;
®®F G
}
©© 
public
¨¨ 
static
¨¨	 
IDataReader
¨¨ 
GetUserList
¨¨ '
(
¨¨' (
int
¨¨( +
siteId
¨¨, 2
)
¨¨2 3
{
≠≠ 
if
ÆÆ 
(
ÆÆ  
UseRelatedSiteMode
ÆÆ 
)
ÆÆ 
{
ØØ 
siteId
∞∞ 

=
∞∞ 
RelatedSiteID
∞∞ 
;
∞∞ 
}
±± 
return
≥≥ 	

DBSiteUser
≥≥
 
.
≥≥ 
GetUserList
≥≥  
(
≥≥  !
siteId
≥≥! '
)
≥≥' (
;
≥≥( )
}
¥¥ 
public
∑∑ 
static
∑∑	 
	DataTable
∑∑ 0
"GetUserListForPasswordFormatChange
∑∑ <
(
∑∑< =
int
∑∑= @
siteId
∑∑A G
)
∑∑G H
{
∏∏ 
if
ππ 
(
ππ  
UseRelatedSiteMode
ππ 
)
ππ 
{
∫∫ 
siteId
ªª 

=
ªª 
RelatedSiteID
ªª 
;
ªª 
}
ºº 
	DataTable
ææ 
dt
ææ 
=
ææ 
new
ææ 
	DataTable
ææ 
(
ææ  
)
ææ  !
;
ææ! "
dt
¿¿ 
.
¿¿ 
Columns
¿¿ 
.
¿¿ 
Add
¿¿ 
(
¿¿ 
$str
¿¿ 
,
¿¿ 
typeof
¿¿ "
(
¿¿" #
int
¿¿# &
)
¿¿& '
)
¿¿' (
;
¿¿( )
dt
¡¡ 
.
¡¡ 
Columns
¡¡ 
.
¡¡ 
Add
¡¡ 
(
¡¡ 
$str
¡¡  
,
¡¡  !
typeof
¡¡" (
(
¡¡( )
string
¡¡) /
)
¡¡/ 0
)
¡¡0 1
;
¡¡1 2
dt
¬¬ 
.
¬¬ 
Columns
¬¬ 
.
¬¬ 
Add
¬¬ 
(
¬¬ 
$str
¬¬ 
,
¬¬ 
typeof
¬¬ 
(
¬¬  
string
¬¬  &
)
¬¬& '
)
¬¬' (
;
¬¬( )
using
ƒƒ 
(
ƒƒ	 

IDataReader
ƒƒ
 
reader
ƒƒ 
=
ƒƒ 

DBSiteUser
ƒƒ )
.
ƒƒ) *
GetUserList
ƒƒ* 5
(
ƒƒ5 6
siteId
ƒƒ6 <
)
ƒƒ< =
)
ƒƒ= >
{
≈≈ 
while
∆∆ 	
(
∆∆
 
reader
∆∆ 
.
∆∆ 
Read
∆∆ 
(
∆∆ 
)
∆∆ 
)
∆∆ 
{
«« 
DataRow
»» 
row
»» 
=
»» 
dt
»» 
.
»» 
NewRow
»» 
(
»» 
)
»» 
;
»» 
row
…… 
[
…… 	
$str
……	 
]
…… 
=
…… 
reader
…… 
[
…… 
$str
…… $
]
……$ %
;
……% &
row
   
[
   	
$str
  	 
]
   
=
   
reader
   !
[
  ! "
$str
  " 0
]
  0 1
;
  1 2
row
ÀÀ 
[
ÀÀ 	
$str
ÀÀ	 
]
ÀÀ 
=
ÀÀ 
reader
ÀÀ 
[
ÀÀ 
$str
ÀÀ 
]
ÀÀ 
;
ÀÀ  
dt
ÃÃ 
.
ÃÃ 
Rows
ÃÃ 
.
ÃÃ 
Add
ÃÃ 
(
ÃÃ 
row
ÃÃ 
)
ÃÃ 
;
ÃÃ 
}
ÕÕ 
}
ŒŒ 
return
–– 	
dt
––
 
;
–– 
}
—— 
public
‘‘ 
static
‘‘	 
int
‘‘ 
	UserCount
‘‘ 
(
‘‘ 
int
‘‘ !
siteId
‘‘" (
)
‘‘( )
{
’’ 
if
÷÷ 
(
÷÷  
UseRelatedSiteMode
÷÷ 
)
÷÷ 
{
◊◊ 
siteId
ÿÿ 

=
ÿÿ 
RelatedSiteID
ÿÿ 
;
ÿÿ 
}
ŸŸ 
return
€€ 	

DBSiteUser
€€
 
.
€€ 
	UserCount
€€ 
(
€€ 
siteId
€€ %
)
€€% &
;
€€& '
}
‹‹ 
public
ﬂﬂ 
static
ﬂﬂ	 
int
ﬂﬂ 
	UserCount
ﬂﬂ 
(
ﬂﬂ 
int
ﬂﬂ !
siteId
ﬂﬂ" (
,
ﬂﬂ( )
string
ﬂﬂ* 0 
userNameBeginsWith
ﬂﬂ1 C
,
ﬂﬂC D
string
ﬂﬂE K
nameFilterMode
ﬂﬂL Z
)
ﬂﬂZ [
{
‡‡ 
if
·· 
(
··  
UseRelatedSiteMode
·· 
)
·· 
{
‚‚ 
siteId
„„ 

=
„„ 
RelatedSiteID
„„ 
;
„„ 
}
‰‰ 
return
ÊÊ 	

DBSiteUser
ÊÊ
 
.
ÊÊ 
	UserCount
ÊÊ 
(
ÊÊ 
siteId
ÊÊ %
,
ÊÊ% & 
userNameBeginsWith
ÊÊ' 9
,
ÊÊ9 :
nameFilterMode
ÊÊ; I
)
ÊÊI J
;
ÊÊJ K
}
ÁÁ 
public
ÍÍ 
static
ÍÍ	 
int
ÍÍ #
UsersOnlineSinceCount
ÍÍ )
(
ÍÍ) *
int
ÍÍ* -
siteId
ÍÍ. 4
,
ÍÍ4 5
DateTime
ÍÍ6 >
	sinceTime
ÍÍ? H
)
ÍÍH I
{
ÎÎ 
if
ÏÏ 
(
ÏÏ  
UseRelatedSiteMode
ÏÏ 
)
ÏÏ 
{
ÌÌ 
siteId
ÓÓ 

=
ÓÓ 
RelatedSiteID
ÓÓ 
;
ÓÓ 
}
ÔÔ 
return
ÒÒ 	

DBSiteUser
ÒÒ
 
.
ÒÒ 
CountOnlineSince
ÒÒ %
(
ÒÒ% &
siteId
ÒÒ& ,
,
ÒÒ, -
	sinceTime
ÒÒ. 7
)
ÒÒ7 8
;
ÒÒ8 9
}
ÚÚ 
public
ıı 
static
ıı	 
IDataReader
ıı !
GetUsersOnlineSince
ıı /
(
ıı/ 0
int
ıı0 3
siteId
ıı4 :
,
ıı: ;
DateTime
ıı< D
	sinceTime
ııE N
)
ııN O
{
ˆˆ 
if
˜˜ 
(
˜˜  
UseRelatedSiteMode
˜˜ 
)
˜˜ 
{
¯¯ 
siteId
˘˘ 

=
˘˘ 
RelatedSiteID
˘˘ 
;
˘˘ 
}
˙˙ 
return
¸¸ 	

DBSiteUser
¸¸
 
.
¸¸ !
GetUsersOnlineSince
¸¸ (
(
¸¸( )
siteId
¸¸) /
,
¸¸/ 0
	sinceTime
¸¸1 :
)
¸¸: ;
;
¸¸; <
}
˝˝ 
public
ÄÄ 
static
ÄÄ	 
IDataReader
ÄÄ &
GetUsersTop50OnlineSince
ÄÄ 4
(
ÄÄ4 5
int
ÄÄ5 8
siteId
ÄÄ9 ?
,
ÄÄ? @
DateTime
ÄÄA I
	sinceTime
ÄÄJ S
)
ÄÄS T
{
ÅÅ 
if
ÇÇ 
(
ÇÇ  
UseRelatedSiteMode
ÇÇ 
)
ÇÇ 
{
ÉÉ 
siteId
ÑÑ 

=
ÑÑ 
RelatedSiteID
ÑÑ 
;
ÑÑ 
}
ÖÖ 
return
áá 	

DBSiteUser
áá
 
.
áá &
GetTop50UsersOnlineSince
áá -
(
áá- .
siteId
áá. 4
,
áá4 5
	sinceTime
áá6 ?
)
áá? @
;
áá@ A
}
àà 
public
ãã 
static
ãã	 
	DataTable
ãã 
GetRoleMembers
ãã (
(
ãã( )
int
ãã) ,
roleId
ãã- 3
)
ãã3 4
{
åå 
	DataTable
çç 
	dataTable
çç 
=
çç 
new
çç 
	DataTable
çç &
(
çç& '
)
çç' (
;
çç( )
	dataTable
èè 
.
èè 
Columns
èè 
.
èè 
Add
èè 
(
èè 
$str
èè !
,
èè! "
typeof
èè# )
(
èè) *
int
èè* -
)
èè- .
)
èè. /
;
èè/ 0
	dataTable
êê 
.
êê 
Columns
êê 
.
êê 
Add
êê 
(
êê 
$str
êê 
,
êê  
typeof
êê! '
(
êê' (
string
êê( .
)
êê. /
)
êê/ 0
;
êê0 1
	dataTable
ëë 
.
ëë 
Columns
ëë 
.
ëë 
Add
ëë 
(
ëë 
$str
ëë  
,
ëë  !
typeof
ëë" (
(
ëë( )
string
ëë) /
)
ëë/ 0
)
ëë0 1
;
ëë1 2
	dataTable
íí 
.
íí 
Columns
íí 
.
íí 
Add
íí 
(
íí 
$str
íí $
,
íí$ %
typeof
íí& ,
(
íí, -
string
íí- 3
)
íí3 4
)
íí4 5
;
íí5 6
using
îî 
(
îî	 

IDataReader
îî
 
reader
îî 
=
îî 
Role
îî #
.
îî# $
GetRoleMembers
îî$ 2
(
îî2 3
roleId
îî3 9
)
îî9 :
)
îî: ;
{
ïï 
while
ññ 	
(
ññ
 
reader
ññ 
.
ññ 
Read
ññ 
(
ññ 
)
ññ 
)
ññ 
{
óó 
DataRow
òò 
row
òò 
=
òò 
	dataTable
òò 
.
òò 
NewRow
òò #
(
òò# $
)
òò$ %
;
òò% &
row
öö 
[
öö 	
$str
öö	 
]
öö 
=
öö 
reader
öö 
[
öö 
$str
öö $
]
öö$ %
;
öö% &
row
õõ 
[
õõ 	
$str
õõ	 
]
õõ 
=
õõ 
reader
õõ 
[
õõ 
$str
õõ  
]
õõ  !
;
õõ! "
row
úú 
[
úú 	
$str
úú	 
]
úú 
=
úú 
reader
úú 
[
úú 
$str
úú "
]
úú" #
;
úú# $
row
ùù 
[
ùù 	
$str
ùù	 
]
ùù 
=
ùù 
reader
ùù 
[
ùù 
$str
ùù *
]
ùù* +
;
ùù+ ,
	dataTable
üü 
.
üü 
Rows
üü 
.
üü 
Add
üü 
(
üü 
row
üü 
)
üü 
;
üü 
}
†† 
}
°° 
return
££ 	
	dataTable
££
 
;
££ 
}
§§ 
public
ßß 
static
ßß	 
List
ßß 
<
ßß 
string
ßß 
>
ßß 
GetEmailAddresses
ßß .
(
ßß. /
int
ßß/ 2
siteId
ßß3 9
,
ßß9 :
string
ßß; A,
roleNamesSeparatedBySemiColons
ßßB `
)
ßß` a
{
®® 
List
©© 
<
©© 
string
©© 
>
©© 
emailAddresses
©© 
=
©©  
new
©©! $
List
©©% )
<
©©) *
string
©©* 0
>
©©0 1
(
©©1 2
)
©©2 3
;
©©3 4
List
™™ 
<
™™ 
int
™™ 
>
™™ 
roleIds
™™ 
=
™™ 
Role
™™ 
.
™™ 

GetRoleIds
™™ &
(
™™& '
siteId
™™' -
,
™™- .,
roleNamesSeparatedBySemiColons
™™/ M
)
™™M N
;
™™N O
foreach
¨¨ 

(
¨¨ 
int
¨¨ 
roleId
¨¨ 
in
¨¨ 
roleIds
¨¨ !
)
¨¨! "
{
≠≠ 
using
ÆÆ 	
(
ÆÆ
 
IDataReader
ÆÆ 
reader
ÆÆ 
=
ÆÆ 
Role
ÆÆ  $
.
ÆÆ$ %
GetRoleMembers
ÆÆ% 3
(
ÆÆ3 4
roleId
ÆÆ4 :
)
ÆÆ: ;
)
ÆÆ; <
{
ØØ 
while
∞∞ 

(
∞∞ 
reader
∞∞ 
.
∞∞ 
Read
∞∞ 
(
∞∞ 
)
∞∞ 
)
∞∞ 
{
±± 
string
≤≤ 
email
≤≤ 
=
≤≤ 
reader
≤≤ 
[
≤≤ 
$str
≤≤ #
]
≤≤# $
.
≤≤$ %
ToString
≤≤% -
(
≤≤- .
)
≤≤. /
.
≤≤/ 0
ToLower
≤≤0 7
(
≤≤7 8
)
≤≤8 9
;
≤≤9 :
if
¥¥ 
(
¥¥	 

!
¥¥
 
emailAddresses
¥¥ 
.
¥¥ 
Contains
¥¥ "
(
¥¥" #
email
¥¥# (
)
¥¥( )
)
¥¥) *
{
µµ 
emailAddresses
∂∂ 
.
∂∂ 
Add
∂∂ 
(
∂∂ 
email
∂∂ 
)
∂∂  
;
∂∂  !
}
∑∑ 
}
∏∏ 
}
ππ 
}
∫∫ 
return
ºº 	
emailAddresses
ºº
 
;
ºº 
}
ΩΩ 
public
∆∆ 
static
∆∆	 
IDataReader
∆∆ %
GetUserCountByYearMonth
∆∆ 3
(
∆∆3 4
int
∆∆4 7
siteId
∆∆8 >
)
∆∆> ?
{
«« 
if
»» 
(
»»  
UseRelatedSiteMode
»» 
)
»» 
{
…… 
siteId
   

=
   
RelatedSiteID
   
;
   
}
ÀÀ 
return
ÕÕ 	

DBSiteUser
ÕÕ
 
.
ÕÕ %
GetUserCountByYearMonth
ÕÕ ,
(
ÕÕ, -
siteId
ÕÕ- 3
)
ÕÕ3 4
;
ÕÕ4 5
}
ŒŒ 
public
›› 
static
››	 
List
›› 
<
›› 
SiteUser
›› 
>
›› 
GetByIPAddress
›› -
(
››- .
Guid
››. 2
siteGuid
››3 ;
,
››; <
string
››= C
ipv4Address
››D O
)
››O P
{
ﬁﬁ 
List
ﬂﬂ 
<
ﬂﬂ 
SiteUser
ﬂﬂ 
>
ﬂﬂ 
userList
ﬂﬂ 
=
ﬂﬂ 
new
ﬂﬂ  
List
ﬂﬂ! %
<
ﬂﬂ% &
SiteUser
ﬂﬂ& .
>
ﬂﬂ. /
(
ﬂﬂ/ 0
)
ﬂﬂ0 1
;
ﬂﬂ1 2
if
·· 
(
··  
UseRelatedSiteMode
·· 
)
·· 
{
‚‚ 
siteGuid
„„ 
=
„„ 
Guid
„„ 
.
„„ 
Empty
„„ 
;
„„ 
}
‰‰ 
using
ÊÊ 
(
ÊÊ	 

IDataReader
ÊÊ
 
reader
ÊÊ 
=
ÊÊ 
UserLocation
ÊÊ +
.
ÊÊ+ ,!
GetUsersByIPAddress
ÊÊ, ?
(
ÊÊ? @
siteGuid
ÊÊ@ H
,
ÊÊH I
ipv4Address
ÊÊJ U
)
ÊÊU V
)
ÊÊV W
{
ÁÁ 
while
ËË 	
(
ËË
 
reader
ËË 
.
ËË 
Read
ËË 
(
ËË 
)
ËË 
)
ËË 
{
ÈÈ 
SiteUser
ÍÍ 
user
ÍÍ 
=
ÍÍ 
new
ÍÍ 
SiteUser
ÍÍ !
(
ÍÍ! "
)
ÍÍ" #
;
ÍÍ# $#
PopulateFromReaderRow
ÏÏ 
(
ÏÏ 
user
ÏÏ 
,
ÏÏ  
reader
ÏÏ! '
)
ÏÏ' (
;
ÏÏ( )
userList
ÌÌ 
.
ÌÌ 
Add
ÌÌ 
(
ÌÌ 
user
ÌÌ 
)
ÌÌ 
;
ÌÌ 
}
ÓÓ 
}
ÔÔ 
return
ÒÒ 	
userList
ÒÒ
 
;
ÒÒ 
}
ÚÚ 
public
ıı 
static
ıı	 
List
ıı 
<
ıı 
SiteUser
ıı 
>
ıı 
GetPage
ıı &
(
ıı& '
int
ˆˆ 
siteId
ˆˆ 
,
ˆˆ 
int
˜˜ 

pageNumber
˜˜ 
,
˜˜ 
int
¯¯ 
pageSize
¯¯ 
,
¯¯ 
string
˘˘ 	

beginsWith
˘˘
 
,
˘˘ 
int
˙˙ 
sortMode
˙˙ 
,
˙˙ 
string
˚˚ 	
nameFilterMode
˚˚
 
,
˚˚ 
out
¸¸ 
int
¸¸ 


totalPages
¸¸ 
)
˝˝ 
{
˛˛ 

totalPages
ÄÄ 
=
ÄÄ 
$num
ÄÄ 
;
ÄÄ 
List
ÇÇ 
<
ÇÇ 
SiteUser
ÇÇ 
>
ÇÇ 
userList
ÇÇ 
=
ÇÇ 
new
ÇÇ  
List
ÇÇ! %
<
ÇÇ% &
SiteUser
ÇÇ& .
>
ÇÇ. /
(
ÇÇ/ 0
)
ÇÇ0 1
;
ÇÇ1 2
if
ÑÑ 
(
ÑÑ  
UseRelatedSiteMode
ÑÑ 
)
ÑÑ 
{
ÖÖ 
siteId
ÜÜ 

=
ÜÜ 
RelatedSiteID
ÜÜ 
;
ÜÜ 
}
áá 
using
ââ 
(
ââ	 

IDataReader
ââ
 
reader
ââ 
=
ââ 

DBSiteUser
ââ )
.
ââ) *
GetUserListPage
ââ* 9
(
ââ9 :
siteId
ää 
,
ää 

pageNumber
ãã 
,
ãã 
pageSize
åå 
,
åå 

beginsWith
çç 
,
çç 
sortMode
éé 
,
éé 
nameFilterMode
èè 
,
èè 
out
êê 

totalPages
êê	 
)
ëë 
)
íí 
{
ìì 
while
îî 	
(
îî
 
reader
îî 
.
îî 
Read
îî 
(
îî 
)
îî 
)
îî 
{
ïï 
SiteUser
ññ 
user
ññ 
=
ññ 
new
ññ 
SiteUser
ññ !
(
ññ! "
)
ññ" #
;
ññ# $#
PopulateFromReaderRow
òò 
(
òò 
user
òò 
,
òò  
reader
òò! '
)
òò' (
;
òò( )
userList
ôô 
.
ôô 
Add
ôô 
(
ôô 
user
ôô 
)
ôô 
;
ôô 
}
õõ 
}
úú 
return
ûû 	
userList
ûû
 
;
ûû 
}
üü 
public
¢¢ 
static
¢¢	 
List
¢¢ 
<
¢¢ 
SiteUser
¢¢ 
>
¢¢ 
GetUserSearchPage
¢¢ 0
(
¢¢0 1
int
££ 
siteId
££ 
,
££ 
int
§§ 

pageNumber
§§ 
,
§§ 
int
•• 
pageSize
•• 
,
•• 
string
¶¶ 	
searchInput
¶¶
 
,
¶¶ 
int
ßß 
sortMode
ßß 
,
ßß 
out
®® 
int
®® 


totalPages
®® 
)
©© 
{
™™ 
List
≠≠ 
<
≠≠ 
SiteUser
≠≠ 
>
≠≠ 
userList
≠≠ 
=
≠≠ 
new
≠≠  
List
≠≠! %
<
≠≠% &
SiteUser
≠≠& .
>
≠≠. /
(
≠≠/ 0
)
≠≠0 1
;
≠≠1 2
if
ØØ 
(
ØØ  
UseRelatedSiteMode
ØØ 
)
ØØ 
{
∞∞ 
siteId
±± 

=
±± 
RelatedSiteID
±± 
;
±± 
}
≤≤ 
using
¥¥ 
(
¥¥	 

IDataReader
¥¥
 
reader
¥¥ 
=
¥¥ 

DBSiteUser
¥¥ )
.
¥¥) *
GetUserSearchPage
¥¥* ;
(
¥¥; <
siteId
µµ 
,
µµ 

pageNumber
∂∂ 
,
∂∂ 
pageSize
∑∑ 
,
∑∑ 
searchInput
∏∏ 
,
∏∏ 
sortMode
ππ 
,
ππ 
out
∫∫ 

totalPages
∫∫	 
)
ªª 
)
ºº 
{
ΩΩ 
while
øø 	
(
øø
 
reader
øø 
.
øø 
Read
øø 
(
øø 
)
øø 
)
øø 
{
¿¿ 
SiteUser
¡¡ 
user
¡¡ 
=
¡¡ 
new
¡¡ 
SiteUser
¡¡ !
(
¡¡! "
)
¡¡" #
;
¡¡# $#
PopulateFromReaderRow
√√ 
(
√√ 
user
√√ 
,
√√  
reader
√√! '
)
√√' (
;
√√( )
userList
ƒƒ 
.
ƒƒ 
Add
ƒƒ 
(
ƒƒ 
user
ƒƒ 
)
ƒƒ 
;
ƒƒ 
}
≈≈ 
}
∆∆ 
return
»» 	
userList
»»
 
;
»» 
}
…… 
public
ÃÃ 
static
ÃÃ	 
List
ÃÃ 
<
ÃÃ 
SiteUser
ÃÃ 
>
ÃÃ $
GetUserAdminSearchPage
ÃÃ 5
(
ÃÃ5 6
int
ÕÕ 
siteId
ÕÕ 
,
ÕÕ 
int
ŒŒ 

pageNumber
ŒŒ 
,
ŒŒ 
int
œœ 
pageSize
œœ 
,
œœ 
string
–– 	
searchInput
––
 
,
–– 
int
—— 
sortMode
—— 
,
—— 
out
““ 
int
““ 


totalPages
““ 
)
”” 
{
‘‘ 
List
’’ 
<
’’ 
SiteUser
’’ 
>
’’ 
userList
’’ 
=
’’ 
new
’’  
List
’’! %
<
’’% &
SiteUser
’’& .
>
’’. /
(
’’/ 0
)
’’0 1
;
’’1 2
if
◊◊ 
(
◊◊  
UseRelatedSiteMode
◊◊ 
)
◊◊ 
{
ÿÿ 
siteId
ŸŸ 

=
ŸŸ 
RelatedSiteID
ŸŸ 
;
ŸŸ 
}
⁄⁄ 
using
‹‹ 
(
‹‹	 

IDataReader
‹‹
 
reader
‹‹ 
=
‹‹ 

DBSiteUser
‹‹ )
.
‹‹) *$
GetUserAdminSearchPage
‹‹* @
(
‹‹@ A
siteId
›› 
,
›› 

pageNumber
ﬁﬁ 
,
ﬁﬁ 
pageSize
ﬂﬂ 
,
ﬂﬂ 
searchInput
‡‡ 
,
‡‡ 
sortMode
·· 
,
·· 
out
‚‚ 

totalPages
‚‚	 
)
„„ 
)
‰‰ 
{
ÂÂ 
while
ÊÊ 	
(
ÊÊ
 
reader
ÊÊ 
.
ÊÊ 
Read
ÊÊ 
(
ÊÊ 
)
ÊÊ 
)
ÊÊ 
{
ÁÁ 
SiteUser
ËË 
user
ËË 
=
ËË 
new
ËË 
SiteUser
ËË !
(
ËË! "
)
ËË" #
;
ËË# $#
PopulateFromReaderRow
ÍÍ 
(
ÍÍ 
user
ÍÍ 
,
ÍÍ  
reader
ÍÍ! '
)
ÍÍ' (
;
ÍÍ( )
userList
ÎÎ 
.
ÎÎ 
Add
ÎÎ 
(
ÎÎ 
user
ÎÎ 
)
ÎÎ 
;
ÎÎ 
}
ÏÏ 
}
ÌÌ 
return
ÔÔ 	
userList
ÔÔ
 
;
ÔÔ 
}
 
public
ÛÛ 
static
ÛÛ	 
List
ÛÛ 
<
ÛÛ 
SiteUser
ÛÛ 
>
ÛÛ  
GetPageLockedUsers
ÛÛ 1
(
ÛÛ1 2
int
ÙÙ 
siteId
ÙÙ 
,
ÙÙ 
int
ıı 

pageNumber
ıı 
,
ıı 
int
ˆˆ 
pageSize
ˆˆ 
,
ˆˆ 
out
˜˜ 
int
˜˜ 


totalPages
˜˜ 
)
¯¯ 
{
˘˘ 
List
˙˙ 
<
˙˙ 
SiteUser
˙˙ 
>
˙˙ 
userList
˙˙ 
=
˙˙ 
new
˙˙  
List
˙˙! %
<
˙˙% &
SiteUser
˙˙& .
>
˙˙. /
(
˙˙/ 0
)
˙˙0 1
;
˙˙1 2
if
¸¸ 
(
¸¸  
UseRelatedSiteMode
¸¸ 
)
¸¸ 
{
˝˝ 
siteId
˛˛ 

=
˛˛ 
RelatedSiteID
˛˛ 
;
˛˛ 
}
ˇˇ 
using
ÅÅ 
(
ÅÅ	 

IDataReader
ÅÅ
 
reader
ÅÅ 
=
ÅÅ 

DBSiteUser
ÅÅ )
.
ÅÅ) * 
GetPageLockedUsers
ÅÅ* <
(
ÅÅ< =
siteId
ÇÇ 
,
ÇÇ 

pageNumber
ÉÉ 
,
ÉÉ 
pageSize
ÑÑ 
,
ÑÑ 
out
ÖÖ 

totalPages
ÖÖ	 
)
ÜÜ 
)
áá 
{
àà 
while
ää 	
(
ää
 
reader
ää 
.
ää 
Read
ää 
(
ää 
)
ää 
)
ää 
{
ãã 
SiteUser
åå 
user
åå 
=
åå 
new
åå 
SiteUser
åå !
(
åå! "
)
åå" #
;
åå# $#
PopulateFromReaderRow
éé 
(
éé 
user
éé 
,
éé  
reader
éé! '
)
éé' (
;
éé( )
userList
èè 
.
èè 
Add
èè 
(
èè 
user
èè 
)
èè 
;
èè 
}
êê 
}
ëë 
return
ìì 	
userList
ìì
 
;
ìì 
}
îî 
public
óó 
static
óó	 
List
óó 
<
óó 
SiteUser
óó 
>
óó !
GetNotApprovedUsers
óó 2
(
óó2 3
int
òò 
siteId
òò 
,
òò 
int
ôô 

pageNumber
ôô 
,
ôô 
int
öö 
pageSize
öö 
,
öö 
out
õõ 
int
õõ 


totalPages
õõ 
)
úú 
{
ùù 
List
ûû 
<
ûû 
SiteUser
ûû 
>
ûû 
userList
ûû 
=
ûû 
new
ûû  
List
ûû! %
<
ûû% &
SiteUser
ûû& .
>
ûû. /
(
ûû/ 0
)
ûû0 1
;
ûû1 2
if
†† 
(
††  
UseRelatedSiteMode
†† 
)
†† 
{
°° 
siteId
¢¢ 

=
¢¢ 
RelatedSiteID
¢¢ 
;
¢¢ 
}
££ 
using
•• 
(
••	 

IDataReader
••
 
reader
•• 
=
•• 

DBSiteUser
•• )
.
••) *%
GetPageNotApprovedUsers
••* A
(
••A B
siteId
¶¶ 
,
¶¶ 

pageNumber
ßß 
,
ßß 
pageSize
®® 
,
®® 
out
©© 

totalPages
©©	 
)
™™ 
)
´´ 
{
¨¨ 
while
≠≠ 	
(
≠≠
 
reader
≠≠ 
.
≠≠ 
Read
≠≠ 
(
≠≠ 
)
≠≠ 
)
≠≠ 
{
ÆÆ 
SiteUser
ØØ 
user
ØØ 
=
ØØ 
new
ØØ 
SiteUser
ØØ !
(
ØØ! "
)
ØØ" #
;
ØØ# $#
PopulateFromReaderRow
±± 
(
±± 
user
±± 
,
±±  
reader
±±! '
)
±±' (
;
±±( )
userList
≤≤ 
.
≤≤ 
Add
≤≤ 
(
≤≤ 
user
≤≤ 
)
≤≤ 
;
≤≤ 
}
≥≥ 
}
¥¥ 
return
∂∂ 	
userList
∂∂
 
;
∂∂ 
}
∑∑ 
private
∫∫ 	
static
∫∫
 
void
∫∫ #
PopulateFromReaderRow
∫∫ +
(
∫∫+ ,
SiteUser
∫∫, 4
user
∫∫5 9
,
∫∫9 :
IDataReader
∫∫; F
reader
∫∫G M
)
∫∫M N
{
ªª 
user
ºº 
.
ºº 
userID
ºº 
=
ºº 
Convert
ºº 
.
ºº 
ToInt32
ºº  
(
ºº  !
reader
ºº! '
[
ºº' (
$str
ºº( 0
]
ºº0 1
)
ºº1 2
;
ºº2 3
user
ΩΩ 
.
ΩΩ 
siteID
ΩΩ 
=
ΩΩ 
Convert
ΩΩ 
.
ΩΩ 
ToInt32
ΩΩ  
(
ΩΩ  !
reader
ΩΩ! '
[
ΩΩ' (
$str
ΩΩ( 0
]
ΩΩ0 1
)
ΩΩ1 2
;
ΩΩ2 3
if
øø 
(
øø  
UseRelatedSiteMode
øø 
)
øø 
{
¿¿ 
user
¡¡ 
.
¡¡ 	
siteID
¡¡	 
=
¡¡ 
RelatedSiteID
¡¡ 
;
¡¡  
}
¬¬ 
user
ƒƒ 
.
ƒƒ 
name
ƒƒ 
=
ƒƒ 
reader
ƒƒ 
[
ƒƒ 
$str
ƒƒ 
]
ƒƒ 
.
ƒƒ 
ToString
ƒƒ &
(
ƒƒ& '
)
ƒƒ' (
;
ƒƒ( )
user
≈≈ 
.
≈≈ 
	loginName
≈≈ 
=
≈≈ 
reader
≈≈ 
[
≈≈ 
$str
≈≈ &
]
≈≈& '
.
≈≈' (
ToString
≈≈( 0
(
≈≈0 1
)
≈≈1 2
;
≈≈2 3
user
«« 
.
«« 
	firstName
«« 
=
«« 
reader
«« 
[
«« 
$str
«« &
]
««& '
.
««' (
ToString
««( 0
(
««0 1
)
««1 2
;
««2 3
user
»» 
.
»» 
lastName
»» 
=
»» 
reader
»» 
[
»» 
$str
»» $
]
»»$ %
.
»»% &
ToString
»»& .
(
»». /
)
»»/ 0
;
»»0 1
user
   
.
   
email
   
=
   
reader
   
[
   
$str
   
]
   
.
    
ToString
    (
(
  ( )
)
  ) *
;
  * +
user
ÀÀ 
.
ÀÀ 
loweredEmail
ÀÀ 
=
ÀÀ 
reader
ÀÀ 
[
ÀÀ 
$str
ÀÀ ,
]
ÀÀ, -
.
ÀÀ- .
ToString
ÀÀ. 6
(
ÀÀ6 7
)
ÀÀ7 8
;
ÀÀ8 9
user
ÃÃ 
.
ÃÃ 
password
ÃÃ 
=
ÃÃ 
reader
ÃÃ 
[
ÃÃ 
$str
ÃÃ 
]
ÃÃ  
.
ÃÃ  !
ToString
ÃÃ! )
(
ÃÃ) *
)
ÃÃ* +
;
ÃÃ+ ,
user
ÕÕ 
.
ÕÕ 
passwordQuestion
ÕÕ 
=
ÕÕ 
reader
ÕÕ !
[
ÕÕ! "
$str
ÕÕ" 4
]
ÕÕ4 5
.
ÕÕ5 6
ToString
ÕÕ6 >
(
ÕÕ> ?
)
ÕÕ? @
;
ÕÕ@ A
user
ŒŒ 
.
ŒŒ 
passwordAnswer
ŒŒ 
=
ŒŒ 
reader
ŒŒ 
[
ŒŒ  
$str
ŒŒ  0
]
ŒŒ0 1
.
ŒŒ1 2
ToString
ŒŒ2 :
(
ŒŒ: ;
)
ŒŒ; <
;
ŒŒ< =
user
œœ 
.
œœ 
gender
œœ 
=
œœ 
reader
œœ 
[
œœ 
$str
œœ  
]
œœ  !
.
œœ! "
ToString
œœ" *
(
œœ* +
)
œœ+ ,
;
œœ, -
if
—— 
(
—— 
reader
—— 
[
—— 
$str
—— 
]
——  
!=
——! #
DBNull
——$ *
.
——* +
Value
——+ 0
)
——0 1
{
““ 
user
”” 
.
”” 	
profileApproved
””	 
=
”” 
Convert
”” "
.
””" #
	ToBoolean
””# ,
(
””, -
reader
””- 3
[
””3 4
$str
””4 E
]
””E F
)
””F G
;
””G H
}
‘‘ 
if
÷÷ 
(
÷÷ 
reader
÷÷ 
[
÷÷ 
$str
÷÷ !
]
÷÷! "
!=
÷÷# %
DBNull
÷÷& ,
.
÷÷, -
Value
÷÷- 2
)
÷÷2 3
{
◊◊ 
user
ÿÿ 
.
ÿÿ 	
approvedForForums
ÿÿ	 
=
ÿÿ 
Convert
ÿÿ $
.
ÿÿ$ %
	ToBoolean
ÿÿ% .
(
ÿÿ. /
reader
ÿÿ/ 5
[
ÿÿ5 6
$str
ÿÿ6 I
]
ÿÿI J
)
ÿÿJ K
;
ÿÿK L
}
ŸŸ 
if
€€ 
(
€€ 
reader
€€ 
[
€€ 
$str
€€ 
]
€€ 
!=
€€ 
DBNull
€€ "
.
€€" #
Value
€€# (
)
€€( )
{
‹‹ 
user
›› 
.
›› 	
trusted
››	 
=
›› 
Convert
›› 
.
›› 
	ToBoolean
›› $
(
››$ %
reader
››% +
[
››+ ,
$str
››, 5
]
››5 6
)
››6 7
;
››7 8
}
ﬁﬁ 
if
‡‡ 
(
‡‡ 
reader
‡‡ 
[
‡‡ 
$str
‡‡ #
]
‡‡# $
!=
‡‡% '
DBNull
‡‡( .
.
‡‡. /
Value
‡‡/ 4
)
‡‡4 5
{
·· 
user
‚‚ 
.
‚‚ 	!
displayInMemberList
‚‚	 
=
‚‚ 
Convert
‚‚ &
.
‚‚& '
	ToBoolean
‚‚' 0
(
‚‚0 1
reader
‚‚1 7
[
‚‚7 8
$str
‚‚8 M
]
‚‚M N
)
‚‚N O
;
‚‚O P
}
„„ 
if
ÂÂ 
(
ÂÂ 
reader
ÂÂ 
[
ÂÂ 
$str
ÂÂ 
]
ÂÂ 
!=
ÂÂ 
DBNull
ÂÂ $
.
ÂÂ$ %
Value
ÂÂ% *
)
ÂÂ* +
{
ÊÊ 
user
ÁÁ 
.
ÁÁ 	
	isDeleted
ÁÁ	 
=
ÁÁ 
Convert
ÁÁ 
.
ÁÁ 
	ToBoolean
ÁÁ &
(
ÁÁ& '
reader
ÁÁ' -
[
ÁÁ- .
$str
ÁÁ. 9
]
ÁÁ9 :
)
ÁÁ: ;
;
ÁÁ; <
}
ËË 
if
ÍÍ 
(
ÍÍ 
reader
ÍÍ 
[
ÍÍ 
$str
ÍÍ 
]
ÍÍ 
!=
ÍÍ 
DBNull
ÍÍ  &
.
ÍÍ& '
Value
ÍÍ' ,
)
ÍÍ, -
{
ÎÎ 
user
ÏÏ 
.
ÏÏ 	
isLockedOut
ÏÏ	 
=
ÏÏ 
Convert
ÏÏ 
.
ÏÏ 
	ToBoolean
ÏÏ (
(
ÏÏ( )
reader
ÏÏ) /
[
ÏÏ/ 0
$str
ÏÏ0 =
]
ÏÏ= >
)
ÏÏ> ?
;
ÏÏ? @
}
ÌÌ 
user
ÔÔ 
.
ÔÔ 

webSiteUrl
ÔÔ 
=
ÔÔ 
reader
ÔÔ 
[
ÔÔ 
$str
ÔÔ (
]
ÔÔ( )
.
ÔÔ) *
ToString
ÔÔ* 2
(
ÔÔ2 3
)
ÔÔ3 4
;
ÔÔ4 5
user
 
.
 
country
 
=
 
reader
 
[
 
$str
 "
]
" #
.
# $
ToString
$ ,
(
, -
)
- .
;
. /
user
ÒÒ 
.
ÒÒ 
state
ÒÒ 
=
ÒÒ 
reader
ÒÒ 
[
ÒÒ 
$str
ÒÒ 
]
ÒÒ 
.
ÒÒ  
ToString
ÒÒ  (
(
ÒÒ( )
)
ÒÒ) *
;
ÒÒ* +
user
ÚÚ 
.
ÚÚ 

occupation
ÚÚ 
=
ÚÚ 
reader
ÚÚ 
[
ÚÚ 
$str
ÚÚ (
]
ÚÚ( )
.
ÚÚ) *
ToString
ÚÚ* 2
(
ÚÚ2 3
)
ÚÚ3 4
;
ÚÚ4 5
user
ÛÛ 
.
ÛÛ 
	interests
ÛÛ 
=
ÛÛ 
reader
ÛÛ 
[
ÛÛ 
$str
ÛÛ &
]
ÛÛ& '
.
ÛÛ' (
ToString
ÛÛ( 0
(
ÛÛ0 1
)
ÛÛ1 2
;
ÛÛ2 3
user
ÙÙ 
.
ÙÙ 
msn
ÙÙ 
=
ÙÙ 
reader
ÙÙ 
[
ÙÙ 
$str
ÙÙ 
]
ÙÙ 
.
ÙÙ 
ToString
ÙÙ $
(
ÙÙ$ %
)
ÙÙ% &
;
ÙÙ& '
user
ıı 
.
ıı 
yahoo
ıı 
=
ıı 
reader
ıı 
[
ıı 
$str
ıı 
]
ıı 
.
ıı  
ToString
ıı  (
(
ıı( )
)
ıı) *
;
ıı* +
user
ˆˆ 
.
ˆˆ 
aim
ˆˆ 
=
ˆˆ 
reader
ˆˆ 
[
ˆˆ 
$str
ˆˆ 
]
ˆˆ 
.
ˆˆ 
ToString
ˆˆ $
(
ˆˆ$ %
)
ˆˆ% &
;
ˆˆ& '
user
˜˜ 
.
˜˜ 
icq
˜˜ 
=
˜˜ 
reader
˜˜ 
[
˜˜ 
$str
˜˜ 
]
˜˜ 
.
˜˜ 
ToString
˜˜ $
(
˜˜$ %
)
˜˜% &
;
˜˜& '
if
˘˘ 
(
˘˘ 
reader
˘˘ 
[
˘˘ 
$str
˘˘ 
]
˘˘ 
!=
˘˘ 
DBNull
˘˘ %
.
˘˘% &
Value
˘˘& +
)
˘˘+ ,
{
˙˙ 
user
˚˚ 
.
˚˚ 	

totalPosts
˚˚	 
=
˚˚ 
Convert
˚˚ 
.
˚˚ 
ToInt32
˚˚ %
(
˚˚% &
reader
˚˚& ,
[
˚˚, -
$str
˚˚- 9
]
˚˚9 :
)
˚˚: ;
;
˚˚; <
}
¸¸ 
user
˛˛ 
.
˛˛ 
	avatarUrl
˛˛ 
=
˛˛ 
reader
˛˛ 
[
˛˛ 
$str
˛˛ &
]
˛˛& '
.
˛˛' (
ToString
˛˛( 0
(
˛˛0 1
)
˛˛1 2
;
˛˛2 3
user
ÄÄ 
.
ÄÄ 
	signature
ÄÄ 
=
ÄÄ 
reader
ÄÄ 
[
ÄÄ 
$str
ÄÄ &
]
ÄÄ& '
.
ÄÄ' (
ToString
ÄÄ( 0
(
ÄÄ0 1
)
ÄÄ1 2
;
ÄÄ2 3
if
ÇÇ 
(
ÇÇ 
reader
ÇÇ 
[
ÇÇ 
$str
ÇÇ 
]
ÇÇ 
!=
ÇÇ 
DBNull
ÇÇ  &
.
ÇÇ& '
Value
ÇÇ' ,
)
ÇÇ, -
{
ÉÉ 
user
ÑÑ 
.
ÑÑ 	
dateCreated
ÑÑ	 
=
ÑÑ 
Convert
ÑÑ 
.
ÑÑ 

ToDateTime
ÑÑ )
(
ÑÑ) *
reader
ÑÑ* 0
[
ÑÑ0 1
$str
ÑÑ1 >
]
ÑÑ> ?
)
ÑÑ? @
;
ÑÑ@ A
}
ÖÖ 
user
áá 
.
áá 
userGuid
áá 
=
áá 
new
áá 
Guid
áá 
(
áá 
reader
áá "
[
áá" #
$str
áá# -
]
áá- .
.
áá. /
ToString
áá/ 7
(
áá7 8
)
áá8 9
)
áá9 :
;
áá: ;
user
àà 
.
àà 
skin
àà 
=
àà 
reader
àà 
[
àà 
$str
àà 
]
àà 
.
àà 
ToString
àà &
(
àà& '
)
àà' (
;
àà( )
if
ää 
(
ää 
reader
ää 
[
ää 
$str
ää  
]
ää  !
!=
ää" $
DBNull
ää% +
.
ää+ ,
Value
ää, 1
)
ää1 2
{
ãã 
user
åå 
.
åå 	
lastActivityDate
åå	 
=
åå 
Convert
åå #
.
åå# $

ToDateTime
åå$ .
(
åå. /
reader
åå/ 5
[
åå5 6
$str
åå6 H
]
ååH I
)
ååI J
;
ååJ K
}
çç 
if
èè 
(
èè 
reader
èè 
[
èè 
$str
èè 
]
èè 
!=
èè !
DBNull
èè" (
.
èè( )
Value
èè) .
)
èè. /
{
êê 
user
ëë 
.
ëë 	
lastLoginDate
ëë	 
=
ëë 
Convert
ëë  
.
ëë  !

ToDateTime
ëë! +
(
ëë+ ,
reader
ëë, 2
[
ëë2 3
$str
ëë3 B
]
ëëB C
)
ëëC D
;
ëëD E
}
íí 
if
îî 
(
îî 
reader
îî 
[
îî 
$str
îî '
]
îî' (
!=
îî) +
DBNull
îî, 2
.
îî2 3
Value
îî3 8
)
îî8 9
{
ïï 
user
ññ 
.
ññ 	%
lastPasswordChangedDate
ññ	  
=
ññ! "
Convert
ññ# *
.
ññ* +

ToDateTime
ññ+ 5
(
ññ5 6
reader
ññ6 <
[
ññ< =
$str
ññ= V
]
ññV W
)
ññW X
;
ññX Y
}
óó 
if
ôô 
(
ôô 
reader
ôô 
[
ôô 
$str
ôô 
]
ôô  
!=
ôô! #
DBNull
ôô$ *
.
ôô* +
Value
ôô+ 0
)
ôô0 1
{
öö 
user
õõ 
.
õõ 	
lastLockoutDate
õõ	 
=
õõ 
Convert
õõ "
.
õõ" #

ToDateTime
õõ# -
(
õõ- .
reader
õõ. 4
[
õõ4 5
$str
õõ5 F
]
õõF G
)
õõG H
;
õõH I
}
úú 
if
ûû 
(
ûû 
reader
ûû 
[
ûû 
$str
ûû *
]
ûû* +
!=
ûû, .
DBNull
ûû/ 5
.
ûû5 6
Value
ûû6 ;
)
ûû; <
{
üü 
user
†† 
.
†† 	(
failedPasswordAttemptCount
††	 #
=
††$ %
Convert
††& -
.
††- .
ToInt32
††. 5
(
††5 6
reader
††6 <
[
††< =
$str
††= Y
]
††Y Z
)
††Z [
;
††[ \
}
°° 
if
££ 
(
££ 
reader
££ 
[
££ 
$str
££ +
]
££+ ,
!=
££- /
DBNull
££0 6
.
££6 7
Value
££7 <
)
££< =
{
§§ 
user
•• 
.
•• 	.
 failedPasswordAttemptWindowStart
••	 )
=
¶¶ 
Convert
¶¶ 
.
¶¶ 

ToDateTime
¶¶ 
(
¶¶ 
reader
¶¶  
[
¶¶  !
$str
¶¶! >
]
¶¶> ?
)
¶¶? @
;
¶¶@ A
}
ßß 
if
©© 
(
©© 
reader
©© 
[
©© 
$str
©© +
]
©©+ ,
!=
©©- /
DBNull
©©0 6
.
©©6 7
Value
©©7 <
)
©©< =
{
™™ 
user
´´ 
.
´´ 	.
 failedPasswordAnswerAttemptCount
´´	 )
=
¨¨ 
Convert
¨¨ 
.
¨¨ 
ToInt32
¨¨ 
(
¨¨ 
reader
¨¨ 
[
¨¨ 
$str
¨¨ ;
]
¨¨; <
)
¨¨< =
;
¨¨= >
}
≠≠ 
if
ØØ 
(
ØØ 
reader
ØØ 
[
ØØ 
$str
ØØ *
]
ØØ* +
!=
ØØ, .
DBNull
ØØ/ 5
.
ØØ5 6
Value
ØØ6 ;
)
ØØ; <
{
∞∞ 
user
±± 
.
±± 	4
&failedPasswordAnswerAttemptWindowStart
±±	 /
=
≤≤ 
Convert
≤≤ 
.
≤≤ 

ToDateTime
≤≤ 
(
≤≤ 
reader
≤≤  
[
≤≤  !
$str
≤≤! =
]
≤≤= >
)
≤≤> ?
;
≤≤? @
}
≥≥ 
user
µµ 
.
µµ 
passwordSalt
µµ 
=
µµ 
reader
µµ 
[
µµ 
$str
µµ ,
]
µµ, -
.
µµ- .
ToString
µµ. 6
(
µµ6 7
)
µµ7 8
;
µµ8 9
user
∂∂ 
.
∂∂ 
comment
∂∂ 
=
∂∂ 
reader
∂∂ 
[
∂∂ 
$str
∂∂ "
]
∂∂" #
.
∂∂# $
ToString
∂∂$ ,
(
∂∂, -
)
∂∂- .
;
∂∂. /
user
∑∑ 
.
∑∑ 
mustChangePwd
∑∑ 
=
∑∑ 
Convert
∑∑ 
.
∑∑  
	ToBoolean
∑∑  )
(
∑∑) *
reader
∑∑* 0
[
∑∑0 1
$str
∑∑1 @
]
∑∑@ A
)
∑∑A B
;
∑∑B C
user
∏∏ 
.
∏∏ 
rolesChanged
∏∏ 
=
∏∏ 
Convert
∏∏ 
.
∏∏ 
	ToBoolean
∏∏ (
(
∏∏( )
reader
∏∏) /
[
∏∏/ 0
$str
∏∏0 >
]
∏∏> ?
)
∏∏? @
;
∏∏@ A
}
ππ 
public
∆∆ 
static
∆∆	 
IDataReader
∆∆ 
GetUserByEmail
∆∆ *
(
∆∆* +
int
∆∆+ .
siteId
∆∆/ 5
,
∆∆5 6
string
∆∆7 =
email
∆∆> C
)
∆∆C D
{
«« 
if
»» 
(
»»  
UseRelatedSiteMode
»» 
)
»» 
{
…… 
siteId
   

=
   
RelatedSiteID
   
;
   
}
ÀÀ 
return
ÕÕ 	

DBSiteUser
ÕÕ
 
.
ÕÕ 
GetSingleUser
ÕÕ "
(
ÕÕ" #
siteId
ÕÕ# )
,
ÕÕ) *
email
ÕÕ+ 0
)
ÕÕ0 1
;
ÕÕ1 2
}
ŒŒ 
public
—— 
static
——	 
IDataReader
——  
GetUserByLoginName
—— .
(
——. /
int
——/ 2
siteId
——3 9
,
——9 :
string
——; A
	loginName
——B K
,
——K L
bool
——M Q 
allowEmailFallback
——R d
)
——d e
{
““ 
if
”” 
(
””  
UseRelatedSiteMode
”” 
)
”” 
{
‘‘ 
siteId
’’ 

=
’’ 
RelatedSiteID
’’ 
;
’’ 
}
÷÷ 
return
ÿÿ 	

DBSiteUser
ÿÿ
 
.
ÿÿ &
GetSingleUserByLoginName
ÿÿ -
(
ÿÿ- .
siteId
ÿÿ. 4
,
ÿÿ4 5
	loginName
ÿÿ6 ?
,
ÿÿ? @ 
allowEmailFallback
ÿÿA S
)
ÿÿS T
;
ÿÿT U
}
ŸŸ 
public
‹‹ 
static
‹‹	 
IDataReader
‹‹ 
GetRolesByUser
‹‹ *
(
‹‹* +
int
‹‹+ .
siteId
‹‹/ 5
,
‹‹5 6
int
‹‹7 :
userId
‹‹; A
)
‹‹A B
{
›› 
if
ﬁﬁ 
(
ﬁﬁ  
UseRelatedSiteMode
ﬁﬁ 
)
ﬁﬁ 
{
ﬂﬂ 
siteId
‡‡ 

=
‡‡ 
RelatedSiteID
‡‡ 
;
‡‡ 
}
·· 
return
„„ 	

DBSiteUser
„„
 
.
„„ 
GetRolesByUser
„„ #
(
„„# $
siteId
„„$ *
,
„„* +
userId
„„, 2
)
„„2 3
;
„„3 4
}
‰‰ 
public
ÁÁ 
static
ÁÁ	 
string
ÁÁ 
[
ÁÁ 
]
ÁÁ 
GetRoles
ÁÁ !
(
ÁÁ! "
SiteSettings
ÁÁ" .
siteSettings
ÁÁ/ ;
,
ÁÁ; <
string
ÁÁ= C
identity
ÁÁD L
)
ÁÁL M
{
ËË 
SiteUser
ÈÈ 
siteUser
ÈÈ 
=
ÈÈ 
new
ÈÈ 
SiteUser
ÈÈ #
(
ÈÈ# $
siteSettings
ÈÈ$ 0
,
ÈÈ0 1
identity
ÈÈ2 :
)
ÈÈ: ;
;
ÈÈ; <
int
ÎÎ 
siteId
ÎÎ 
=
ÎÎ 
siteSettings
ÎÎ 
.
ÎÎ 
SiteId
ÎÎ #
;
ÎÎ# $
if
ÌÌ 
(
ÌÌ  
UseRelatedSiteMode
ÌÌ 
)
ÌÌ 
{
ÓÓ 
siteId
ÔÔ 

=
ÔÔ 
RelatedSiteID
ÔÔ 
;
ÔÔ 
}
 
	ArrayList
ÚÚ 
	userRoles
ÚÚ 
=
ÚÚ 
new
ÚÚ 
	ArrayList
ÚÚ &
(
ÚÚ& '
)
ÚÚ' (
;
ÚÚ( )
using
ÙÙ 
(
ÙÙ	 

IDataReader
ÙÙ
 
reader
ÙÙ 
=
ÙÙ 

DBSiteUser
ÙÙ )
.
ÙÙ) *
GetRolesByUser
ÙÙ* 8
(
ÙÙ8 9
siteId
ÙÙ9 ?
,
ÙÙ? @
siteUser
ÙÙA I
.
ÙÙI J
UserId
ÙÙJ P
)
ÙÙP Q
)
ÙÙQ R
{
ıı 
while
ˆˆ 	
(
ˆˆ
 
reader
ˆˆ 
.
ˆˆ 
Read
ˆˆ 
(
ˆˆ 
)
ˆˆ 
)
ˆˆ 
{
˜˜ 
	userRoles
¯¯ 
.
¯¯ 
Add
¯¯ 
(
¯¯ 
reader
¯¯ 
[
¯¯ 
$str
¯¯ $
]
¯¯$ %
)
¯¯% &
;
¯¯& '
}
˘˘ 
}
˙˙ 
return
¸¸ 	
(
¸¸
 
string
¸¸ 
[
¸¸ 
]
¸¸ 
)
¸¸ 
	userRoles
¸¸ 
.
¸¸ 
ToArray
¸¸ %
(
¸¸% &
typeof
¸¸& ,
(
¸¸, -
string
¸¸- 3
)
¸¸3 4
)
¸¸4 5
;
¸¸5 6
}
˝˝ 
public
ÄÄ 
static
ÄÄ	 
IList
ÄÄ 
<
ÄÄ 
string
ÄÄ 
>
ÄÄ 
GetRoles
ÄÄ &
(
ÄÄ& '
SiteUser
ÄÄ' /
siteUser
ÄÄ0 8
)
ÄÄ8 9
{
ÅÅ 
int
ÑÑ 
siteId
ÑÑ 
=
ÑÑ 
siteUser
ÑÑ 
.
ÑÑ 
SiteId
ÑÑ 
;
ÑÑ  
if
ÜÜ 
(
ÜÜ  
UseRelatedSiteMode
ÜÜ 
)
ÜÜ 
{
áá 
siteId
àà 

=
àà 
RelatedSiteID
àà 
;
àà 
}
ââ 
List
ãã 
<
ãã 
string
ãã 
>
ãã 
	userRoles
ãã 
=
ãã 
new
ãã 
List
ãã  $
<
ãã$ %
string
ãã% +
>
ãã+ ,
(
ãã, -
)
ãã- .
;
ãã. /
using
çç 
(
çç	 

IDataReader
çç
 
reader
çç 
=
çç 

DBSiteUser
çç )
.
çç) *
GetRolesByUser
çç* 8
(
çç8 9
siteId
çç9 ?
,
çç? @
siteUser
ççA I
.
ççI J
UserId
ççJ P
)
ççP Q
)
ççQ R
{
éé 
while
èè 	
(
èè
 
reader
èè 
.
èè 
Read
èè 
(
èè 
)
èè 
)
èè 
{
êê 
	userRoles
ëë 
.
ëë 
Add
ëë 
(
ëë 
reader
ëë 
[
ëë 
$str
ëë $
]
ëë$ %
.
ëë% &
ToString
ëë& .
(
ëë. /
)
ëë/ 0
)
ëë0 1
;
ëë1 2
}
íí 
}
ìì 
return
ïï 	
	userRoles
ïï
 
;
ïï 
}
ññ 
public
ôô 
static
ôô	 
string
ôô 
Login
ôô 
(
ôô 
SiteSettings
ôô )
siteSettings
ôô* 6
,
ôô6 7
string
ôô8 >
loginId
ôô? F
,
ôôF G
string
ôôH N
password
ôôO W
)
ôôW X
{
öö 
int
õõ 
siteId
õõ 
=
õõ 
siteSettings
õõ 
.
õõ 
SiteId
õõ #
;
õõ# $
if
ùù 
(
ùù  
UseRelatedSiteMode
ùù 
)
ùù 
{
ûû 
siteId
üü 

=
üü 
RelatedSiteID
üü 
;
üü 
}
†† 
if
¢¢ 
(
¢¢ 
siteSettings
¢¢ 
.
¢¢ 
UseEmailForLogin
¢¢ $
)
¢¢$ %
{
££ 
string
§§ 

	foundUser
§§ 
=
§§ 

DBSiteUser
§§ !
.
§§! "
LoginByEmail
§§" .
(
§§. /
siteSettings
§§/ ;
.
§§; <
SiteId
§§< B
,
§§B C
loginId
§§D K
,
§§K L
password
§§M U
)
§§U V
;
§§V W
if
¶¶ 
(
¶¶ 
	foundUser
¶¶ 
!=
¶¶ 
string
¶¶ 
.
¶¶ 
Empty
¶¶ !
)
¶¶! "
{
ßß 
return
®® 
	foundUser
®® 
;
®® 
}
©© 
else
™™ 
{
´´ 
return
¨¨ 

DBSiteUser
¨¨ 
.
¨¨ 
Login
¨¨ 
(
¨¨ 
siteId
¨¨ #
,
¨¨# $
loginId
¨¨% ,
,
¨¨, -
password
¨¨. 6
)
¨¨6 7
;
¨¨7 8
}
≠≠ 
}
ÆÆ 
else
ØØ 
{
∞∞ 
return
±± 


DBSiteUser
±± 
.
±± 
Login
±± 
(
±± 
siteId
±± "
,
±±" #
loginId
±±$ +
,
±±+ ,
password
±±- 5
)
±±5 6
;
±±6 7
}
≤≤ 
}
≥≥ 
public
∂∂ 
static
∂∂	 
string
∂∂ 
	LoginLDAP
∂∂  
(
∂∂  !
SiteSettings
∂∂! -
siteSettings
∂∂. :
,
∂∂: ;
string
∂∂< B
loginId
∂∂C J
,
∂∂J K
string
∂∂L R
password
∂∂S [
,
∂∂[ \
out
∂∂] `
SiteUser
∂∂a i 
userCreatedForLdap
∂∂j |
)
∂∂| }
{
∑∑  
userCreatedForLdap
∏∏ 
=
∏∏ 
null
∏∏ 
;
∏∏ 
int
ππ 
siteId
ππ 
=
ππ 
siteSettings
ππ 
.
ππ 
SiteId
ππ #
;
ππ# $
if
ªª 
(
ªª  
UseRelatedSiteMode
ªª 
)
ªª 
{
ºº 
siteId
ΩΩ 

=
ΩΩ 
RelatedSiteID
ΩΩ 
;
ΩΩ 
}
ææ 
LdapUser
¡¡ 
user
¡¡ 
=
¡¡ 

LdapHelper
¡¡ 
.
¡¡ 
	LdapLogin
¡¡ '
(
¡¡' (
siteSettings
¡¡( 4
.
¡¡4 5
SiteLdapSettings
¡¡5 E
,
¡¡E F
loginId
¡¡G N
,
¡¡N O
password
¡¡P X
)
¡¡X Y
;
¡¡Y Z
if
√√ 
(
√√ 
user
√√ 
!=
√√ 
null
√√ 
)
√√ 
{
ƒƒ 
bool
≈≈ 

existsInDB
≈≈	 
=
≈≈ 
LoginExistsInDB
≈≈ %
(
≈≈% &
siteId
≈≈& ,
,
≈≈, -
loginId
≈≈. 5
)
≈≈5 6
;
≈≈6 7
if
«« 
(
«« 

existsInDB
«« 
)
«« 
{
»» 
return
…… 
user
…… 
.
…… 

CommonName
…… 
;
…… 
}
   
else
ÀÀ 
{
ÃÃ 
if
ÕÕ 
(
ÕÕ 	
siteSettings
ÕÕ	 
.
ÕÕ ,
AutoCreateLdapUserOnFirstLogin
ÕÕ 4
)
ÕÕ4 5
{
ŒŒ  
userCreatedForLdap
œœ 
=
œœ 
new
œœ 
SiteUser
œœ '
(
œœ' (
siteSettings
œœ( 4
)
œœ4 5
;
œœ5 6
if
—— 
(
——	 

(
——
 
user
—— 
.
—— 
	FirstName
—— 
.
—— 
Length
——  
>
——! "
$num
——# $
)
——$ %
&&
——& (
(
——) *
user
——* .
.
——. /
LastName
——/ 7
.
——7 8
Length
——8 >
>
——? @
$num
——A B
)
——B C
)
——C D
{
““  
userCreatedForLdap
”” 
.
”” 
name
”” 
=
””  
user
””! %
.
””% &
	FirstName
””& /
+
””0 1
$str
””2 5
+
””6 7
user
””8 <
.
””< =
LastName
””= E
;
””E F
}
‘‘ 
else
’’ 

{
÷÷  
userCreatedForLdap
◊◊ 
.
◊◊ 
name
◊◊ 
=
◊◊  
user
◊◊! %
.
◊◊% &

CommonName
◊◊& 0
;
◊◊0 1
}
ÿÿ  
userCreatedForLdap
⁄⁄ 
.
⁄⁄ 
	LoginName
⁄⁄ "
=
⁄⁄# $
loginId
⁄⁄% ,
;
⁄⁄, - 
userCreatedForLdap
€€ 
.
€€ 
email
€€ 
=
€€  
user
€€! %
.
€€% &
Email
€€& +
;
€€+ , 
userCreatedForLdap
ﬂﬂ 
.
ﬂﬂ 
Password
ﬂﬂ !
=
ﬂﬂ" #"
CreateRandomPassword
ﬂﬂ$ 8
(
ﬂﬂ8 9
$num
ﬂﬂ9 ;
,
ﬂﬂ; <
string
ﬂﬂ= C
.
ﬂﬂC D
Empty
ﬂﬂD I
)
ﬂﬂI J
;
ﬂﬂJ K 
userCreatedForLdap
‡‡ 
.
‡‡ 
Save
‡‡ 
(
‡‡ 
)
‡‡ 
;
‡‡  
return
‚‚ 
user
‚‚ 
.
‚‚ 

CommonName
‚‚ 
;
‚‚ 
}
„„ 
else
‰‰ 	
{
ÂÂ 
return
ÊÊ 
string
ÊÊ 
.
ÊÊ 
Empty
ÊÊ 
;
ÊÊ 
}
ÁÁ 
}
ËË 
}
ÈÈ 
else
ÍÍ 
{
ÎÎ 
return
ÏÏ 

string
ÏÏ 
.
ÏÏ 
Empty
ÏÏ 
;
ÏÏ 
}
ÌÌ 
}
ÓÓ 
public
«« 
static
««	 
bool
«« !
IncrementTotalPosts
«« (
(
««( )
int
««) ,
userId
««- 3
)
««3 4
{
»» 
return
…… 	

DBSiteUser
……
 
.
…… !
IncrementTotalPosts
…… (
(
……( )
userId
……) /
)
……/ 0
;
……0 1
}
   
public
ÕÕ 
static
ÕÕ	 
bool
ÕÕ !
DecrementTotalPosts
ÕÕ (
(
ÕÕ( )
int
ÕÕ) ,
userId
ÕÕ- 3
)
ÕÕ3 4
{
ŒŒ 
return
œœ 	

DBSiteUser
œœ
 
.
œœ !
DecrementTotalPosts
œœ (
(
œœ( )
userId
œœ) /
)
œœ/ 0
;
œœ0 1
}
–– 
public
”” 
static
””	 
IDataReader
”” "
GetSmartDropDownData
”” 0
(
””0 1
int
””1 4
siteId
””5 ;
,
””; <
string
””= C
query
””D I
,
””I J
int
””K N
	rowsToGet
””O X
)
””X Y
{
‘‘ 
if
’’ 
(
’’  
UseRelatedSiteMode
’’ 
)
’’ 
{
÷÷ 
siteId
◊◊ 

=
◊◊ 
RelatedSiteID
◊◊ 
;
◊◊ 
}
ÿÿ 
return
⁄⁄ 	

DBSiteUser
⁄⁄
 
.
⁄⁄ "
GetSmartDropDownData
⁄⁄ )
(
⁄⁄) *
siteId
⁄⁄* 0
,
⁄⁄0 1
query
⁄⁄2 7
,
⁄⁄7 8
	rowsToGet
⁄⁄9 B
)
⁄⁄B C
;
⁄⁄C D
}
€€ 
public
ﬁﬁ 
static
ﬁﬁ	 
IDataReader
ﬁﬁ 
EmailLookup
ﬁﬁ '
(
ﬁﬁ' (
int
ﬁﬁ( +
siteId
ﬁﬁ, 2
,
ﬁﬁ2 3
string
ﬁﬁ4 :
query
ﬁﬁ; @
,
ﬁﬁ@ A
int
ﬁﬁB E
	rowsToGet
ﬁﬁF O
)
ﬁﬁO P
{
ﬂﬂ 
if
‡‡ 
(
‡‡  
UseRelatedSiteMode
‡‡ 
)
‡‡ 
{
·· 
siteId
‚‚ 

=
‚‚ 
RelatedSiteID
‚‚ 
;
‚‚ 
}
„„ 
return
ÂÂ 	

DBSiteUser
ÂÂ
 
.
ÂÂ 
EmailLookup
ÂÂ  
(
ÂÂ  !
siteId
ÂÂ! '
,
ÂÂ' (
query
ÂÂ) .
,
ÂÂ. /
	rowsToGet
ÂÂ0 9
)
ÂÂ9 :
;
ÂÂ: ;
}
ÊÊ 
public
ÈÈ 
static
ÈÈ	 
bool
ÈÈ 
EmailExistsInDB
ÈÈ $
(
ÈÈ$ %
int
ÈÈ% (
siteId
ÈÈ) /
,
ÈÈ/ 0
string
ÈÈ1 7
email
ÈÈ8 =
)
ÈÈ= >
{
ÍÍ 
if
ÎÎ 
(
ÎÎ  
UseRelatedSiteMode
ÎÎ 
)
ÎÎ 
{
ÏÏ 
siteId
ÌÌ 

=
ÌÌ 
RelatedSiteID
ÌÌ 
;
ÌÌ 
}
ÓÓ 
bool
 
found
 
=
 
false
 
;
 
using
ÚÚ 
(
ÚÚ	 

IDataReader
ÚÚ
 
r
ÚÚ 
=
ÚÚ 

DBSiteUser
ÚÚ $
.
ÚÚ$ %
GetSingleUser
ÚÚ% 2
(
ÚÚ2 3
siteId
ÚÚ3 9
,
ÚÚ9 :
email
ÚÚ; @
)
ÚÚ@ A
)
ÚÚA B
{
ÛÛ 
while
ÙÙ 	
(
ÙÙ
 
r
ÙÙ 
.
ÙÙ 
Read
ÙÙ 
(
ÙÙ 
)
ÙÙ 
)
ÙÙ 
{
ıı 
found
ˆˆ 

=
ˆˆ 
true
ˆˆ 
;
ˆˆ 
}
˜˜ 
}
¯¯ 
return
˙˙ 	
found
˙˙
 
;
˙˙ 
}
˚˚ 
public
˛˛ 
static
˛˛	 
bool
˛˛ 
EmailExistsInDB
˛˛ $
(
˛˛$ %
int
˛˛% (
siteId
˛˛) /
,
˛˛/ 0
int
˛˛1 4
userId
˛˛5 ;
,
˛˛; <
string
˛˛= C
email
˛˛D I
)
˛˛I J
{
ˇˇ 
if
ÄÄ 
(
ÄÄ  
UseRelatedSiteMode
ÄÄ 
)
ÄÄ 
{
ÅÅ 
siteId
ÇÇ 

=
ÇÇ 
RelatedSiteID
ÇÇ 
;
ÇÇ 
}
ÉÉ 
bool
ÖÖ 
found
ÖÖ 
=
ÖÖ 
false
ÖÖ 
;
ÖÖ 
using
áá 
(
áá	 

IDataReader
áá
 
r
áá 
=
áá 

DBSiteUser
áá $
.
áá$ %
GetSingleUser
áá% 2
(
áá2 3
siteId
áá3 9
,
áá9 :
email
áá; @
)
áá@ A
)
ááA B
{
àà 
while
ââ 	
(
ââ
 
r
ââ 
.
ââ 
Read
ââ 
(
ââ 
)
ââ 
)
ââ 
{
ää 
int
ãã 
foundId
ãã	 
=
ãã 
Convert
ãã 
.
ãã 
ToInt32
ãã "
(
ãã" #
r
ãã# $
[
ãã$ %
$str
ãã% -
]
ãã- .
)
ãã. /
;
ãã/ 0
found
åå 

=
åå 
(
åå 
foundId
åå 
!=
åå 
userId
åå 
)
åå  
;
åå  !
if
éé 
(
éé 	
found
éé	 
)
éé 
{
èè 
return
êê 
found
êê 
;
êê 
}
ëë 
}
íí 
}
ìì 
return
ïï 	
found
ïï
 
;
ïï 
}
ññ 
public
ôô 
static
ôô	 
bool
ôô 
LoginExistsInDB
ôô $
(
ôô$ %
int
ôô% (
siteId
ôô) /
,
ôô/ 0
string
ôô1 7
	loginName
ôô8 A
)
ôôA B
{
öö 
if
õõ 
(
õõ  
UseRelatedSiteMode
õõ 
)
õõ 
{
úú 
siteId
ùù 

=
ùù 
RelatedSiteID
ùù 
;
ùù 
}
ûû 
bool
†† 
found
†† 
=
†† 
false
†† 
;
†† 
using
¢¢ 
(
¢¢	 

IDataReader
¢¢
 
r
¢¢ 
=
¢¢ 

DBSiteUser
¢¢ $
.
¢¢$ %&
GetSingleUserByLoginName
¢¢% =
(
¢¢= >
siteId
¢¢> D
,
¢¢D E
	loginName
¢¢F O
,
¢¢O P
false
¢¢Q V
)
¢¢V W
)
¢¢W X
{
££ 
while
§§ 	
(
§§
 
r
§§ 
.
§§ 
Read
§§ 
(
§§ 
)
§§ 
)
§§ 
{
•• 
found
¶¶ 

=
¶¶ 
true
¶¶ 
;
¶¶ 
}
ßß 
}
®® 
return
™™ 	
found
™™
 
;
™™ 
}
´´ 
public
ÆÆ 
static
ÆÆ	 
string
ÆÆ "
CreateRandomPassword
ÆÆ +
(
ÆÆ+ ,
int
ÆÆ, /
length
ÆÆ0 6
,
ÆÆ6 7
string
ÆÆ8 >"
allowedPasswordChars
ÆÆ? S
)
ÆÆS T
{
ØØ 
if
∞∞ 
(
∞∞ 
length
∞∞ 
==
∞∞ 
$num
∞∞ 
)
∞∞ 
{
±± 
length
≤≤ 

=
≤≤ 
$num
≤≤ 
;
≤≤ 
}
≥≥ 
char
µµ 
[
µµ 
]
µµ 	
allowedChars
µµ
 
;
µµ 
if
∑∑ 
(
∑∑ 
string
∑∑ 
.
∑∑ 
IsNullOrEmpty
∑∑ 
(
∑∑ "
allowedPasswordChars
∑∑ 0
)
∑∑0 1
)
∑∑1 2
{
∏∏ 
allowedChars
ππ 
=
ππ 
$str
ππ K
.
ππK L
ToCharArray
ππL W
(
ππW X
)
ππX Y
;
ππY Z
}
∫∫ 
else
ªª 
{
ºº 
allowedChars
ΩΩ 
=
ΩΩ "
allowedPasswordChars
ΩΩ '
.
ΩΩ' (
ToCharArray
ΩΩ( 3
(
ΩΩ3 4
)
ΩΩ4 5
;
ΩΩ5 6
}
ææ 
char
¿¿ 
[
¿¿ 
]
¿¿ 	
passwordChars
¿¿
 
=
¿¿ 
new
¿¿ 
char
¿¿ "
[
¿¿" #
length
¿¿# )
]
¿¿) *
;
¿¿* +
byte
¡¡ 
[
¡¡ 
]
¡¡ 	
	seedBytes
¡¡
 
=
¡¡ 
new
¡¡ 
byte
¡¡ 
[
¡¡ 
$num
¡¡  
]
¡¡  !
;
¡¡! "&
RNGCryptoServiceProvider
¬¬ 
crypto
¬¬ "
=
¬¬# $
new
¬¬% (&
RNGCryptoServiceProvider
¬¬) A
(
¬¬A B
)
¬¬B C
;
¬¬C D
crypto
√√ 	
.
√√	 

GetBytes
√√
 
(
√√ 
	seedBytes
√√ 
)
√√ 
;
√√ 
int
≈≈ 
seed
≈≈ 
=
≈≈ 
(
∆∆ 
	seedBytes
∆∆ 
[
∆∆ 
$num
∆∆ 
]
∆∆ 
&
∆∆ 
$num
∆∆ 
)
∆∆ 
<<
∆∆ 
$num
∆∆ 
|
∆∆  !
	seedBytes
«« 
[
«« 
$num
«« 
]
«« 
<<
«« 
$num
«« 
|
«« 
	seedBytes
»» 
[
»» 
$num
»» 
]
»» 
<<
»» 
$num
»» 
|
»» 
	seedBytes
…… 
[
…… 
$num
…… 
]
…… 
;
…… 
Random
ÀÀ 	
random
ÀÀ
 
=
ÀÀ 
new
ÀÀ 
Random
ÀÀ 
(
ÀÀ 
seed
ÀÀ "
)
ÀÀ" #
;
ÀÀ# $
for
ÕÕ 
(
ÕÕ 
int
ÕÕ 
i
ÕÕ 
=
ÕÕ 
$num
ÕÕ 
;
ÕÕ 
i
ÕÕ 
<
ÕÕ 
length
ÕÕ 
;
ÕÕ 
i
ÕÕ  
++
ÕÕ  "
)
ÕÕ" #
{
ŒŒ 
passwordChars
œœ 
[
œœ 
i
œœ 
]
œœ 
=
œœ 
allowedChars
œœ #
[
œœ# $
random
œœ$ *
.
œœ* +
Next
œœ+ /
(
œœ/ 0
$num
œœ0 1
,
œœ1 2
allowedChars
œœ3 ?
.
œœ? @
Length
œœ@ F
)
œœF G
]
œœG H
;
œœH I
}
–– 
return
““ 	
new
““
 
string
““ 
(
““ 
passwordChars
““ "
)
““" #
;
““# $
}
”” 
public
÷÷ 
static
÷÷	 
string
÷÷ "
GetUserNameFromEmail
÷÷ +
(
÷÷+ ,
int
÷÷, /
siteId
÷÷0 6
,
÷÷6 7
string
÷÷8 >
email
÷÷? D
)
÷÷D E
{
◊◊ 
if
ÿÿ 
(
ÿÿ  
UseRelatedSiteMode
ÿÿ 
)
ÿÿ 
{
ŸŸ 
siteId
⁄⁄ 

=
⁄⁄ 
RelatedSiteID
⁄⁄ 
;
⁄⁄ 
}
€€ 
string
›› 	
result
››
 
=
›› 
string
›› 
.
›› 
Empty
›› 
;
››  
if
ﬂﬂ 
(
ﬂﬂ 
(
ﬂﬂ 
email
ﬂﬂ 
!=
ﬂﬂ 
null
ﬂﬂ 
)
ﬂﬂ 
&&
ﬂﬂ 
(
ﬂﬂ 
email
ﬂﬂ  
.
ﬂﬂ  !
Length
ﬂﬂ! '
>
ﬂﬂ( )
$num
ﬂﬂ* +
)
ﬂﬂ+ ,
&&
ﬂﬂ- /
(
ﬂﬂ0 1
siteId
ﬂﬂ1 7
>
ﬂﬂ8 9
$num
ﬂﬂ: ;
)
ﬂﬂ; <
)
ﬂﬂ< =
{
‡‡ 
string
·· 

comma
·· 
=
·· 
string
·· 
.
·· 
Empty
·· 
;
··  
using
„„ 	
(
„„
 
IDataReader
„„ 
reader
„„ 
=
„„ 

DBSiteUser
„„  *
.
„„* +
GetSingleUser
„„+ 8
(
„„8 9
siteId
„„9 ?
,
„„? @
email
„„A F
)
„„F G
)
„„G H
{
‰‰ 
while
ÂÂ 

(
ÂÂ 
reader
ÂÂ 
.
ÂÂ 
Read
ÂÂ 
(
ÂÂ 
)
ÂÂ 
)
ÂÂ 
{
ÊÊ 
result
ÁÁ 
+=
ÁÁ 
comma
ÁÁ 
+
ÁÁ 
reader
ÁÁ 
[
ÁÁ 
$str
ÁÁ *
]
ÁÁ* +
.
ÁÁ+ ,
ToString
ÁÁ, 4
(
ÁÁ4 5
)
ÁÁ5 6
;
ÁÁ6 7
comma
ËË 
=
ËË 
$str
ËË 
;
ËË 
}
ÈÈ 
}
ÍÍ 
}
ÎÎ 
return
ÌÌ 	
result
ÌÌ
 
;
ÌÌ 
}
ÓÓ 
public
ÒÒ 
static
ÒÒ	 
int
ÒÒ 
GetNewestUserId
ÒÒ #
(
ÒÒ# $
int
ÒÒ$ '
siteId
ÒÒ( .
)
ÒÒ. /
{
ÚÚ 
if
ÛÛ 
(
ÛÛ  
UseRelatedSiteMode
ÛÛ 
)
ÛÛ 
{
ÙÙ 
siteId
ıı 

=
ıı 
RelatedSiteID
ıı 
;
ıı 
}
ˆˆ 
return
¯¯ 	

DBSiteUser
¯¯
 
.
¯¯ 
GetNewestUserId
¯¯ $
(
¯¯$ %
siteId
¯¯% +
)
¯¯+ ,
;
¯¯, -
}
˘˘ 
public
¸¸ 
static
¸¸	 
SiteUser
¸¸ 
GetNewestUser
¸¸ &
(
¸¸& '
SiteSettings
¸¸' 3
siteSettings
¸¸4 @
)
¸¸@ A
{
˝˝ 
int
˛˛ 
userID
˛˛ 
=
˛˛ 
GetNewestUserId
˛˛ 
(
˛˛  
siteSettings
˛˛  ,
.
˛˛, -
SiteId
˛˛- 3
)
˛˛3 4
;
˛˛4 5
SiteUser
ˇˇ 
siteUser
ˇˇ 
=
ˇˇ 
new
ˇˇ 
SiteUser
ˇˇ #
(
ˇˇ# $
siteSettings
ˇˇ$ 0
,
ˇˇ0 1
userID
ˇˇ2 8
)
ˇˇ8 9
;
ˇˇ9 :
if
ÄÄ 
(
ÄÄ 
siteUser
ÄÄ 
.
ÄÄ 
UserId
ÄÄ 
==
ÄÄ 
userID
ÄÄ  
)
ÄÄ  !
{
ÅÅ 
return
ÇÇ 

siteUser
ÇÇ 
;
ÇÇ 
}
ÉÉ 
return
ÖÖ 	
null
ÖÖ
 
;
ÖÖ 
}
ÜÜ 
public
ââ 
static
ââ	 
int
ââ /
!CountUsersByRegistrationDateRange
ââ 5
(
ââ5 6
int
ââ6 9
siteId
ââ: @
,
ââ@ A
DateTime
ââB J
	beginDate
ââK T
,
ââT U
DateTime
ââV ^
endDate
ââ_ f
)
ââf g
{
ää 
if
ãã 
(
ãã  
UseRelatedSiteMode
ãã 
)
ãã 
{
åå 
siteId
çç 

=
çç 
RelatedSiteID
çç 
;
çç 
}
éé 
return
êê 	

DBSiteUser
êê
 
.
êê /
!CountUsersByRegistrationDateRange
êê 6
(
êê6 7
siteId
êê7 =
,
êê= >
	beginDate
êê? H
,
êêH I
endDate
êêJ Q
)
êêQ R
;
êêR S
}
ëë 
public
îî 
static
îî	 
Guid
îî #
GetUserGuidFromOpenId
îî *
(
îî* +
int
ïï 
siteId
ïï 
,
ïï 
string
ññ 	
	openIdUri
ññ
 
)
ññ 
{
óó 
if
òò 
(
òò  
UseRelatedSiteMode
òò 
)
òò 
{
ôô 
siteId
ôô 
=
ôô 
RelatedSiteID
ôô 
;
ôô 
}
ôô 
return
öö 	

DBSiteUser
öö
 
.
öö #
GetUserGuidFromOpenId
öö *
(
öö* +
siteId
öö+ 1
,
öö1 2
	openIdUri
öö3 <
)
öö< =
;
öö= >
}
õõ 
public
ùù 
static
ùù	 
Guid
ùù *
GetUserGuidFromWindowsLiveId
ùù 1
(
ùù1 2
int
ùù2 5
siteId
ùù6 <
,
ùù< =
string
ùù> D
windowsLiveId
ùùE R
)
ùùR S
{
ûû 
if
üü 
(
üü  
UseRelatedSiteMode
üü 
)
üü 
{
†† 
siteId
°° 

=
°° 
RelatedSiteID
°° 
;
°° 
}
¢¢ 
return
§§ 	

DBSiteUser
§§
 
.
§§ *
GetUserGuidFromWindowsLiveId
§§ 1
(
§§1 2
siteId
§§2 8
,
§§8 9
windowsLiveId
§§: G
)
§§G H
;
§§H I
}
•• 
public
®® 
static
®®	 
void
®®  
UpdateTotalRevenue
®® '
(
®®' (
Guid
®®( ,
userGuid
®®- 5
)
®®5 6
{
©© 

DBSiteUser
™™ 
.
™™  
UpdateTotalRevenue
™™  
(
™™  !
userGuid
™™! )
)
™™) *
;
™™* +
}
´´ 
public
±± 
static
±±	 
void
±±  
UpdateTotalRevenue
±± '
(
±±' (
)
±±( )
{
≤≤ 

DBSiteUser
≥≥ 
.
≥≥  
UpdateTotalRevenue
≥≥  
(
≥≥  !
)
≥≥! "
;
≥≥" #
}
¥¥ 
public
∑∑ 
static
∑∑	 
SiteUser
∑∑ 
	GetByGuid
∑∑ "
(
∑∑" #
SiteSettings
∑∑# /
siteSettings
∑∑0 <
,
∑∑< =
Guid
∑∑> B
userGuid
∑∑C K
)
∑∑K L
{
∏∏ 
if
ππ 
(
ππ 
siteSettings
ππ 
==
ππ 
null
ππ 
)
ππ 
{
∫∫ 
return
ªª 

null
ªª 
;
ªª 
}
ºº 
SiteUser
ææ 
user
ææ 
=
ææ 
new
ææ 
SiteUser
ææ 
(
ææ  
siteSettings
ææ  ,
,
ææ, -
userGuid
ææ. 6
)
ææ6 7
;
ææ7 8
if
¿¿ 
(
¿¿ 
(
¿¿ 
user
¿¿ 
.
¿¿ 
UserId
¿¿ 
>
¿¿ 
-
¿¿ 
$num
¿¿ 
)
¿¿ 
&&
¿¿ 
(
¿¿ 
user
¿¿ "
.
¿¿" #
SiteGuid
¿¿# +
==
¿¿, .
siteSettings
¿¿/ ;
.
¿¿; <
SiteGuid
¿¿< D
)
¿¿D E
)
¿¿E F
{
¡¡ 
return
¬¬ 

user
¬¬ 
;
¬¬ 
}
√√ 
return
≈≈ 	
null
≈≈
 
;
≈≈ 
}
∆∆ 
}
…… 
}   ÷"
}D:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Statistics\MembershipStatistics.cs
	namespace 	

mojoPortal
 
. 
Business 
. 

Statistics (
{ 
public 

class  
MembershipStatistics %
{ 
public  
MembershipStatistics #
(# $
SiteSettings$ 0
siteSettings1 =
,= >
DateTime? G

todaysDateH R
)R S
{ 	
GetStatistics 
( 
siteSettings &
,& '

todaysDate( 2
)2 3
;3 4
} 	
private 
int 
siteID 
= 
- 
$num 
;  
private 
string 
siteName 
=  !
String" (
.( )
Empty) .
;. /
private"" 
int"" 

totalUsers"" 
=""  
$num""! $
;""$ %
private## 
int## 
newUsersToday## !
=##" #
$num##$ %
;##% &
private$$ 
int$$ 
newUsersYesterday$$ %
=$$& '
$num$$( )
;$$) *
private%% 
String%% 

newestUser%% !
=%%" #
$str%%$ )
;%%) *
public-- 
int-- 
SiteId-- 
{.. 	
get// 
{// 
return// 
siteID// 
;//  
}//! "
}00 	
public22 
String22 
SiteName22 
{33 	
get44 
{44 
return44 
siteName44 !
;44! "
}44# $
}55 	
public77 
int77 

TotalUsers77 
{88 	
get99 
{99 
return99 

totalUsers99 #
;99# $
}99% &
}:: 	
public<< 
int<< 
NewUsersToday<<  
{== 	
get>> 
{>> 
return>> 
newUsersToday>> &
;>>& '
}>>( )
}?? 	
publicAA 
intAA 
NewUsersYesterdayAA $
{BB 	
getCC 
{CC 
returnCC 
newUsersYesterdayCC *
;CC* +
}CC, -
}DD 	
publicFF 
StringFF 

NewestUserFF  
{GG 	
getHH 
{HH 
returnHH 

newestUserHH #
;HH# $
}HH% &
}II 	
privatePP 
voidPP 
GetStatisticsPP "
(PP" #
SiteSettingsPP# /
siteSettingsPP0 <
,PP< =
DateTimePP> F
todayPPG L
)PPL M
{QQ 	
ifRR 
(RR 
siteSettingsRR 
!=RR 
nullRR  $
)RR$ %
{SS 
siteIDTT 
=TT 
siteSettingsTT %
.TT% &
SiteIdTT& ,
;TT, -
siteNameUU 
=UU 
siteSettingsUU '
.UU' (
SiteNameUU( 0
;UU0 1

totalUsersWW 
=WW 
SiteUserWW %
.WW% &
	UserCountWW& /
(WW/ 0
siteIDWW0 6
)WW6 7
;WW7 8
SiteUserXX 
newestSiteUserXX '
=XX( )
SiteUserXX* 2
.XX2 3
GetNewestUserXX3 @
(XX@ A
siteSettingsXXA M
)XXM N
;XXN O

newestUserYY 
=YY 
newestSiteUserYY +
.YY+ ,
NameYY, 0
;YY0 1
newUsersToday[[ 
=[[ 
SiteUser[[  (
.[[( )-
!CountUsersByRegistrationDateRange[[) J
([[J K
siteID[[K Q
,[[Q R
today[[S X
,[[X Y
today[[Z _
.[[_ `
AddDays[[` g
([[g h
$num[[h i
)[[i j
)[[j k
;[[k l
newUsersYesterday\\ !
=\\" #
SiteUser\\$ ,
.\\, --
!CountUsersByRegistrationDateRange\\- N
(\\N O
siteID\\O U
,\\U V
today\\W \
.\\\ ]
AddDays\\] d
(\\d e
-\\e f
$num\\f g
)\\g h
,\\h i
today\\j o
)\\o p
;\\p q
}^^ 
}`` 	
}dd 
}ee ˆ
hD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\SystemInfo.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public		 
class		 

SystemInfo		 
{

 
public 
int	 
	SiteCount 
{ 
get 
; 
set !
;! "
}# $
=% &
$num' (
;( )
public 
KeyValuePair	 
< 
string 
, 
Guid "
>" #
SiteMappings$ 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
} 
} Ô"
gD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\SystemLog.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

static 
class 
	SystemLog !
{ 
public 
static 
int 
Log 
( 
string 
	ipAddress 
, 
string 
culture 
, 
string 
url 
, 
string 
thread 
, 
string 
logLevel 
, 
string 
logger 
, 
string   
message   
)   
{!! 	
string"" 
shortUrl"" 
="" 
null"" "
;""" #
if## 
(## 
!## 
string## 
.## 
IsNullOrEmpty## %
(##% &
url##& )
)##) *
)##* +
{$$ 
if%% 
(%% 
url%% 
.%% 
Length%% 
>=%% !
$num%%" %
)%%% &
{&& 
shortUrl'' 
='' 
url'' "
.''" #
	Substring''# ,
('', -
$num''- .
,''. /
$num''0 3
)''3 4
;''4 5
}(( 
else)) 
{** 
shortUrl++ 
=++ 
url++ "
;++" #
},, 
}-- 
return// 
DBSystemLog// 
.// 
Create// %
(//% &
DateTime00 
.00 
UtcNow00 
,00  
	ipAddress11 
,11 
culture22 
,22 
url33 
,33 
shortUrl44 
,44 
thread55 
,55 
logLevel66 
,66 
logger77 
,77 
message88 
)88 
;88 
}99 	
public<< 
static<< 
void<< 
	DeleteAll<< $
(<<$ %
)<<% &
{== 	
DBSystemLog>> 
.>> 
	DeleteAll>> !
(>>! "
)>>" #
;>># $
}?? 	
publicAA 
staticAA 
boolAA 
DeleteAA !
(AA! "
intAA" %
idAA& (
)AA( )
{BB 	
returnCC 
DBSystemLogCC 
.CC 
DeleteCC %
(CC% &
idCC& (
)CC( )
;CC) *
}DD 	
publicFF 
staticFF 
boolFF 
DeleteOlderThanFF *
(FF* +
DateTimeFF+ 3

cutoffDateFF4 >
)FF> ?
{GG 	
returnHH 
DBSystemLogHH 
.HH 
DeleteOlderThanHH .
(HH. /

cutoffDateHH/ 9
)HH9 :
;HH: ;
}II 	
publicKK 
staticKK 
boolKK 
DeleteByLevelKK (
(KK( )
stringKK) /
logLevelKK0 8
)KK8 9
{LL 	
returnMM 
DBSystemLogMM 
.MM 
DeleteByLevelMM ,
(MM, -
logLevelMM- 5
)MM5 6
;MM6 7
}NN 	
publicPP 
staticPP 
IDataReaderPP !
GetPageAscendingPP" 2
(PP2 3
intQQ 

pageNumberQQ 
,QQ 
intRR 
pageSizeRR 
,RR 
outSS 
intSS 

totalPagesSS 
)SS 
{TT 	
returnUU 
DBSystemLogUU 
.UU 
GetPageAscendingUU /
(UU/ 0

pageNumberUU0 :
,UU: ;
pageSizeUU< D
,UUD E
outUUF I

totalPagesUUJ T
)UUT U
;UUU V
}VV 	
publicXX 
staticXX 
IDataReaderXX !
GetPageDescendingXX" 3
(XX3 4
intYY 

pageNumberYY 
,YY 
intZZ 
pageSizeZZ 
,ZZ 
out[[ 
int[[ 

totalPages[[ 
)[[ 
{\\ 	
return]] 
DBSystemLog]] 
.]] 
GetPageDescending]] 0
(]]0 1

pageNumber]]1 ;
,]]; <
pageSize]]= E
,]]E F
out]]G J

totalPages]]K U
)]]U V
;]]V W
}^^ 	
}`` 
}aa å!
eD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Tag\Tag.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 
class 
Tag 
{ 
public

 
Guid

	 
Guid

 
{

 
get

 
;

 
set

 
;

 
}

  
=

! "
Guid

# '
.

' (
Empty

( -
;

- .
public 
Guid	 
SiteGuid 
{ 
get 
; 
set !
;! "
}# $
=% &
Guid' +
.+ ,
Empty, 1
;1 2
public 
Guid	 
FeatureGuid 
{ 
get 
;  
set! $
;$ %
}& '
=( )
Guid* .
.. /
Empty/ 4
;4 5
public 
Guid	 

ModuleGuid 
{ 
get 
; 
set  #
;# $
}% &
=' (
Guid) -
.- .
Empty. 3
;3 4
public 
string	 
TagText 
{ 
get 
; 
set "
;" #
}$ %
=& '
string( .
.. /
Empty/ 4
;4 5
public 
int	 
	ItemCount 
{ 
get 
; 
set !
;! "
}# $
=% &
$num' (
;( )
public 
DateTime	 

CreatedUtc 
{ 
get "
;" #
set$ '
;' (
}) *
=+ ,
DateTime- 5
.5 6
UtcNow6 <
;< =
public 
Guid	 
	CreatedBy 
{ 
get 
; 
set "
;" #
}$ %
=& '
Guid( ,
., -
Empty- 2
;2 3
public 
DateTime	 
ModifiedUtc 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
DateTime. 6
.6 7
UtcNow7 =
;= >
public 
Guid	 

ModifiedBy 
{ 
get 
; 
set  #
;# $
}% &
=' (
Guid) -
.- .
Empty. 3
;3 4
public 
Guid	 
VocabularyGuid 
{ 
get "
;" #
set$ '
;' (
}) *
=+ ,
Guid- 1
.1 2
Empty2 7
;7 8
public!! 
static!!	 
int!! 
CompareByTag!!  
(!!  !
Tag!!! $
tag1!!% )
,!!) *
Tag!!+ .
tag2!!/ 3
)!!3 4
=>!!5 7
tag1!!8 <
.!!< =
TagText!!= D
.!!D E
	CompareTo!!E N
(!!N O
tag2!!O S
.!!S T
TagText!!T [
)!![ \
;!!\ ]
public** 
static**	 
int** 
CompareByCreatedUtc** '
(**' (
Tag**( +
tag1**, 0
,**0 1
Tag**2 5
tag2**6 :
)**: ;
=>**< >
tag1**? C
.**C D

CreatedUtc**D N
.**N O
	CompareTo**O X
(**X Y
tag2**Y ]
.**] ^

CreatedUtc**^ h
)**h i
;**i j
public33 
static33	 
int33  
CompareByModifiedUtc33 (
(33( )
Tag33) ,
tag133- 1
,331 2
Tag333 6
tag2337 ;
)33; <
=>33= ?
tag133@ D
.33D E
ModifiedUtc33E P
.33P Q
	CompareTo33Q Z
(33Z [
tag233[ _
.33_ `
ModifiedUtc33` k
)33k l
;33l m
public:: 
Tag::	 
(:: 
):: 
{;; 
};; 
}>> 
}?? Ù
iD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Tag\TagItem.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 
class 
TagItem 
{ 
public

 
Guid

	 
TagItemGuid

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
=

( )
Guid

* .
.

. /
Empty

/ 4
;

4 5
public 
Guid	 
TagGuid 
{ 
get 
; 
set  
;  !
}" #
=$ %
Guid& *
.* +
Empty+ 0
;0 1
public 
Guid	 
RelatedItemGuid 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
Guid. 2
.2 3
Empty3 8
;8 9
public 
Guid	 
SiteGuid 
{ 
get 
; 
set !
;! "
}# $
=% &
Guid' +
.+ ,
Empty, 1
;1 2
public 
Guid	 
FeatureGuid 
{ 
get 
;  
set! $
;$ %
}& '
=( )
Guid* .
.. /
Empty/ 4
;4 5
public 
Guid	 

ModuleGuid 
{ 
get 
; 
set  #
;# $
}% &
=' (
Guid) -
.- .
Empty. 3
;3 4
public 
Guid	 
	ExtraGuid 
{ 
get 
; 
set "
;" #
}$ %
=& '
Guid( ,
., -
Empty- 2
;2 3
public 
Guid	 
TaggedBy 
{ 
get 
; 
set !
;! "
}# $
=% &
Guid' +
.+ ,
Empty, 1
;1 2
public 
string	 
TagText 
{ 
get 
; 
set "
;" #
}$ %
=& '
string( .
.. /
Empty/ 4
;4 5
public 
TagItem	 
( 
) 
{ 
} 
} 
} œ´
oD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Tag\TagRepository.cs
	namespace 	

mojoPortal
 
. 
Business 
{		 
public

 
static

 
class

 
TagRepository

 "
{ 
public 
static	 
Tag 
SaveTag 
( 
Tag 
tag  #
,# $
out% (
bool) -
result. 4
)4 5
{ 
if 
( 
tag 

.
 
Guid 
== 
Guid 
. 
Empty 
) 
{ 
tag 
. 
Guid 
= 
Guid 
. 
NewGuid 
( 
) 
; 
result 

= 
DBTag 
. 
Create 
( 
tag 
. 	
Guid	 
, 
tag 
. 	
SiteGuid	 
, 
tag 
. 	
FeatureGuid	 
, 
tag 
. 	

ModuleGuid	 
, 
tag 
. 	
TagText	 
, 
tag 
. 	

CreatedUtc	 
, 
tag 
. 	
	CreatedBy	 
, 
tag 
. 	
VocabularyGuid	 
) 
; 
} 
else 
{   
result!! 

=!! 
DBTag!! 
.!! 
Update!! 
(!! 
tag"" 
."" 	
Guid""	 
,"" 
tag## 
.## 	
TagText##	 
,## 
tag$$ 
.$$ 	
ModifiedUtc$$	 
,$$ 
tag%% 
.%% 	

ModifiedBy%%	 
,%% 
tag&& 
.&& 	
VocabularyGuid&&	 
)'' 
;'' 
}(( 
return** 	
tag**
 
;** 
}++ 
public-- 
static--	 
bool-- 
DeleteTagByGuid-- $
(--$ %
Guid--% )
guid--* .
)--. /
{.. 
return// 	
DBTag//
 
.// 
Delete// 
(// 
guid// 
)// 
;// 
}00 
public22 
static22	 
bool22 !
DeleteTagByModuleGuid22 *
(22* +
Guid22+ /

moduleGuid220 :
)22: ;
{33 
return44 	
DBTag44
 
.44 
DeleteByModule44 
(44 

moduleGuid44 )
)44) *
;44* +
}55 
public77 
static77	 
bool77 "
DeleteTagByFeatureGuid77 +
(77+ ,
Guid77, 0
featureGuid771 <
)77< =
{88 
return99 	
DBTag99
 
.99 
DeleteByFeature99 
(99  
featureGuid99  +
)99+ ,
;99, -
}:: 
public<< 
static<<	 
bool<< 
DeleteTagBySiteGuid<< (
(<<( )
Guid<<) -
siteGuid<<. 6
)<<6 7
{== 
return>> 	
DBTag>>
 
.>> 
DeleteBySite>> 
(>> 
siteGuid>> %
)>>% &
;>>& '
}?? 
publicAA 
staticAA	 
TagAA 
GetTagByGuidAA  
(AA  !
GuidAA! %
tagGuidAA& -
)AA- .
{BB 
usingCC 
(CC	 

IDataReaderCC
 
readerCC 
=CC 
DBTagCC $
.CC$ %
	GetOneTagCC% .
(CC. /
tagGuidCC/ 6
)CC6 7
)CC7 8
{DD 
returnEE 
!
getTagFromIDataReaderEE  
(EE  !
readerEE! '
)EE' (
;EE( )
}FF 
}GG 
publicII 
staticII	 
ListII 
<II 
TagII 
>II 
GetTagsByModuleGuidII -
(II- .
GuidII. 2
siteGuidII3 ;
,II; <
GuidII= A

moduleGuidIIB L
)IIL M
{JJ 
returnKK 	%
getTagListFromIDataReaderKK
 #
(KK# $
DBTagKK$ )
.KK) *
GetByModuleKK* 5
(KK5 6
siteGuidKK6 >
,KK> ?

moduleGuidKK@ J
)KKJ K
)KKK L
;KKL M
}LL 
publicNN 
staticNN	 
ListNN 
<NN 
TagNN 
>NN  
GetTagsByFeatureGuidNN .
(NN. /
GuidNN/ 3
siteGuidNN4 <
,NN< =
GuidNN> B
featureGuidNNC N
)NNN O
{OO 
returnPP 	%
getTagListFromIDataReaderPP
 #
(PP# $
DBTagPP$ )
.PP) *
GetByFeaturePP* 6
(PP6 7
siteGuidPP7 ?
,PP? @
featureGuidPPA L
)PPL M
)PPM N
;PPN O
}QQ 
publicSS 
staticSS	 
ListSS 
<SS 
TagSS 
>SS 
GetTagsBySiteSS '
(SS' (
GuidSS( ,
siteGuidSS- 5
)SS5 6
{TT 
returnUU 	%
getTagListFromIDataReaderUU
 #
(UU# $
DBTagUU$ )
.UU) *
	GetBySiteUU* 3
(UU3 4
siteGuidUU4 <
)UU< =
)UU= >
;UU> ?
}VV 
publicXX 
staticXX	 
ListXX 
<XX 
TagXX 
>XX 
GetTagsBySiteXX '
(XX' (
intXX( +
siteIdXX, 2
)XX2 3
{YY 
returnZZ 	%
getTagListFromIDataReaderZZ
 #
(ZZ# $
DBTagZZ$ )
.ZZ) *
	GetBySiteZZ* 3
(ZZ3 4
siteIdZZ4 :
)ZZ: ;
)ZZ; <
;ZZ< =
}[[ 
public]] 
static]]	 
List]] 
<]] 
Tag]] 
>]] 
GetTagsByVocabulary]] -
(]]- .
Guid]]. 2
siteGuid]]3 ;
,]]; <
Guid]]= A
vocabularyGuid]]B P
)]]P Q
{^^ 
return__ 	%
getTagListFromIDataReader__
 #
(__# $
DBTag__$ )
.__) *
GetByVocabulary__* 9
(__9 :
siteGuid__: B
,__B C
vocabularyGuid__D R
)__R S
)__S T
;__T U
}`` 
publichh 
statichh	 
inthh 
GetTagCounthh 
(hh  
Guidhh  $
guidhh% )
,hh) *
stringhh+ 1
typehh2 6
=hh7 8
$strhh9 ?
)hh? @
{ii 
returnjj 	
DBTagjj
 
.jj 
GetCountjj 
(jj 
guidjj 
,jj 
typejj #
)jj# $
;jj$ %
}kk 
publicrr 
staticrr	 
TagItemrr 
SaveTagItemrr #
(rr# $
TagItemrr$ +
tagItemrr, 3
,rr3 4
outrr5 8
boolrr9 =
resultrr> D
)rrD E
{ss 
tagItemtt 

.tt
 
TagItemGuidtt 
=tt 
Guidtt 
.tt 
NewGuidtt %
(tt% &
)tt& '
;tt' (
resultvv 	
=vv
 
	DBTagItemvv 
.vv 
Createvv 
(vv 
tagItemww 
.ww 
TagItemGuidww 
,ww 
tagItemxx 
.xx 
SiteGuidxx 
,xx 
tagItemyy 
.yy 
FeatureGuidyy 
,yy 
tagItemzz 
.zz 

ModuleGuidzz 
,zz 
tagItem{{ 
.{{ 
RelatedItemGuid{{ 
,{{ 
tagItem|| 
.|| 
TagGuid|| 
,|| 
tagItem}} 
.}} 
	ExtraGuid}} 
,}} 
tagItem~~ 
.~~ 
TaggedBy~~ 
) 
; 
return
ÅÅ 	
tagItem
ÅÅ
 
;
ÅÅ 
}
ÇÇ 
public
ÑÑ 
static
ÑÑ	 
bool
ÑÑ !
DeleteTagItemByGuid
ÑÑ (
(
ÑÑ( )
Guid
ÑÑ) -
guid
ÑÑ. 2
)
ÑÑ2 3
{
ÖÖ 
return
ÜÜ 	
	DBTagItem
ÜÜ
 
.
ÜÜ 
Delete
ÜÜ 
(
ÜÜ 
guid
ÜÜ 
)
ÜÜ  
;
ÜÜ  !
}
áá 
public
ââ 
static
ââ	 
bool
ââ %
DeleteTagItemByItemGuid
ââ ,
(
ââ, -
Guid
ââ- 1
itemGuid
ââ2 :
)
ââ: ;
{
ää 
return
ãã 	
	DBTagItem
ãã
 
.
ãã !
DeleteByRelatedItem
ãã '
(
ãã' (
itemGuid
ãã( 0
)
ãã0 1
;
ãã1 2
}
åå 
public
éé 
static
éé	 
bool
éé &
DeleteTagItemByExtraGuid
éé -
(
éé- .
Guid
éé. 2
	extraGuid
éé3 <
)
éé< =
{
èè 
return
êê 	
	DBTagItem
êê
 
.
êê 
DeleteByExtraGuid
êê %
(
êê% &
	extraGuid
êê& /
)
êê/ 0
;
êê0 1
}
ëë 
public
ìì 
static
ìì	 
bool
ìì $
DeleteTagItemByTagGuid
ìì +
(
ìì+ ,
Guid
ìì, 0
tagGuid
ìì1 8
)
ìì8 9
{
îî 
return
ïï 	
	DBTagItem
ïï
 
.
ïï 
DeleteByTag
ïï 
(
ïï  
tagGuid
ïï  '
)
ïï' (
;
ïï( )
}
ññ 
public
òò 
static
òò	 
bool
òò '
DeleteTagItemByModuleGuid
òò .
(
òò. /
Guid
òò/ 3

moduleGuid
òò4 >
)
òò> ?
{
ôô 
return
öö 	
	DBTagItem
öö
 
.
öö 
DeleteByModule
öö "
(
öö" #

moduleGuid
öö# -
)
öö- .
;
öö. /
}
õõ 
public
ùù 
static
ùù	 
bool
ùù (
DeleteTagItemByFeatureGuid
ùù /
(
ùù/ 0
Guid
ùù0 4
featureGuid
ùù5 @
)
ùù@ A
{
ûû 
return
üü 	
	DBTagItem
üü
 
.
üü 
DeleteByFeature
üü #
(
üü# $
featureGuid
üü$ /
)
üü/ 0
;
üü0 1
}
†† 
public
¢¢ 
static
¢¢	 
bool
¢¢ %
DeleteTagItemBySiteGuid
¢¢ ,
(
¢¢, -
Guid
¢¢- 1
siteGuid
¢¢2 :
)
¢¢: ;
{
££ 
return
§§ 	
	DBTagItem
§§
 
.
§§ 
DeleteBySite
§§  
(
§§  !
siteGuid
§§! )
)
§§) *
;
§§* +
}
•• 
public
ßß 
static
ßß	 
List
ßß 
<
ßß 
TagItem
ßß 
>
ßß *
GetTagItemsByRelatedItemGuid
ßß :
(
ßß: ;
Guid
ßß; ?
siteGuid
ßß@ H
,
ßßH I
Guid
ßßJ N
relatedItemGuid
ßßO ^
)
ßß^ _
{
®® 
return
©© 	+
getTagItemListFromIDataReader
©©
 '
(
©©' (
	DBTagItem
©©( 1
.
©©1 2
GetByRelatedItem
©©2 B
(
©©B C
siteGuid
©©C K
,
©©K L
relatedItemGuid
©©M \
)
©©\ ]
)
©©] ^
;
©©^ _
}
™™ 
public
¨¨ 
static
¨¨	 
List
¨¨ 
<
¨¨ 
TagItem
¨¨ 
>
¨¨ $
GetTagItemsByExtraGuid
¨¨ 4
(
¨¨4 5
Guid
¨¨5 9
siteGuid
¨¨: B
,
¨¨B C
Guid
¨¨D H
	extraGuid
¨¨I R
)
¨¨R S
{
≠≠ 
return
ÆÆ 	+
getTagItemListFromIDataReader
ÆÆ
 '
(
ÆÆ' (
	DBTagItem
ÆÆ( 1
.
ÆÆ1 2

GetByExtra
ÆÆ2 <
(
ÆÆ< =
siteGuid
ÆÆ= E
,
ÆÆE F
	extraGuid
ÆÆG P
)
ÆÆP Q
)
ÆÆQ R
;
ÆÆR S
}
ØØ 
public
±± 
static
±±	 
TagItem
±± %
GetTagItemByTagItemGuid
±± /
(
±±/ 0
Guid
±±0 4
tagItemGuid
±±5 @
)
±±@ A
{
≤≤ 
return
≥≥ 	'
getTagItemFromIDataReader
≥≥
 #
(
≥≥# $
	DBTagItem
≥≥$ -
.
≥≥- .
GetByTagItem
≥≥. :
(
≥≥: ;
tagItemGuid
≥≥; F
)
≥≥F G
)
≥≥G H
;
≥≥H I
}
¥¥ 
private
ªª 	
static
ªª
 
Tag
ªª #
getTagFromIDataReader
ªª *
(
ªª* +
IDataReader
ªª+ 6
reader
ªª7 =
)
ªª= >
{
ºº 
if
ΩΩ 
(
ΩΩ 
reader
ΩΩ 
.
ΩΩ 
Read
ΩΩ 
(
ΩΩ 
)
ΩΩ 
)
ΩΩ 
{
ææ 
return
øø 

mapReaderToTag
øø 
(
øø 
reader
øø  
)
øø  !
;
øø! "
}
¿¿ 
return
¬¬ 	
new
¬¬
 
Tag
¬¬ 
(
¬¬ 
)
¬¬ 
;
¬¬ 
}
√√ 
private
≈≈ 	
static
≈≈
 
List
≈≈ 
<
≈≈ 
Tag
≈≈ 
>
≈≈ '
getTagListFromIDataReader
≈≈ 4
(
≈≈4 5
IDataReader
≈≈5 @
reader
≈≈A G
)
≈≈G H
{
∆∆ 
List
«« 
<
«« 
Tag
«« 
>
«« 
tags
«« 
=
«« 
new
«« 
List
«« 
<
«« 
Tag
««  
>
««  !
(
««! "
)
««" #
;
««# $
while
…… 
(
……	 

reader
……
 
.
…… 
Read
…… 
(
…… 
)
…… 
)
…… 
{
   
tags
ÀÀ 
.
ÀÀ 	
Add
ÀÀ	 
(
ÀÀ 
mapReaderToTag
ÀÀ 
(
ÀÀ 
reader
ÀÀ "
)
ÀÀ" #
)
ÀÀ# $
;
ÀÀ$ %
}
ÃÃ 
return
ŒŒ 	
tags
ŒŒ
 
;
ŒŒ 
}
œœ 
private
—— 	
static
——
 
Tag
—— 
mapReaderToTag
—— #
(
——# $
IDataReader
——$ /
reader
——0 6
)
——6 7
{
““ 
return
”” 	
new
””
 
Tag
”” 
{
‘‘ 
Guid
’’ 
=
’’	 

new
’’ 
Guid
’’ 
(
’’ 
reader
’’ 
[
’’ 
$str
’’ !
]
’’! "
.
’’" #
ToString
’’# +
(
’’+ ,
)
’’, -
)
’’- .
,
’’. /
SiteGuid
÷÷ 
=
÷÷ 
new
÷÷ 
Guid
÷÷ 
(
÷÷ 
reader
÷÷ 
[
÷÷ 
$str
÷÷ )
]
÷÷) *
.
÷÷* +
ToString
÷÷+ 3
(
÷÷3 4
)
÷÷4 5
)
÷÷5 6
,
÷÷6 7
FeatureGuid
◊◊ 
=
◊◊ 
new
◊◊ 
Guid
◊◊ 
(
◊◊ 
reader
◊◊ !
[
◊◊! "
$str
◊◊" /
]
◊◊/ 0
.
◊◊0 1
ToString
◊◊1 9
(
◊◊9 :
)
◊◊: ;
)
◊◊; <
,
◊◊< =

ModuleGuid
ÿÿ 
=
ÿÿ 
new
ÿÿ 
Guid
ÿÿ 
(
ÿÿ 
reader
ÿÿ  
[
ÿÿ  !
$str
ÿÿ! -
]
ÿÿ- .
.
ÿÿ. /
ToString
ÿÿ/ 7
(
ÿÿ7 8
)
ÿÿ8 9
)
ÿÿ9 :
,
ÿÿ: ;
TagText
ŸŸ 
=
ŸŸ 
reader
ŸŸ 
[
ŸŸ 
$str
ŸŸ 
]
ŸŸ 
.
ŸŸ 
ToString
ŸŸ $
(
ŸŸ$ %
)
ŸŸ% &
,
ŸŸ& '
	ItemCount
⁄⁄ 
=
⁄⁄ 
Convert
⁄⁄ 
.
⁄⁄ 
ToInt32
⁄⁄ 
(
⁄⁄  
reader
⁄⁄  &
[
⁄⁄& '
$str
⁄⁄' 2
]
⁄⁄2 3
)
⁄⁄3 4
,
⁄⁄4 5

CreatedUtc
€€ 
=
€€ 
Convert
€€ 
.
€€ 

ToDateTime
€€ #
(
€€# $
reader
€€$ *
[
€€* +
$str
€€+ 7
]
€€7 8
)
€€8 9
,
€€9 :
	CreatedBy
‹‹ 
=
‹‹ 
new
‹‹ 
Guid
‹‹ 
(
‹‹ 
reader
‹‹ 
[
‹‹  
$str
‹‹  +
]
‹‹+ ,
.
‹‹, -
ToString
‹‹- 5
(
‹‹5 6
)
‹‹6 7
)
‹‹7 8
,
‹‹8 9
ModifiedUtc
›› 
=
›› 
Convert
›› 
.
›› 

ToDateTime
›› $
(
››$ %
reader
››% +
[
››+ ,
$str
››, 9
]
››9 :
)
››: ;
,
››; <

ModifiedBy
ﬁﬁ 
=
ﬁﬁ 
new
ﬁﬁ 
Guid
ﬁﬁ 
(
ﬁﬁ 
reader
ﬁﬁ  
[
ﬁﬁ  !
$str
ﬁﬁ! -
]
ﬁﬁ- .
.
ﬁﬁ. /
ToString
ﬁﬁ/ 7
(
ﬁﬁ7 8
)
ﬁﬁ8 9
)
ﬁﬁ9 :
,
ﬁﬁ: ;
VocabularyGuid
ﬂﬂ 
=
ﬂﬂ 
new
ﬂﬂ 
Guid
ﬂﬂ 
(
ﬂﬂ 
reader
ﬂﬂ $
[
ﬂﬂ$ %
$str
ﬂﬂ% 5
]
ﬂﬂ5 6
.
ﬂﬂ6 7
ToString
ﬂﬂ7 ?
(
ﬂﬂ? @
)
ﬂﬂ@ A
)
ﬂﬂA B
}
‡‡ 
;
‡‡ 
}
·· 
private
„„ 	
static
„„
 
TagItem
„„ '
getTagItemFromIDataReader
„„ 2
(
„„2 3
IDataReader
„„3 >
reader
„„? E
)
„„E F
{
‰‰ 
if
ÂÂ 
(
ÂÂ 
reader
ÂÂ 
.
ÂÂ 
Read
ÂÂ 
(
ÂÂ 
)
ÂÂ 
)
ÂÂ 
{
ÊÊ 
return
ÁÁ 
 
mapReaderToTagItem
ÁÁ 
(
ÁÁ 
reader
ÁÁ $
)
ÁÁ$ %
;
ÁÁ% &
}
ËË 
return
ÍÍ 	
new
ÍÍ
 
TagItem
ÍÍ 
(
ÍÍ 
)
ÍÍ 
;
ÍÍ 
}
ÎÎ 
private
ÌÌ 	
static
ÌÌ
 
List
ÌÌ 
<
ÌÌ 
TagItem
ÌÌ 
>
ÌÌ +
getTagItemListFromIDataReader
ÌÌ <
(
ÌÌ< =
IDataReader
ÌÌ= H
reader
ÌÌI O
)
ÌÌO P
{
ÓÓ 
List
ÔÔ 
<
ÔÔ 
TagItem
ÔÔ 
>
ÔÔ 
tagItems
ÔÔ 
=
ÔÔ 
new
ÔÔ 
List
ÔÔ  $
<
ÔÔ$ %
TagItem
ÔÔ% ,
>
ÔÔ, -
(
ÔÔ- .
)
ÔÔ. /
;
ÔÔ/ 0
while
ÒÒ 
(
ÒÒ	 

reader
ÒÒ
 
.
ÒÒ 
Read
ÒÒ 
(
ÒÒ 
)
ÒÒ 
)
ÒÒ 
{
ÚÚ 
tagItems
ÛÛ 
.
ÛÛ 
Add
ÛÛ 
(
ÛÛ  
mapReaderToTagItem
ÛÛ #
(
ÛÛ# $
reader
ÛÛ$ *
)
ÛÛ* +
)
ÛÛ+ ,
;
ÛÛ, -
}
ÙÙ 
return
ˆˆ 	
tagItems
ˆˆ
 
;
ˆˆ 
}
˜˜ 
private
˘˘ 	
static
˘˘
 
TagItem
˘˘  
mapReaderToTagItem
˘˘ +
(
˘˘+ ,
IDataReader
˘˘, 7
reader
˘˘8 >
)
˘˘> ?
{
˙˙ 
return
˚˚ 	
new
˚˚
 
TagItem
˚˚ 
{
¸¸ 
TagItemGuid
˝˝ 
=
˝˝ 
new
˝˝ 
Guid
˝˝ 
(
˝˝ 
reader
˝˝ !
[
˝˝! "
$str
˝˝" /
]
˝˝/ 0
.
˝˝0 1
ToString
˝˝1 9
(
˝˝9 :
)
˝˝: ;
)
˝˝; <
,
˝˝< =
RelatedItemGuid
˛˛ 
=
˛˛ 
new
˛˛ 
Guid
˛˛ 
(
˛˛ 
reader
˛˛ %
[
˛˛% &
$str
˛˛& 7
]
˛˛7 8
.
˛˛8 9
ToString
˛˛9 A
(
˛˛A B
)
˛˛B C
)
˛˛C D
,
˛˛D E
SiteGuid
ˇˇ 
=
ˇˇ 
new
ˇˇ 
Guid
ˇˇ 
(
ˇˇ 
reader
ˇˇ 
[
ˇˇ 
$str
ˇˇ )
]
ˇˇ) *
.
ˇˇ* +
ToString
ˇˇ+ 3
(
ˇˇ3 4
)
ˇˇ4 5
)
ˇˇ5 6
,
ˇˇ6 7
FeatureGuid
ÄÄ 
=
ÄÄ 
new
ÄÄ 
Guid
ÄÄ 
(
ÄÄ 
reader
ÄÄ !
[
ÄÄ! "
$str
ÄÄ" /
]
ÄÄ/ 0
.
ÄÄ0 1
ToString
ÄÄ1 9
(
ÄÄ9 :
)
ÄÄ: ;
)
ÄÄ; <
,
ÄÄ< =

ModuleGuid
ÅÅ 
=
ÅÅ 
new
ÅÅ 
Guid
ÅÅ 
(
ÅÅ 
reader
ÅÅ  
[
ÅÅ  !
$str
ÅÅ! -
]
ÅÅ- .
.
ÅÅ. /
ToString
ÅÅ/ 7
(
ÅÅ7 8
)
ÅÅ8 9
)
ÅÅ9 :
,
ÅÅ: ;
TagGuid
ÇÇ 
=
ÇÇ 
new
ÇÇ 
Guid
ÇÇ 
(
ÇÇ 
reader
ÇÇ 
[
ÇÇ 
$str
ÇÇ '
]
ÇÇ' (
.
ÇÇ( )
ToString
ÇÇ) 1
(
ÇÇ1 2
)
ÇÇ2 3
)
ÇÇ3 4
,
ÇÇ4 5
	ExtraGuid
ÉÉ 
=
ÉÉ 
new
ÉÉ 
Guid
ÉÉ 
(
ÉÉ 
reader
ÉÉ 
[
ÉÉ  
$str
ÉÉ  +
]
ÉÉ+ ,
.
ÉÉ, -
ToString
ÉÉ- 5
(
ÉÉ5 6
)
ÉÉ6 7
)
ÉÉ7 8
,
ÉÉ8 9
TaggedBy
ÑÑ 
=
ÑÑ 
new
ÑÑ 
Guid
ÑÑ 
(
ÑÑ 
reader
ÑÑ 
[
ÑÑ 
$str
ÑÑ )
]
ÑÑ) *
.
ÑÑ* +
ToString
ÑÑ+ 3
(
ÑÑ3 4
)
ÑÑ4 5
)
ÑÑ5 6
,
ÑÑ6 7
TagText
ÖÖ 
=
ÖÖ 
reader
ÖÖ 
[
ÖÖ 
$str
ÖÖ 
]
ÖÖ 
.
ÖÖ  
ToString
ÖÖ  (
(
ÖÖ( )
)
ÖÖ) *
,
ÖÖ* +
}
ÜÜ 
;
ÜÜ 
}
áá 
}
ää 
}ãã Ë
oD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\Tag\TagVocabulary.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
class 
TagVocabulary 
{ 
public		 
Guid			 
Guid		 
{		 
get		 
;		 
set		 
;		 
}		  
=		! "
Guid		# '
.		' (
Empty		( -
;		- .
public

 
Guid

	 
SiteGuid

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
=

% &
Guid

' +
.

+ ,
Empty

, 1
;

1 2
public 
Guid	 
FeatureGuid 
{ 
get 
;  
set! $
;$ %
}& '
=( )
Guid* .
.. /
Empty/ 4
;4 5
public 
Guid	 

ModuleGuid 
{ 
get 
; 
set  #
;# $
}% &
=' (
Guid) -
.- .
Empty. 3
;3 4
public 
string	 
Name 
{ 
get 
; 
set 
;  
}! "
=# $
string% +
.+ ,
Empty, 1
;1 2
public 
string	 
Description 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
DateTime	 

CreatedUtc 
{ 
get "
;" #
set$ '
;' (
}) *
=+ ,
DateTime- 5
.5 6
Now6 9
;9 :
public 
Guid	 
	CreatedBy 
{ 
get 
; 
set "
;" #
}$ %
=& '
Guid( ,
., -
Empty- 2
;2 3
public 
DateTime	 
ModifiedUtc 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
DateTime. 6
.6 7
Now7 :
;: ;
public 
Guid	 

ModifiedBy 
{ 
get 
; 
set  #
;# $
}% &
=' (
Guid) -
.- .
Empty. 3
;3 4
public 
TagVocabulary	 
( 
) 
{ 
} 
} 
} •
zD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\TaskFramework\ITaskQueueTask.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

	interface 
ITaskQueueTask #
{ 
Guid 
TaskGuid 
{ 
get 
; 
set  
;  !
}! "
Guid 
SiteGuid 
{ 
get 
; 
set  
;  !
}! "
Guid 
QueuedBy 
{ 
get 
; 
set  
;  !
}" #
String 
TaskName 
{ 
get 
; 
set "
;" #
}$ %
bool 
NotifyOnCompletion 
{  !
get" %
;% &
set' *
;* +
}, -
String 
NotificationToEmail "
{# $
get% (
;( )
set* -
;- .
}/ 0
String !
NotificationFromEmail $
{% &
get' *
;* +
set, /
;/ 0
}1 2
String 
NotificationSubject "
{# $
get% (
;( )
set* -
;- .
}/ 0
String 
TaskCompleteMessage "
{# $
get% (
;( )
set* -
;- .
}/ 0
String 
StatusQueuedMessage "
{# $
get% (
;( )
set* -
;- .
}/ 0
String  
StatusStartedMessage #
{$ %
get& )
;) *
set+ .
;. /
}0 1
String  
StatusRunningMessage #
{$ %
get& )
;) *
set+ .
;. /
}0 1
String !
StatusCompleteMessage $
{% &
get' *
;* +
set, /
;/ 0
}1 2
int 
UpdateFrequency 
{ 
get !
;! "
}# $
bool 
CanStop 
{ 
get 
; 
} 
bool 
	CanResume 
{ 
get 
; 
} 
void!! 
	QueueTask!! 
(!! 
)!! 
;!! 
void"" 
	StartTask"" 
("" 
)"" 
;"" 
void## 
StopTask## 
(## 
)## 
;## 
void$$ 

ResumeTask$$ 
($$ 
)$$ 
;$$ 
}(( 
})) º"
D:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\TaskFramework\SerializationHelper.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
SerializationHelper $
{ 
private 
static 
readonly 
ILog  $
log% (
=) *

LogManager+ 5
.5 6
	GetLogger6 ?
(? @
typeof@ F
(F G
SerializationHelperG Z
)Z [
)[ \
;\ ]
public 
const 
string  
XmlDeclarationHeader 0
=1 2
$str3 `
;` a
private 
SerializationHelper #
(# $
)$ %
{& '
}( )
public!! 
static!! 
string!!  
RemoveXmlDeclaration!! 1
(!!1 2
string!!2 8
inputXml!!9 A
)!!A B
{"" 	
if## 
(## 
inputXml## 
==## 
null##  
)##  !
return##" (
null##) -
;##- .
return%% 
inputXml%% 
.%% 
Replace%% #
(%%# $ 
XmlDeclarationHeader%%$ 8
,%%8 9
string%%: @
.%%@ A
Empty%%A F
)%%F G
;%%G H
}&& 	
public(( 
static(( 
string(( !
RestoreXmlDeclaration(( 2
(((2 3
string((3 9 
inputXmlWithNoHeader((: N
)((N O
{)) 	
if** 
(**  
inputXmlWithNoHeader** $
==**% '
null**( ,
)**, -
return**. 4
null**5 9
;**9 :
if,, 
(,,  
inputXmlWithNoHeader,, $
.,,$ %

StartsWith,,% /
(,,/ 0 
XmlDeclarationHeader,,0 D
),,D E
),,E F
{-- 
return..  
inputXmlWithNoHeader.. +
;..+ ,
}// 
return11  
XmlDeclarationHeader11 '
+11( ) 
inputXmlWithNoHeader11* >
;11> ?
}22 	
public:: 
static:: 
object:: !
DeserializeFromString:: 2
(::2 3
Type::3 7
type::8 <
,::< =
string::> D
serializedObject::E U
)::U V
{;; 	
using== 
(== 
XmlTextReader== 
reader==  &
===' (
new==) ,
XmlTextReader==- :
(==: ;
new==; >
StringReader==? K
(==K L
serializedObject==L \
)==\ ]
)==] ^
)==^ _
{>> 
XmlSerializer?? 

serializer?? (
=??) *
new??+ .
XmlSerializer??/ <
(??< =
type??= A
)??A B
;??B C
returnAA 

serializerAA !
.AA! "
DeserializeAA" -
(AA- .
readerAA. 4
)AA4 5
;AA5 6
}BB 
}DD 	
publicKK 
staticKK 
stringKK 
SerializeToStringKK .
(KK. /
objectKK/ 5
objKK6 9
)KK9 :
{LL 	
usingNN 
(NN 
StringWriterNN 
writerNN %
=NN& '
newNN( +
StringWriterNN, 8
(NN8 9
)NN9 :
)NN: ;
{PP 
XmlSerializerQQ 

serializerQQ (
=QQ) *
newQQ+ .
XmlSerializerQQ/ <
(QQ< =
objQQ= @
.QQ@ A
GetTypeQQA H
(QQH I
)QQI J
)QQJ K
;QQK L#
XmlSerializerNamespacesRR '
nsRR( *
=RR+ ,
newRR- 0#
XmlSerializerNamespacesRR1 H
(RRH I
)RRI J
;RRJ K
nsSS 
.SS 
AddSS 
(SS 
$strSS 
,SS 
$strSS 
)SS 
;SS 

serializerTT 
.TT 
	SerializeTT $
(TT$ %
writerTT% +
,TT+ ,
objTT- 0
,TT0 1
nsTT2 4
)TT4 5
;TT5 6
returnUU 
writerUU 
.UU 
ToStringUU &
(UU& '
)UU' (
;UU( )
}YY 
}[[ 	
}
øø 
}¿¿ ¨
wD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\TaskFramework\TaskMonitor.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 
class 
TaskMonitor 
{		 
public

 
TaskMonitor

	 
(

 
)

 
{ 
} 
} 
} ¬ﬂ
uD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\TaskFramework\TaskQueue.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
	TaskQueue 
{ 
public 
	TaskQueue 
( 
) 
{ 	
}
 
public!! 
	TaskQueue!! 
(!! 
Guid!! 
guid!! "
)!!" #
{"" 	
GetTaskQueue## 
(## 
guid## 
)## 
;## 
}$$ 	
private** 
static** 
readonly** 
ILog**  $
log**% (
=**) *

LogManager**+ 5
.**5 6
	GetLogger**6 ?
(**? @
typeof**@ F
(**F G
	TaskQueue**G P
)**P Q
)**Q R
;**R S
private,, 
Guid,, 
newGuid,, 
=,, 
Guid,, #
.,,# $
NewGuid,,$ +
(,,+ ,
),,, -
;,,- .
private-- 
Guid-- 
guid-- 
=-- 
Guid--  
.--  !
Empty--! &
;--& '
private.. 
Guid.. 
siteGuid.. 
=.. 
Guid..  $
...$ %
Empty..% *
;..* +
private// 
Guid// 
queuedBy// 
=// 
Guid//  $
.//$ %
Empty//% *
;//* +
private00 
string00 
taskName00 
=00  !
string00" (
.00( )
Empty00) .
;00. /
private22 
bool22 
notifyOnCompletion22 '
=22( )
false22* /
;22/ 0
private33 
string33 
notificationToEmail33 *
=33+ ,
String33- 3
.333 4
Empty334 9
;339 :
private44 
string44 !
notificationFromEmail44 ,
=44- .
String44/ 5
.445 6
Empty446 ;
;44; <
private55 
string55 
notificationSubject55 *
=55+ ,
String55- 3
.553 4
Empty554 9
;559 :
private66 
string66 
taskCompleteMessage66 *
=66+ ,
string66- 3
.663 4
Empty664 9
;669 :
private77 
bool77 
canStop77 
=77 
false77 $
;77$ %
private88 
bool88 
	canResume88 
=88  
false88! &
;88& '
private99 
int99 
updateFrequency99 #
=99$ %
$num99& '
;99' (
private;; 
DateTime;; 
	queuedUTC;; "
=;;# $
DateTime;;% -
.;;- .
UtcNow;;. 4
;;;4 5
private<< 
DateTime<< 
startUTC<< !
=<<" #
DateTime<<$ ,
.<<, -
MinValue<<- 5
;<<5 6
private== 
DateTime== 
completeUTC== $
===% &
DateTime==' /
.==/ 0
MinValue==0 8
;==8 9
private>> 
DateTime>> 
lastStatusUpdateUTC>> ,
=>>- .
DateTime>>/ 7
.>>7 8
UtcNow>>8 >
;>>> ?
private?? 
DateTime?? 
notificationSentUTC?? ,
=??- .
DateTime??/ 7
.??7 8
MinValue??8 @
;??@ A
private@@ 
double@@ 
completeRatio@@ $
=@@% &
$num@@' (
;@@( )
privateAA 
stringAA 
statusAA 
=AA 
stringAA  &
.AA& '
EmptyAA' ,
;AA, -
privateBB 
stringBB  
serializedTaskObjectBB +
=BB, -
stringBB. 4
.BB4 5
EmptyBB5 :
;BB: ;
privateCC 
stringCC 
serializedTaskTypeCC )
=CC* +
stringCC, 2
.CC2 3
EmptyCC3 8
;CC8 9
publicJJ 
GuidJJ 
GuidJJ 
{KK 	
getLL 
{LL 
returnLL 
guidLL 
;LL 
}LL  
}NN 	
publicPP 
GuidPP 
NewGuidPP 
{QQ 	
getRR 
{RR 
returnRR 
newGuidRR  
;RR  !
}RR" #
}SS 	
publicUU 
GuidUU 
SiteGuidUU 
{VV 	
getWW 
{WW 
returnWW 
siteGuidWW !
;WW! "
}WW# $
setXX 
{XX 
siteGuidXX 
=XX 
valueXX "
;XX" #
}XX$ %
}YY 	
public[[ 
Guid[[ 
QueuedBy[[ 
{\\ 	
get]] 
{]] 
return]] 
queuedBy]] !
;]]! "
}]]# $
set^^ 
{^^ 
queuedBy^^ 
=^^ 
value^^ "
;^^" #
}^^$ %
}__ 	
publicaa 
stringaa 
TaskNameaa 
{bb 	
getcc 
{cc 
returncc 
taskNamecc !
;cc! "
}cc# $
setdd 
{dd 
taskNamedd 
=dd 
valuedd "
;dd" #
}dd$ %
}ee 	
publicgg 
boolgg 
NotifyOnCompletiongg &
{hh 	
getii 
{ii 
returnii 
notifyOnCompletionii +
;ii+ ,
}ii- .
setjj 
{jj 
notifyOnCompletionjj $
=jj% &
valuejj' ,
;jj, -
}jj. /
}kk 	
publicmm 
stringmm 
NotificationToEmailmm )
{nn 	
getoo 
{oo 
returnoo 
notificationToEmailoo ,
;oo, -
}oo. /
setpp 
{pp 
notificationToEmailpp %
=pp& '
valuepp( -
;pp- .
}pp/ 0
}qq 	
publicss 
stringss !
NotificationFromEmailss +
{tt 	
getuu 
{uu 
returnuu !
notificationFromEmailuu .
;uu. /
}uu0 1
setvv 
{vv !
notificationFromEmailvv '
=vv( )
valuevv* /
;vv/ 0
}vv1 2
}ww 	
publicyy 
stringyy 
NotificationSubjectyy )
{zz 	
get{{ 
{{{ 
return{{ 
notificationSubject{{ ,
;{{, -
}{{. /
set|| 
{|| 
notificationSubject|| %
=||& '
value||( -
;||- .
}||/ 0
}}} 	
public 
string 
TaskCompleteMessage )
{
ÄÄ 	
get
ÅÅ 
{
ÅÅ 
return
ÅÅ !
taskCompleteMessage
ÅÅ ,
;
ÅÅ, -
}
ÅÅ. /
set
ÇÇ 
{
ÇÇ !
taskCompleteMessage
ÇÇ %
=
ÇÇ& '
value
ÇÇ( -
;
ÇÇ- .
}
ÇÇ/ 0
}
ÉÉ 	
public
ââ 
int
ââ 
UpdateFrequency
ââ "
{
ää 	
get
ãã 
{
ãã 
return
ãã 
updateFrequency
ãã (
;
ãã( )
}
ãã* +
set
åå 
{
åå 
updateFrequency
åå !
=
åå" #
value
åå$ )
;
åå) *
}
åå+ ,
}
éé 	
public
êê 
bool
êê 
CanStop
êê 
{
ëë 	
get
íí 
{
íí 
return
íí 
canStop
íí  
;
íí  !
}
íí" #
set
ìì 
{
ìì 
canStop
ìì 
=
ìì 
value
ìì !
;
ìì! "
}
ìì# $
}
ïï 	
public
óó 
bool
óó 
	CanResume
óó 
{
òò 	
get
ôô 
{
ôô 
return
ôô 
	canResume
ôô "
;
ôô" #
}
ôô$ %
set
öö 
{
öö 
	canResume
öö 
=
öö 
value
öö #
;
öö# $
}
öö% &
}
úú 	
public
ûû 
DateTime
ûû 
	QueuedUTC
ûû !
{
üü 	
get
†† 
{
†† 
return
†† 
	queuedUTC
†† "
;
††" #
}
††$ %
set
°° 
{
°° 
	queuedUTC
°° 
=
°° 
value
°° #
;
°°# $
}
°°% &
}
¢¢ 	
public
§§ 
DateTime
§§ 
StartUTC
§§  
{
•• 	
get
¶¶ 
{
¶¶ 
return
¶¶ 
startUTC
¶¶ !
;
¶¶! "
}
¶¶# $
set
ßß 
{
ßß 
startUTC
ßß 
=
ßß 
value
ßß "
;
ßß" #
}
ßß$ %
}
®® 	
public
™™ 
DateTime
™™ 
CompleteUTC
™™ #
{
´´ 	
get
¨¨ 
{
¨¨ 
return
¨¨ 
completeUTC
¨¨ $
;
¨¨$ %
}
¨¨& '
set
≠≠ 
{
≠≠ 
completeUTC
≠≠ 
=
≠≠ 
value
≠≠  %
;
≠≠% &
}
≠≠' (
}
ÆÆ 	
public
∞∞ 
DateTime
∞∞ !
LastStatusUpdateUTC
∞∞ +
{
±± 	
get
≤≤ 
{
≤≤ 
return
≤≤ !
lastStatusUpdateUTC
≤≤ ,
;
≤≤, -
}
≤≤. /
set
≥≥ 
{
≥≥ !
lastStatusUpdateUTC
≥≥ %
=
≥≥& '
value
≥≥( -
;
≥≥- .
}
≥≥/ 0
}
¥¥ 	
public
∂∂ 
DateTime
∂∂ !
NotificationSentUTC
∂∂ +
{
∑∑ 	
get
∏∏ 
{
∏∏ 
return
∏∏ !
notificationSentUTC
∏∏ ,
;
∏∏, -
}
∏∏. /
set
ππ 
{
ππ !
notificationSentUTC
ππ %
=
ππ& '
value
ππ( -
;
ππ- .
}
ππ/ 0
}
∫∫ 	
public
øø 
double
øø 
CompleteRatio
øø #
{
¿¿ 	
get
¡¡ 
{
¡¡ 
return
¡¡ 
completeRatio
¡¡ &
;
¡¡& '
}
¡¡( )
set
¬¬ 
{
¬¬ 
completeRatio
¬¬ 
=
¬¬  !
value
¬¬" '
;
¬¬' (
}
¬¬) *
}
√√ 	
public
≈≈ 
string
≈≈ 
Status
≈≈ 
{
∆∆ 	
get
«« 
{
«« 
return
«« 
status
«« 
;
««  
}
««! "
set
»» 
{
»» 
status
»» 
=
»» 
value
»»  
;
»»  !
}
»»" #
}
…… 	
public
ÀÀ 
string
ÀÀ "
SerializedTaskObject
ÀÀ *
{
ÃÃ 	
get
ÕÕ 
{
ÕÕ 
return
ÕÕ "
serializedTaskObject
ÕÕ -
;
ÕÕ- .
}
ÕÕ/ 0
set
ŒŒ 
{
ŒŒ "
serializedTaskObject
ŒŒ &
=
ŒŒ' (
value
ŒŒ) .
;
ŒŒ. /
}
ŒŒ0 1
}
œœ 	
public
—— 
string
——  
SerializedTaskType
—— (
{
““ 	
get
”” 
{
”” 
return
””  
serializedTaskType
”” +
;
””+ ,
}
””- .
set
‘‘ 
{
‘‘  
serializedTaskType
‘‘ $
=
‘‘% &
value
‘‘' ,
;
‘‘, -
}
‘‘. /
}
’’ 	
private
ﬂﬂ 
void
ﬂﬂ 
GetTaskQueue
ﬂﬂ !
(
ﬂﬂ! "
Guid
ﬂﬂ" &
guid
ﬂﬂ' +
)
ﬂﬂ+ ,
{
‡‡ 	
using
·· 
(
·· 
IDataReader
·· 
reader
·· %
=
··& '
DBTaskQueue
··( 3
.
··3 4
GetOne
··4 :
(
··: ;
guid
··; ?
)
··? @
)
··@ A
{
‚‚  
PopulateFromReader
„„ "
(
„„" #
reader
„„# )
)
„„) *
;
„„* +
}
‰‰ 
}
ÊÊ 	
private
ÈÈ 
void
ÈÈ  
PopulateFromReader
ÈÈ '
(
ÈÈ' (
IDataReader
ÈÈ( 3
reader
ÈÈ4 :
)
ÈÈ: ;
{
ÍÍ 	
if
ÎÎ 
(
ÎÎ 
reader
ÎÎ 
.
ÎÎ 
Read
ÎÎ 
(
ÎÎ 
)
ÎÎ 
)
ÎÎ 
{
ÏÏ 
this
ÌÌ 
.
ÌÌ 
guid
ÌÌ 
=
ÌÌ 
new
ÌÌ 
Guid
ÌÌ  $
(
ÌÌ$ %
reader
ÌÌ% +
[
ÌÌ+ ,
$str
ÌÌ, 2
]
ÌÌ2 3
.
ÌÌ3 4
ToString
ÌÌ4 <
(
ÌÌ< =
)
ÌÌ= >
)
ÌÌ> ?
;
ÌÌ? @
this
ÓÓ 
.
ÓÓ 
siteGuid
ÓÓ 
=
ÓÓ 
new
ÓÓ  #
Guid
ÓÓ$ (
(
ÓÓ( )
reader
ÓÓ) /
[
ÓÓ/ 0
$str
ÓÓ0 :
]
ÓÓ: ;
.
ÓÓ; <
ToString
ÓÓ< D
(
ÓÓD E
)
ÓÓE F
)
ÓÓF G
;
ÓÓG H
this
ÔÔ 
.
ÔÔ 
queuedBy
ÔÔ 
=
ÔÔ 
new
ÔÔ  #
Guid
ÔÔ$ (
(
ÔÔ( )
reader
ÔÔ) /
[
ÔÔ/ 0
$str
ÔÔ0 :
]
ÔÔ: ;
.
ÔÔ; <
ToString
ÔÔ< D
(
ÔÔD E
)
ÔÔE F
)
ÔÔF G
;
ÔÔG H
this
 
.
 
taskName
 
=
 
reader
  &
[
& '
$str
' 1
]
1 2
.
2 3
ToString
3 ;
(
; <
)
< =
;
= >
this
ÒÒ 
.
ÒÒ  
notifyOnCompletion
ÒÒ '
=
ÒÒ( )
Convert
ÒÒ* 1
.
ÒÒ1 2
	ToBoolean
ÒÒ2 ;
(
ÒÒ; <
reader
ÒÒ< B
[
ÒÒB C
$str
ÒÒC W
]
ÒÒW X
)
ÒÒX Y
;
ÒÒY Z
this
ÚÚ 
.
ÚÚ !
notificationToEmail
ÚÚ (
=
ÚÚ) *
reader
ÚÚ+ 1
[
ÚÚ1 2
$str
ÚÚ2 G
]
ÚÚG H
.
ÚÚH I
ToString
ÚÚI Q
(
ÚÚQ R
)
ÚÚR S
;
ÚÚS T
this
ÛÛ 
.
ÛÛ #
notificationFromEmail
ÛÛ *
=
ÛÛ+ ,
reader
ÛÛ- 3
[
ÛÛ3 4
$str
ÛÛ4 K
]
ÛÛK L
.
ÛÛL M
ToString
ÛÛM U
(
ÛÛU V
)
ÛÛV W
;
ÛÛW X
this
ÙÙ 
.
ÙÙ !
notificationSubject
ÙÙ (
=
ÙÙ) *
reader
ÙÙ+ 1
[
ÙÙ1 2
$str
ÙÙ2 G
]
ÙÙG H
.
ÙÙH I
ToString
ÙÙI Q
(
ÙÙQ R
)
ÙÙR S
;
ÙÙS T
this
ıı 
.
ıı !
taskCompleteMessage
ıı (
=
ıı) *
reader
ıı+ 1
[
ıı1 2
$str
ıı2 G
]
ııG H
.
ııH I
ToString
ııI Q
(
ııQ R
)
ııR S
;
ııS T
if
˜˜ 
(
˜˜ 
reader
˜˜ 
[
˜˜ 
$str
˜˜ 0
]
˜˜0 1
!=
˜˜2 4
DBNull
˜˜5 ;
.
˜˜; <
Value
˜˜< A
)
˜˜A B
this
¯¯ 
.
¯¯ !
notificationSentUTC
¯¯ (
=
¯¯) *
Convert
¯¯+ 2
.
¯¯2 3

ToDateTime
¯¯3 =
(
¯¯= >
reader
¯¯> D
[
¯¯D E
$str
¯¯E Z
]
¯¯Z [
)
¯¯[ \
;
¯¯\ ]
this
˙˙ 
.
˙˙ 
canStop
˙˙ 
=
˙˙ 
Convert
˙˙ &
.
˙˙& '
	ToBoolean
˙˙' 0
(
˙˙0 1
reader
˙˙1 7
[
˙˙7 8
$str
˙˙8 A
]
˙˙A B
)
˙˙B C
;
˙˙C D
this
˚˚ 
.
˚˚ 
	canResume
˚˚ 
=
˚˚  
Convert
˚˚! (
.
˚˚( )
	ToBoolean
˚˚) 2
(
˚˚2 3
reader
˚˚3 9
[
˚˚9 :
$str
˚˚: E
]
˚˚E F
)
˚˚F G
;
˚˚G H
this
¸¸ 
.
¸¸ 
updateFrequency
¸¸ $
=
¸¸% &
Convert
¸¸' .
.
¸¸. /
ToInt32
¸¸/ 6
(
¸¸6 7
reader
¸¸7 =
[
¸¸= >
$str
¸¸> O
]
¸¸O P
)
¸¸P Q
;
¸¸Q R
this
˝˝ 
.
˝˝ 
	queuedUTC
˝˝ 
=
˝˝  
Convert
˝˝! (
.
˝˝( )

ToDateTime
˝˝) 3
(
˝˝3 4
reader
˝˝4 :
[
˝˝: ;
$str
˝˝; F
]
˝˝F G
)
˝˝G H
;
˝˝H I
if
ˇˇ 
(
ˇˇ 
reader
ˇˇ 
[
ˇˇ 
$str
ˇˇ %
]
ˇˇ% &
!=
ˇˇ' )
DBNull
ˇˇ* 0
.
ˇˇ0 1
Value
ˇˇ1 6
)
ˇˇ6 7
this
ÄÄ 
.
ÄÄ 
startUTC
ÄÄ 
=
ÄÄ 
Convert
ÄÄ  '
.
ÄÄ' (

ToDateTime
ÄÄ( 2
(
ÄÄ2 3
reader
ÄÄ3 9
[
ÄÄ9 :
$str
ÄÄ: D
]
ÄÄD E
)
ÄÄE F
;
ÄÄF G
if
ÇÇ 
(
ÇÇ 
reader
ÇÇ 
[
ÇÇ 
$str
ÇÇ (
]
ÇÇ( )
!=
ÇÇ* ,
DBNull
ÇÇ- 3
.
ÇÇ3 4
Value
ÇÇ4 9
)
ÇÇ9 :
this
ÉÉ 
.
ÉÉ 
completeUTC
ÉÉ  
=
ÉÉ! "
Convert
ÉÉ# *
.
ÉÉ* +

ToDateTime
ÉÉ+ 5
(
ÉÉ5 6
reader
ÉÉ6 <
[
ÉÉ< =
$str
ÉÉ= J
]
ÉÉJ K
)
ÉÉK L
;
ÉÉL M
if
ÖÖ 
(
ÖÖ 
reader
ÖÖ 
[
ÖÖ 
$str
ÖÖ 0
]
ÖÖ0 1
!=
ÖÖ2 4
DBNull
ÖÖ5 ;
.
ÖÖ; <
Value
ÖÖ< A
)
ÖÖA B
this
ÜÜ 
.
ÜÜ !
lastStatusUpdateUTC
ÜÜ (
=
ÜÜ) *
Convert
ÜÜ+ 2
.
ÜÜ2 3

ToDateTime
ÜÜ3 =
(
ÜÜ= >
reader
ÜÜ> D
[
ÜÜD E
$str
ÜÜE Z
]
ÜÜZ [
)
ÜÜ[ \
;
ÜÜ\ ]
this
áá 
.
áá 
completeRatio
áá "
=
áá# $
Convert
áá% ,
.
áá, -
ToDouble
áá- 5
(
áá5 6
reader
áá6 <
[
áá< =
$str
áá= L
]
ááL M
)
ááM N
;
ááN O
this
àà 
.
àà 
status
àà 
=
àà 
reader
àà $
[
àà$ %
$str
àà% -
]
àà- .
.
àà. /
ToString
àà/ 7
(
àà7 8
)
àà8 9
;
àà9 :
this
ââ 
.
ââ "
serializedTaskObject
ââ )
=
ââ* +
reader
ââ, 2
[
ââ2 3
$str
ââ3 I
]
ââI J
.
ââJ K
ToString
ââK S
(
ââS T
)
ââT U
;
ââU V
this
ää 
.
ää  
serializedTaskType
ää '
=
ää( )
reader
ää* 0
[
ää0 1
$str
ää1 E
]
ääE F
.
ääF G
ToString
ääG O
(
ääO P
)
ääP Q
;
ääQ R
}
åå 
}
éé 	
private
ññ 
bool
ññ 
Create
ññ 
(
ññ 
)
ññ 
{
óó 	
int
ôô 
rowsAffected
ôô 
=
ôô 
DBTaskQueue
ôô *
.
ôô* +
Create
ôô+ 1
(
ôô1 2
this
öö 
.
öö 
newGuid
öö 
,
öö 
this
õõ 
.
õõ 
siteGuid
õõ 
,
õõ 
this
úú 
.
úú 
queuedBy
úú 
,
úú 
this
ùù 
.
ùù 
taskName
ùù 
,
ùù 
this
ûû 
.
ûû  
notifyOnCompletion
ûû '
,
ûû' (
this
üü 
.
üü !
notificationToEmail
üü (
,
üü( )
this
†† 
.
†† #
notificationFromEmail
†† *
,
††* +
this
°° 
.
°° !
notificationSubject
°° (
,
°°( )
this
¢¢ 
.
¢¢ !
taskCompleteMessage
¢¢ (
,
¢¢( )
this
££ 
.
££ 
canStop
££ 
,
££ 
this
§§ 
.
§§ 
	canResume
§§ 
,
§§ 
this
•• 
.
•• 
updateFrequency
•• $
,
••$ %
this
¶¶ 
.
¶¶ 
	queuedUTC
¶¶ 
,
¶¶ 
this
ßß 
.
ßß 
completeRatio
ßß "
,
ßß" #
this
®® 
.
®® 
status
®® 
,
®® 
this
©© 
.
©© "
serializedTaskObject
©© )
,
©©) *
this
™™ 
.
™™  
serializedTaskType
™™ '
)
™™' (
;
™™( )
this
¨¨ 
.
¨¨ 
guid
¨¨ 
=
¨¨ 
newGuid
¨¨ 
;
¨¨  
return
ÆÆ 
(
ÆÆ 
rowsAffected
ÆÆ  
>
ÆÆ! "
$num
ÆÆ# $
)
ÆÆ$ %
;
ÆÆ% &
}
∞∞ 	
private
∑∑ 
bool
∑∑ 
Update
∑∑ 
(
∑∑ 
)
∑∑ 
{
∏∏ 	
if
ππ 
(
ππ 
startUTC
ππ 
==
ππ 
DateTime
ππ $
.
ππ$ %
MinValue
ππ% -
)
ππ- .
{
ππ/ 0
startUTC
ππ1 9
=
ππ: ;
DateTime
ππ< D
.
ππD E
UtcNow
ππE K
;
ππK L
}
ππM N
if
ªª 
(
ªª !
lastStatusUpdateUTC
ªª #
==
ªª$ &
DateTime
ªª' /
.
ªª/ 0
MinValue
ªª0 8
)
ªª8 9
{
ªª: ;!
lastStatusUpdateUTC
ªª< O
=
ªªP Q
DateTime
ªªR Z
.
ªªZ [
UtcNow
ªª[ a
;
ªªa b
}
ªªc d
return
ΩΩ 
DBTaskQueue
ΩΩ 
.
ΩΩ 
Update
ΩΩ %
(
ΩΩ% &
this
ææ 
.
ææ 
guid
ææ 
,
ææ 
this
øø 
.
øø 
startUTC
øø 
,
øø 
this
¿¿ 
.
¿¿ 
completeUTC
¿¿  
,
¿¿  !
this
¡¡ 
.
¡¡ !
lastStatusUpdateUTC
¡¡ (
,
¡¡( )
this
¬¬ 
.
¬¬ 
completeRatio
¬¬ "
,
¬¬" #
this
√√ 
.
√√ 
status
√√ 
)
√√ 
;
√√ 
}
≈≈ 	
public
–– 
bool
–– 
Save
–– 
(
–– 
)
–– 
{
—— 	
if
““ 
(
““ 
this
““ 
.
““ 
guid
““ 
!=
““ 
Guid
““ !
.
““! "
Empty
““" '
)
““' (
{
”” 
return
‘‘ 
Update
‘‘ 
(
‘‘ 
)
‘‘ 
;
‘‘  
}
’’ 
else
÷÷ 
{
◊◊ 
return
ÿÿ 
Create
ÿÿ 
(
ÿÿ 
)
ÿÿ 
;
ÿÿ  
}
ŸŸ 
}
⁄⁄ 	
public
‹‹ 
bool
‹‹  
UpdateNotification
‹‹ &
(
‹‹& '
)
‹‹' (
{
›› 	
return
ﬁﬁ 
DBTaskQueue
ﬁﬁ 
.
ﬁﬁ  
UpdateNotification
ﬁﬁ 1
(
ﬁﬁ1 2
this
ﬁﬁ2 6
.
ﬁﬁ6 7
guid
ﬁﬁ7 ;
,
ﬁﬁ; <
DateTime
ﬁﬁ= E
.
ﬁﬁE F
UtcNow
ﬁﬁF L
)
ﬁﬁL M
;
ﬁﬁM N
}
ﬂﬂ 	
public
ÌÌ 
static
ÌÌ 
bool
ÌÌ 
Delete
ÌÌ !
(
ÌÌ! "
Guid
ÌÌ" &
guid
ÌÌ' +
)
ÌÌ+ ,
{
ÓÓ 	
return
ÔÔ 
DBTaskQueue
ÔÔ 
.
ÔÔ 
Delete
ÔÔ %
(
ÔÔ% &
guid
ÔÔ& *
)
ÔÔ* +
;
ÔÔ+ ,
}
 	
public
ıı 
static
ıı 
void
ıı 
DeleteCompleted
ıı *
(
ıı* +
)
ıı+ ,
{
ˆˆ 	
DBTaskQueue
˜˜ 
.
˜˜ 
DeleteCompleted
˜˜ '
(
˜˜' (
)
˜˜( )
;
˜˜) *
}
¯¯ 	
private
˚˚ 
static
˚˚ 
List
˚˚ 
<
˚˚ 
	TaskQueue
˚˚ %
>
˚˚% & 
LoadListFromReader
˚˚' 9
(
˚˚9 :
IDataReader
˚˚: E
reader
˚˚F L
)
˚˚L M
{
¸¸ 	
List
˝˝ 
<
˝˝ 
	TaskQueue
˝˝ 
>
˝˝ 
taskQueueList
˝˝ )
=
˝˝* +
new
˝˝, /
List
˝˝0 4
<
˝˝4 5
	TaskQueue
˝˝5 >
>
˝˝> ?
(
˝˝? @
)
˝˝@ A
;
˝˝A B
try
˛˛ 
{
ˇˇ 
while
ÄÄ 
(
ÄÄ 
reader
ÄÄ 
.
ÄÄ 
Read
ÄÄ "
(
ÄÄ" #
)
ÄÄ# $
)
ÄÄ$ %
{
ÅÅ 
	TaskQueue
ÇÇ 
	taskQueue
ÇÇ '
=
ÇÇ( )
new
ÇÇ* -
	TaskQueue
ÇÇ. 7
(
ÇÇ7 8
)
ÇÇ8 9
;
ÇÇ9 :
	taskQueue
ÉÉ 
.
ÉÉ 
guid
ÉÉ "
=
ÉÉ# $
new
ÉÉ% (
Guid
ÉÉ) -
(
ÉÉ- .
reader
ÉÉ. 4
[
ÉÉ4 5
$str
ÉÉ5 ;
]
ÉÉ; <
.
ÉÉ< =
ToString
ÉÉ= E
(
ÉÉE F
)
ÉÉF G
)
ÉÉG H
;
ÉÉH I
	taskQueue
ÑÑ 
.
ÑÑ 
siteGuid
ÑÑ &
=
ÑÑ' (
new
ÑÑ) ,
Guid
ÑÑ- 1
(
ÑÑ1 2
reader
ÑÑ2 8
[
ÑÑ8 9
$str
ÑÑ9 C
]
ÑÑC D
.
ÑÑD E
ToString
ÑÑE M
(
ÑÑM N
)
ÑÑN O
)
ÑÑO P
;
ÑÑP Q
	taskQueue
ÖÖ 
.
ÖÖ 
queuedBy
ÖÖ &
=
ÖÖ' (
new
ÖÖ) ,
Guid
ÖÖ- 1
(
ÖÖ1 2
reader
ÖÖ2 8
[
ÖÖ8 9
$str
ÖÖ9 C
]
ÖÖC D
.
ÖÖD E
ToString
ÖÖE M
(
ÖÖM N
)
ÖÖN O
)
ÖÖO P
;
ÖÖP Q
	taskQueue
ÜÜ 
.
ÜÜ 
taskName
ÜÜ &
=
ÜÜ' (
reader
ÜÜ) /
[
ÜÜ/ 0
$str
ÜÜ0 :
]
ÜÜ: ;
.
ÜÜ; <
ToString
ÜÜ< D
(
ÜÜD E
)
ÜÜE F
;
ÜÜF G
	taskQueue
áá 
.
áá  
notifyOnCompletion
áá 0
=
áá1 2
Convert
áá3 :
.
áá: ;
	ToBoolean
áá; D
(
ááD E
reader
ááE K
[
ááK L
$str
ááL `
]
áá` a
)
ááa b
;
ááb c
	taskQueue
àà 
.
àà !
notificationToEmail
àà 1
=
àà2 3
reader
àà4 :
[
àà: ;
$str
àà; P
]
ààP Q
.
ààQ R
ToString
ààR Z
(
ààZ [
)
àà[ \
;
àà\ ]
	taskQueue
ââ 
.
ââ #
notificationFromEmail
ââ 3
=
ââ4 5
reader
ââ6 <
[
ââ< =
$str
ââ= T
]
ââT U
.
ââU V
ToString
ââV ^
(
ââ^ _
)
ââ_ `
;
ââ` a
	taskQueue
ää 
.
ää !
notificationSubject
ää 1
=
ää2 3
reader
ää4 :
[
ää: ;
$str
ää; P
]
ääP Q
.
ääQ R
ToString
ääR Z
(
ääZ [
)
ää[ \
;
ää\ ]
	taskQueue
ãã 
.
ãã !
taskCompleteMessage
ãã 1
=
ãã2 3
reader
ãã4 :
[
ãã: ;
$str
ãã; P
]
ããP Q
.
ããQ R
ToString
ããR Z
(
ããZ [
)
ãã[ \
;
ãã\ ]
if
çç 
(
çç 
reader
çç 
[
çç 
$str
çç 4
]
çç4 5
!=
çç6 8
DBNull
çç9 ?
.
çç? @
Value
çç@ E
)
ççE F
	taskQueue
éé !
.
éé! "!
notificationSentUTC
éé" 5
=
éé6 7
Convert
éé8 ?
.
éé? @

ToDateTime
éé@ J
(
ééJ K
reader
ééK Q
[
ééQ R
$str
ééR g
]
éég h
)
ééh i
;
ééi j
	taskQueue
êê 
.
êê 
canStop
êê %
=
êê& '
Convert
êê( /
.
êê/ 0
	ToBoolean
êê0 9
(
êê9 :
reader
êê: @
[
êê@ A
$str
êêA J
]
êêJ K
)
êêK L
;
êêL M
	taskQueue
ëë 
.
ëë 
	canResume
ëë '
=
ëë( )
Convert
ëë* 1
.
ëë1 2
	ToBoolean
ëë2 ;
(
ëë; <
reader
ëë< B
[
ëëB C
$str
ëëC N
]
ëëN O
)
ëëO P
;
ëëP Q
	taskQueue
íí 
.
íí 
updateFrequency
íí -
=
íí. /
Convert
íí0 7
.
íí7 8
ToInt32
íí8 ?
(
íí? @
reader
íí@ F
[
ííF G
$str
ííG X
]
ííX Y
)
ííY Z
;
ííZ [
	taskQueue
ìì 
.
ìì 
	queuedUTC
ìì '
=
ìì( )
Convert
ìì* 1
.
ìì1 2

ToDateTime
ìì2 <
(
ìì< =
reader
ìì= C
[
ììC D
$str
ììD O
]
ììO P
)
ììP Q
;
ììQ R
if
ïï 
(
ïï 
reader
ïï 
[
ïï 
$str
ïï )
]
ïï) *
!=
ïï+ -
DBNull
ïï. 4
.
ïï4 5
Value
ïï5 :
)
ïï: ;
	taskQueue
ññ !
.
ññ! "
startUTC
ññ" *
=
ññ+ ,
Convert
ññ- 4
.
ññ4 5

ToDateTime
ññ5 ?
(
ññ? @
reader
ññ@ F
[
ññF G
$str
ññG Q
]
ññQ R
)
ññR S
;
ññS T
if
òò 
(
òò 
reader
òò 
[
òò 
$str
òò ,
]
òò, -
!=
òò. 0
DBNull
òò1 7
.
òò7 8
Value
òò8 =
)
òò= >
	taskQueue
ôô !
.
ôô! "
completeUTC
ôô" -
=
ôô. /
Convert
ôô0 7
.
ôô7 8

ToDateTime
ôô8 B
(
ôôB C
reader
ôôC I
[
ôôI J
$str
ôôJ W
]
ôôW X
)
ôôX Y
;
ôôY Z
if
õõ 
(
õõ 
reader
õõ 
[
õõ 
$str
õõ 4
]
õõ4 5
!=
õõ6 8
DBNull
õõ9 ?
.
õõ? @
Value
õõ@ E
)
õõE F
	taskQueue
úú !
.
úú! "!
lastStatusUpdateUTC
úú" 5
=
úú6 7
Convert
úú8 ?
.
úú? @

ToDateTime
úú@ J
(
úúJ K
reader
úúK Q
[
úúQ R
$str
úúR g
]
úúg h
)
úúh i
;
úúi j
	taskQueue
ûû 
.
ûû 
completeRatio
ûû +
=
ûû, -
Convert
ûû. 5
.
ûû5 6
ToDouble
ûû6 >
(
ûû> ?
reader
ûû? E
[
ûûE F
$str
ûûF U
]
ûûU V
)
ûûV W
;
ûûW X
	taskQueue
üü 
.
üü 
status
üü $
=
üü% &
reader
üü' -
[
üü- .
$str
üü. 6
]
üü6 7
.
üü7 8
ToString
üü8 @
(
üü@ A
)
üüA B
;
üüB C
	taskQueue
†† 
.
†† "
serializedTaskObject
†† 2
=
††3 4
reader
††5 ;
[
††; <
$str
††< R
]
††R S
.
††S T
ToString
††T \
(
††\ ]
)
††] ^
;
††^ _
	taskQueue
°° 
.
°°  
serializedTaskType
°° 0
=
°°1 2
reader
°°3 9
[
°°9 :
$str
°°: N
]
°°N O
.
°°O P
ToString
°°P X
(
°°X Y
)
°°Y Z
;
°°Z [
taskQueueList
££ !
.
££! "
Add
££" %
(
££% &
	taskQueue
££& /
)
££/ 0
;
££0 1
}
¶¶ 
}
ßß 
finally
®® 
{
©© 
reader
™™ 
.
™™ 
Close
™™ 
(
™™ 
)
™™ 
;
™™ 
}
´´ 
return
≠≠ 
taskQueueList
≠≠  
;
≠≠  !
}
ØØ 	
public
¥¥ 
static
¥¥ 
List
¥¥ 
<
¥¥ 
	TaskQueue
¥¥ $
>
¥¥$ % 
GetTasksNotStarted
¥¥& 8
(
¥¥8 9
)
¥¥9 :
{
µµ 	
IDataReader
∂∂ 
reader
∂∂ 
=
∂∂  
DBTaskQueue
∂∂! ,
.
∂∂, - 
GetTasksNotStarted
∂∂- ?
(
∂∂? @
)
∂∂@ A
;
∂∂A B
return
∑∑  
LoadListFromReader
∑∑ %
(
∑∑% &
reader
∑∑& ,
)
∑∑, -
;
∑∑- .
}
∏∏ 	
public
ΩΩ 
static
ΩΩ 
List
ΩΩ 
<
ΩΩ 
	TaskQueue
ΩΩ $
>
ΩΩ$ %%
GetTasksForNotification
ΩΩ& =
(
ΩΩ= >
)
ΩΩ> ?
{
ææ 	
IDataReader
øø 
reader
øø 
=
øø  
DBTaskQueue
øø! ,
.
øø, -%
GetTasksForNotification
øø- D
(
øøD E
)
øøE F
;
øøF G
return
¿¿  
LoadListFromReader
¿¿ %
(
¿¿% &
reader
¿¿& ,
)
¿¿, -
;
¿¿- .
}
¡¡ 	
public
«« 
static
«« 
List
«« 
<
«« 
	TaskQueue
«« $
>
««$ %
GetUnfinished
««& 3
(
««3 4
)
««4 5
{
»» 	
IDataReader
…… 
reader
…… 
=
……  
DBTaskQueue
……! ,
.
……, -
GetUnfinished
……- :
(
……: ;
)
……; <
;
……< =
return
    
LoadListFromReader
   %
(
  % &
reader
  & ,
)
  , -
;
  - .
}
ÀÀ 	
public
–– 
static
–– 
List
–– 
<
–– 
	TaskQueue
–– $
>
––$ %
GetUnfinished
––& 3
(
––3 4
Guid
––4 8
siteGuid
––9 A
)
––A B
{
—— 	
IDataReader
““ 
reader
““ 
=
““  
DBTaskQueue
““! ,
.
““, -
GetUnfinished
““- :
(
““: ;
siteGuid
““; C
)
““C D
;
““D E
return
””  
LoadListFromReader
”” %
(
””% &
reader
””& ,
)
””, -
;
””- .
}
‘‘ 	
public
€€ 
static
€€ 
List
€€ 
<
€€ 
	TaskQueue
€€ $
>
€€$ %
GetPage
€€& -
(
€€- .
int
‹‹ 

pageNumber
‹‹ 
,
‹‹ 
int
›› 
pageSize
›› 
,
›› 
out
ﬁﬁ 
int
ﬁﬁ 

totalPages
ﬁﬁ 
)
ﬁﬁ 
{
ﬂﬂ 	

totalPages
‡‡ 
=
‡‡ 
$num
‡‡ 
;
‡‡ 
IDataReader
·· 
reader
·· 
=
··  
DBTaskQueue
··! ,
.
··, -
GetPage
··- 4
(
··4 5

pageNumber
··5 ?
,
··? @
pageSize
··A I
,
··I J
out
··K N

totalPages
··O Y
)
··Y Z
;
··Z [
return
‚‚  
LoadListFromReader
‚‚ %
(
‚‚% &
reader
‚‚& ,
)
‚‚, -
;
‚‚- .
}
‰‰ 	
public
ÈÈ 
static
ÈÈ 
List
ÈÈ 
<
ÈÈ 
	TaskQueue
ÈÈ $
>
ÈÈ$ %
GetPageBySite
ÈÈ& 3
(
ÈÈ3 4
Guid
ÍÍ 
siteGuid
ÍÍ 
,
ÍÍ 
int
ÎÎ 

pageNumber
ÎÎ 
,
ÎÎ 
int
ÏÏ 
pageSize
ÏÏ 
,
ÏÏ 
out
ÌÌ 
int
ÌÌ 

totalPages
ÌÌ 
)
ÌÌ 
{
ÓÓ 	

totalPages
ÔÔ 
=
ÔÔ 
$num
ÔÔ 
;
ÔÔ 
IDataReader
 
reader
 
=
  
DBTaskQueue
! ,
.
, -
GetPageBySite
- :
(
: ;
siteGuid
; C
,
C D

pageNumber
E O
,
O P
pageSize
Q Y
,
Y Z
out
[ ^

totalPages
_ i
)
i j
;
j k
return
ÒÒ  
LoadListFromReader
ÒÒ %
(
ÒÒ% &
reader
ÒÒ& ,
)
ÒÒ, -
;
ÒÒ- .
}
ÛÛ 	
public
˘˘ 
static
˘˘ 
List
˘˘ 
<
˘˘ 
	TaskQueue
˘˘ $
>
˘˘$ %
GetPageUnfinished
˘˘& 7
(
˘˘7 8
int
˙˙ 

pageNumber
˙˙ 
,
˙˙ 
int
˚˚ 
pageSize
˚˚ 
,
˚˚ 
out
¸¸ 
int
¸¸ 

totalPages
¸¸ 
)
¸¸ 
{
˝˝ 	

totalPages
˛˛ 
=
˛˛ 
$num
˛˛ 
;
˛˛ 
IDataReader
ˇˇ 
reader
ˇˇ 
=
ˇˇ  
DBTaskQueue
ˇˇ! ,
.
ˇˇ, -
GetPageUnfinished
ˇˇ- >
(
ˇˇ> ?

pageNumber
ˇˇ? I
,
ˇˇI J
pageSize
ˇˇK S
,
ˇˇS T
out
ˇˇU X

totalPages
ˇˇY c
)
ˇˇc d
;
ˇˇd e
return
ÄÄ  
LoadListFromReader
ÄÄ %
(
ÄÄ% &
reader
ÄÄ& ,
)
ÄÄ, -
;
ÄÄ- .
}
ÇÇ 	
public
àà 
static
àà 
List
àà 
<
àà 
	TaskQueue
àà $
>
àà$ %%
GetPageUnfinishedBySite
àà& =
(
àà= >
Guid
ââ 
siteGuid
ââ 
,
ââ 
int
ää 

pageNumber
ää 
,
ää 
int
ãã 
pageSize
ãã 
,
ãã 
out
åå 
int
åå 

totalPages
åå 
)
åå 
{
çç 	

totalPages
éé 
=
éé 
$num
éé 
;
éé 
IDataReader
èè 
reader
èè 
=
èè  
DBTaskQueue
èè! ,
.
èè, -%
GetPageUnfinishedBySite
èè- D
(
èèD E
siteGuid
èèE M
,
èèM N

pageNumber
èèO Y
,
èèY Z
pageSize
èè[ c
,
èèc d
out
èèe h

totalPages
èèi s
)
èès t
;
èèt u
return
êê  
LoadListFromReader
êê %
(
êê% &
reader
êê& ,
)
êê, -
;
êê- .
}
íí 	
public
îî 
static
îî 
bool
îî 
	IsStalled
îî $
(
îî$ %
	TaskQueue
îî% .
task
îî/ 3
)
îî3 4
{
ïï 	
int
óó '
taskTimeoutPaddingSeconds
óó )
=
óó* +
$num
óó, /
;
óó/ 0
return
ôô 
(
ôô 
DateTime
ôô 
.
ôô 
UtcNow
ôô #
>
ôô$ %
task
ôô& *
.
ôô* +!
LastStatusUpdateUTC
ôô+ >
.
ôô> ?

AddSeconds
ôô? I
(
ôôI J
task
ôôJ N
.
ôôN O
UpdateFrequency
ôôO ^
+
ôô_ `'
taskTimeoutPaddingSeconds
ôôa z
)
ôôz {
)
ôô{ |
;
ôô| }
}
õõ 	
public
ùù 
static
ùù 
bool
ùù "
UnfinishedTaskExists
ùù /
(
ùù/ 0
string
ùù0 6
taskType
ùù7 ?
)
ùù? @
{
ûû 	
if
üü 
(
üü 
taskType
üü 
.
üü 
Length
üü 
>
üü  !
$num
üü" %
)
üü% &
{
üü' (
taskType
üü) 1
=
üü2 3
taskType
üü4 <
.
üü< =
	Substring
üü= F
(
üüF G
$num
üüG J
)
üüJ K
;
üüK L
}
üüM N
return
†† 
(
†† 
DBTaskQueue
†† 
.
††  &
GetCountUnfinishedByType
††  8
(
††8 9
taskType
††9 A
)
††A B
>
††C D
$num
††E F
)
††F G
;
††G H
}
°° 	
public
££ 
static
££ 
bool
££ 
DeleteByType
££ '
(
££' (
string
££( .
taskType
££/ 7
)
££7 8
{
§§ 	
if
•• 
(
•• 
taskType
•• 
.
•• 
Length
•• 
>
••  !
$num
••" %
)
••% &
{
••' (
taskType
••) 1
=
••2 3
taskType
••4 <
.
••< =
	Substring
••= F
(
••F G
$num
••G J
)
••J K
;
••K L
}
••M N
return
¶¶ 
DBTaskQueue
¶¶ 
.
¶¶ 
DeleteByType
¶¶ +
(
¶¶+ ,
taskType
¶¶, 4
)
¶¶4 5
;
¶¶5 6
}
ßß 	
public
≤≤ 
static
≤≤ 
int
≤≤ 
CompareByTaskName
≤≤ +
(
≤≤+ ,
	TaskQueue
≤≤, 5

taskQueue1
≤≤6 @
,
≤≤@ A
	TaskQueue
≤≤B K

taskQueue2
≤≤L V
)
≤≤V W
{
≥≥ 	
return
¥¥ 

taskQueue1
¥¥ 
.
¥¥ 
TaskName
¥¥ &
.
¥¥& '
	CompareTo
¥¥' 0
(
¥¥0 1

taskQueue2
¥¥1 ;
.
¥¥; <
TaskName
¥¥< D
)
¥¥D E
;
¥¥E F
}
µµ 	
public
ππ 
static
ππ 
int
ππ  
CompareByQueuedUTC
ππ ,
(
ππ, -
	TaskQueue
ππ- 6

taskQueue1
ππ7 A
,
ππA B
	TaskQueue
ππC L

taskQueue2
ππM W
)
ππW X
{
∫∫ 	
return
ªª 

taskQueue1
ªª 
.
ªª 
	QueuedUTC
ªª '
.
ªª' (
	CompareTo
ªª( 1
(
ªª1 2

taskQueue2
ªª2 <
.
ªª< =
	QueuedUTC
ªª= F
)
ªªF G
;
ªªG H
}
ºº 	
public
¿¿ 
static
¿¿ 
int
¿¿ 
CompareByStartUTC
¿¿ +
(
¿¿+ ,
	TaskQueue
¿¿, 5

taskQueue1
¿¿6 @
,
¿¿@ A
	TaskQueue
¿¿B K

taskQueue2
¿¿L V
)
¿¿V W
{
¡¡ 	
return
¬¬ 

taskQueue1
¬¬ 
.
¬¬ 
StartUTC
¬¬ &
.
¬¬& '
	CompareTo
¬¬' 0
(
¬¬0 1

taskQueue2
¬¬1 ;
.
¬¬; <
StartUTC
¬¬< D
)
¬¬D E
;
¬¬E F
}
√√ 	
public
«« 
static
«« 
int
«« "
CompareByCompleteUTC
«« .
(
««. /
	TaskQueue
««/ 8

taskQueue1
««9 C
,
««C D
	TaskQueue
««E N

taskQueue2
««O Y
)
««Y Z
{
»» 	
return
…… 

taskQueue1
…… 
.
…… 
CompleteUTC
…… )
.
……) *
	CompareTo
……* 3
(
……3 4

taskQueue2
……4 >
.
……> ?
CompleteUTC
……? J
)
……J K
;
……K L
}
   	
public
ŒŒ 
static
ŒŒ 
int
ŒŒ *
CompareByLastStatusUpdateUTC
ŒŒ 6
(
ŒŒ6 7
	TaskQueue
ŒŒ7 @

taskQueue1
ŒŒA K
,
ŒŒK L
	TaskQueue
ŒŒM V

taskQueue2
ŒŒW a
)
ŒŒa b
{
œœ 	
return
–– 

taskQueue1
–– 
.
–– !
LastStatusUpdateUTC
–– 1
.
––1 2
	CompareTo
––2 ;
(
––; <

taskQueue2
––< F
.
––F G!
LastStatusUpdateUTC
––G Z
)
––Z [
;
––[ \
}
—— 	
public
’’ 
static
’’ 
int
’’ 
CompareByStatus
’’ )
(
’’) *
	TaskQueue
’’* 3

taskQueue1
’’4 >
,
’’> ?
	TaskQueue
’’@ I

taskQueue2
’’J T
)
’’T U
{
÷÷ 	
return
◊◊ 

taskQueue1
◊◊ 
.
◊◊ 
Status
◊◊ $
.
◊◊$ %
	CompareTo
◊◊% .
(
◊◊. /

taskQueue2
◊◊/ 9
.
◊◊9 :
Status
◊◊: @
)
◊◊@ A
;
◊◊A B
}
ÿÿ 	
public
‹‹ 
static
‹‹ 
int
‹‹ +
CompareBySerializedTaskObject
‹‹ 7
(
‹‹7 8
	TaskQueue
‹‹8 A

taskQueue1
‹‹B L
,
‹‹L M
	TaskQueue
‹‹N W

taskQueue2
‹‹X b
)
‹‹b c
{
›› 	
return
ﬁﬁ 

taskQueue1
ﬁﬁ 
.
ﬁﬁ "
SerializedTaskObject
ﬁﬁ 2
.
ﬁﬁ2 3
	CompareTo
ﬁﬁ3 <
(
ﬁﬁ< =

taskQueue2
ﬁﬁ= G
.
ﬁﬁG H"
SerializedTaskObject
ﬁﬁH \
)
ﬁﬁ\ ]
;
ﬁﬁ] ^
}
ﬂﬂ 	
public
„„ 
static
„„ 
int
„„ )
CompareBySerializedTaskType
„„ 5
(
„„5 6
	TaskQueue
„„6 ?

taskQueue1
„„@ J
,
„„J K
	TaskQueue
„„L U

taskQueue2
„„V `
)
„„` a
{
‰‰ 	
return
ÂÂ 

taskQueue1
ÂÂ 
.
ÂÂ  
SerializedTaskType
ÂÂ 0
.
ÂÂ0 1
	CompareTo
ÂÂ1 :
(
ÂÂ: ;

taskQueue2
ÂÂ; E
.
ÂÂE F 
SerializedTaskType
ÂÂF X
)
ÂÂX Y
;
ÂÂY Z
}
ÊÊ 	
}
ÎÎ 
}ÌÌ ∫Æ
{D:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\TaskFramework\ThreadSleepTask.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
[ 
Serializable 
( 
) 
] 
public 

class 
ThreadSleepTask  
:! "
ITaskQueueTask# 1
{ 
private 
static 
readonly 
ILog  $
log% (
=) *

LogManager+ 5
.5 6
	GetLogger6 ?
(? @
typeof@ F
(F G
ThreadSleepTaskG V
)V W
)W X
;X Y
private   
Guid   
siteGuid   
=   
Guid    $
.  $ %
Empty  % *
;  * +
private!! 
Guid!! 
taskGuid!! 
=!! 
Guid!!  $
.!!$ %
Empty!!% *
;!!* +
private"" 
Guid"" 
queuedBy"" 
="" 
Guid""  $
.""$ %
Empty""% *
;""* +
private## 
string## 
taskName## 
=##  !
$str##" C
;##C D
private$$ 
bool$$ 
notifyOnCompletion$$ '
=$$( )
false$$* /
;$$/ 0
private%% 
string%% 
notificationToEmail%% *
=%%+ ,
String%%- 3
.%%3 4
Empty%%4 9
;%%9 :
private&& 
string&& !
notificationFromEmail&& ,
=&&- .
String&&/ 5
.&&5 6
Empty&&6 ;
;&&; <
private'' 
string'' 
notificationSubject'' *
=''+ ,
String''- 3
.''3 4
Empty''4 9
;''9 :
private(( 
string(( 
taskCompleteMessage(( *
=((+ ,
string((- 3
.((3 4
Empty((4 9
;((9 :
private)) 
string)) 
statusQueuedMessage)) *
=))+ ,
$str))- 5
;))5 6
private** 
string**  
statusStartedMessage** +
=**, -
$str**. 7
;**7 8
private++ 
string++  
statusRunningMessage++ +
=++, -
$str++. 7
;++7 8
private,, 
string,, !
statusCompleteMessage,, ,
=,,- .
$str,,/ 9
;,,9 :
private-- 
bool-- 
canStop-- 
=-- 
false-- $
;--$ %
private.. 
bool.. 
	canResume.. 
=..  
false..! &
;..& '
private// 
int// 
updateFrequency// #
=//$ %
$num//& '
;//' (
public22 
Guid22 
SiteGuid22 
{33 	
get44 
{44 
return44 
siteGuid44 !
;44! "
}44# $
set55 
{55 
siteGuid55 
=55 
value55 "
;55" #
}55$ %
}66 	
public88 
Guid88 
TaskGuid88 
{99 	
get:: 
{:: 
return:: 
taskGuid:: !
;::! "
}::# $
set;; 
{;; 
taskGuid;; 
=;; 
value;; "
;;;" #
};;$ %
}<< 	
public>> 
Guid>> 
QueuedBy>> 
{?? 	
get@@ 
{@@ 
return@@ 
queuedBy@@ !
;@@! "
}@@# $
setAA 
{AA 
queuedByAA 
=AA 
valueAA "
;AA" #
}AA$ %
}BB 	
publicDD 
stringDD 
TaskNameDD 
{EE 	
getFF 
{FF 
returnFF 
taskNameFF !
;FF! "
}FF# $
setGG 
{GG 
}II 
}JJ 	
publicLL 
boolLL 
NotifyOnCompletionLL &
{MM 	
getNN 
{NN 
returnNN 
notifyOnCompletionNN +
;NN+ ,
}NN- .
setOO 
{OO 
notifyOnCompletionOO $
=OO% &
valueOO' ,
;OO, -
}OO. /
}PP 	
publicRR 
stringRR 
NotificationToEmailRR )
{SS 	
getTT 
{TT 
returnTT 
notificationToEmailTT ,
;TT, -
}TT. /
setUU 
{UU 
notificationToEmailUU %
=UU& '
valueUU( -
;UU- .
}UU/ 0
}VV 	
publicXX 
stringXX !
NotificationFromEmailXX +
{YY 	
getZZ 
{ZZ 
returnZZ !
notificationFromEmailZZ .
;ZZ. /
}ZZ0 1
set[[ 
{[[ !
notificationFromEmail[[ '
=[[( )
value[[* /
;[[/ 0
}[[1 2
}\\ 	
public^^ 
string^^ 
NotificationSubject^^ )
{__ 	
get`` 
{`` 
return`` 
notificationSubject`` ,
;``, -
}``. /
setaa 
{aa 
notificationSubjectaa %
=aa& '
valueaa( -
;aa- .
}aa/ 0
}bb 	
publicdd 
stringdd 
TaskCompleteMessagedd )
{ee 	
getff 
{ff 
returnff 
taskCompleteMessageff ,
;ff, -
}ff. /
setgg 
{gg 
taskCompleteMessagegg %
=gg& '
valuegg( -
;gg- .
}gg/ 0
}hh 	
publicjj 
stringjj 
StatusQueuedMessagejj )
{kk 	
getll 
{ll 
returnll 
statusQueuedMessagell ,
;ll, -
}ll. /
setmm 
{mm 
statusQueuedMessagemm %
=mm& '
valuemm( -
;mm- .
}mm/ 0
}nn 	
publicpp 
stringpp  
StatusStartedMessagepp *
{qq 	
getrr 
{rr 
returnrr  
statusStartedMessagerr -
;rr- .
}rr/ 0
setss 
{ss  
statusStartedMessagess &
=ss' (
valuess) .
;ss. /
}ss0 1
}tt 	
publicvv 
stringvv  
StatusRunningMessagevv *
{ww 	
getxx 
{xx 
returnxx  
statusRunningMessagexx -
;xx- .
}xx/ 0
setyy 
{yy  
statusRunningMessageyy &
=yy' (
valueyy) .
;yy. /
}yy0 1
}zz 	
public|| 
string|| !
StatusCompleteMessage|| +
{}} 	
get~~ 
{~~ 
return~~ !
statusCompleteMessage~~ .
;~~. /
}~~0 1
set 
{ !
statusCompleteMessage '
=( )
value* /
;/ 0
}1 2
}
ÄÄ 	
public
ÜÜ 
int
ÜÜ 
UpdateFrequency
ÜÜ "
{
áá 	
get
àà 
{
àà 
return
àà 
updateFrequency
àà (
;
àà( )
}
àà* +
}
ää 	
public
åå 
bool
åå 
CanStop
åå 
{
çç 	
get
éé 
{
éé 
return
éé 
canStop
éé  
;
éé  !
}
éé" #
}
êê 	
public
íí 
bool
íí 
	CanResume
íí 
{
ìì 	
get
îî 
{
îî 
return
îî 
	canResume
îî "
;
îî" #
}
îî$ %
}
ññ 	
public
òò 
void
òò 
	QueueTask
òò 
(
òò 
)
òò 
{
ôô 	
if
öö 
(
öö 
this
öö 
.
öö 
siteGuid
öö 
==
öö  
Guid
öö! %
.
öö% &
Empty
öö& +
)
öö+ ,
return
öö- 3
;
öö3 4
if
úú 
(
úú 
this
úú 
.
úú 
taskGuid
úú 
!=
úú  
Guid
úú! %
.
úú% &
Empty
úú& +
)
úú+ ,
return
úú- 3
;
úú3 4
	TaskQueue
üü 
task
üü 
=
üü 
new
üü  
	TaskQueue
üü! *
(
üü* +
)
üü+ ,
;
üü, -
task
†† 
.
†† 
SiteGuid
†† 
=
†† 
this
††  
.
††  !
siteGuid
††! )
;
††) *
task
°° 
.
°° 
QueuedBy
°° 
=
°° 
this
°°  
.
°°  !
queuedBy
°°! )
;
°°) *
task
¢¢ 
.
¢¢ 
TaskName
¢¢ 
=
¢¢ 
this
¢¢  
.
¢¢  !
taskName
¢¢! )
;
¢¢) *
task
££ 
.
££  
NotifyOnCompletion
££ #
=
££$ %
this
££& *
.
££* + 
notifyOnCompletion
££+ =
;
££= >
task
§§ 
.
§§ !
NotificationToEmail
§§ $
=
§§% &
this
§§' +
.
§§+ ,!
notificationToEmail
§§, ?
;
§§? @
task
•• 
.
•• #
NotificationFromEmail
•• &
=
••' (
this
••) -
.
••- .#
notificationFromEmail
••. C
;
••C D
task
¶¶ 
.
¶¶ !
NotificationSubject
¶¶ $
=
¶¶% &
this
¶¶' +
.
¶¶+ ,!
notificationSubject
¶¶, ?
;
¶¶? @
task
ßß 
.
ßß !
TaskCompleteMessage
ßß $
=
ßß% &
this
ßß' +
.
ßß+ ,!
taskCompleteMessage
ßß, ?
;
ßß? @
task
®® 
.
®® 
	CanResume
®® 
=
®® 
this
®® !
.
®®! "
	canResume
®®" +
;
®®+ ,
task
©© 
.
©© 
CanStop
©© 
=
©© 
this
©© 
.
©©  
canStop
©©  '
;
©©' (
task
™™ 
.
™™ 
UpdateFrequency
™™  
=
™™! "
this
™™# '
.
™™' (
updateFrequency
™™( 7
;
™™7 8
task
´´ 
.
´´ 
Status
´´ 
=
´´ 
$str
´´ "
;
´´" #
task
¨¨ 
.
¨¨ !
LastStatusUpdateUTC
¨¨ $
=
¨¨% &
DateTime
¨¨' /
.
¨¨/ 0
UtcNow
¨¨0 6
;
¨¨6 7
this
≠≠ 
.
≠≠ 
taskGuid
≠≠ 
=
≠≠ 
task
≠≠  
.
≠≠  !
NewGuid
≠≠! (
;
≠≠( )
task
ÆÆ 
.
ÆÆ "
SerializedTaskObject
ÆÆ %
=
ÆÆ& '!
SerializationHelper
ÆÆ( ;
.
ÆÆ; <
SerializeToString
ÆÆ< M
(
ÆÆM N
this
ÆÆN R
)
ÆÆR S
;
ÆÆS T
task
ØØ 
.
ØØ  
SerializedTaskType
ØØ #
=
ØØ$ %
this
ØØ& *
.
ØØ* +
GetType
ØØ+ 2
(
ØØ2 3
)
ØØ3 4
.
ØØ4 5#
AssemblyQualifiedName
ØØ5 J
;
ØØJ K
task
∞∞ 
.
∞∞ 
Save
∞∞ 
(
∞∞ 
)
∞∞ 
;
∞∞ 
}
≥≥ 	
public
µµ 
void
µµ 
	StartTask
µµ 
(
µµ 
)
µµ 
{
∂∂ 	
if
∑∑ 
(
∑∑ 
this
∑∑ 
.
∑∑ 
taskGuid
∑∑ 
==
∑∑  
Guid
∑∑! %
.
∑∑% &
Empty
∑∑& +
)
∑∑+ ,
return
∑∑- 3
;
∑∑3 4
	TaskQueue
ππ 
task
ππ 
=
ππ 
new
ππ  
	TaskQueue
ππ! *
(
ππ* +
this
ππ+ /
.
ππ/ 0
taskGuid
ππ0 8
)
ππ8 9
;
ππ9 :
if
ªª 
(
ªª 
task
ªª 
.
ªª 
Guid
ªª 
==
ªª 
Guid
ªª !
.
ªª! "
Empty
ªª" '
)
ªª' (
return
ªª) /
;
ªª/ 0
if
ΩΩ 
(
ΩΩ 
!
ΩΩ 

ThreadPool
ΩΩ 
.
ΩΩ 
QueueUserWorkItem
ΩΩ -
(
ΩΩ- .
new
ΩΩ. 1
WaitCallback
ΩΩ2 >
(
ΩΩ> ? 
RunTaskOnNewThread
ΩΩ? Q
)
ΩΩQ R
,
ΩΩR S
this
ΩΩT X
)
ΩΩX Y
)
ΩΩY Z
{
ææ 
throw
øø 
new
øø 
	Exception
øø #
(
øø# $
$str
øø$ N
)
øøN O
;
øøO P
}
¿¿ 
task
¬¬ 
.
¬¬ 
Status
¬¬ 
=
¬¬ 
$str
¬¬ #
;
¬¬# $
task
√√ 
.
√√ 
StartUTC
√√ 
=
√√ 
DateTime
√√ $
.
√√$ %
UtcNow
√√% +
;
√√+ ,
task
ƒƒ 
.
ƒƒ !
LastStatusUpdateUTC
ƒƒ $
=
ƒƒ% &
DateTime
ƒƒ' /
.
ƒƒ/ 0
UtcNow
ƒƒ0 6
;
ƒƒ6 7
task
≈≈ 
.
≈≈ 
Save
≈≈ 
(
≈≈ 
)
≈≈ 
;
≈≈ 
log
«« 
.
«« 
Info
«« 
(
«« 
$str
«« =
)
««= >
;
««> ?
}
…… 	
public
ÃÃ 
void
ÃÃ 
StopTask
ÃÃ 
(
ÃÃ 
)
ÃÃ 
{
ÕÕ 	
throw
ŒŒ 
new
ŒŒ 
System
ŒŒ 
.
ŒŒ %
NotImplementedException
ŒŒ 4
(
ŒŒ4 5
$str
ŒŒ5 V
)
ŒŒV W
;
ŒŒW X
}
–– 	
public
““ 
void
““ 

ResumeTask
““ 
(
““ 
)
““  
{
”” 	
throw
‘‘ 
new
‘‘ 
System
‘‘ 
.
‘‘ %
NotImplementedException
‘‘ 4
(
‘‘4 5
$str
‘‘5 V
)
‘‘V W
;
‘‘W X
}
÷÷ 	
private
‹‹ 
DateTime
‹‹ 
	startTime
‹‹ "
=
‹‹# $
DateTime
‹‹% -
.
‹‹- .
UtcNow
‹‹. 4
;
‹‹4 5
private
›› 
DateTime
›› 
endTime
››  
;
››  !
private
ﬁﬁ 
int
ﬁﬁ #
millisecondsPerMinute
ﬁﬁ )
=
ﬁﬁ* +
$num
ﬁﬁ, 1
;
ﬁﬁ1 2
private
ﬂﬂ 
int
ﬂﬂ 
minutesToSleep
ﬂﬂ "
=
ﬂﬂ# $
$num
ﬂﬂ% &
;
ﬂﬂ& '
private
‡‡ 
int
‡‡ 
maxRunTimeMinutes
‡‡ %
=
‡‡& '
$num
‡‡( )
;
‡‡) *
private
·· 
int
·· 
countOfIterations
·· %
=
··& '
$num
··( )
;
··) *
private
‚‚ 
TimeSpan
‚‚ 
	timeToRun
‚‚ "
;
‚‚" #
public
ÂÂ 
int
ÂÂ 
MinutesToSleep
ÂÂ !
{
ÊÊ 	
get
ÁÁ 
{
ÁÁ 
return
ÁÁ 
minutesToSleep
ÁÁ '
;
ÁÁ' (
}
ÁÁ) *
set
ËË 
{
ËË 
minutesToSleep
ËË  
=
ËË! "
value
ËË# (
;
ËË( )
}
ËË* +
}
ÈÈ 	
public
ÎÎ 
int
ÎÎ 
MaxRunTimeMinutes
ÎÎ $
{
ÏÏ 	
get
ÌÌ 
{
ÌÌ 
return
ÌÌ 
maxRunTimeMinutes
ÌÌ *
;
ÌÌ* +
}
ÌÌ, -
set
ÓÓ 
{
ÓÓ 
maxRunTimeMinutes
ÓÓ #
=
ÓÓ$ %
value
ÓÓ& +
;
ÓÓ+ ,
}
ÓÓ- .
}
ÔÔ 	
public
ÒÒ 
int
ÒÒ 
CountOfIterations
ÒÒ $
{
ÚÚ 	
get
ÛÛ 
{
ÛÛ 
return
ÛÛ 
countOfIterations
ÛÛ *
;
ÛÛ* +
}
ÛÛ, -
}
ıı 	
private
˜˜ 
static
˜˜ 
void
˜˜  
RunTaskOnNewThread
˜˜ .
(
˜˜. /
object
˜˜/ 5
threadSleepTask
˜˜6 E
)
˜˜E F
{
¯¯ 	
if
˘˘ 
(
˘˘ 
threadSleepTask
˘˘ 
==
˘˘  "
null
˘˘# '
)
˘˘' (
return
˘˘) /
;
˘˘/ 0
ThreadSleepTask
˙˙ 
task
˙˙  
=
˙˙! "
(
˙˙# $
ThreadSleepTask
˙˙$ 3
)
˙˙3 4
threadSleepTask
˙˙4 C
;
˙˙C D
log
¸¸ 
.
¸¸ 
Info
¸¸ 
(
¸¸ 
$str
¸¸ 4
)
¸¸4 5
;
¸¸5 6
Thread
ˇˇ 
.
ˇˇ 
Sleep
ˇˇ 
(
ˇˇ 
$num
ˇˇ 
)
ˇˇ 
;
ˇˇ  
task
ÅÅ 
.
ÅÅ 
RunTask
ÅÅ 
(
ÅÅ 
)
ÅÅ 
;
ÅÅ 
log
ÉÉ 
.
ÉÉ 
Info
ÉÉ 
(
ÉÉ 
$str
ÉÉ /
)
ÉÉ/ 0
;
ÉÉ0 1
}
ÖÖ 	
private
àà 
void
àà 
RunTask
àà 
(
àà 
)
àà 
{
ââ 	
	startTime
ää 
=
ää 
DateTime
ää  
.
ää  !
UtcNow
ää! '
;
ää' (
endTime
ãã 
=
ãã 
	startTime
ãã 
.
ãã  

AddMinutes
ãã  *
(
ãã* +
maxRunTimeMinutes
ãã+ <
)
ãã< =
;
ãã= >
	timeToRun
åå 
=
åå 
endTime
åå 
.
åå  
Subtract
åå  (
(
åå( )
	startTime
åå) 2
)
åå2 3
;
åå3 4
while
èè 
(
èè 
DateTime
èè 
.
èè 
UtcNow
èè "
<
èè# $
endTime
èè% ,
)
èè, -
{
êê 
countOfIterations
ëë !
+=
ëë" $
$num
ëë% &
;
ëë& '
DoReporting
íí 
(
íí 
)
íí 
;
íí 

DoSleeping
ìì 
(
ìì 
)
ìì 
;
ìì 
}
îî 
	TaskQueue
ññ 
task
ññ 
=
ññ 
new
ññ  
	TaskQueue
ññ! *
(
ññ* +
this
ññ+ /
.
ññ/ 0
taskGuid
ññ0 8
)
ññ8 9
;
ññ9 :
task
óó 
.
óó 
Status
óó 
=
óó 
$str
óó $
;
óó$ %
task
òò 
.
òò 
CompleteRatio
òò 
=
òò  
$num
òò! "
;
òò" #
task
ôô 
.
ôô !
LastStatusUpdateUTC
ôô $
=
ôô% &
DateTime
ôô' /
.
ôô/ 0
UtcNow
ôô0 6
;
ôô6 7
task
öö 
.
öö 
CompleteUTC
öö 
=
öö 
DateTime
öö '
.
öö' (
UtcNow
öö( .
;
öö. /
task
õõ 
.
õõ 
Save
õõ 
(
õõ 
)
õõ 
;
õõ 
}
ùù 	
private
üü 
void
üü 
DoReporting
üü  
(
üü  !
)
üü! "
{
†† 	
if
°° 
(
°° 
this
°° 
.
°° 
taskGuid
°° 
==
°°  
Guid
°°! %
.
°°% &
Empty
°°& +
)
°°+ ,
return
°°- 3
;
°°3 4
	TaskQueue
•• 
task
•• 
=
•• 
new
••  
	TaskQueue
••! *
(
••* +
this
••+ /
.
••/ 0
taskGuid
••0 8
)
••8 9
;
••9 :
task
¶¶ 
.
¶¶ 
Status
¶¶ 
=
¶¶ 
$str
¶¶ $
+
¶¶% &
countOfIterations
¶¶' 8
.
¶¶8 9
ToString
¶¶9 A
(
¶¶A B
CultureInfo
¶¶B M
.
¶¶M N
InvariantCulture
¶¶N ^
)
¶¶^ _
;
¶¶_ `
if
ßß 
(
ßß 
(
ßß 
	timeToRun
ßß 
!=
ßß 
null
ßß "
)
ßß" #
&&
ßß# %
(
ßß% &
	timeToRun
ßß& /
.
ßß/ 0
TotalSeconds
ßß0 <
>
ßß= >
$num
ßß? @
)
ßß@ A
)
ßßA B
{
®® 
TimeSpan
©© 
timeLeft
©© !
=
©©" #
endTime
©©$ +
.
©©+ ,
Subtract
©©, 4
(
©©4 5
DateTime
©©5 =
.
©©= >
UtcNow
©©> D
)
©©D E
;
©©E F
task
™™ 
.
™™ 
CompleteRatio
™™ "
=
™™# $
(
™™% &
(
™™& '
	timeToRun
™™' 0
.
™™0 1
TotalSeconds
™™1 =
-
™™> ?
timeLeft
™™@ H
.
™™H I
TotalSeconds
™™I U
)
™™U V
/
™™V W
	timeToRun
™™W `
.
™™` a
TotalSeconds
™™a m
)
™™m n
;
™™n o
}
≠≠ 
task
ÆÆ 
.
ÆÆ !
LastStatusUpdateUTC
ÆÆ $
=
ÆÆ% &
DateTime
ÆÆ' /
.
ÆÆ/ 0
UtcNow
ÆÆ0 6
;
ÆÆ6 7
task
ØØ 
.
ØØ 
Save
ØØ 
(
ØØ 
)
ØØ 
;
ØØ 
log
±± 
.
±± 
Info
±± 
(
±± 
$str
±± 
+
±± 
task
±± #
.
±±# $
TaskName
±±$ ,
+
≤≤ 
$str
≤≤ )
+
≥≥ 
countOfIterations
≥≥ #
.
≥≥# $
ToString
≥≥$ ,
(
≥≥, -
CultureInfo
≥≥- 8
.
≥≥8 9
InvariantCulture
≥≥9 I
)
≥≥I J
)
≥≥J K
;
≥≥K L
}
∏∏ 	
private
∫∫ 
void
∫∫ 

DoSleeping
∫∫ 
(
∫∫  
)
∫∫  !
{
ªª 	
if
ææ 
(
ææ 
minutesToSleep
ææ 
<
ææ  
updateFrequency
ææ! 0
)
ææ0 1
{
øø 
Thread
¿¿ 
.
¿¿ 
Sleep
¿¿ 
(
¿¿ 
minutesToSleep
¿¿ +
*
¿¿, -#
millisecondsPerMinute
¿¿. C
)
¿¿C D
;
¿¿D E
}
¡¡ 
else
¬¬ 
{
√√ 
Thread
ƒƒ 
.
ƒƒ 
Sleep
ƒƒ 
(
ƒƒ 
updateFrequency
ƒƒ ,
*
ƒƒ- .#
millisecondsPerMinute
ƒƒ/ D
)
ƒƒD E
;
ƒƒE F
}
≈≈ 
}
«« 	
}
…… 
}   ¸°
jD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\UserLocation.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
UserLocation 
{ 
public 
UserLocation 
( 
) 
{ 	
}
 
public   
UserLocation   
(   
Guid    
rowID  ! &
)  & '
{!! 	
GetUserLocation"" 
("" 
rowID"" !
)""! "
;""" #
}## 	
public%% 
UserLocation%% 
(%% 
Guid%%  
userGuid%%! )
,%%) *
string%%+ 1
ipv4Address%%2 =
)%%= >
{&& 	
this'' 
.'' 
userGuid'' 
='' 
userGuid'' $
;''$ %
this(( 
.(( 
	iPAddress(( 
=(( 
ipv4Address(( (
;((( )
this)) 
.)) 
iPAddressLong)) 
=))  
IPAddressHelper))! 0
.))0 1
ConvertToLong))1 >
())> ?
ipv4Address))? J
)))J K
;))K L
GetUserLocation** 
(** 
this**  
.**  !
userGuid**! )
,**) *
this**+ /
.**/ 0
iPAddressLong**0 =
)**= >
;**> ?
}++ 	
private11 
Guid11 
rowID11 
=11 
Guid11 !
.11! "
Empty11" '
;11' (
private22 
Guid22 
userGuid22 
=22 
Guid22  $
.22$ %
Empty22% *
;22* +
private33 
Guid33 
siteGuid33 
=33 
Guid33  $
.33$ %
Empty33% *
;33* +
private44 
string44 
	iPAddress44  
=44! "
string44# )
.44) *
Empty44* /
;44/ 0
private55 
long55 
iPAddressLong55 "
=55# $
$num55% &
;55& '
private66 
string66 
hostname66 
=66  !
string66" (
.66( )
Empty66) .
;66. /
private77 
double77 
	longitude77  
=77! "
$num77# $
;77$ %
private88 
double88 
latitude88 
=88  !
$num88" #
;88# $
private99 
string99 
iSP99 
=99 
string99 #
.99# $
Empty99$ )
;99) *
private:: 
string:: 
	continent::  
=::! "
string::# )
.::) *
Empty::* /
;::/ 0
private;; 
string;; 
country;; 
=;;  
string;;! '
.;;' (
Empty;;( -
;;;- .
private<< 
string<< 
region<< 
=<< 
string<<  &
.<<& '
Empty<<' ,
;<<, -
private== 
string== 
city== 
=== 
string== $
.==$ %
Empty==% *
;==* +
private>> 
string>> 
timeZone>> 
=>>  !
string>>" (
.>>( )
Empty>>) .
;>>. /
private?? 
int?? 
captureCount??  
=??! "
$num??# $
;??$ %
private@@ 
DateTime@@ 
firstCaptureUTC@@ (
=@@) *
DateTime@@+ 3
.@@3 4
UtcNow@@4 :
;@@: ;
privateAA 
DateTimeAA 
lastCaptureUTCAA '
=AA( )
DateTimeAA* 2
.AA2 3
UtcNowAA3 9
;AA9 :
publicGG 
GuidGG 
RowIDGG 
{HH 	
getII 
{II 
returnII 
rowIDII 
;II 
}II  !
setJJ 
{JJ 
rowIDJJ 
=JJ 
valueJJ 
;JJ  
}JJ! "
}KK 	
publicLL 
GuidLL 
UserGuidLL 
{MM 	
getNN 
{NN 
returnNN 
userGuidNN !
;NN! "
}NN# $
setOO 
{OO 
userGuidOO 
=OO 
valueOO "
;OO" #
}OO$ %
}PP 	
publicQQ 
GuidQQ 
SiteGuidQQ 
{RR 	
getSS 
{SS 
returnSS 
siteGuidSS !
;SS! "
}SS# $
setTT 
{TT 
siteGuidTT 
=TT 
valueTT "
;TT" #
}TT$ %
}UU 	
publicVV 
stringVV 
	IPAddressVV 
{WW 	
getXX 
{XX 
returnXX 
	iPAddressXX "
;XX" #
}XX$ %
setYY 
{YY 
	iPAddressYY 
=YY 
valueYY #
;YY# $
}YY% &
}ZZ 	
public[[ 
long[[ 
IPAddressLong[[ !
{\\ 	
get]] 
{]] 
return]] 
iPAddressLong]] &
;]]& '
}]]( )
set^^ 
{^^ 
iPAddressLong^^ 
=^^  !
value^^" '
;^^' (
}^^) *
}__ 	
public`` 
string`` 
Hostname`` 
{aa 	
getbb 
{bb 
returnbb 
hostnamebb !
;bb! "
}bb# $
setcc 
{cc 
hostnamecc 
=cc 
valuecc "
;cc" #
}cc$ %
}dd 	
publicee 
doubleee 
	Longitudeee 
{ff 	
getgg 
{gg 
returngg 
	longitudegg "
;gg" #
}gg$ %
sethh 
{hh 
	longitudehh 
=hh 
valuehh #
;hh# $
}hh% &
}ii 	
publicjj 
doublejj 
Latitudejj 
{kk 	
getll 
{ll 
returnll 
latitudell !
;ll! "
}ll# $
setmm 
{mm 
latitudemm 
=mm 
valuemm "
;mm" #
}mm$ %
}nn 	
publicoo 
stringoo 
ISPoo 
{pp 	
getqq 
{qq 
returnqq 
iSPqq 
;qq 
}qq 
setrr 
{rr 
iSPrr 
=rr 
valuerr 
;rr 
}rr  
}ss 	
publictt 
stringtt 
	Continenttt 
{uu 	
getvv 
{vv 
returnvv 
	continentvv "
;vv" #
}vv$ %
setww 
{ww 
	continentww 
=ww 
valueww #
;ww# $
}ww% &
}xx 	
publicyy 
stringyy 
Countryyy 
{zz 	
get{{ 
{{{ 
return{{ 
country{{  
;{{  !
}{{" #
set|| 
{|| 
country|| 
=|| 
value|| !
;||! "
}||# $
}}} 	
public~~ 
string~~ 
Region~~ 
{ 	
get
ÄÄ 
{
ÄÄ 
return
ÄÄ 
region
ÄÄ 
;
ÄÄ  
}
ÄÄ! "
set
ÅÅ 
{
ÅÅ 
region
ÅÅ 
=
ÅÅ 
value
ÅÅ  
;
ÅÅ  !
}
ÅÅ" #
}
ÇÇ 	
public
ÉÉ 
string
ÉÉ 
City
ÉÉ 
{
ÑÑ 	
get
ÖÖ 
{
ÖÖ 
return
ÖÖ 
city
ÖÖ 
;
ÖÖ 
}
ÖÖ  
set
ÜÜ 
{
ÜÜ 
city
ÜÜ 
=
ÜÜ 
value
ÜÜ 
;
ÜÜ 
}
ÜÜ  !
}
áá 	
public
àà 
string
àà 
TimeZone
àà 
{
ââ 	
get
ää 
{
ää 
return
ää 
timeZone
ää !
;
ää! "
}
ää# $
set
ãã 
{
ãã 
timeZone
ãã 
=
ãã 
value
ãã "
;
ãã" #
}
ãã$ %
}
åå 	
public
çç 
int
çç 
CaptureCount
çç 
{
éé 	
get
èè 
{
èè 
return
èè 
captureCount
èè %
;
èè% &
}
èè' (
set
êê 
{
êê 
captureCount
êê 
=
êê  
value
êê! &
;
êê& '
}
êê( )
}
ëë 	
public
íí 
DateTime
íí 
FirstCaptureUTC
íí '
{
ìì 	
get
îî 
{
îî 
return
îî 
firstCaptureUTC
îî (
;
îî( )
}
îî* +
set
ïï 
{
ïï 
firstCaptureUTC
ïï !
=
ïï" #
value
ïï$ )
;
ïï) *
}
ïï+ ,
}
ññ 	
public
óó 
DateTime
óó 
LastCaptureUTC
óó &
{
òò 	
get
ôô 
{
ôô 
return
ôô 
lastCaptureUTC
ôô '
;
ôô' (
}
ôô) *
set
öö 
{
öö 
lastCaptureUTC
öö  
=
öö! "
value
öö# (
;
öö( )
}
öö* +
}
õõ 	
private
•• 
void
•• 
GetUserLocation
•• $
(
••$ %
Guid
••% )
rowID
••* /
)
••/ 0
{
¶¶ 	
using
ßß 
(
ßß 
IDataReader
ßß 
reader
ßß %
=
ßß& '
DBUserLocation
ßß( 6
.
ßß6 7
GetOne
ßß7 =
(
ßß= >
rowID
ßß> C
)
ßßC D
)
ßßD E
{
®®  
PopulateFromReader
©© "
(
©©" #
reader
©©# )
)
©©) *
;
©©* +
}
™™ 
}
´´ 	
private
ÆÆ 
void
ÆÆ 
GetUserLocation
ÆÆ $
(
ÆÆ$ %
Guid
ÆÆ% )
userGuid
ÆÆ* 2
,
ÆÆ2 3
long
ÆÆ4 8
iPAddressLong
ÆÆ9 F
)
ÆÆF G
{
ØØ 	
using
∞∞ 
(
∞∞ 
IDataReader
∞∞ 
reader
∞∞ %
=
∞∞& '
DBUserLocation
∞∞( 6
.
∞∞6 7
GetOne
∞∞7 =
(
∞∞= >
userGuid
∞∞> F
,
∞∞F G
iPAddressLong
∞∞H U
)
∞∞U V
)
∞∞V W
{
±±  
PopulateFromReader
≤≤ "
(
≤≤" #
reader
≤≤# )
)
≤≤) *
;
≤≤* +
}
≥≥ 
}
¥¥ 	
private
∑∑ 
void
∑∑  
PopulateFromReader
∑∑ '
(
∑∑' (
IDataReader
∑∑( 3
reader
∑∑4 :
)
∑∑: ;
{
∏∏ 	
if
ππ 
(
ππ 
reader
ππ 
.
ππ 
Read
ππ 
(
ππ 
)
ππ 
)
ππ 
{
∫∫ 
this
ªª 
.
ªª 
rowID
ªª 
=
ªª 
new
ªª  
Guid
ªª! %
(
ªª% &
reader
ªª& ,
[
ªª, -
$str
ªª- 4
]
ªª4 5
.
ªª5 6
ToString
ªª6 >
(
ªª> ?
)
ªª? @
)
ªª@ A
;
ªªA B
this
ºº 
.
ºº 
userGuid
ºº 
=
ºº 
new
ºº  #
Guid
ºº$ (
(
ºº( )
reader
ºº) /
[
ºº/ 0
$str
ºº0 :
]
ºº: ;
.
ºº; <
ToString
ºº< D
(
ººD E
)
ººE F
)
ººF G
;
ººG H
this
ΩΩ 
.
ΩΩ 
siteGuid
ΩΩ 
=
ΩΩ 
new
ΩΩ  #
Guid
ΩΩ$ (
(
ΩΩ( )
reader
ΩΩ) /
[
ΩΩ/ 0
$str
ΩΩ0 :
]
ΩΩ: ;
.
ΩΩ; <
ToString
ΩΩ< D
(
ΩΩD E
)
ΩΩE F
)
ΩΩF G
;
ΩΩG H
this
ææ 
.
ææ 
	iPAddress
ææ 
=
ææ  
reader
ææ! '
[
ææ' (
$str
ææ( 3
]
ææ3 4
.
ææ4 5
ToString
ææ5 =
(
ææ= >
)
ææ> ?
;
ææ? @
this
øø 
.
øø 
iPAddressLong
øø "
=
øø# $
Convert
øø% ,
.
øø, -
ToInt64
øø- 4
(
øø4 5
reader
øø5 ;
[
øø; <
$str
øø< K
]
øøK L
)
øøL M
;
øøM N
this
¿¿ 
.
¿¿ 
hostname
¿¿ 
=
¿¿ 
reader
¿¿  &
[
¿¿& '
$str
¿¿' 1
]
¿¿1 2
.
¿¿2 3
ToString
¿¿3 ;
(
¿¿; <
)
¿¿< =
;
¿¿= >
this
¡¡ 
.
¡¡ 
	longitude
¡¡ 
=
¡¡  
Convert
¡¡! (
.
¡¡( )
ToDouble
¡¡) 1
(
¡¡1 2
reader
¡¡2 8
[
¡¡8 9
$str
¡¡9 D
]
¡¡D E
)
¡¡E F
;
¡¡F G
this
¬¬ 
.
¬¬ 
latitude
¬¬ 
=
¬¬ 
Convert
¬¬  '
.
¬¬' (
ToDouble
¬¬( 0
(
¬¬0 1
reader
¬¬1 7
[
¬¬7 8
$str
¬¬8 B
]
¬¬B C
)
¬¬C D
;
¬¬D E
this
√√ 
.
√√ 
iSP
√√ 
=
√√ 
reader
√√ !
[
√√! "
$str
√√" '
]
√√' (
.
√√( )
ToString
√√) 1
(
√√1 2
)
√√2 3
;
√√3 4
this
ƒƒ 
.
ƒƒ 
	continent
ƒƒ 
=
ƒƒ  
reader
ƒƒ! '
[
ƒƒ' (
$str
ƒƒ( 3
]
ƒƒ3 4
.
ƒƒ4 5
ToString
ƒƒ5 =
(
ƒƒ= >
)
ƒƒ> ?
;
ƒƒ? @
this
≈≈ 
.
≈≈ 
country
≈≈ 
=
≈≈ 
reader
≈≈ %
[
≈≈% &
$str
≈≈& /
]
≈≈/ 0
.
≈≈0 1
ToString
≈≈1 9
(
≈≈9 :
)
≈≈: ;
;
≈≈; <
this
∆∆ 
.
∆∆ 
region
∆∆ 
=
∆∆ 
reader
∆∆ $
[
∆∆$ %
$str
∆∆% -
]
∆∆- .
.
∆∆. /
ToString
∆∆/ 7
(
∆∆7 8
)
∆∆8 9
;
∆∆9 :
this
«« 
.
«« 
city
«« 
=
«« 
reader
«« "
[
««" #
$str
««# )
]
««) *
.
««* +
ToString
««+ 3
(
««3 4
)
««4 5
;
««5 6
this
»» 
.
»» 
timeZone
»» 
=
»» 
reader
»»  &
[
»»& '
$str
»»' 1
]
»»1 2
.
»»2 3
ToString
»»3 ;
(
»»; <
)
»»< =
;
»»= >
this
…… 
.
…… 
captureCount
…… !
=
……" #
Convert
……$ +
.
……+ ,
ToInt32
……, 3
(
……3 4
reader
……4 :
[
……: ;
$str
……; I
]
……I J
)
……J K
;
……K L
this
   
.
   
firstCaptureUTC
   $
=
  % &
Convert
  ' .
.
  . /

ToDateTime
  / 9
(
  9 :
reader
  : @
[
  @ A
$str
  A R
]
  R S
)
  S T
;
  T U
this
ÀÀ 
.
ÀÀ 
lastCaptureUTC
ÀÀ #
=
ÀÀ$ %
Convert
ÀÀ& -
.
ÀÀ- .

ToDateTime
ÀÀ. 8
(
ÀÀ8 9
reader
ÀÀ9 ?
[
ÀÀ? @
$str
ÀÀ@ P
]
ÀÀP Q
)
ÀÀQ R
;
ÀÀR S
}
ÕÕ 
}
““ 	
private
ÿÿ 
bool
ÿÿ 
Create
ÿÿ 
(
ÿÿ 
)
ÿÿ 
{
ŸŸ 	
this
€€ 
.
€€ 
rowID
€€ 
=
€€ 
Guid
€€ 
.
€€ 
NewGuid
€€ %
(
€€% &
)
€€& '
;
€€' (
;
€€) *
int
›› 
rowsAffected
›› 
=
›› 
DBUserLocation
›› -
.
››- .
Create
››. 4
(
››4 5
this
ﬁﬁ 
.
ﬁﬁ 
rowID
ﬁﬁ 
,
ﬁﬁ 
this
ﬂﬂ 
.
ﬂﬂ 
userGuid
ﬂﬂ 
,
ﬂﬂ 
this
‡‡ 
.
‡‡ 
siteGuid
‡‡ 
,
‡‡ 
this
·· 
.
·· 
	iPAddress
·· 
,
·· 
this
‚‚ 
.
‚‚ 
iPAddressLong
‚‚ "
,
‚‚" #
this
„„ 
.
„„ 
hostname
„„ 
,
„„ 
this
‰‰ 
.
‰‰ 
	longitude
‰‰ 
,
‰‰ 
this
ÂÂ 
.
ÂÂ 
latitude
ÂÂ 
,
ÂÂ 
this
ÊÊ 
.
ÊÊ 
iSP
ÊÊ 
,
ÊÊ 
this
ÁÁ 
.
ÁÁ 
	continent
ÁÁ 
,
ÁÁ 
this
ËË 
.
ËË 
country
ËË 
,
ËË 
this
ÈÈ 
.
ÈÈ 
region
ÈÈ 
,
ÈÈ 
this
ÍÍ 
.
ÍÍ 
city
ÍÍ 
,
ÍÍ 
this
ÎÎ 
.
ÎÎ 
timeZone
ÎÎ 
,
ÎÎ 
this
ÏÏ 
.
ÏÏ 
captureCount
ÏÏ !
,
ÏÏ! "
DateTime
ÌÌ 
.
ÌÌ 
UtcNow
ÌÌ 
,
ÌÌ  
DateTime
ÓÓ 
.
ÓÓ 
UtcNow
ÓÓ 
)
ÓÓ  
;
ÓÓ  !
return
 
(
 
rowsAffected
  
>
! "
$num
# $
)
$ %
;
% &
}
ÚÚ 	
private
˘˘ 
bool
˘˘ 
Update
˘˘ 
(
˘˘ 
)
˘˘ 
{
˙˙ 	
return
¸¸ 
DBUserLocation
¸¸ !
.
¸¸! "
Update
¸¸" (
(
¸¸( )
this
˝˝ 
.
˝˝ 
rowID
˝˝ 
,
˝˝ 
this
˛˛ 
.
˛˛ 
userGuid
˛˛ 
,
˛˛ 
this
ˇˇ 
.
ˇˇ 
siteGuid
ˇˇ 
,
ˇˇ 
this
ÄÄ 
.
ÄÄ 
	iPAddress
ÄÄ 
,
ÄÄ 
this
ÅÅ 
.
ÅÅ 
iPAddressLong
ÅÅ "
,
ÅÅ" #
this
ÇÇ 
.
ÇÇ 
hostname
ÇÇ 
,
ÇÇ 
this
ÉÉ 
.
ÉÉ 
	longitude
ÉÉ 
,
ÉÉ 
this
ÑÑ 
.
ÑÑ 
latitude
ÑÑ 
,
ÑÑ 
this
ÖÖ 
.
ÖÖ 
iSP
ÖÖ 
,
ÖÖ 
this
ÜÜ 
.
ÜÜ 
	continent
ÜÜ 
,
ÜÜ 
this
áá 
.
áá 
country
áá 
,
áá 
this
àà 
.
àà 
region
àà 
,
àà 
this
ââ 
.
ââ 
city
ââ 
,
ââ 
this
ää 
.
ää 
timeZone
ää 
,
ää 
this
ãã 
.
ãã 
captureCount
ãã !
+
ãã" #
$num
ãã$ %
,
ãã% &
DateTime
åå 
.
åå 
UtcNow
åå 
)
åå  
;
åå  !
}
éé 	
public
úú 
bool
úú 
Save
úú 
(
úú 
)
úú 
{
ùù 	
if
üü 
(
üü 
this
üü 
.
üü 
rowID
üü 
!=
üü 
Guid
üü "
.
üü" #
Empty
üü# (
)
üü( )
{
†† 
return
°° 
Update
°° 
(
°° 
)
°° 
;
°°  
}
¢¢ 
else
££ 
{
§§ 
return
•• 
Create
•• 
(
•• 
)
•• 
;
••  
}
¶¶ 
}
ßß 	
public
µµ 
static
µµ 
bool
µµ 
Delete
µµ !
(
µµ! "
Guid
µµ" &
rowID
µµ' ,
)
µµ, -
{
∂∂ 	
return
∑∑ 
DBUserLocation
∑∑ !
.
∑∑! "
Delete
∑∑" (
(
∑∑( )
rowID
∑∑) .
)
∑∑. /
;
∑∑/ 0
}
∏∏ 	
public
∫∫ 
static
∫∫ 
bool
∫∫ 
DeleteByUser
∫∫ '
(
∫∫' (
Guid
∫∫( ,
userGuid
∫∫- 5
)
∫∫5 6
{
ªª 	
return
ºº 
DBUserLocation
ºº !
.
ºº! "
DeleteByUser
ºº" .
(
ºº. /
userGuid
ºº/ 7
)
ºº7 8
;
ºº8 9
}
ΩΩ 	
public
√√ 
static
√√ 
int
√√ 
GetCountByUser
√√ (
(
√√( )
Guid
√√) -
userGuid
√√. 6
)
√√6 7
{
ƒƒ 	
return
≈≈ 
DBUserLocation
≈≈ !
.
≈≈! "
GetCountByUser
≈≈" 0
(
≈≈0 1
userGuid
≈≈1 9
)
≈≈9 :
;
≈≈: ;
}
∆∆ 	
public
ÀÀ 
static
ÀÀ 
int
ÀÀ 
GetCountBySite
ÀÀ (
(
ÀÀ( )
Guid
ÀÀ) -
siteGuid
ÀÀ. 6
)
ÀÀ6 7
{
ÃÃ 	
return
ÕÕ 
DBUserLocation
ÕÕ !
.
ÕÕ! "
GetCountBySite
ÕÕ" 0
(
ÕÕ0 1
siteGuid
ÕÕ1 9
)
ÕÕ9 :
;
ÕÕ: ;
}
ŒŒ 	
private
–– 
static
–– 
List
–– 
<
–– 
UserLocation
–– (
>
––( ) 
LoadListFromReader
––* <
(
––< =
IDataReader
––= H
reader
––I O
)
––O P
{
—— 	
List
““ 
<
““ 
UserLocation
““ 
>
““ 
userLocationList
““ /
=
““0 1
new
““2 5
List
““6 :
<
““: ;
UserLocation
““; G
>
““G H
(
““H I
)
““I J
;
““J K
try
‘‘ 
{
’’ 
while
÷÷ 
(
÷÷ 
reader
÷÷ 
.
÷÷ 
Read
÷÷ "
(
÷÷" #
)
÷÷# $
)
÷÷$ %
{
◊◊ 
UserLocation
ÿÿ  
userLocation
ÿÿ! -
=
ÿÿ. /
new
ÿÿ0 3
UserLocation
ÿÿ4 @
(
ÿÿ@ A
)
ÿÿA B
;
ÿÿB C
userLocation
ŸŸ  
.
ŸŸ  !
rowID
ŸŸ! &
=
ŸŸ' (
new
ŸŸ) ,
Guid
ŸŸ- 1
(
ŸŸ1 2
reader
ŸŸ2 8
[
ŸŸ8 9
$str
ŸŸ9 @
]
ŸŸ@ A
.
ŸŸA B
ToString
ŸŸB J
(
ŸŸJ K
)
ŸŸK L
)
ŸŸL M
;
ŸŸM N
userLocation
⁄⁄  
.
⁄⁄  !
userGuid
⁄⁄! )
=
⁄⁄* +
new
⁄⁄, /
Guid
⁄⁄0 4
(
⁄⁄4 5
reader
⁄⁄5 ;
[
⁄⁄; <
$str
⁄⁄< F
]
⁄⁄F G
.
⁄⁄G H
ToString
⁄⁄H P
(
⁄⁄P Q
)
⁄⁄Q R
)
⁄⁄R S
;
⁄⁄S T
userLocation
€€  
.
€€  !
siteGuid
€€! )
=
€€* +
new
€€, /
Guid
€€0 4
(
€€4 5
reader
€€5 ;
[
€€; <
$str
€€< F
]
€€F G
.
€€G H
ToString
€€H P
(
€€P Q
)
€€Q R
)
€€R S
;
€€S T
userLocation
‹‹  
.
‹‹  !
	iPAddress
‹‹! *
=
‹‹+ ,
reader
‹‹- 3
[
‹‹3 4
$str
‹‹4 ?
]
‹‹? @
.
‹‹@ A
ToString
‹‹A I
(
‹‹I J
)
‹‹J K
;
‹‹K L
userLocation
››  
.
››  !
iPAddressLong
››! .
=
››/ 0
Convert
››1 8
.
››8 9
ToInt64
››9 @
(
››@ A
reader
››A G
[
››G H
$str
››H W
]
››W X
)
››X Y
;
››Y Z
userLocation
ﬁﬁ  
.
ﬁﬁ  !
hostname
ﬁﬁ! )
=
ﬁﬁ* +
reader
ﬁﬁ, 2
[
ﬁﬁ2 3
$str
ﬁﬁ3 =
]
ﬁﬁ= >
.
ﬁﬁ> ?
ToString
ﬁﬁ? G
(
ﬁﬁG H
)
ﬁﬁH I
;
ﬁﬁI J
userLocation
ﬂﬂ  
.
ﬂﬂ  !
	longitude
ﬂﬂ! *
=
ﬂﬂ+ ,
Convert
ﬂﬂ- 4
.
ﬂﬂ4 5
ToDouble
ﬂﬂ5 =
(
ﬂﬂ= >
reader
ﬂﬂ> D
[
ﬂﬂD E
$str
ﬂﬂE P
]
ﬂﬂP Q
)
ﬂﬂQ R
;
ﬂﬂR S
userLocation
‡‡  
.
‡‡  !
latitude
‡‡! )
=
‡‡* +
Convert
‡‡, 3
.
‡‡3 4
ToDouble
‡‡4 <
(
‡‡< =
reader
‡‡= C
[
‡‡C D
$str
‡‡D N
]
‡‡N O
)
‡‡O P
;
‡‡P Q
userLocation
··  
.
··  !
iSP
··! $
=
··% &
reader
··' -
[
··- .
$str
··. 3
]
··3 4
.
··4 5
ToString
··5 =
(
··= >
)
··> ?
;
··? @
userLocation
‚‚  
.
‚‚  !
	continent
‚‚! *
=
‚‚+ ,
reader
‚‚- 3
[
‚‚3 4
$str
‚‚4 ?
]
‚‚? @
.
‚‚@ A
ToString
‚‚A I
(
‚‚I J
)
‚‚J K
;
‚‚K L
userLocation
„„  
.
„„  !
country
„„! (
=
„„) *
reader
„„+ 1
[
„„1 2
$str
„„2 ;
]
„„; <
.
„„< =
ToString
„„= E
(
„„E F
)
„„F G
;
„„G H
userLocation
‰‰  
.
‰‰  !
region
‰‰! '
=
‰‰( )
reader
‰‰* 0
[
‰‰0 1
$str
‰‰1 9
]
‰‰9 :
.
‰‰: ;
ToString
‰‰; C
(
‰‰C D
)
‰‰D E
;
‰‰E F
userLocation
ÂÂ  
.
ÂÂ  !
city
ÂÂ! %
=
ÂÂ& '
reader
ÂÂ( .
[
ÂÂ. /
$str
ÂÂ/ 5
]
ÂÂ5 6
.
ÂÂ6 7
ToString
ÂÂ7 ?
(
ÂÂ? @
)
ÂÂ@ A
;
ÂÂA B
userLocation
ÊÊ  
.
ÊÊ  !
timeZone
ÊÊ! )
=
ÊÊ* +
reader
ÊÊ, 2
[
ÊÊ2 3
$str
ÊÊ3 =
]
ÊÊ= >
.
ÊÊ> ?
ToString
ÊÊ? G
(
ÊÊG H
)
ÊÊH I
;
ÊÊI J
userLocation
ÁÁ  
.
ÁÁ  !
captureCount
ÁÁ! -
=
ÁÁ. /
Convert
ÁÁ0 7
.
ÁÁ7 8
ToInt32
ÁÁ8 ?
(
ÁÁ? @
reader
ÁÁ@ F
[
ÁÁF G
$str
ÁÁG U
]
ÁÁU V
)
ÁÁV W
;
ÁÁW X
userLocation
ËË  
.
ËË  !
firstCaptureUTC
ËË! 0
=
ËË1 2
Convert
ËË3 :
.
ËË: ;

ToDateTime
ËË; E
(
ËËE F
reader
ËËF L
[
ËËL M
$str
ËËM ^
]
ËË^ _
)
ËË_ `
;
ËË` a
userLocation
ÈÈ  
.
ÈÈ  !
lastCaptureUTC
ÈÈ! /
=
ÈÈ0 1
Convert
ÈÈ2 9
.
ÈÈ9 :

ToDateTime
ÈÈ: D
(
ÈÈD E
reader
ÈÈE K
[
ÈÈK L
$str
ÈÈL \
]
ÈÈ\ ]
)
ÈÈ] ^
;
ÈÈ^ _
userLocationList
ÍÍ $
.
ÍÍ$ %
Add
ÍÍ% (
(
ÍÍ( )
userLocation
ÍÍ) 5
)
ÍÍ5 6
;
ÍÍ6 7
}
ÏÏ 
}
ÌÌ 
finally
ÓÓ 
{
ÔÔ 
reader
 
.
 
Close
 
(
 
)
 
;
 
}
ÒÒ 
return
ÛÛ 
userLocationList
ÛÛ #
;
ÛÛ# $
}
ıı 	
public
˚˚ 
static
˚˚ 
List
˚˚ 
<
˚˚ 
UserLocation
˚˚ '
>
˚˚' (
	GetByUser
˚˚) 2
(
˚˚2 3
Guid
˚˚3 7
userGuid
˚˚8 @
)
˚˚@ A
{
¸¸ 	
IDataReader
˝˝ 
reader
˝˝ 
=
˝˝  
DBUserLocation
˝˝! /
.
˝˝/ 0
	GetByUser
˝˝0 9
(
˝˝9 :
userGuid
˝˝: B
)
˝˝B C
;
˝˝C D
return
˛˛  
LoadListFromReader
˛˛ %
(
˛˛% &
reader
˛˛& ,
)
˛˛, -
;
˛˛- .
}
ÄÄ 	
public
ÜÜ 
static
ÜÜ 
List
ÜÜ 
<
ÜÜ 
UserLocation
ÜÜ '
>
ÜÜ' (
	GetBySite
ÜÜ) 2
(
ÜÜ2 3
Guid
ÜÜ3 7
siteGuid
ÜÜ8 @
)
ÜÜ@ A
{
áá 	
IDataReader
àà 
reader
àà 
=
àà  
DBUserLocation
àà! /
.
àà/ 0
	GetBySite
àà0 9
(
àà9 :
siteGuid
àà: B
)
ààB C
;
ààC D
return
ââ  
LoadListFromReader
ââ %
(
ââ% &
reader
ââ& ,
)
ââ, -
;
ââ- .
}
ãã 	
public
îî 
static
îî 
List
îî 
<
îî 
UserLocation
îî '
>
îî' (
GetPageByUser
îî) 6
(
îî6 7
Guid
ïï 
userGuid
ïï 
,
ïï 
int
ññ 

pageNumber
ññ 
,
ññ 
int
óó 
pageSize
óó 
,
óó 
out
òò 
int
òò 

totalPages
òò 
)
òò 
{
ôô 	

totalPages
öö 
=
öö 
$num
öö 
;
öö 
IDataReader
õõ 
reader
õõ 
=
õõ  
DBUserLocation
õõ! /
.
õõ/ 0
GetPageByUser
õõ0 =
(
õõ= >
userGuid
õõ> F
,
õõF G

pageNumber
õõH R
,
õõR S
pageSize
õõT \
,
õõ\ ]
out
õõ^ a

totalPages
õõb l
)
õõl m
;
õõm n
return
úú  
LoadListFromReader
úú %
(
úú% &
reader
úú& ,
)
úú, -
;
úú- .
}
ùù 	
public
¶¶ 
static
¶¶ 
List
¶¶ 
<
¶¶ 
UserLocation
¶¶ '
>
¶¶' (
GetPageBySite
¶¶) 6
(
¶¶6 7
Guid
ßß 
siteGuid
ßß 
,
ßß 
int
®® 

pageNumber
®® 
,
®® 
int
©© 
pageSize
©© 
,
©© 
out
™™ 
int
™™ 

totalPages
™™ 
)
™™ 
{
´´ 	

totalPages
¨¨ 
=
¨¨ 
$num
¨¨ 
;
¨¨ 
IDataReader
≠≠ 
reader
≠≠ 
=
≠≠  
DBUserLocation
≠≠! /
.
≠≠/ 0
GetPageBySite
≠≠0 =
(
≠≠= >
siteGuid
≠≠> F
,
≠≠F G

pageNumber
≠≠H R
,
≠≠R S
pageSize
≠≠T \
,
≠≠\ ]
out
≠≠^ a

totalPages
≠≠b l
)
≠≠l m
;
≠≠m n
return
ÆÆ  
LoadListFromReader
ÆÆ %
(
ÆÆ% &
reader
ÆÆ& ,
)
ÆÆ, -
;
ÆÆ- .
}
ØØ 	
public
¥¥ 
static
¥¥ 
IDataReader
¥¥ !!
GetUsersByIPAddress
¥¥" 5
(
¥¥5 6
Guid
¥¥6 :
siteGuid
¥¥; C
,
¥¥C D
string
¥¥E K
ipv4Address
¥¥L W
)
¥¥W X
{
µµ 	
return
∂∂ 
DBUserLocation
∂∂ !
.
∂∂! "!
GetUsersByIPAddress
∂∂" 5
(
∂∂5 6
siteGuid
∂∂6 >
,
∂∂> ?
ipv4Address
∂∂@ K
)
∂∂K L
;
∂∂L M
}
∑∑ 	
public
¡¡ 
static
¡¡ 
int
¡¡  
CompareByIPAddress
¡¡ ,
(
¡¡, -
UserLocation
¡¡- 9
userLocation1
¡¡: G
,
¡¡G H
UserLocation
¡¡I U
userLocation2
¡¡V c
)
¡¡c d
{
¬¬ 	
return
√√ 
userLocation1
√√  
.
√√  !
	IPAddress
√√! *
.
√√* +
	CompareTo
√√+ 4
(
√√4 5
userLocation2
√√5 B
.
√√B C
	IPAddress
√√C L
)
√√L M
;
√√M N
}
ƒƒ 	
public
»» 
static
»» 
int
»» 
CompareByHostname
»» +
(
»»+ ,
UserLocation
»», 8
userLocation1
»»9 F
,
»»F G
UserLocation
»»H T
userLocation2
»»U b
)
»»b c
{
…… 	
return
   
userLocation1
    
.
    !
Hostname
  ! )
.
  ) *
	CompareTo
  * 3
(
  3 4
userLocation2
  4 A
.
  A B
Hostname
  B J
)
  J K
;
  K L
}
ÀÀ 	
public
œœ 
static
œœ 
int
œœ 
CompareByISP
œœ &
(
œœ& '
UserLocation
œœ' 3
userLocation1
œœ4 A
,
œœA B
UserLocation
œœC O
userLocation2
œœP ]
)
œœ] ^
{
–– 	
return
—— 
userLocation1
——  
.
——  !
ISP
——! $
.
——$ %
	CompareTo
——% .
(
——. /
userLocation2
——/ <
.
——< =
ISP
——= @
)
——@ A
;
——A B
}
““ 	
public
÷÷ 
static
÷÷ 
int
÷÷  
CompareByContinent
÷÷ ,
(
÷÷, -
UserLocation
÷÷- 9
userLocation1
÷÷: G
,
÷÷G H
UserLocation
÷÷I U
userLocation2
÷÷V c
)
÷÷c d
{
◊◊ 	
return
ÿÿ 
userLocation1
ÿÿ  
.
ÿÿ  !
	Continent
ÿÿ! *
.
ÿÿ* +
	CompareTo
ÿÿ+ 4
(
ÿÿ4 5
userLocation2
ÿÿ5 B
.
ÿÿB C
	Continent
ÿÿC L
)
ÿÿL M
;
ÿÿM N
}
ŸŸ 	
public
›› 
static
›› 
int
›› 
CompareByCountry
›› *
(
››* +
UserLocation
››+ 7
userLocation1
››8 E
,
››E F
UserLocation
››G S
userLocation2
››T a
)
››a b
{
ﬁﬁ 	
return
ﬂﬂ 
userLocation1
ﬂﬂ  
.
ﬂﬂ  !
Country
ﬂﬂ! (
.
ﬂﬂ( )
	CompareTo
ﬂﬂ) 2
(
ﬂﬂ2 3
userLocation2
ﬂﬂ3 @
.
ﬂﬂ@ A
Country
ﬂﬂA H
)
ﬂﬂH I
;
ﬂﬂI J
}
‡‡ 	
public
‰‰ 
static
‰‰ 
int
‰‰ 
CompareByRegion
‰‰ )
(
‰‰) *
UserLocation
‰‰* 6
userLocation1
‰‰7 D
,
‰‰D E
UserLocation
‰‰F R
userLocation2
‰‰S `
)
‰‰` a
{
ÂÂ 	
return
ÊÊ 
userLocation1
ÊÊ  
.
ÊÊ  !
Region
ÊÊ! '
.
ÊÊ' (
	CompareTo
ÊÊ( 1
(
ÊÊ1 2
userLocation2
ÊÊ2 ?
.
ÊÊ? @
Region
ÊÊ@ F
)
ÊÊF G
;
ÊÊG H
}
ÁÁ 	
public
ÎÎ 
static
ÎÎ 
int
ÎÎ 
CompareByCity
ÎÎ '
(
ÎÎ' (
UserLocation
ÎÎ( 4
userLocation1
ÎÎ5 B
,
ÎÎB C
UserLocation
ÎÎD P
userLocation2
ÎÎQ ^
)
ÎÎ^ _
{
ÏÏ 	
return
ÌÌ 
userLocation1
ÌÌ  
.
ÌÌ  !
City
ÌÌ! %
.
ÌÌ% &
	CompareTo
ÌÌ& /
(
ÌÌ/ 0
userLocation2
ÌÌ0 =
.
ÌÌ= >
City
ÌÌ> B
)
ÌÌB C
;
ÌÌC D
}
ÓÓ 	
public
ÚÚ 
static
ÚÚ 
int
ÚÚ 
CompareByTimeZone
ÚÚ +
(
ÚÚ+ ,
UserLocation
ÚÚ, 8
userLocation1
ÚÚ9 F
,
ÚÚF G
UserLocation
ÚÚH T
userLocation2
ÚÚU b
)
ÚÚb c
{
ÛÛ 	
return
ÙÙ 
userLocation1
ÙÙ  
.
ÙÙ  !
TimeZone
ÙÙ! )
.
ÙÙ) *
	CompareTo
ÙÙ* 3
(
ÙÙ3 4
userLocation2
ÙÙ4 A
.
ÙÙA B
TimeZone
ÙÙB J
)
ÙÙJ K
;
ÙÙK L
}
ıı 	
public
˘˘ 
static
˘˘ 
int
˘˘ #
CompareByCaptureCount
˘˘ /
(
˘˘/ 0
UserLocation
˘˘0 <
userLocation1
˘˘= J
,
˘˘J K
UserLocation
˘˘L X
userLocation2
˘˘Y f
)
˘˘f g
{
˙˙ 	
return
˚˚ 
userLocation1
˚˚  
.
˚˚  !
CaptureCount
˚˚! -
.
˚˚- .
	CompareTo
˚˚. 7
(
˚˚7 8
userLocation2
˚˚8 E
.
˚˚E F
CaptureCount
˚˚F R
)
˚˚R S
;
˚˚S T
}
¸¸ 	
public
ÄÄ 
static
ÄÄ 
int
ÄÄ &
CompareByFirstCaptureUTC
ÄÄ 2
(
ÄÄ2 3
UserLocation
ÄÄ3 ?
userLocation1
ÄÄ@ M
,
ÄÄM N
UserLocation
ÄÄO [
userLocation2
ÄÄ\ i
)
ÄÄi j
{
ÅÅ 	
return
ÇÇ 
userLocation1
ÇÇ  
.
ÇÇ  !
FirstCaptureUTC
ÇÇ! 0
.
ÇÇ0 1
	CompareTo
ÇÇ1 :
(
ÇÇ: ;
userLocation2
ÇÇ; H
.
ÇÇH I
FirstCaptureUTC
ÇÇI X
)
ÇÇX Y
;
ÇÇY Z
}
ÉÉ 	
public
áá 
static
áá 
int
áá %
CompareByLastCaptureUTC
áá 1
(
áá1 2
UserLocation
áá2 >
userLocation1
áá? L
,
ááL M
UserLocation
ááN Z
userLocation2
áá[ h
)
ááh i
{
àà 	
return
ââ 
userLocation1
ââ  
.
ââ  !
LastCaptureUTC
ââ! /
.
ââ/ 0
	CompareTo
ââ0 9
(
ââ9 :
userLocation2
ââ: G
.
ââG H
LastCaptureUTC
ââH V
)
ââV W
;
ââW X
}
ää 	
}
èè 
}ëë ‰¨
fD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\UserPage.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
UserPage 
{ 
public 
UserPage 
( 
) 
{ 	
}
 
public 
UserPage 
( 
Guid 

userPageId '
)' (
{   	
GetUserPage!! 
(!! 

userPageId!! "
)!!" #
;!!# $
}"" 	
private(( 
Guid(( 

userPageID(( 
=((  !
Guid((" &
.((& '
Empty((' ,
;((, -
private)) 
Guid)) 
siteGuid)) 
=)) 
Guid))  $
.))$ %
Empty))% *
;))* +
private** 
int** 
siteID** 
=** 
-** 
$num** 
;**  
private++ 
Guid++ 
userGuid++ 
=++ 
Guid++  $
.++$ %
Empty++% *
;++* +
private,, 
string,, 
pageName,, 
=,,  !
string,," (
.,,( )
Empty,,) .
;,,. /
private-- 
String-- 
pagePath-- 
=--  !
String--" (
.--( )
Empty--) .
;--. /
private.. 
int.. 
	pageOrder.. 
=.. 
$num..  !
;..! "
public44 
Guid44 

UserPageId44 
{55 	
get66 
{66 
return66 

userPageID66 #
;66# $
}66% &
set77 
{77 

userPageID77 
=77 
value77 $
;77$ %
}77& '
}88 	
public:: 
Guid:: 
SiteGuid:: 
{;; 	
get<< 
{<< 
return<< 
siteGuid<< !
;<<! "
}<<# $
set== 
{== 
siteGuid== 
=== 
value== "
;==" #
}==$ %
}>> 	
public@@ 
int@@ 
SiteId@@ 
{AA 	
getBB 
{BB 
returnBB 
siteIDBB 
;BB  
}BB! "
setCC 
{CC 
siteIDCC 
=CC 
valueCC  
;CC  !
}CC" #
}DD 	
publicEE 
GuidEE 
UserGuidEE 
{FF 	
getGG 
{GG 
returnGG 
userGuidGG !
;GG! "
}GG# $
setHH 
{HH 
userGuidHH 
=HH 
valueHH "
;HH" #
}HH$ %
}II 	
publicJJ 
stringJJ 
PageNameJJ 
{KK 	
getLL 
{LL 
returnLL 
pageNameLL !
;LL! "
}LL# $
setMM 
{MM 
pageNameMM 
=MM 
valueMM "
;MM" #
}MM$ %
}NN 	
publicOO 
stringOO 
PagePathOO 
{PP 	
getQQ 
{QQ 
returnQQ 
pagePathQQ !
;QQ! "
}QQ# $
setRR 
{RR 
pagePathRR 
=RR 
valueRR "
;RR" #
}RR$ %
}SS 	
publicTT 
intTT 
	PageOrderTT 
{UU 	
getVV 
{VV 
returnVV 
	pageOrderVV "
;VV" #
}VV$ %
setWW 
{WW 
	pageOrderWW 
=WW 
valueWW #
;WW# $
}WW% &
}XX 	
private^^ 
void^^ 
GetUserPage^^  
(^^  !
Guid^^! %

userPageId^^& 0
)^^0 1
{__ 	
using`` 
(`` 
IDataReader`` 
reader`` %
=``& '

DBUserPage``( 2
.``2 3
GetUserPage``3 >
(``> ?

userPageId``? I
)``I J
)``J K
{aa 
ifbb 
(bb 
readerbb 
.bb 
Readbb 
(bb  
)bb  !
)bb! "
{cc 
thisdd 
.dd 

userPageIDdd #
=dd$ %
newdd& )
Guiddd* .
(dd. /
readerdd/ 5
[dd5 6
$strdd6 B
]ddB C
.ddC D
ToStringddD L
(ddL M
)ddM N
)ddN O
;ddO P
thisee 
.ee 
siteGuidee !
=ee" #
newee$ '
Guidee( ,
(ee, -
readeree- 3
[ee3 4
$stree4 >
]ee> ?
.ee? @
ToStringee@ H
(eeH I
)eeI J
)eeJ K
;eeK L
thisff 
.ff 
siteIDff 
=ff  !
Convertff" )
.ff) *
ToInt32ff* 1
(ff1 2
readerff2 8
[ff8 9
$strff9 A
]ffA B
)ffB C
;ffC D
thisgg 
.gg 
userGuidgg !
=gg" #
newgg$ '
Guidgg( ,
(gg, -
readergg- 3
[gg3 4
$strgg4 >
]gg> ?
.gg? @
ToStringgg@ H
(ggH I
)ggI J
)ggJ K
;ggK L
thishh 
.hh 
pageNamehh !
=hh" #
readerhh$ *
[hh* +
$strhh+ 5
]hh5 6
.hh6 7
ToStringhh7 ?
(hh? @
)hh@ A
;hhA B
thisii 
.ii 
pagePathii !
=ii" #
readerii$ *
[ii* +
$strii+ 5
]ii5 6
.ii6 7
ToStringii7 ?
(ii? @
)ii@ A
;iiA B
thisjj 
.jj 
	pageOrderjj "
=jj# $
Convertjj% ,
.jj, -
ToInt32jj- 4
(jj4 5
readerjj5 ;
[jj; <
$strjj< G
]jjG H
)jjH I
;jjI J
}ll 
}nn 
}pp 	
privaterr 
boolrr 
Createrr 
(rr 
)rr 
{ss 	
Guidtt 
newIDtt 
=tt 
Guidtt 
.tt 
NewGuidtt %
(tt% &
)tt& '
;tt' (
thisvv 
.vv 

userPageIDvv 
=vv 
newIDvv #
;vv# $
intxx 
rowsAffectedxx 
=xx 

DBUserPagexx )
.xx) *
AddUserPagexx* 5
(xx5 6
thisyy 
.yy 

userPageIDyy 
,yy  
thiszz 
.zz 
siteGuidzz 
,zz 
this{{ 
.{{ 
siteID{{ 
,{{ 
this|| 
.|| 
userGuid|| 
,|| 
this}} 
.}} 
pageName}} 
,}} 
this~~ 
.~~ 
pagePath~~ 
,~~ 
this 
. 
	pageOrder 
) 
;  
return
ÅÅ 
(
ÅÅ 
rowsAffected
ÅÅ  
>
ÅÅ! "
$num
ÅÅ# $
)
ÅÅ$ %
;
ÅÅ% &
}
ÉÉ 	
private
áá 
bool
áá 
Update
áá 
(
áá 
)
áá 
{
àà 	
return
ää 

DBUserPage
ää 
.
ää 
UpdateUserPage
ää ,
(
ää, -
this
ãã 
.
ãã 

userPageID
ãã 
,
ãã  
this
åå 
.
åå 
pageName
åå 
,
åå 
this
çç 
.
çç 
	pageOrder
çç 
)
çç 
;
çç  
}
èè 	
public
óó 
bool
óó 
Save
óó 
(
óó 
)
óó 
{
òò 	
if
ôô 
(
ôô 
this
ôô 
.
ôô 

userPageID
ôô 
!=
ôô  "
Guid
ôô# '
.
ôô' (
Empty
ôô( -
)
ôô- .
{
öö 
return
õõ 
Update
õõ 
(
õõ 
)
õõ 
;
õõ  
}
úú 
else
ùù 
{
ûû 
return
üü 
Create
üü 
(
üü 
)
üü 
;
üü  
}
†† 
}
°° 	
public
§§ 
void
§§ 
MoveUp
§§ 
(
§§ 
)
§§ 
{
•• 	
if
®® 
(
®® 
this
®® 
.
®® 
	pageOrder
®® 
>
®®  
$num
®®! "
)
®®" #
{
©© 
this
´´ 
.
´´ 
	pageOrder
´´ 
-=
´´ !
$num
´´" #
;
´´# $
UserPage
¨¨ 
.
¨¨ 
UpdatePageOrder
¨¨ (
(
¨¨( )
this
¨¨) -
.
¨¨- .

userPageID
¨¨. 8
,
¨¨8 9
this
¨¨: >
.
¨¨> ?
	pageOrder
¨¨? H
)
¨¨H I
;
¨¨I J
ResortPages
ÆÆ 
(
ÆÆ 
)
ÆÆ 
;
ÆÆ 
}
∞∞ 
else
±± 
{
≤≤ 
if
≥≥ 
(
≥≥ 
this
≥≥ 
.
≥≥ 
	pageOrder
≥≥ "
<
≥≥# $
$num
≥≥% &
)
≥≥& '
{
¥¥ 
this
µµ 
.
µµ 
	pageOrder
µµ "
=
µµ# $
$num
µµ% &
;
µµ& '
UserPage
∂∂ 
.
∂∂ 
UpdatePageOrder
∂∂ ,
(
∂∂, -
this
∂∂- 1
.
∂∂1 2

userPageID
∂∂2 <
,
∂∂< =
this
∂∂> B
.
∂∂B C
	pageOrder
∂∂C L
)
∂∂L M
;
∂∂M N
ResortPages
∑∑ 
(
∑∑  
)
∑∑  !
;
∑∑! "
}
ππ 
}
ºº 
}
ææ 	
public
¡¡ 
void
¡¡ 
MoveDown
¡¡ 
(
¡¡ 
)
¡¡ 
{
¬¬ 	
this
√√ 
.
√√ 
	pageOrder
√√ 
+=
√√ 
$num
√√ 
;
√√  
UserPage
ƒƒ 
.
ƒƒ 
UpdatePageOrder
ƒƒ $
(
ƒƒ$ %
this
ƒƒ% )
.
ƒƒ) *

userPageID
ƒƒ* 4
,
ƒƒ4 5
this
ƒƒ6 :
.
ƒƒ: ;
	pageOrder
ƒƒ; D
)
ƒƒD E
;
ƒƒE F
ResortPages
∆∆ 
(
∆∆ 
)
∆∆ 
;
∆∆ 
}
»» 	
public
   
void
   
ResortPages
   
(
    
)
    !
{
ÀÀ 	
int
ÃÃ 
i
ÃÃ 
=
ÃÃ 
$num
ÃÃ 
;
ÃÃ 
IDataReader
ÕÕ 
reader
ÕÕ 
=
ÕÕ  
UserPage
ÕÕ! )
.
ÕÕ) *
SelectByUser
ÕÕ* 6
(
ÕÕ6 7
this
ÕÕ7 ;
.
ÕÕ; <
userGuid
ÕÕ< D
)
ÕÕD E
;
ÕÕE F
while
ŒŒ 
(
ŒŒ 
reader
ŒŒ 
.
ŒŒ 
Read
ŒŒ 
(
ŒŒ 
)
ŒŒ  
)
ŒŒ  !
{
œœ 
Guid
–– 
pageID
–– 
=
–– 
new
–– !
Guid
––" &
(
––& '
reader
––' -
[
––- .
$str
––. :
]
––: ;
.
––; <
ToString
––< D
(
––D E
)
––E F
)
––F G
;
––G H
UserPage
—— 
.
—— 
UpdatePageOrder
—— (
(
——( )
pageID
——) /
,
——/ 0
i
——1 2
)
——2 3
;
——3 4
i
““ 
+=
““ 
$num
““ 
;
““ 
}
’’ 
reader
◊◊ 
.
◊◊ 
Close
◊◊ 
(
◊◊ 
)
◊◊ 
;
◊◊ 
}
ÿÿ 	
public
‚‚ 
static
‚‚ 
IDataReader
‚‚ !
SelectByUser
‚‚" .
(
‚‚. /
Guid
‚‚/ 3
userGuid
‚‚4 <
)
‚‚< =
{
„„ 	
return
‰‰ 

DBUserPage
‰‰ 
.
‰‰ 
SelectByUser
‰‰ *
(
‰‰* +
userGuid
‰‰+ 3
)
‰‰3 4
;
‰‰4 5
}
ÂÂ 	
public
ÁÁ 
static
ÁÁ 
	DataTable
ÁÁ 
GetUserPageMenu
ÁÁ  /
(
ÁÁ/ 0
Guid
ÁÁ0 4
userGuid
ÁÁ5 =
)
ÁÁ= >
{
ËË 	
	DataTable
ÈÈ 
	dataTable
ÈÈ 
=
ÈÈ  !
new
ÈÈ" %
	DataTable
ÈÈ& /
(
ÈÈ/ 0
)
ÈÈ0 1
;
ÈÈ1 2
	dataTable
ÍÍ 
.
ÍÍ 
Columns
ÍÍ 
.
ÍÍ 
Add
ÍÍ !
(
ÍÍ! "
$str
ÍÍ" .
,
ÍÍ. /
typeof
ÍÍ0 6
(
ÍÍ6 7
String
ÍÍ7 =
)
ÍÍ= >
)
ÍÍ> ?
;
ÍÍ? @
	dataTable
ÎÎ 
.
ÎÎ 
Columns
ÎÎ 
.
ÎÎ 
Add
ÎÎ !
(
ÎÎ! "
$str
ÎÎ" *
,
ÎÎ* +
typeof
ÎÎ, 2
(
ÎÎ2 3
int
ÎÎ3 6
)
ÎÎ6 7
)
ÎÎ7 8
;
ÎÎ8 9
	dataTable
ÏÏ 
.
ÏÏ 
Columns
ÏÏ 
.
ÏÏ 
Add
ÏÏ !
(
ÏÏ! "
$str
ÏÏ" ,
,
ÏÏ, -
typeof
ÏÏ. 4
(
ÏÏ4 5
String
ÏÏ5 ;
)
ÏÏ; <
)
ÏÏ< =
;
ÏÏ= >
	dataTable
ÌÌ 
.
ÌÌ 
Columns
ÌÌ 
.
ÌÌ 
Add
ÌÌ !
(
ÌÌ! "
$str
ÌÌ" ,
,
ÌÌ, -
typeof
ÌÌ. 4
(
ÌÌ4 5
String
ÌÌ5 ;
)
ÌÌ; <
)
ÌÌ< =
;
ÌÌ= >
	dataTable
ÓÓ 
.
ÓÓ 
Columns
ÓÓ 
.
ÓÓ 
Add
ÓÓ !
(
ÓÓ! "
$str
ÓÓ" ,
,
ÓÓ, -
typeof
ÓÓ. 4
(
ÓÓ4 5
String
ÓÓ5 ;
)
ÓÓ; <
)
ÓÓ< =
;
ÓÓ= >
	dataTable
ÔÔ 
.
ÔÔ 
Columns
ÔÔ 
.
ÔÔ 
Add
ÔÔ !
(
ÔÔ! "
$str
ÔÔ" -
,
ÔÔ- .
typeof
ÔÔ/ 5
(
ÔÔ5 6
int
ÔÔ6 9
)
ÔÔ9 :
)
ÔÔ: ;
;
ÔÔ; <
using
ÒÒ 
(
ÒÒ 
IDataReader
ÒÒ 
reader
ÒÒ %
=
ÒÒ& '
SelectByUser
ÒÒ( 4
(
ÒÒ4 5
userGuid
ÒÒ5 =
)
ÒÒ= >
)
ÒÒ> ?
{
ÚÚ 
while
ÛÛ 
(
ÛÛ 
reader
ÛÛ 
.
ÛÛ 
Read
ÛÛ "
(
ÛÛ" #
)
ÛÛ# $
)
ÛÛ$ %
{
ÙÙ 
DataRow
ıı 
row
ıı 
=
ıı  !
	dataTable
ıı" +
.
ıı+ ,
NewRow
ıı, 2
(
ıı2 3
)
ıı3 4
;
ıı4 5
row
ˆˆ 
[
ˆˆ 
$str
ˆˆ $
]
ˆˆ$ %
=
ˆˆ& '
reader
ˆˆ( .
[
ˆˆ. /
$str
ˆˆ/ ;
]
ˆˆ; <
.
ˆˆ< =
ToString
ˆˆ= E
(
ˆˆE F
)
ˆˆF G
;
ˆˆG H
row
˜˜ 
[
˜˜ 
$str
˜˜  
]
˜˜  !
=
˜˜" #
Convert
˜˜$ +
.
˜˜+ ,
ToInt32
˜˜, 3
(
˜˜3 4
reader
˜˜4 :
[
˜˜: ;
$str
˜˜; C
]
˜˜C D
)
˜˜D E
;
˜˜E F
row
¯¯ 
[
¯¯ 
$str
¯¯ "
]
¯¯" #
=
¯¯$ %
reader
¯¯& ,
[
¯¯, -
$str
¯¯- 7
]
¯¯7 8
.
¯¯8 9
ToString
¯¯9 A
(
¯¯A B
)
¯¯B C
;
¯¯C D
row
˘˘ 
[
˘˘ 
$str
˘˘ "
]
˘˘" #
=
˘˘$ %
reader
˘˘& ,
[
˘˘, -
$str
˘˘- 7
]
˘˘7 8
.
˘˘8 9
ToString
˘˘9 A
(
˘˘A B
)
˘˘B C
;
˘˘C D
row
˙˙ 
[
˙˙ 
$str
˙˙ "
]
˙˙" #
=
˙˙$ %
reader
˙˙& ,
[
˙˙, -
$str
˙˙- 7
]
˙˙7 8
.
˙˙8 9
ToString
˙˙9 A
(
˙˙A B
)
˙˙B C
;
˙˙C D
row
˚˚ 
[
˚˚ 
$str
˚˚ #
]
˚˚# $
=
˚˚% &
Convert
˚˚' .
.
˚˚. /
ToInt32
˚˚/ 6
(
˚˚6 7
reader
˚˚7 =
[
˚˚= >
$str
˚˚> I
]
˚˚I J
)
˚˚J K
;
˚˚K L
	dataTable
¸¸ 
.
¸¸ 
Rows
¸¸ "
.
¸¸" #
Add
¸¸# &
(
¸¸& '
row
¸¸' *
)
¸¸* +
;
¸¸+ ,
}
˛˛ 
}
ÄÄ 
return
ÇÇ 
	dataTable
ÇÇ 
;
ÇÇ 
}
ÑÑ 	
public
ÜÜ 
static
ÜÜ 
int
ÜÜ 
GetCountByUser
ÜÜ (
(
ÜÜ( )
Guid
ÜÜ) -
userGuid
ÜÜ. 6
)
ÜÜ6 7
{
áá 	
int
àà 
result
àà 
=
àà 
$num
àà 
;
àà 
using
ää 
(
ää 
IDataReader
ää 
reader
ää %
=
ää& '

DBUserPage
ää( 2
.
ää2 3
SelectByUser
ää3 ?
(
ää? @
userGuid
ää@ H
)
ääH I
)
ääI J
{
ãã 
while
åå 
(
åå 
reader
åå 
.
åå 
Read
åå "
(
åå" #
)
åå# $
)
åå$ %
{
çç 
result
éé 
+=
éé 
$num
éé 
;
éé  
}
èè 
}
êê 
return
íí 
result
íí 
;
íí 
}
îî 	
public
ññ 
static
ññ 
String
ññ  
GetDefaultPagePath
ññ /
(
ññ/ 0
Guid
óó 
userGuid
óó 
,
óó 
SiteSettings
òò 
siteSettings
òò %
,
òò% &
String
ôô "
defaultFirstPageName
ôô '
,
ôô' (
String
öö #
deafaultFirstPagePath
öö (
)
öö( )
{
õõ 	
String
úú 
result
úú 
=
úú 
String
úú "
.
úú" #
Empty
úú# (
;
úú( )
int
ùù 
countOfPages
ùù 
=
ùù 
$num
ùù  
;
ùù  !
using
üü 
(
üü 
IDataReader
üü 
reader
üü %
=
üü& '

DBUserPage
üü( 2
.
üü2 3
SelectByUser
üü3 ?
(
üü? @
userGuid
üü@ H
)
üüH I
)
üüI J
{
†† 
while
°° 
(
°° 
(
°° 
reader
°° 
.
°° 
Read
°° #
(
°°# $
)
°°$ %
)
°°% &
&&
°°' )
(
°°* +
countOfPages
°°+ 7
<
°°8 9
$num
°°: ;
)
°°; <
)
°°< =
{
¢¢ 
result
££ 
=
££ 
reader
££ #
[
££# $
$str
££$ .
]
££. /
.
££/ 0
ToString
££0 8
(
££8 9
)
££9 :
;
££: ;
result
§§ 
+=
§§ 
$num
§§ 
;
§§  
}
•• 
}
¶¶ 
if
®® 
(
®® 
result
®® 
==
®® 
String
®®  
.
®®  !
Empty
®®! &
)
®®& '
{
©© 
UserPage
™™ 
userPage
™™ !
=
™™" #
new
™™$ '
UserPage
™™( 0
(
™™0 1
)
™™1 2
;
™™2 3
userPage
´´ 
.
´´ 
SiteId
´´ 
=
´´  !
siteSettings
´´" .
.
´´. /
SiteId
´´/ 5
;
´´5 6
userPage
¨¨ 
.
¨¨ 
SiteGuid
¨¨ !
=
¨¨" #
siteSettings
¨¨$ 0
.
¨¨0 1
SiteGuid
¨¨1 9
;
¨¨9 :
userPage
≠≠ 
.
≠≠ 
UserGuid
≠≠ !
=
≠≠" #
userGuid
≠≠$ ,
;
≠≠, -
userPage
ÆÆ 
.
ÆÆ 
PageName
ÆÆ !
=
ÆÆ" #"
defaultFirstPageName
ÆÆ$ 8
;
ÆÆ8 9
userPage
ØØ 
.
ØØ 
PagePath
ØØ !
=
ØØ" ##
deafaultFirstPagePath
ØØ$ 9
;
ØØ9 :
userPage
∞∞ 
.
∞∞ 
	PageOrder
∞∞ "
=
∞∞# $
$num
∞∞% &
;
∞∞& '
userPage
±± 
.
±± 
Save
±± 
(
±± 
)
±± 
;
±±  
result
≥≥ 
=
≥≥ #
deafaultFirstPagePath
≥≥ .
;
≥≥. /
}
µµ 
return
∏∏ 
result
∏∏ 
;
∏∏ 
}
ππ 	
public
ªª 
static
ªª 
int
ªª 
GetNextPageOrder
ªª *
(
ªª* +
Guid
ªª+ /
userGuid
ªª0 8
)
ªª8 9
{
ºº 	
return
ΩΩ 

DBUserPage
ΩΩ 
.
ΩΩ 
GetNextPageOrder
ΩΩ .
(
ΩΩ. /
userGuid
ΩΩ/ 7
)
ΩΩ7 8
;
ΩΩ8 9
}
ææ 	
public
¿¿ 
static
¿¿ 
bool
¿¿ 
UpdatePageOrder
¿¿ *
(
¿¿* +
Guid
¿¿+ /

userPageId
¿¿0 :
,
¿¿: ;
int
¿¿< ?
	pageOrder
¿¿@ I
)
¿¿I J
{
¡¡ 	
return
¬¬ 

DBUserPage
¬¬ 
.
¬¬ 
UpdatePageOrder
¬¬ -
(
¬¬- .

userPageId
¬¬. 8
,
¬¬8 9
	pageOrder
¬¬: C
)
¬¬C D
;
¬¬D E
}
√√ 	
public
≈≈ 
static
≈≈ 
bool
≈≈ 
DeleteUserPage
≈≈ )
(
≈≈) *
Guid
≈≈* .

userPageId
≈≈/ 9
)
≈≈9 :
{
∆∆ 	
return
«« 

DBUserPage
«« 
.
«« 
DeleteUserPage
«« ,
(
««, -

userPageId
««- 7
)
««7 8
;
««8 9
}
»» 	
public
   
static
   
bool
   
DeleteByUser
   '
(
  ' (
Guid
  ( ,
userGuid
  - 5
)
  5 6
{
ÀÀ 	
return
ÃÃ 

DBUserPage
ÃÃ 
.
ÃÃ 
DeleteByUser
ÃÃ *
(
ÃÃ* +
userGuid
ÃÃ+ 3
)
ÃÃ3 4
;
ÃÃ4 5
}
ÕÕ 	
}
““ 
}‘‘ ÙÄ
lD:\Projects\DefensePoint\whitesource-testcases-csharp\CWE79\mojoportal\mojoPortal.Business\WebPartContent.cs
	namespace 	

mojoPortal
 
. 
Business 
{ 
public 

class 
WebPartContent 
{ 
public 
WebPartContent 
( 
) 
{ 
} 
public"" 
WebPartContent"" 
("" 
Guid"" "
	webPartId""# ,
)"", -
{## 

GetWebPart$$	 
($$ 
	webPartId$$ 
)$$ 
;$$ 
}%% 
private++ 	
Guid++
 
	webPartID++ 
=++ 
Guid++ 
.++  
Empty++  %
;++% &
private,, 
Guid,, 
siteGuid,, 
=,, 
Guid,,  $
.,,$ %
Empty,,% *
;,,* +
private-- 	
int--
 
siteID-- 
=-- 
--- 
$num-- 
;-- 
private.. 	
string..
 
title.. 
=.. 
string.. 
...  
Empty..  %
;..% &
private// 	
string//
 
description// 
=// 
string// %
.//% &
Empty//& +
;//+ ,
private00 	
string00
 
imageUrl00 
=00 
string00 "
.00" #
Empty00# (
;00( )
private11 	
string11
 
	className11 
=11 
string11 #
.11# $
Empty11$ )
;11) *
private22 	
string22
 
assemblyName22 
=22 
string22  &
.22& '
Empty22' ,
;22, -
private33 	
bool33
 
availableForMyPage33 !
;33! "
private44 	
bool44
 *
allowMultipleInstancesOnMyPage44 -
;44- .
private55 	
bool55
 %
availableForContentSystem55 (
;55( )
public;; 
Guid;;	 
	WebPartId;; 
{<< 
get== 
{== 
return==	 
	webPartID== 
;== 
}== 
set>> 
{>> 
	webPartID>>	 
=>> 
value>> 
;>> 
}>> 
}?? 
publicAA 
GuidAA 
SiteGuidAA 
{BB 	
getCC 
{CC 
returnCC 
siteGuidCC !
;CC! "
}CC# $
setDD 
{DD 
siteGuidDD 
=DD 
valueDD "
;DD" #
}DD$ %
}EE 	
publicGG 
intGG	 
SiteIdGG 
{HH 
getII 
{II 
returnII	 
siteIDII 
;II 
}II 
setJJ 
{JJ 
siteIDJJ	 
=JJ 
valueJJ 
;JJ 
}JJ 
}KK 
publicLL 
stringLL	 
TitleLL 
{MM 
getNN 
{NN 
returnNN	 
titleNN 
;NN 
}NN 
setOO 
{OO 
titleOO	 
=OO 
valueOO 
;OO 
}OO 
}PP 
publicQQ 
stringQQ	 
DescriptionQQ 
{RR 
getSS 
{SS 
returnSS	 
descriptionSS 
;SS 
}SS 
setTT 
{TT 
descriptionTT	 
=TT 
valueTT 
;TT 
}TT 
}UU 
publicVV 
stringVV	 
ImageUrlVV 
{WW 
getXX 
{XX 
returnXX	 
imageUrlXX 
;XX 
}XX 
setYY 
{YY 
imageUrlYY	 
=YY 
valueYY 
;YY 
}YY 
}ZZ 
public[[ 
string[[	 
	ClassName[[ 
{\\ 
get]] 
{]] 
return]]	 
	className]] 
;]] 
}]] 
set^^ 
{^^ 
	className^^	 
=^^ 
value^^ 
;^^ 
}^^ 
}__ 
public`` 
string``	 
AssemblyName`` 
{aa 
getbb 
{bb 
returnbb	 
assemblyNamebb 
;bb 
}bb 
setcc 
{cc 
assemblyNamecc	 
=cc 
valuecc 
;cc 
}cc  
}dd 
publicee 
boolee	 
AvailableForMyPageee  
{ff 
getgg 
{gg 
returngg	 
availableForMyPagegg "
;gg" #
}gg$ %
sethh 
{hh 
availableForMyPagehh	 
=hh 
valuehh #
;hh# $
}hh% &
}ii 
publicjj 
booljj	 *
AllowMultipleInstancesOnMyPagejj ,
{kk 
getll 
{ll 
returnll	 *
allowMultipleInstancesOnMyPagell .
;ll. /
}ll0 1
setmm 
{mm *
allowMultipleInstancesOnMyPagemm	 '
=mm( )
valuemm* /
;mm/ 0
}mm1 2
}nn 
publicoo 
booloo	 %
AvailableForContentSystemoo '
{pp 
getqq 
{qq 
returnqq	 %
availableForContentSystemqq )
;qq) *
}qq+ ,
setrr 
{rr %
availableForContentSystemrr	 "
=rr# $
valuerr% *
;rr* +
}rr, -
}ss 
privateyy 	
voidyy
 

GetWebPartyy 
(yy 
Guidyy 
	webPartIdyy (
)yy( )
{zz 
using{{ 
({{ 
IDataReader{{ 
reader{{ %
={{& '
DBWebPartContent{{( 8
.{{8 9

GetWebPart{{9 C
({{C D
	webPartId{{D M
){{M N
){{N O
{|| 
if}} 
(}} 
reader}} 
.}} 
Read}} 
(}}  
)}}  !
)}}! "
{~~ 
this 
. 
	webPartID "
=# $
new% (
Guid) -
(- .
reader. 4
[4 5
$str5 @
]@ A
.A B
ToStringB J
(J K
)K L
)L M
;M N
this
ÄÄ 
.
ÄÄ 
siteGuid
ÄÄ !
=
ÄÄ" #
new
ÄÄ$ '
Guid
ÄÄ( ,
(
ÄÄ, -
reader
ÄÄ- 3
[
ÄÄ3 4
$str
ÄÄ4 >
]
ÄÄ> ?
.
ÄÄ? @
ToString
ÄÄ@ H
(
ÄÄH I
)
ÄÄI J
)
ÄÄJ K
;
ÄÄK L
this
ÅÅ 
.
ÅÅ 
siteID
ÅÅ 
=
ÅÅ  !
Convert
ÅÅ" )
.
ÅÅ) *
ToInt32
ÅÅ* 1
(
ÅÅ1 2
reader
ÅÅ2 8
[
ÅÅ8 9
$str
ÅÅ9 A
]
ÅÅA B
)
ÅÅB C
;
ÅÅC D
this
ÇÇ 
.
ÇÇ 
title
ÇÇ 
=
ÇÇ  
reader
ÇÇ! '
[
ÇÇ' (
$str
ÇÇ( /
]
ÇÇ/ 0
.
ÇÇ0 1
ToString
ÇÇ1 9
(
ÇÇ9 :
)
ÇÇ: ;
;
ÇÇ; <
this
ÉÉ 
.
ÉÉ 
description
ÉÉ $
=
ÉÉ% &
reader
ÉÉ' -
[
ÉÉ- .
$str
ÉÉ. ;
]
ÉÉ; <
.
ÉÉ< =
ToString
ÉÉ= E
(
ÉÉE F
)
ÉÉF G
;
ÉÉG H
this
ÑÑ 
.
ÑÑ 
imageUrl
ÑÑ !
=
ÑÑ" #
reader
ÑÑ$ *
[
ÑÑ* +
$str
ÑÑ+ 5
]
ÑÑ5 6
.
ÑÑ6 7
ToString
ÑÑ7 ?
(
ÑÑ? @
)
ÑÑ@ A
;
ÑÑA B
this
ÖÖ 
.
ÖÖ 
	className
ÖÖ "
=
ÖÖ# $
reader
ÖÖ% +
[
ÖÖ+ ,
$str
ÖÖ, 7
]
ÖÖ7 8
.
ÖÖ8 9
ToString
ÖÖ9 A
(
ÖÖA B
)
ÖÖB C
;
ÖÖC D
this
ÜÜ 
.
ÜÜ 
assemblyName
ÜÜ %
=
ÜÜ& '
reader
ÜÜ( .
[
ÜÜ. /
$str
ÜÜ/ =
]
ÜÜ= >
.
ÜÜ> ?
ToString
ÜÜ? G
(
ÜÜG H
)
ÜÜH I
;
ÜÜI J
this
áá 
.
áá  
availableForMyPage
áá +
=
áá, -
Convert
áá. 5
.
áá5 6
	ToBoolean
áá6 ?
(
áá? @
reader
áá@ F
[
ááF G
$str
ááG [
]
áá[ \
)
áá\ ]
;
áá] ^
this
àà 
.
àà ,
allowMultipleInstancesOnMyPage
àà 7
=
àà8 9
Convert
àà: A
.
ààA B
	ToBoolean
ààB K
(
ààK L
reader
ààL R
[
ààR S
$str
ààS s
]
ààs t
)
ààt u
;
ààu v
this
ââ 
.
ââ '
availableForContentSystem
ââ 2
=
ââ3 4
Convert
ââ5 <
.
ââ< =
	ToBoolean
ââ= F
(
ââF G
reader
ââG M
[
ââM N
$str
ââN i
]
ââi j
)
ââj k
;
ââk l
}
ãã 
}
çç 
}
èè 
private
ëë 	
bool
ëë
 
Create
ëë 
(
ëë 
)
ëë 
{
íí 
Guid
ìì 
newID
ìì 
=
ìì 
Guid
ìì 
.
ìì 
NewGuid
ìì %
(
ìì% &
)
ìì& '
;
ìì' (
this
ïï 
.
ïï 
	webPartID
ïï 
=
ïï 
newID
ïï "
;
ïï" #
int
óó 
rowsAffected
óó 
=
óó 
DBWebPartContent
óó /
.
óó/ 0

AddWebPart
óó0 :
(
óó: ;
this
òò 
.
òò 
	webPartID
òò 
,
òò 
this
ôô 
.
ôô 
siteGuid
ôô 
,
ôô 
this
öö 
.
öö 
siteID
öö 
,
öö 
this
õõ 
.
õõ 
title
õõ 
,
õõ 
this
úú 
.
úú 
description
úú  
,
úú  !
this
ùù 
.
ùù 
imageUrl
ùù 
,
ùù 
this
ûû 
.
ûû 
	className
ûû 
,
ûû 
this
üü 
.
üü 
assemblyName
üü !
,
üü! "
this
†† 
.
††  
availableForMyPage
†† '
,
††' (
this
°° 
.
°° ,
allowMultipleInstancesOnMyPage
°° 3
,
°°3 4
this
¢¢ 
.
¢¢ '
availableForContentSystem
¢¢ .
)
¢¢. /
;
¢¢/ 0
return
§§ 
(
§§ 
rowsAffected
§§  
>
§§! "
$num
§§# $
)
§§$ %
;
§§% &
}
¶¶ 
private
™™ 	
bool
™™
 
Update
™™ 
(
™™ 
)
™™ 
{
´´ 
return
≠≠ 	
DBWebPartContent
≠≠
 
.
≠≠ 
UpdateWebPart
≠≠ (
(
≠≠( )
this
ÆÆ 
.
ÆÆ 	
	webPartID
ÆÆ	 
,
ÆÆ 
this
ØØ 
.
ØØ 	
siteID
ØØ	 
,
ØØ 
this
∞∞ 
.
∞∞ 	
title
∞∞	 
,
∞∞ 
this
±± 
.
±± 	
description
±±	 
,
±± 
this
≤≤ 
.
≤≤ 	
imageUrl
≤≤	 
,
≤≤ 
this
≥≥ 
.
≥≥ 	
	className
≥≥	 
,
≥≥ 
this
¥¥ 
.
¥¥ 	
assemblyName
¥¥	 
,
¥¥ 
this
µµ 
.
µµ 	 
availableForMyPage
µµ	 
,
µµ 
this
∂∂ 
.
∂∂ 	,
allowMultipleInstancesOnMyPage
∂∂	 '
,
∂∂' (
this
∑∑ 
.
∑∑ 	'
availableForContentSystem
∑∑	 "
)
∑∑" #
;
∑∑# $
}
ππ 
public
¿¿ 
bool
¿¿ 
Save
¿¿ 
(
¿¿ 
)
¿¿ 
{
¡¡ 	
if
¬¬ 
(
¬¬ 
this
¬¬ 
.
¬¬ 
	webPartID
¬¬ 
!=
¬¬ !
Guid
¬¬" &
.
¬¬& '
Empty
¬¬' ,
)
¬¬, -
{
√√ 
return
ƒƒ 
Update
ƒƒ 
(
ƒƒ 
)
ƒƒ 
;
ƒƒ  
}
≈≈ 
else
∆∆ 
{
«« 
return
»» 
Create
»» 
(
»» 
)
»» 
;
»»  
}
…… 
}
   	
public
”” 
static
”” 
	DataTable
”” 

SelectPage
””  *
(
””* +
int
‘‘ 
siteId
‘‘ 
,
‘‘ 
int
’’ 

pageNumber
’’ 
,
’’ 
int
÷÷ 
pageSize
÷÷ 
,
÷÷ 
bool
◊◊ 
sortByClassName
◊◊  
,
◊◊  !
bool
ÿÿ  
sortByAssemblyName
ÿÿ #
)
ÿÿ# $
{
ŸŸ 	
return
€€ 
DBWebPartContent
€€ #
.
€€# $

SelectPage
€€$ .
(
€€. /
siteId
‹‹ 
,
‹‹ 

pageNumber
›› 
,
›› 
pageSize
ﬁﬁ 
,
ﬁﬁ 
sortByClassName
ﬂﬂ 
,
ﬂﬂ   
sortByAssemblyName
‡‡ "
)
‡‡" #
;
‡‡# $
}
‚‚ 	
public
‰‰ 
static
‰‰ 
bool
‰‰ 
Exists
‰‰ !
(
‰‰! "
Int32
‰‰" '
siteId
‰‰( .
,
‰‰. /
String
‰‰0 6
	className
‰‰7 @
,
‰‰@ A
String
‰‰B H
assemblyName
‰‰I U
)
‰‰U V
{
ÂÂ 	
return
ÊÊ 
DBWebPartContent
ÊÊ #
.
ÊÊ# $
Exists
ÊÊ$ *
(
ÊÊ* +
siteId
ÊÊ+ 1
,
ÊÊ1 2
	className
ÊÊ3 <
,
ÊÊ< =
assemblyName
ÊÊ> J
)
ÊÊJ K
;
ÊÊK L
}
ËË 	
public
ÌÌ 
static
ÌÌ 
IDataReader
ÌÌ !
SelectBySite
ÌÌ" .
(
ÌÌ. /
int
ÌÌ/ 2
siteId
ÌÌ3 9
)
ÌÌ9 :
{
ÓÓ 	
return
ÔÔ 
DBWebPartContent
ÔÔ #
.
ÔÔ# $
SelectBySite
ÔÔ$ 0
(
ÔÔ0 1
siteId
ÔÔ1 7
)
ÔÔ7 8
;
ÔÔ8 9
}
ÒÒ 	
public
ÛÛ 
static
ÛÛ 
IDataReader
ÛÛ !"
GetWebPartsForMyPage
ÛÛ" 6
(
ÛÛ6 7
int
ÛÛ7 :
siteId
ÛÛ; A
)
ÛÛA B
{
ÙÙ 	
return
ıı 
DBWebPartContent
ıı #
.
ıı# $"
GetWebPartsForMyPage
ıı$ 8
(
ıı8 9
siteId
ıı9 ?
)
ıı? @
;
ıı@ A
}
˜˜ 	
public
˘˘ 
static
˘˘ 
IDataReader
˘˘ !
GetMostPopular
˘˘" 0
(
˘˘0 1
int
˘˘1 4
siteId
˘˘5 ;
,
˘˘; <
int
˘˘= @
numberToGet
˘˘A L
)
˘˘L M
{
˙˙ 	
return
˚˚ 
DBWebPartContent
˚˚ #
.
˚˚# $
GetMostPopular
˚˚$ 2
(
˚˚2 3
siteId
˚˚3 9
,
˚˚9 :
numberToGet
˚˚; F
)
˚˚F G
;
˚˚G H
}
¸¸ 	
public
˛˛ 
static
˛˛ 
int
˛˛ 
Count
˛˛ 
(
˛˛  
int
˛˛  #
siteId
˛˛$ *
)
˛˛* +
{
ˇˇ 	
return
ÄÄ 
DBWebPartContent
ÄÄ #
.
ÄÄ# $
Count
ÄÄ$ )
(
ÄÄ) *
siteId
ÄÄ* 0
)
ÄÄ0 1
;
ÄÄ1 2
}
ÅÅ 	
public
ÉÉ 
static
ÉÉ 
bool
ÉÉ 
DeleteWebPart
ÉÉ (
(
ÉÉ( )
Guid
ÉÉ) -
	webPartId
ÉÉ. 7
)
ÉÉ7 8
{
ÑÑ 	
return
ÖÖ 
DBWebPartContent
ÖÖ #
.
ÖÖ# $
DeleteWebPart
ÖÖ$ 1
(
ÖÖ1 2
	webPartId
ÖÖ2 ;
)
ÖÖ; <
;
ÖÖ< =
}
áá 	
public
ââ 
static
ââ 
bool
ââ &
UpdateCountOfUseOnMyPage
ââ 3
(
ââ3 4
Guid
ââ4 8
	webPartId
ââ9 B
,
ââB C
int
ââD G
	increment
ââH Q
)
ââQ R
{
ää 	
return
ãã 
DBWebPartContent
ãã #
.
ãã# $&
UpdateCountOfUseOnMyPage
ãã$ <
(
ãã< =
	webPartId
ãã= F
,
ããF G
	increment
ããH Q
)
ããQ R
;
ããR S
}
åå 	
}
ïï 
}ññ 